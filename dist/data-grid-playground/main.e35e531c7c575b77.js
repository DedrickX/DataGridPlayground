"use strict";(self.webpackChunkDataGridPlayground=self.webpackChunkDataGridPlayground||[]).push([[179],{9282:(q,z,F)=>{var N={};F.r(N),F.d(N,{animation:()=>dt,inputType:()=>S,nativeScrolling:()=>we,pointerEvents:()=>j,styleProp:()=>Cl,stylePropPrefix:()=>Of,supportProp:()=>y,touch:()=>_e,touchEvents:()=>V,transition:()=>Be,transitionEndEventName:()=>Ue});var u=F(5879);let ae=null;function ue(){return ae}class ge{}const Z=new u.OlP("DocumentToken");class qp{constructor(n,t,i,r){this.$implicit=n,this.ngForOf=t,this.index=i,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let xd=(()=>{var e;class n{set ngForOf(i){this._ngForOf=i,this._ngForOfDirty=!0}set ngForTrackBy(i){this._trackByFn=i}get ngForTrackBy(){return this._trackByFn}constructor(i,r,o){this._viewContainer=i,this._template=r,this._differs=o,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(i){i&&(this._template=i)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const i=this._ngForOf;!this._differ&&i&&(this._differ=this._differs.find(i).create(this.ngForTrackBy))}if(this._differ){const i=this._differ.diff(this._ngForOf);i&&this._applyChanges(i)}}_applyChanges(i){const r=this._viewContainer;i.forEachOperation((o,s,l)=>{if(null==o.previousIndex)r.createEmbeddedView(this._template,new qp(o.item,this._ngForOf,-1,-1),null===l?void 0:l);else if(null==l)r.remove(null===s?void 0:s);else if(null!==s){const h=r.get(s);r.move(h,l),Jp(h,o)}});for(let o=0,s=r.length;o<s;o++){const h=r.get(o).context;h.index=o,h.count=s,h.ngForOf=this._ngForOf}i.forEachIdentityChange(o=>{Jp(r.get(o.currentIndex),o)})}static ngTemplateContextGuard(i,r){return!0}}return(e=n).\u0275fac=function(i){return new(i||e)(u.Y36(u.s_b),u.Y36(u.Rgc),u.Y36(u.ZZ4))},e.\u0275dir=u.lG2({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function Jp(e,n){e.context.$implicit=n.item}let vc=(()=>{var e;class n{constructor(i,r){this._viewContainer=i,this._context=new nm,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(i){this._context.$implicit=this._context.ngIf=i,this._updateView()}set ngIfThen(i){rr("ngIfThen",i),this._thenTemplateRef=i,this._thenViewRef=null,this._updateView()}set ngIfElse(i){rr("ngIfElse",i),this._elseTemplateRef=i,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(i,r){return!0}}return(e=n).\u0275fac=function(i){return new(i||e)(u.Y36(u.s_b),u.Y36(u.Rgc))},e.\u0275dir=u.lG2({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class nm{constructor(){this.$implicit=null,this.ngIf=null}}function rr(e,n){if(n&&!n.createEmbeddedView)throw new Error(`${e} must be a TemplateRef, but received '${(0,u.AaK)(n)}'.`)}class ce{createSubscription(n,t){return(0,u.rg0)(()=>n.subscribe({next:t,error:i=>{throw i}}))}dispose(n){(0,u.rg0)(()=>n.unsubscribe())}}class De{createSubscription(n,t){return n.then(t,i=>{throw i})}dispose(n){}}const ne=new De,Le=new ce;let We=(()=>{var e;class n{constructor(i){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=i}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(i){return this._obj?i!==this._obj?(this._dispose(),this.transform(i)):this._latestValue:(i&&this._subscribe(i),this._latestValue)}_subscribe(i){this._obj=i,this._strategy=this._selectStrategy(i),this._subscription=this._strategy.createSubscription(i,r=>this._updateLatestValue(i,r))}_selectStrategy(i){if((0,u.QGY)(i))return ne;if((0,u.F4k)(i))return Le;throw function H(e,n){return new u.vHH(2100,!1)}()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(i,r){i===this._obj&&(this._latestValue=r,this._ref.markForCheck())}}return(e=n).\u0275fac=function(i){return new(i||e)(u.Y36(u.sBO,16))},e.\u0275pipe=u.Yjl({name:"async",type:e,pure:!1,standalone:!0}),n})(),yb=(()=>{var e;class n{transform(i){return JSON.stringify(i,null,2)}}return(e=n).\u0275fac=function(i){return new(i||e)},e.\u0275pipe=u.Yjl({name:"json",type:e,pure:!1,standalone:!0}),n})(),or=(()=>{var e;class n{}return(e=n).\u0275fac=function(i){return new(i||e)},e.\u0275mod=u.oAB({type:e}),e.\u0275inj=u.cJS({}),n})();const Za="browser";function Hn(e){return"server"===e}class Dc{}class Mb extends ge{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class hm extends Mb{static makeCurrent(){!function K(e){ae||(ae=e)}(new hm)}onAndCancel(n,t,i){return n.addEventListener(t,i),()=>{n.removeEventListener(t,i)}}dispatchEvent(n,t){n.dispatchEvent(t)}remove(n){n.parentNode&&n.parentNode.removeChild(n)}createElement(n,t){return(t=t||this.getDefaultDocument()).createElement(n)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(n){return n.nodeType===Node.ELEMENT_NODE}isShadowRoot(n){return n instanceof DocumentFragment}getGlobalEventTarget(n,t){return"window"===t?window:"document"===t?n:"body"===t?n.body:null}getBaseHref(n){const t=function MI(){return tl=tl||document.querySelector("base"),tl?tl.getAttribute("href"):null}();return null==t?null:function Ab(e){Or=Or||document.createElement("a"),Or.setAttribute("href",e);const n=Or.pathname;return"/"===n.charAt(0)?n:`/${n}`}(t)}resetBaseElement(){tl=null}getUserAgent(){return window.navigator.userAgent}getCookie(n){return function Kp(e,n){n=encodeURIComponent(n);for(const t of e.split(";")){const i=t.indexOf("="),[r,o]=-1==i?[t,""]:[t.slice(0,i),t.slice(i+1)];if(r.trim()===n)return decodeURIComponent(o)}return null}(document.cookie,n)}}let Or,tl=null,Dn=(()=>{var e;class n{build(){return new XMLHttpRequest}}return(e=n).\u0275fac=function(i){return new(i||e)},e.\u0275prov=u.Yz7({token:e,factory:e.\u0275fac}),n})();const pm=new u.OlP("EventManagerPlugins");let wc=(()=>{var e;class n{constructor(i,r){this._zone=r,this._eventNameToPlugin=new Map,i.forEach(o=>{o.manager=this}),this._plugins=i.slice().reverse()}addEventListener(i,r,o){return this._findPluginFor(r).addEventListener(i,r,o)}getZone(){return this._zone}_findPluginFor(i){let r=this._eventNameToPlugin.get(i);if(r)return r;if(r=this._plugins.find(s=>s.supports(i)),!r)throw new u.vHH(5101,!1);return this._eventNameToPlugin.set(i,r),r}}return(e=n).\u0275fac=function(i){return new(i||e)(u.LFG(pm),u.LFG(u.R0b))},e.\u0275prov=u.Yz7({token:e,factory:e.\u0275fac}),n})();class Ji{constructor(n){this._doc=n}}const gm="ng-app-id";let fm=(()=>{var e;class n{constructor(i,r,o,s={}){this.doc=i,this.appId=r,this.nonce=o,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Hn(s),this.resetHostNodes()}addStyles(i){for(const r of i)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(i){for(const r of i)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){const i=this.styleNodesInDOM;i&&(i.forEach(r=>r.remove()),i.clear());for(const r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(i){this.hostNodes.add(i);for(const r of this.getAllStyles())this.addStyleToHost(i,r)}removeHost(i){this.hostNodes.delete(i)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(i){for(const r of this.hostNodes)this.addStyleToHost(r,i)}onStyleRemoved(i){const r=this.styleRef;r.get(i)?.elements?.forEach(o=>o.remove()),r.delete(i)}collectServerRenderedStyles(){const i=this.doc.head?.querySelectorAll(`style[${gm}="${this.appId}"]`);if(i?.length){const r=new Map;return i.forEach(o=>{null!=o.textContent&&r.set(o.textContent,o)}),r}return null}changeUsageCount(i,r){const o=this.styleRef;if(o.has(i)){const s=o.get(i);return s.usage+=r,s.usage}return o.set(i,{usage:r,elements:[]}),r}getStyleElement(i,r){const o=this.styleNodesInDOM,s=o?.get(r);if(s?.parentNode===i)return o.delete(r),s.removeAttribute(gm),s;{const l=this.doc.createElement("style");return this.nonce&&l.setAttribute("nonce",this.nonce),l.textContent=r,this.platformIsServer&&l.setAttribute(gm,this.appId),l}}addStyleToHost(i,r){const o=this.getStyleElement(i,r);i.appendChild(o);const s=this.styleRef,l=s.get(r)?.elements;l?l.push(o):s.set(r,{elements:[o],usage:1})}resetHostNodes(){const i=this.hostNodes;i.clear(),i.add(this.doc.head)}}return(e=n).\u0275fac=function(i){return new(i||e)(u.LFG(Z),u.LFG(u.AFp),u.LFG(u.Ojb,8),u.LFG(u.Lbi))},e.\u0275prov=u.Yz7({token:e,factory:e.\u0275fac}),n})();const Qs={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Xi=/%COMP%/g,Fb=new u.OlP("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function _m(e,n){return n.map(t=>t.replace(Xi,e))}let mm=(()=>{var e;class n{constructor(i,r,o,s,l,h,g,_=null){this.eventManager=i,this.sharedStylesHost=r,this.appId=o,this.removeStylesOnCompDestroy=s,this.doc=l,this.platformId=h,this.ngZone=g,this.nonce=_,this.rendererByCompId=new Map,this.platformIsServer=Hn(h),this.defaultRenderer=new vm(i,l,g,this.platformIsServer)}createRenderer(i,r){if(!i||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===u.ifc.ShadowDom&&(r={...r,encapsulation:u.ifc.Emulated});const o=this.getOrCreateRenderer(i,r);return o instanceof Bb?o.applyToHost(i):o instanceof Cm&&o.applyStyles(),o}getOrCreateRenderer(i,r){const o=this.rendererByCompId;let s=o.get(r.id);if(!s){const l=this.doc,h=this.ngZone,g=this.eventManager,_=this.sharedStylesHost,v=this.removeStylesOnCompDestroy,C=this.platformIsServer;switch(r.encapsulation){case u.ifc.Emulated:s=new Bb(g,_,r,this.appId,v,l,h,C);break;case u.ifc.ShadowDom:return new BI(g,_,i,r,l,h,this.nonce,C);default:s=new Cm(g,_,r,v,l,h,C)}o.set(r.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}}return(e=n).\u0275fac=function(i){return new(i||e)(u.LFG(wc),u.LFG(fm),u.LFG(u.AFp),u.LFG(Fb),u.LFG(Z),u.LFG(u.Lbi),u.LFG(u.R0b),u.LFG(u.Ojb))},e.\u0275prov=u.Yz7({token:e,factory:e.\u0275fac}),n})();class vm{constructor(n,t,i,r){this.eventManager=n,this.doc=t,this.ngZone=i,this.platformIsServer=r,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(n,t){return t?this.doc.createElementNS(Qs[t]||t,n):this.doc.createElement(n)}createComment(n){return this.doc.createComment(n)}createText(n){return this.doc.createTextNode(n)}appendChild(n,t){(kI(n)?n.content:n).appendChild(t)}insertBefore(n,t,i){n&&(kI(n)?n.content:n).insertBefore(t,i)}removeChild(n,t){n&&n.removeChild(t)}selectRootElement(n,t){let i="string"==typeof n?this.doc.querySelector(n):n;if(!i)throw new u.vHH(-5104,!1);return t||(i.textContent=""),i}parentNode(n){return n.parentNode}nextSibling(n){return n.nextSibling}setAttribute(n,t,i,r){if(r){t=r+":"+t;const o=Qs[r];o?n.setAttributeNS(o,t,i):n.setAttribute(t,i)}else n.setAttribute(t,i)}removeAttribute(n,t,i){if(i){const r=Qs[i];r?n.removeAttributeNS(r,t):n.removeAttribute(`${i}:${t}`)}else n.removeAttribute(t)}addClass(n,t){n.classList.add(t)}removeClass(n,t){n.classList.remove(t)}setStyle(n,t,i,r){r&(u.JOm.DashCase|u.JOm.Important)?n.style.setProperty(t,i,r&u.JOm.Important?"important":""):n.style[t]=i}removeStyle(n,t,i){i&u.JOm.DashCase?n.style.removeProperty(t):n.style[t]=""}setProperty(n,t,i){n[t]=i}setValue(n,t){n.nodeValue=t}listen(n,t,i){if("string"==typeof n&&!(n=ue().getGlobalEventTarget(this.doc,n)))throw new Error(`Unsupported event target ${n} for event ${t}`);return this.eventManager.addEventListener(n,t,this.decoratePreventDefault(i))}decoratePreventDefault(n){return t=>{if("__ngUnwrap__"===t)return n;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>n(t)):n(t))&&t.preventDefault()}}}function kI(e){return"TEMPLATE"===e.tagName&&void 0!==e.content}class BI extends vm{constructor(n,t,i,r,o,s,l,h){super(n,o,s,h),this.sharedStylesHost=t,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const g=_m(r.id,r.styles);for(const _ of g){const v=document.createElement("style");l&&v.setAttribute("nonce",l),v.textContent=_,this.shadowRoot.appendChild(v)}}nodeOrShadowRoot(n){return n===this.hostEl?this.shadowRoot:n}appendChild(n,t){return super.appendChild(this.nodeOrShadowRoot(n),t)}insertBefore(n,t,i){return super.insertBefore(this.nodeOrShadowRoot(n),t,i)}removeChild(n,t){return super.removeChild(this.nodeOrShadowRoot(n),t)}parentNode(n){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(n)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Cm extends vm{constructor(n,t,i,r,o,s,l,h){super(n,o,s,l),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=r,this.styles=h?_m(h,i.styles):i.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class Bb extends Cm{constructor(n,t,i,r,o,s,l,h){const g=r+"-"+i.id;super(n,t,i,o,s,l,h,g),this.contentAttr=function PI(e){return"_ngcontent-%COMP%".replace(Xi,e)}(g),this.hostAttr=function kb(e){return"_nghost-%COMP%".replace(Xi,e)}(g)}applyToHost(n){this.applyStyles(),this.setAttribute(n,this.hostAttr,"")}createElement(n,t){const i=super.createElement(n,t);return super.setAttribute(i,this.contentAttr,""),i}}let Lb=(()=>{var e;class n extends Ji{constructor(i){super(i)}supports(i){return!0}addEventListener(i,r,o){return i.addEventListener(r,o,!1),()=>this.removeEventListener(i,r,o)}removeEventListener(i,r,o){return i.removeEventListener(r,o)}}return(e=n).\u0275fac=function(i){return new(i||e)(u.LFG(Z))},e.\u0275prov=u.Yz7({token:e,factory:e.\u0275fac}),n})();const nl=["alt","control","meta","shift"],LI={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},VI={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey};let NI=(()=>{var e;class n extends Ji{constructor(i){super(i)}supports(i){return null!=n.parseEventName(i)}addEventListener(i,r,o){const s=n.parseEventName(r),l=n.eventCallback(s.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>ue().onAndCancel(i,s.domEventName,l))}static parseEventName(i){const r=i.toLowerCase().split("."),o=r.shift();if(0===r.length||"keydown"!==o&&"keyup"!==o)return null;const s=n._normalizeKey(r.pop());let l="",h=r.indexOf("code");if(h>-1&&(r.splice(h,1),l="code."),nl.forEach(_=>{const v=r.indexOf(_);v>-1&&(r.splice(v,1),l+=_+".")}),l+=s,0!=r.length||0===s.length)return null;const g={};return g.domEventName=o,g.fullKey=l,g}static matchEventFullKeyCode(i,r){let o=LI[i.key]||i.key,s="";return r.indexOf("code.")>-1&&(o=i.code,s="code."),!(null==o||!o)&&(o=o.toLowerCase()," "===o?o="space":"."===o&&(o="dot"),nl.forEach(l=>{l!==o&&(0,VI[l])(i)&&(s+=l+".")}),s+=o,s===r)}static eventCallback(i,r,o){return s=>{n.matchEventFullKeyCode(s,i)&&o.runGuarded(()=>r(s))}}static _normalizeKey(i){return"esc"===i?"escape":i}}return(e=n).\u0275fac=function(i){return new(i||e)(u.LFG(Z))},e.\u0275prov=u.Yz7({token:e,factory:e.\u0275fac}),n})();function Me(e){return{appProviders:[...xm,...e?.providers??[]],platformProviders:Hb}}const Hb=[{provide:u.Lbi,useValue:Za},{provide:u.g9A,useValue:function Vb(){hm.makeCurrent()},multi:!0},{provide:Z,useFactory:function Oi(){return(0,u.RDi)(document),document},deps:[]}],xm=[{provide:u.zSh,useValue:"root"},{provide:u.qLn,useFactory:function Nb(){return new u.qLn},deps:[]},{provide:pm,useClass:Lb,multi:!0,deps:[Z,u.R0b,u.Lbi]},{provide:pm,useClass:NI,multi:!0,deps:[Z]},mm,fm,wc,{provide:u.FYo,useExisting:mm},{provide:Dc,useClass:Dn,deps:[]},[]];typeof window<"u"&&window;const qI=u.Cb6,ko=u.kie;var Dm=F(3019),rl=F(3018),Ic=F(8645),Dr=F(2096),wd=F(9360),Sr=F(8251),og=F(2420);function Tc(){return(0,wd.e)((e,n)=>{e.subscribe((0,Sr.x)(n,og.Z))})}var Sm=F(6232),sg=F(4674);class lr{constructor(n,t,i){this.kind=n,this.value=t,this.error=i,this.hasValue="N"===n}observe(n){return Id(this,n)}do(n,t,i){const{kind:r,value:o,error:s}=this;return"N"===r?n?.(o):"E"===r?t?.(s):i?.()}accept(n,t,i){var r;return(0,sg.m)(null===(r=n)||void 0===r?void 0:r.next)?this.observe(n):this.do(n,t,i)}toObservable(){const{kind:n,value:t,error:i}=this,r="N"===n?(0,Dr.of)(t):"E"===n?function Jb(e,n){const t=(0,sg.m)(e)?e:()=>e,i=r=>r.error(t());return new rl.y(n?r=>n.schedule(i,0,r):i)}(()=>i):"C"===n?Sm.E:0;if(!r)throw new TypeError(`Unexpected notification kind ${n}`);return r}static createNext(n){return new lr("N",n)}static createError(n){return new lr("E",void 0,n)}static createComplete(){return lr.completeNotification}}function Id(e,n){var t,i,r;const{kind:o,value:s,error:l}=e;if("string"!=typeof o)throw new TypeError('Invalid notification, missing "kind"');"N"===o?null===(t=n.next)||void 0===t||t.call(n,s):"E"===o?null===(i=n.error)||void 0===i||i.call(n,l):null===(r=n.complete)||void 0===r||r.call(n)}lr.completeNotification=new lr("C");var Kr=F(7398),Em=F(6306),wm=F(2181),Mc=F(4829);function Xb(e,n,t,i){return(0,wd.e)((r,o)=>{let s;n&&"function"!=typeof n?({duration:t,element:s,connector:i}=n):s=n;const l=new Map,h=E=>{l.forEach(E),E(o)},g=E=>h(w=>w.error(E));let _=0,v=!1;const C=new Sr.Q(o,E=>{try{const w=e(E);let M=l.get(w);if(!M){l.set(w,M=i?i():new Ic.x);const k=function b(E,w){const M=new rl.y(k=>{_++;const L=w.subscribe(k);return()=>{L.unsubscribe(),0==--_&&v&&C.unsubscribe()}});return M.key=E,M}(w,M);if(o.next(k),t){const L=(0,Sr.x)(M,()=>{M.complete(),L?.unsubscribe()},void 0,void 0,()=>l.delete(w));C.add((0,Mc.Xf)(t(k)).subscribe(L))}}M.next(s?s(E):E)}catch(w){g(w)}},()=>h(E=>E.complete()),g,()=>l.clear(),()=>(v=!0,0===_));r.subscribe(C)})}var Im=F(1631);function ZI(e,n){return n?t=>t.pipe(ZI((i,r)=>(0,Mc.Xf)(e(i,r)).pipe((0,Kr.U)((o,s)=>n(i,o,r,s))))):(0,wd.e)((t,i)=>{let r=0,o=null,s=!1;t.subscribe((0,Sr.x)(i,l=>{o||(o=(0,Sr.x)(i,void 0,()=>{o=null,s&&i.complete()}),(0,Mc.Xf)(e(l,r++)).subscribe(o))},()=>{s=!0,!o&&i.complete()}))})}var ol=F(8180),QI=F(6328),Ac=F(2460),Wt=F(4221);const ag={dispatch:!0,functional:!1,useEffectsErrorHandler:!0},Mm="__@ngrx/effects_create__";function Td(e,n={}){const t=n.functional?e:e(),i={...ag,...n};return Object.defineProperty(t,Mm,{value:i}),t}function Qb(e){return Object.getPrototypeOf(e)}function Rc(e){return"function"==typeof e}function Am(e,n,t){const i=Qb(e),o=i&&"Object"!==i.constructor.name?i.constructor.name:null,s=function ho(e){return function Zb(e){return Object.getOwnPropertyNames(e).filter(i=>!(!e[i]||!e[i].hasOwnProperty(Mm))&&e[i][Mm].hasOwnProperty("dispatch")).map(i=>({propertyName:i,...e[i][Mm]}))}(e)}(e).map(({propertyName:l,dispatch:h,useEffectsErrorHandler:g})=>{const _="function"==typeof e[l]?e[l]():e[l],v=g?t(_,n):_;return!1===h?v.pipe(Tc()):v.pipe(function XI(){return(0,wd.e)((e,n)=>{e.subscribe((0,Sr.x)(n,t=>{n.next(lr.createNext(t))},()=>{n.next(lr.createComplete()),n.complete()},t=>{n.next(lr.createError(t)),n.complete()}))})}()).pipe((0,Kr.U)(b=>({effect:e[l],notification:b,propertyName:l,sourceName:o,sourceInstance:e})))});return(0,Dm.T)(...s)}function Rm(e,n,t=10){return e.pipe((0,Em.K)(i=>(n&&n.handleError(i),t<=1?e:Rm(e,n,t-1))))}let Pm=(()=>{var e;class n extends rl.y{constructor(i){super(),i&&(this.source=i)}lift(i){const r=new n;return r.source=this,r.operator=i,r}}return(e=n).\u0275fac=function(i){return new(i||e)(u.LFG(Wt.Y$))},e.\u0275prov=u.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),n})();function Md(...e){return(0,wm.h)(n=>e.some(t=>"string"==typeof t?t===n.type:t.type===n.type))}new u.OlP("@ngrx/effects Internal Root Guard"),new u.OlP("@ngrx/effects User Provided Effects"),new u.OlP("@ngrx/effects Internal Root Effects"),new u.OlP("@ngrx/effects Internal Root Effects Instances"),new u.OlP("@ngrx/effects Internal Feature Effects"),new u.OlP("@ngrx/effects Internal Feature Effects Instance Groups");const tO=new u.OlP("@ngrx/effects Effects Error Handler",{providedIn:"root",factory:()=>Rm}),iT=(0,Wt.PH)("@ngrx/effects/init");function Fd(e){return cg(e,"ngrxOnInitEffects")}function cg(e,n){return e&&n in e&&"function"==typeof e[n]}let hg=(()=>{var e;class n extends Ic.x{constructor(i,r){super(),this.errorHandler=i,this.effectsErrorHandler=r}addEffects(i){this.next(i)}toActions(){return this.pipe(Xb(i=>function lg(e){return!!e.constructor&&"Object"!==e.constructor.name&&"Function"!==e.constructor.name}(i)?Qb(i):i),(0,Im.z)(i=>i.pipe(Xb(kd))),(0,Im.z)(i=>{const r=i.pipe(ZI(s=>function uN(e,n){return t=>{const i=Am(t,e,n);return function Rd(e){return cg(e,"ngrxOnRunEffects")}(t)?t.ngrxOnRunEffects(i):i}}(this.errorHandler,this.effectsErrorHandler)(s)),(0,Kr.U)(s=>(function Zi(e,n){if("N"===e.notification.kind){const t=e.notification.value;!function rT(e){return"function"!=typeof e&&e&&e.type&&"string"==typeof e.type}(t)&&n.handleError(new Error(`Effect ${function nO({propertyName:e,sourceInstance:n,sourceName:t}){const i="function"==typeof n[e];return t?`"${t}.${String(e)}${i?"()":""}"`:`"${String(e)}()"`}(e)} dispatched an invalid action: ${function Fm(e){try{return JSON.stringify(e)}catch{return e}}(t)}`))}}(s,this.errorHandler),s.notification)),(0,wm.h)(s=>"N"===s.kind&&null!=s.value),function Tm(){return(0,wd.e)((e,n)=>{e.subscribe((0,Sr.x)(n,t=>Id(t,n)))})}()),o=i.pipe((0,ol.q)(1),(0,wm.h)(Fd),(0,Kr.U)(s=>s.ngrxOnInitEffects()));return(0,Dm.T)(r,o)}))}}return(e=n).\u0275fac=function(i){return new(i||e)(u.LFG(u.qLn),u.LFG(tO))},e.\u0275prov=u.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),n})();function kd(e){return function iO(e){return cg(e,"ngrxOnIdentifyEffects")}(e)?e.ngrxOnIdentifyEffects():""}let rO=(()=>{var e;class n{get isStarted(){return!!this.effectsSubscription}constructor(i,r){this.effectSources=i,this.store=r,this.effectsSubscription=null}start(){this.effectsSubscription||(this.effectsSubscription=this.effectSources.toActions().subscribe(this.store))}ngOnDestroy(){this.effectsSubscription&&(this.effectsSubscription.unsubscribe(),this.effectsSubscription=null)}}return(e=n).\u0275fac=function(i){return new(i||e)(u.LFG(hg),u.LFG(Wt.yh))},e.\u0275prov=u.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),n})();function sl(e){return(0,QI.b)(n=>{const t=e(n),i=Array.isArray(t)?t:[t];return(0,Dr.of)(n).pipe((0,Ac.M)(...i))})}var aT=F(7632),ni=F(4664);const fs=(0,Wt.R7)({source:"AppComponent",events:{LoadEmptyDocument:(0,Wt.uZ)(),LoadDocumentById:(0,Wt.Ky)(),LoadDocumentSuccess:(0,Wt.Ky)()}});var Bd=F(6321),lT=F(7537),_s=F(9940),Fc=F(9666);function oO(e,n){return n?t=>function pg(...e){return function Yr(){return(0,lT.J)(1)}()((0,Fc.D)(e,(0,_s.yG)(e)))}(n.pipe((0,ol.q)(1),Tc()),t.pipe(oO(e))):(0,Im.z)((t,i)=>(0,Mc.Xf)(e(t,i)).pipe((0,ol.q)(1),function kc(e){return(0,Kr.U)(()=>e)}(t)))}var cN=F(671),dT=F(93);function ki(e,n=Bd.z){const t=function hN(e=0,n,t=Bd.P){let i=-1;return null!=n&&((0,cN.K)(n)?t=n:i=n),new rl.y(r=>{let o=(0,dT.q)(e)?+e-t.now():e;o<0&&(o=0);let s=0;return t.schedule(function(){r.closed||(r.next(s++),0<=i?this.schedule(void 0,i):r.complete())},o)})}(e,n);return oO(()=>t)}let uT=(()=>{var e;class n{constructor(){}loadEmptyDocument(){return(0,Dr.of)({documentNumber:"",finalDocumentText:"",items:[]}).pipe(ki(500))}loadDocumentById(i){return(0,Dr.of)(function pN(e){switch(e){case 1:return{documentNumber:"2023-01",finalDocumentText:"This is a mock document 1",items:[{id:1,ordinal:1,name:"item 1",price:500,amount:1,totalPrice:500,description:"Item 1 description"},{id:2,ordinal:2,name:"item 2",price:20,amount:2,totalPrice:40,description:"Item 2 description"},{id:3,ordinal:3,name:"item 3",price:15.5,amount:4,totalPrice:62,description:"Item 3 description"},{id:4,ordinal:4,name:"item 4",price:100,amount:1,totalPrice:100,description:"Item 4 description"}]};case 2:return{documentNumber:"2023-02",finalDocumentText:"This is a mock document 2",items:Array.from(Array(100).keys()).map((t,i)=>({id:i+1,ordinal:i+1,name:`item ${i+1}`,price:i+1,amount:1,totalPrice:i+1,description:`Item ${i+1} description`}))};default:throw new Error(`Unknown document id: ${e}`)}}(i)).pipe(ki(500))}}return(e=n).\u0275fac=function(i){return new(i||e)},e.\u0275prov=u.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),n})(),cT=(()=>{var e;class n{constructor(i,r,o){this.store=i,this.actions$=r,this.documentApiService=o,this.loadEmptyDocument$=Td(()=>this.actions$.pipe(Md(fs.loadEmptyDocument),(0,ni.w)(()=>this.documentApiService.loadEmptyDocument().pipe((0,Kr.U)(s=>fs.loadDocumentSuccess({document:s})))))),this.loadDocumentById$=Td(()=>this.actions$.pipe(Md(fs.loadDocumentById),(0,ni.w)(s=>this.documentApiService.loadDocumentById(s.id).pipe((0,Kr.U)(l=>fs.loadDocumentSuccess({document:l}))))))}}return(e=n).\u0275fac=function(i){return new(i||e)(u.LFG(Wt.yh),u.LFG(Pm),u.LFG(uT))},e.\u0275prov=u.Yz7({token:e,factory:e.\u0275fac}),n})();const{isArray:hT}=Array,{getPrototypeOf:pT,prototype:gT,keys:fT}=Object;const{isArray:sO}=Array;const fi=new u.OlP("NgValueAccessor");let wr=(()=>{class e{constructor(t,i){this.controlId=t,this.value=i,this.type=e.TYPE}}return e.TYPE="ngrx/forms/SET_VALUE",e})(),Xd=(()=>{class e{constructor(t,i){this.controlId=t,this.errors=i,this.type=e.TYPE}}return e.TYPE="ngrx/forms/SET_ERRORS",e})(),Ng=(()=>{class e{constructor(t,i,r){this.controlId=t,this.name=i,this.value=r,this.type=e.TYPE}}return e.TYPE="ngrx/forms/SET_ASYNC_ERROR",e})(),Hg=(()=>{class e{constructor(t,i){this.controlId=t,this.name=i,this.type=e.TYPE}}return e.TYPE="ngrx/forms/CLEAR_ASYNC_ERROR",e})(),ys=(()=>{class e{constructor(t,i){this.controlId=t,this.name=i,this.type=e.TYPE}}return e.TYPE="ngrx/forms/START_ASYNC_VALIDATION",e})(),$t=(()=>{class e{constructor(t){this.controlId=t,this.type=e.TYPE}}return e.TYPE="ngrx/forms/MARK_AS_DIRTY",e})(),go=(()=>{class e{constructor(t){this.controlId=t,this.type=e.TYPE}}return e.TYPE="ngrx/forms/MARK_AS_PRISTINE",e})(),oa=(()=>{class e{constructor(t){this.controlId=t,this.type=e.TYPE}}return e.TYPE="ngrx/forms/ENABLE",e})(),sa=(()=>{class e{constructor(t){this.controlId=t,this.type=e.TYPE}}return e.TYPE="ngrx/forms/DISABLE",e})(),Bo=(()=>{class e{constructor(t){this.controlId=t,this.type=e.TYPE}}return e.TYPE="ngrx/forms/MARK_AS_TOUCHED",e})(),xs=(()=>{class e{constructor(t){this.controlId=t,this.type=e.TYPE}}return e.TYPE="ngrx/forms/MARK_AS_UNTOUCHED",e})(),Zd=(()=>{class e{constructor(t){this.controlId=t,this.type=e.TYPE}}return e.TYPE="ngrx/forms/FOCUS",e})(),hl=(()=>{class e{constructor(t){this.controlId=t,this.type=e.TYPE}}return e.TYPE="ngrx/forms/UNFOCUS",e})(),bs=(()=>{class e{constructor(t){this.controlId=t,this.type=e.TYPE}}return e.TYPE="ngrx/forms/MARK_AS_SUBMITTED",e})(),Lo=(()=>{class e{constructor(t){this.controlId=t,this.type=e.TYPE}}return e.TYPE="ngrx/forms/MARK_AS_UNSUBMITTED",e})(),cv=(()=>{class e{constructor(t,i,r){this.controlId=t,this.value=i,this.index=r,this.type=e.TYPE}}return e.TYPE="ngrx/forms/ADD_ARRAY_CONTROL",e})(),Qd=(()=>{class e{constructor(t,i,r){this.controlId=t,this.name=i,this.value=r,this.type=e.TYPE}}return e.TYPE="ngrx/forms/ADD_GROUP_CONTROL",e})(),zg=(()=>{class e{constructor(t,i){this.controlId=t,this.index=i,this.type=e.TYPE}}return e.TYPE="ngrx/forms/REMOVE_ARRAY_CONTROL",e})(),eu=(()=>{class e{constructor(t,i,r){this.controlId=t,this.fromIndex=i,this.toIndex=r,this.type=e.TYPE}}return e.TYPE="ngrx/forms/SWAP_ARRAY_CONTROL",e})(),Jc=(()=>{class e{constructor(t,i,r){this.controlId=t,this.fromIndex=i,this.toIndex=r,this.type=e.TYPE}}return e.TYPE="ngrx/forms/MOVE_ARRAY_CONTROL",e})(),Xc=(()=>{class e{constructor(t,i){this.controlId=t,this.name=i,this.type=e.TYPE}}return e.TYPE="ngrx/forms/REMOVE_CONTROL",e})(),fo=(()=>{class e{constructor(t,i,r){this.controlId=t,this.name=i,this.value=r,this.type=e.TYPE}}return e.TYPE="ngrx/forms/SET_USER_DEFINED_PROPERTY",e})(),pl=(()=>{class e{constructor(t){this.controlId=t,this.type=e.TYPE}}return e.TYPE="ngrx/forms/RESET",e})();function Wg(e){return!!e.type&&e.type.startsWith("ngrx/forms/")}const $g=[wr.TYPE,Xd.TYPE,Ng.TYPE,Hg.TYPE,ys.TYPE,$t.TYPE,go.TYPE,oa.TYPE,sa.TYPE,Bo.TYPE,xs.TYPE,Zd.TYPE,hl.TYPE,bs.TYPE,Lo.TYPE,Qd.TYPE,Xc.TYPE,cv.TYPE,zg.TYPE,fo.TYPE,pl.TYPE,eu.TYPE,Jc.TYPE];function hv(e){return!!e&&""===e.__boxed}function tu(e){return["string","boolean","number","undefined"].indexOf(typeof e)>=0||null==e?e:hv(e)?e.value:Array.isArray(e)?e.map(tu):Object.keys(e).reduce((n,t)=>Object.assign(n,{[t]:tu(e[t])}),{})}function Qi(e){return 0===Object.keys(e).length}const Gg={treatUndefinedAndMissingKeyAsSame:!1};function Os(e,n,t={}){const{treatUndefinedAndMissingKeyAsSame:i}=Object.assign({},Gg,t),r=[],o=[];if(arguments.length<=1)throw new Error("Need two or more arguments to compare");return function s(l,h){let g;if(isNaN(l)&&isNaN(h)&&"number"==typeof l&&"number"==typeof h||l===h)return!0;if("function"==typeof l&&"function"==typeof h||l instanceof Date&&h instanceof Date||l instanceof RegExp&&h instanceof RegExp||l instanceof String&&h instanceof String||l instanceof Number&&h instanceof Number)return l.toString()===h.toString();if(!(l instanceof Object&&h instanceof Object)||l.isPrototypeOf(h)||h.isPrototypeOf(l)||l.constructor!==h.constructor||r.indexOf(l)>-1||o.indexOf(h)>-1)return!1;for(g in h)if(!i||!h.hasOwnProperty(g)||l.hasOwnProperty(g)||void 0!==h[g]){if(h.hasOwnProperty(g)!==l.hasOwnProperty(g))return!1;if(typeof h[g]!=typeof l[g])return!1}for(g in l){if(h.hasOwnProperty(g)!==l.hasOwnProperty(g)&&(!i||!l.hasOwnProperty(g)||h.hasOwnProperty(g)||void 0!==l[g]))return!1;switch(typeof l[g]){case"object":case"function":if(r.push(l),o.push(h),!s(l[g],h[g]))return!1;r.pop(),o.pop();break;default:if(l[g]!==h[g])return!1}}return!0}(e,n)}function Ir(e){return!!e&&e.hasOwnProperty("id")&&e.hasOwnProperty("value")&&e.hasOwnProperty("errors")}function qr(e){return Ir(e)&&e.hasOwnProperty("controls")&&Array.isArray(e.controls)}function Vo(e){return Ir(e)&&e.hasOwnProperty("controls")&&!Array.isArray(e.controls)&&"function"!=typeof e.controls}function _o(e,n){return hv(n)?GO(e,n):null!==n&&Array.isArray(n)?function BN(e,n){const t=n.map((i,r)=>_o(`${e}.${r}`,i));return ri(e,t,n,{},[],{},{wasOrShouldBeEnabled:!0})}(e,n):null!==n&&"object"==typeof n?fv(e,n):GO(e,n)}function $O(e){if(null===e||["string","number","boolean","undefined"].indexOf(typeof e)>=0)return e;if(!hv(e))throw new Error(`Form control states only support undefined, null, string, number, and boolean values as well as boxed values; got ${JSON.stringify(e)} of type ${typeof e}`);if(null===e.value||["string","number","boolean","undefined"].indexOf(typeof e.value)>=0)return e;const n=JSON.stringify(e);if(Os(e,JSON.parse(n),{treatUndefinedAndMissingKeyAsSame:!0}))return e;throw new Error(`A form control value must be serializable (i.e. value === JSON.parse(JSON.stringify(value))), got: ${JSON.stringify(e)}`)}function GO(e,n){return{id:e,value:$O(n),errors:{},pendingValidations:[],isValidationPending:!1,isValid:!0,isInvalid:!1,isEnabled:!0,isDisabled:!1,isDirty:!1,isPristine:!0,isTouched:!1,isUntouched:!0,isSubmitted:!1,isUnsubmitted:!0,isFocused:!1,isUnfocused:!0,userDefinedProperties:{}}}function ii(e,n,t,i,r,o,s){t=function aM(e,n){let t=Object.keys(n).length!==Object.keys(e).length;const i=Object.keys(e).reduce((r,o)=>{const s=e[o];return t=t||n[o]!==s.value,r[o]=s.value,r},{});return t?i:n}(n,t),i=function gv(e,n){let t=!1;const i=Object.keys(n).filter(o=>!o.startsWith("_")).reduce((o,s)=>Object.assign(o,{[s]:n[s]}),{}),r=Object.keys(e).reduce((o,s)=>{const l=e[s],h=l.errors;return Qi(h)?t=t||n.hasOwnProperty(`_${s}`):(t=t||n[`_${s}`]!==h,Object.assign(o,{[`_${s}`]:l.errors})),o},i);return t=t||Object.keys(n).length!==Object.keys(r).length,t?r:n}(n,i);const l=Qi(i),h=s.wasOrShouldBeDirty||Object.keys(n).some(b=>n[b].isDirty),g=s.wasOrShouldBeEnabled||Object.keys(n).some(b=>n[b].isEnabled),_=s.wasOrShouldBeTouched||Object.keys(n).some(b=>n[b].isTouched),v=s.wasOrShouldBeSubmitted||Object.keys(n).some(b=>n[b].isSubmitted);return{id:e,value:t,errors:i,pendingValidations:r,isValidationPending:r.length>0||Object.keys(n).some(b=>n[b].isValidationPending),isValid:l,isInvalid:!l,isEnabled:g,isDisabled:!g,isDirty:h,isPristine:!h,isTouched:_,isUntouched:!_,isSubmitted:v,isUnsubmitted:!v,userDefinedProperties:o,controls:n}}function fv(e,n){const t=Object.keys(n).map(i=>[i,_o(`${e}.${i}`,n[i])]).reduce((i,[r,o])=>Object.assign(i,{[r]:o}),{});return ii(e,t,n,{},[],{},{wasOrShouldBeEnabled:!0})}function ri(e,n,t,i,r,o,s){const l=n;t=function UO(e,n){let t=Object.keys(n).length!==Object.keys(e).length;const i=e.map((r,o)=>(t=t||n[o]!==r.value,r.value));return t?i:n}(l,t),i=function _v(e,n){let t=!1;const i=Object.keys(n).filter(o=>!o.startsWith("_")).reduce((o,s)=>Object.assign(o,{[s]:n[s]}),{}),r=e.reduce((o,s,l)=>{const h=s.errors;return Qi(h)?t=t||n.hasOwnProperty(`_${l}`):(t=t||n[`_${l}`]!==h,Object.assign(o,{[`_${l}`]:h})),o},i);return t=t||Object.keys(n).length!==Object.keys(r).length,t?r:n}(l,i);const h=Qi(i),g=s.wasOrShouldBeDirty||l.some(E=>E.isDirty),_=s.wasOrShouldBeEnabled||l.some(E=>E.isEnabled),v=s.wasOrShouldBeTouched||l.some(E=>E.isTouched),C=s.wasOrShouldBeSubmitted||l.some(E=>E.isSubmitted);return{id:e,value:t,errors:i,pendingValidations:r,isValidationPending:r.length>0||l.some(E=>E.isValidationPending),isValid:h,isInvalid:!h,isEnabled:_,isDisabled:!_,isDirty:g,isPristine:!g,isTouched:v,isUntouched:!v,isSubmitted:C,isUnsubmitted:!C,userDefinedProperties:o,controls:n}}function iu(e,n){if(!e)throw new Error("The control state must be defined!");return function LN(e,n){if(Vo(e)||qr(e))throw new Error("The state must be a control state");return n.controlId!==e.id||(e=function jO(e,n){return n.type!==wr.TYPE||e.value===n.value?e:Object.assign(Object.assign({},e),{value:$O(n.value)})}(e,n),e=function Ug(e,n){if(n.type!==Xd.TYPE||e.isDisabled||e.errors===n.errors||Os(e.errors,n.errors))return e;if(!n.errors||"object"!=typeof n.errors||Array.isArray(n.errors))throw new Error(`Control errors must be an object; got ${n.errors}`);if(Object.keys(n.errors).some(o=>o.startsWith("$")))throw new Error(`Control errors must not use $ as a prefix; got ${JSON.stringify(n.errors)}`);const t=Object.keys(e.errors).filter(o=>o.startsWith("$")).reduce((o,s)=>Object.assign(o,{[s]:e.errors[s]}),{}),i=Qi(t)?n.errors:Object.assign(t,n.errors),r=Qi(i);return Object.assign(Object.assign({},e),{isValid:r,isInvalid:!r,errors:i})}(e,n),e=function xv(e,n){return n.type!==ys.TYPE||e.pendingValidations.indexOf(n.name)>=0?e:Object.assign(Object.assign({},e),{pendingValidations:[...e.pendingValidations,n.name],isValidationPending:!0})}(e,n),e=function Qc(e,n){if(n.type!==Ng.TYPE||e.isDisabled)return e;const t=`$${n.name}`;let i=n.value;Os(e.errors[t],n.value)&&(i=e.errors[t]);const r=Object.assign(Object.assign({},e.errors),{[t]:i}),o=e.pendingValidations.filter(s=>s!==n.name);return Object.assign(Object.assign({},e),{isValid:!1,isInvalid:!0,errors:r,pendingValidations:o,isValidationPending:o.length>0})}(e,n),e=function lM(e,n){if(n.type!==Hg.TYPE)return e;const t=`$${n.name}`;let i=e.errors;i.hasOwnProperty(t)&&(i=Object.assign({},e.errors),delete i[t]);const r=e.pendingValidations.filter(s=>s!==n.name),o=Qi(i);return i===e.errors&&o===e.isValid&&r.length===e.pendingValidations.length?e:Object.assign(Object.assign({},e),{isValid:o,isInvalid:!o,errors:i,pendingValidations:r,isValidationPending:r.length>0})}(e,n),e=function uM(e,n){return n.type!==oa.TYPE||e.isEnabled?e:Object.assign(Object.assign({},e),{isEnabled:!0,isDisabled:!1})}(e,n),e=function dM(e,n){return n.type!==sa.TYPE||e.isDisabled?e:Object.assign(Object.assign({},e),{isEnabled:!1,isDisabled:!0,isValid:!0,isInvalid:!1,errors:{},pendingValidations:[],isValidationPending:!1})}(e,n),e=function cM(e,n){return n.type!==Zd.TYPE||e.isFocused?e:Object.assign(Object.assign({},e),{isFocused:!0,isUnfocused:!1})}(e,n),e=function jg(e,n){return n.type!==hl.TYPE||e.isUnfocused?e:Object.assign(Object.assign({},e),{isFocused:!1,isUnfocused:!0})}(e,n),e=function Zc(e,n){return n.type!==$t.TYPE||e.isDirty?e:Object.assign(Object.assign({},e),{isDirty:!0,isPristine:!1})}(e,n),e=function hM(e,n){return n.type!==go.TYPE||e.isPristine?e:Object.assign(Object.assign({},e),{isDirty:!1,isPristine:!0})}(e,n),e=function vv(e,n){return n.type!==Bo.TYPE||e.isTouched?e:Object.assign(Object.assign({},e),{isTouched:!0,isUntouched:!1})}(e,n),e=function Cv(e,n){return n.type!==xs.TYPE||e.isUntouched?e:Object.assign(Object.assign({},e),{isTouched:!1,isUntouched:!0})}(e,n),e=function mv(e,n){return n.type!==bs.TYPE||e.isSubmitted?e:Object.assign(Object.assign({},e),{isSubmitted:!0,isUnsubmitted:!1})}(e,n),e=function nu(e,n){return n.type!==Lo.TYPE||e.isUnsubmitted?e:Object.assign(Object.assign({},e),{isSubmitted:!1,isUnsubmitted:!0})}(e,n),e=function eh(e,n){return n.type!==fo.TYPE||e.userDefinedProperties[n.name]===n.value?e:Object.assign(Object.assign({},e),{userDefinedProperties:Object.assign(Object.assign({},e.userDefinedProperties),{[n.name]:n.value})})}(e,n),e=function yv(e,n){return n.type!==pl.TYPE||e.isPristine&&e.isUntouched&&e.isUnsubmitted?e:Object.assign(Object.assign({},e),{isDirty:!1,isPristine:!0,isTouched:!1,isUntouched:!0,isSubmitted:!1,isUnsubmitted:!0})}(e,n)),e}(e,n)}function Tr(e,n){let t=!1;const i=e.map(r=>{const o=Mr(r,n(r.id));return t=t||r!==o,o});return t?i:e}function qn(e,n){const t=function pM(e,n){let t=!1;const i=e.map(r=>{const o=Mr(r,n);return t=t||r!==o,o});return t?i:e}(e.controls,n);return e.controls===t?e:ri(e.id,t,e.value,e.errors,e.pendingValidations,e.userDefinedProperties,{wasOrShouldBeDirty:e.isDirty,wasOrShouldBeEnabled:e.isEnabled,wasOrShouldBeTouched:e.isTouched,wasOrShouldBeSubmitted:e.isSubmitted})}function aa(e,n){return e.id===n?e:Vo(e)?function gM(e,n){const t=Object.keys(e.controls).reduce((i,r)=>Object.assign(i,{[r]:aa(e.controls[r],`${n}.${r}`)}),{});return Object.assign(Object.assign({},e),{id:n,controls:t})}(e,n):qr(e)?function fM(e,n){const t=e.controls.map((i,r)=>aa(i,`${n}.${r}`));return Object.assign(Object.assign({},e),{id:n,controls:t})}(e,n):Object.assign(Object.assign({},e),{id:n})}function gl(e,n){if(!e)throw new Error("The array state must be defined!");return function DM(e,n){if(!qr(e))throw new Error("The state must be an array state");if(!Wg(n)||!n.controlId.startsWith(e.id))return e;switch(n.type){case Zd.TYPE:case hl.TYPE:case Qd.TYPE:case Xc.TYPE:return qn(e,n)}return e=function qg(e,n){if(n.type!==wr.TYPE)return e;if(n.controlId!==e.id)return qn(e,n);if(e.value===n.value)return e;if(n.value instanceof Date)throw new Error("Date values are not supported. Please used serialized strings instead.");const t=n.value,i=t.map((r,o)=>e.controls[o]?Mr(e.controls[o],new wr(e.controls[o].id,r)):_o(`${e.id}.${o}`,r));return ri(e.id,i,t,e.errors,e.pendingValidations,e.userDefinedProperties,{wasOrShouldBeDirty:e.isDirty,wasOrShouldBeEnabled:e.isEnabled,wasOrShouldBeTouched:e.isTouched,wasOrShouldBeSubmitted:e.isSubmitted})}(e,n),e=function NN(e,n){if(n.type!==Xd.TYPE)return e;if(n.controlId!==e.id)return qn(e,n);if(e.isDisabled||e.errors===n.errors||Os(e.errors,n.errors))return e;if(!n.errors||"object"!=typeof n.errors||Array.isArray(n.errors))throw new Error(`Control errors must be an object; got ${n.errors}`);if(Object.keys(n.errors).some(r=>r.startsWith("_")))throw new Error(`Control errors must not use underscore as a prefix; got ${JSON.stringify(n.errors)}`);if(Object.keys(n.errors).some(r=>r.startsWith("$")))throw new Error(`Control errors must not use $ as a prefix; got ${JSON.stringify(n.errors)}`);const t=Object.keys(e.errors).filter(r=>r.startsWith("_")||r.startsWith("$")).reduce((r,o)=>Object.assign(r,{[o]:e.errors[o]}),{}),i=Object.assign(t,n.errors);return ri(e.id,e.controls,e.value,i,e.pendingValidations,e.userDefinedProperties,{wasOrShouldBeDirty:e.isDirty,wasOrShouldBeEnabled:e.isEnabled,wasOrShouldBeTouched:e.isTouched,wasOrShouldBeSubmitted:e.isSubmitted})}(e,n),e=function OM(e,n){if(n.type!==ys.TYPE)return e;if(n.controlId!==e.id)return qn(e,n);if(e.pendingValidations.indexOf(n.name)>=0)return e;const t=[...e.pendingValidations,n.name];return ri(e.id,e.controls,e.value,e.errors,t,e.userDefinedProperties,{wasOrShouldBeDirty:e.isDirty,wasOrShouldBeEnabled:e.isEnabled,wasOrShouldBeTouched:e.isTouched,wasOrShouldBeSubmitted:e.isSubmitted})}(e,n),e=function JO(e,n){if(n.type!==Ng.TYPE)return e;if(n.controlId!==e.id)return qn(e,n);if(e.isDisabled)return e;const t=`$${n.name}`;let i=n.value;Os(e.errors[t],n.value)&&(i=e.errors[t]);const r=Object.assign(Object.assign({},e.errors),{[t]:i}),o=e.pendingValidations.filter(s=>s!==n.name);return ri(e.id,e.controls,e.value,r,o,e.userDefinedProperties,{wasOrShouldBeDirty:e.isDirty,wasOrShouldBeEnabled:e.isEnabled,wasOrShouldBeTouched:e.isTouched,wasOrShouldBeSubmitted:e.isSubmitted})}(e,n),e=function _M(e,n){if(n.type!==Hg.TYPE)return e;if(n.controlId!==e.id)return qn(e,n);const t=`$${n.name}`;let i=e.errors;e.errors.hasOwnProperty(t)&&(i=Object.assign({},e.errors),delete i[t]);const r=e.pendingValidations.filter(o=>o!==n.name);return i===e.errors&&r.length===e.pendingValidations.length?e:ri(e.id,e.controls,e.value,i,r,e.userDefinedProperties,{wasOrShouldBeDirty:e.isDirty,wasOrShouldBeEnabled:e.isEnabled,wasOrShouldBeTouched:e.isTouched,wasOrShouldBeSubmitted:e.isSubmitted})}(e,n),e=function VN(e,n){if(n.type!==oa.TYPE)return e;if(n.controlId!==e.id)return qn(e,n);const t=Tr(e.controls,i=>new oa(i));return t===e.controls&&e.isEnabled?e:ri(e.id,t,e.value,e.errors,e.pendingValidations,e.userDefinedProperties,{wasOrShouldBeDirty:e.isDirty,wasOrShouldBeEnabled:!0,wasOrShouldBeTouched:e.isTouched,wasOrShouldBeSubmitted:e.isSubmitted})}(e,n),e=function mM(e,n){return n.type!==sa.TYPE?e:n.controlId!==e.id?qn(e,n):e.isDisabled?e:ri(e.id,Tr(e.controls,t=>new sa(t)),e.value,{},[],e.userDefinedProperties,{wasOrShouldBeDirty:e.isDirty,wasOrShouldBeEnabled:!1,wasOrShouldBeTouched:e.isTouched,wasOrShouldBeSubmitted:e.isSubmitted})}(e,n),e=function vM(e,n){if(n.type!==$t.TYPE)return e;if(n.controlId!==e.id)return qn(e,n);const t=Tr(e.controls,i=>new $t(i));return t===e.controls&&e.isDirty?e:ri(e.id,t,e.value,e.errors,e.pendingValidations,e.userDefinedProperties,{wasOrShouldBeDirty:!0,wasOrShouldBeEnabled:e.isEnabled,wasOrShouldBeTouched:e.isTouched,wasOrShouldBeSubmitted:e.isSubmitted})}(e,n),e=function Kg(e,n){return n.type!==go.TYPE?e:n.controlId!==e.id?qn(e,n):e.isPristine?e:ri(e.id,Tr(e.controls,t=>new go(t)),e.value,e.errors,e.pendingValidations,e.userDefinedProperties,{wasOrShouldBeDirty:!1,wasOrShouldBeEnabled:e.isEnabled,wasOrShouldBeTouched:e.isTouched,wasOrShouldBeSubmitted:e.isSubmitted})}(e,n),e=function CM(e,n){if(n.type!==Bo.TYPE)return e;if(n.controlId!==e.id)return qn(e,n);const t=Tr(e.controls,i=>new Bo(i));return t===e.controls?e:ri(e.id,t,e.value,e.errors,e.pendingValidations,e.userDefinedProperties,{wasOrShouldBeDirty:e.isDirty,wasOrShouldBeEnabled:e.isEnabled,wasOrShouldBeTouched:!0,wasOrShouldBeSubmitted:e.isSubmitted})}(e,n),e=function Ov(e,n){return n.type!==xs.TYPE?e:n.controlId!==e.id?qn(e,n):e.isUntouched?e:ri(e.id,Tr(e.controls,t=>new xs(t)),e.value,e.errors,e.pendingValidations,e.userDefinedProperties,{wasOrShouldBeDirty:e.isDirty,wasOrShouldBeEnabled:e.isEnabled,wasOrShouldBeTouched:!1,wasOrShouldBeSubmitted:e.isSubmitted})}(e,n),e=function bv(e,n){if(n.type!==bs.TYPE)return e;if(n.controlId!==e.id)return qn(e,n);const t=Tr(e.controls,i=>new bs(i));return t===e.controls?e:ri(e.id,t,e.value,e.errors,e.pendingValidations,e.userDefinedProperties,{wasOrShouldBeDirty:e.isDirty,wasOrShouldBeEnabled:e.isEnabled,wasOrShouldBeTouched:e.isTouched,wasOrShouldBeSubmitted:!0})}(e,n),e=function YO(e,n){return n.type!==Lo.TYPE?e:n.controlId!==e.id?qn(e,n):e.isUnsubmitted?e:ri(e.id,Tr(e.controls,t=>new Lo(t)),e.value,e.errors,e.pendingValidations,e.userDefinedProperties,{wasOrShouldBeDirty:e.isDirty,wasOrShouldBeEnabled:e.isEnabled,wasOrShouldBeTouched:e.isTouched,wasOrShouldBeSubmitted:!1})}(e,n),e=function bM(e,n){return n.type!==fo.TYPE?e:n.controlId!==e.id?qn(e,n):e.userDefinedProperties[n.name]===n.value?e:Object.assign(Object.assign({},e),{userDefinedProperties:Object.assign(Object.assign({},e.userDefinedProperties),{[n.name]:n.value})})}(e,n),e=function xM(e,n){return n.type!==pl.TYPE?e:n.controlId!==e.id?qn(e,n):e.isPristine&&e.isUntouched&&e.isUnsubmitted?e:ri(e.id,Tr(e.controls,t=>new pl(t)),e.value,e.errors,e.pendingValidations,e.userDefinedProperties,{wasOrShouldBeDirty:!1,wasOrShouldBeEnabled:e.isEnabled,wasOrShouldBeTouched:!1,wasOrShouldBeSubmitted:!1})}(e,n),e=function KO(e,n){if(n.type!==cv.TYPE)return e;if(n.controlId!==e.id)return qn(e,n);const t=void 0===n.index?e.controls.length:n.index;if(t>e.controls.length||t<0)throw new Error(`Index ${t} is out of bounds for array '${e.id}' with length ${e.controls.length}!`);let i=[...e.controls];return i.splice(t,0,_o(`${e.id}.${t}`,n.value)),i=i.map((r,o)=>aa(r,`${e.id}.${o}`)),ri(e.id,i,e.value,e.errors,e.pendingValidations,e.userDefinedProperties,{wasOrShouldBeDirty:!0,wasOrShouldBeEnabled:e.isEnabled,wasOrShouldBeTouched:e.isTouched,wasOrShouldBeSubmitted:e.isSubmitted})}(e,n),e=function qO(e,n){if(n.type!==zg.TYPE)return e;if(n.controlId!==e.id)return qn(e,n);if(n.index>=e.controls.length||n.index<0)throw new Error(`Index ${n.index} is out of bounds for array '${e.id}' with length ${e.controls.length}!`);const t=n.index,i=e.controls.filter((r,o)=>o!==t).map((r,o)=>aa(r,`${e.id}.${o}`));return ri(e.id,i,e.value,e.errors,e.pendingValidations,e.userDefinedProperties,{wasOrShouldBeDirty:!0,wasOrShouldBeEnabled:e.isEnabled,wasOrShouldBeTouched:e.isTouched,wasOrShouldBeSubmitted:e.isSubmitted})}(e,n),e=function th(e,n){if(n.type!==eu.TYPE)return e;if(n.controlId!==e.id)return qn(e,n);const t=n.fromIndex,i=n.toIndex;if(t===i)return e;if(t<0||i<0)throw new Error(`fromIndex ${t} or toIndex ${t} was negative`);if(t>=e.controls.length||i>=e.controls.length)throw new Error(`fromIndex ${t} or toIndex ${i} is out of bounds with the length of the controls ${e.controls.length}`);let r=function ru(e,n,t){const i=[...e];return[i[n],i[t]]=[i[t],i[n]],i}(e.controls,t,i);return r=r.map((o,s)=>s>=t||s>=i?aa(o,`${e.id}.${s}`):o),ri(e.id,r,e.value,e.errors,e.pendingValidations,e.userDefinedProperties,{wasOrShouldBeDirty:!0,wasOrShouldBeEnabled:e.isEnabled,wasOrShouldBeTouched:e.isTouched,wasOrShouldBeSubmitted:e.isSubmitted})}(e,n),e=function yM(e,n){if(n.type!==Jc.TYPE)return e;if(n.controlId!==e.id)return qn(e,n);const t=n.fromIndex,i=n.toIndex;if(t===i)return e;if(t<0||i<0)throw new Error(`fromIndex ${t} or toIndex ${t} was negative`);if(t>=e.controls.length||i>=e.controls.length)throw new Error(`fromIndex ${t} or toIndex ${i} is out of bounds with the length of the controls ${e.controls.length}`);let r=function Yg(e,n,t){const i=e[n],r=e.length;if(n>t)return[...e.slice(0,t),i,...e.slice(t,n),...e.slice(n+1,r)];{const o=t+1;return[...e.slice(0,n),...e.slice(n+1,o),i,...e.slice(o,r)]}}(e.controls,t,i);return r=r.map((o,s)=>aa(o,`${e.id}.${s}`)),ri(e.id,r,e.value,e.errors,e.pendingValidations,e.userDefinedProperties,{wasOrShouldBeDirty:!0,wasOrShouldBeEnabled:e.isEnabled,wasOrShouldBeTouched:e.isTouched,wasOrShouldBeSubmitted:e.isSubmitted})}(e,n),e}(e,n)}function Mr(e,n){if(!e)throw new Error("The form state must be defined!");if(!Ir(e))throw new Error(`state must be a form state, got ${e}`);return Vo(e)?function Ss(e,n){if(!e)throw new Error("The group state must be defined!");return function Ds(e,n){if(!Vo(e))throw new Error("The state must be a group state");if(!Wg(n)||!n.controlId.startsWith(e.id))return e;switch(n.type){case Zd.TYPE:case hl.TYPE:case cv.TYPE:case zg.TYPE:case Jc.TYPE:case eu.TYPE:return _i(e,n)}return e=function rD(e,n){if(n.type!==wr.TYPE)return e;if(n.controlId!==e.id)return _i(e,n);if(e.value===n.value)return e;if(n.value instanceof Date)throw new Error("Date values are not supported. Please used serialized strings instead.");const t=n.value,i=Object.keys(t).reduce((r,o)=>(Object.assign(r,e.controls[o]?{[o]:Mr(e.controls[o],new wr(e.controls[o].id,t[o]))}:{[o]:_o(`${e.id}.${o}`,t[o])}),r),{});return ii(e.id,i,t,e.errors,e.pendingValidations,e.userDefinedProperties,{wasOrShouldBeDirty:e.isDirty,wasOrShouldBeEnabled:e.isEnabled,wasOrShouldBeTouched:e.isTouched,wasOrShouldBeSubmitted:e.isSubmitted})}(e,n),e=function RM(e,n){if(n.type!==Xd.TYPE)return e;if(n.controlId!==e.id)return _i(e,n);if(e.isDisabled||e.errors===n.errors||Os(e.errors,n.errors))return e;if(!n.errors||"object"!=typeof n.errors||Array.isArray(n.errors))throw new Error(`Control errors must be an object; got ${n.errors}`);if(Object.keys(n.errors).some(r=>r.startsWith("_")))throw new Error(`Control errors must not use underscore as a prefix; got ${JSON.stringify(n.errors)}`);if(Object.keys(n.errors).some(r=>r.startsWith("$")))throw new Error(`Control errors must not use $ as a prefix; got ${JSON.stringify(n.errors)}`);const t=Object.keys(e.errors).filter(r=>r.startsWith("_")||r.startsWith("$")).reduce((r,o)=>Object.assign(r,{[o]:e.errors[o]}),{}),i=Object.assign(t,n.errors);return ii(e.id,e.controls,e.value,i,e.pendingValidations,e.userDefinedProperties,{wasOrShouldBeDirty:e.isDirty,wasOrShouldBeEnabled:e.isEnabled,wasOrShouldBeTouched:e.isTouched,wasOrShouldBeSubmitted:e.isSubmitted})}(e,n),e=function ou(e,n){if(n.type!==ys.TYPE)return e;if(n.controlId!==e.id)return _i(e,n);if(e.pendingValidations.indexOf(n.name)>=0)return e;const t=[...e.pendingValidations,n.name];return ii(e.id,e.controls,e.value,e.errors,t,e.userDefinedProperties,{wasOrShouldBeDirty:e.isDirty,wasOrShouldBeEnabled:e.isEnabled,wasOrShouldBeTouched:e.isTouched,wasOrShouldBeSubmitted:e.isSubmitted})}(e,n),e=function AM(e,n){if(n.type!==Ng.TYPE)return e;if(n.controlId!==e.id)return _i(e,n);if(e.isDisabled)return e;const t=`$${n.name}`;let i=n.value;Os(e.errors[t],n.value)&&(i=e.errors[t]);const r=Object.assign(Object.assign({},e.errors),{[t]:i}),o=e.pendingValidations.filter(s=>s!==n.name);return ii(e.id,e.controls,e.value,r,o,e.userDefinedProperties,{wasOrShouldBeDirty:e.isDirty,wasOrShouldBeEnabled:e.isEnabled,wasOrShouldBeTouched:e.isTouched,wasOrShouldBeSubmitted:e.isSubmitted})}(e,n),e=function eD(e,n){if(n.type!==Hg.TYPE)return e;if(n.controlId!==e.id)return _i(e,n);const t=`$${n.name}`;let i=e.errors;i.hasOwnProperty(t)&&(i=Object.assign({},e.errors),delete i[t]);const r=e.pendingValidations.filter(o=>o!==n.name);return i===e.errors&&r.length===e.pendingValidations.length?e:ii(e.id,e.controls,e.value,i,r,e.userDefinedProperties,{wasOrShouldBeDirty:e.isDirty,wasOrShouldBeEnabled:e.isEnabled,wasOrShouldBeTouched:e.isTouched,wasOrShouldBeSubmitted:e.isSubmitted})}(e,n),e=function tD(e,n){if(n.type!==oa.TYPE)return e;if(n.controlId!==e.id)return _i(e,n);const t=Jr(e.controls,i=>new oa(i));return t===e.controls?e:ii(e.id,t,e.value,e.errors,e.pendingValidations,e.userDefinedProperties,{wasOrShouldBeDirty:e.isDirty,wasOrShouldBeEnabled:!0,wasOrShouldBeTouched:e.isTouched,wasOrShouldBeSubmitted:e.isSubmitted})}(e,n),e=function wM(e,n){return n.type!==sa.TYPE?e:n.controlId!==e.id?_i(e,n):e.isDisabled?e:ii(e.id,Jr(e.controls,t=>new sa(t)),e.value,{},[],e.userDefinedProperties,{wasOrShouldBeDirty:e.isDirty,wasOrShouldBeEnabled:!1,wasOrShouldBeTouched:e.isTouched,wasOrShouldBeSubmitted:e.isSubmitted})}(e,n),e=function IM(e,n){if(n.type!==$t.TYPE)return e;if(n.controlId!==e.id)return _i(e,n);const t=Jr(e.controls,i=>new $t(i));return t===e.controls?e:ii(e.id,t,e.value,e.errors,e.pendingValidations,e.userDefinedProperties,{wasOrShouldBeDirty:!0,wasOrShouldBeEnabled:e.isEnabled,wasOrShouldBeTouched:e.isTouched,wasOrShouldBeSubmitted:e.isSubmitted})}(e,n),e=function TM(e,n){return n.type!==go.TYPE?e:n.controlId!==e.id?_i(e,n):e.isPristine?e:ii(e.id,Jr(e.controls,t=>new go(t)),e.value,e.errors,e.pendingValidations,e.userDefinedProperties,{wasOrShouldBeDirty:!1,wasOrShouldBeEnabled:e.isEnabled,wasOrShouldBeTouched:e.isTouched,wasOrShouldBeSubmitted:e.isSubmitted})}(e,n),e=function nD(e,n){if(n.type!==Bo.TYPE)return e;if(n.controlId!==e.id)return _i(e,n);const t=Jr(e.controls,i=>new Bo(i));return t===e.controls?e:ii(e.id,t,e.value,e.errors,e.pendingValidations,e.userDefinedProperties,{wasOrShouldBeDirty:e.isDirty,wasOrShouldBeEnabled:e.isEnabled,wasOrShouldBeTouched:!0,wasOrShouldBeSubmitted:e.isSubmitted})}(e,n),e=function mo(e,n){return n.type!==xs.TYPE?e:n.controlId!==e.id?_i(e,n):e.isUntouched?e:ii(e.id,Jr(e.controls,t=>new xs(t)),e.value,e.errors,e.pendingValidations,e.userDefinedProperties,{wasOrShouldBeDirty:e.isDirty,wasOrShouldBeEnabled:e.isEnabled,wasOrShouldBeTouched:!1,wasOrShouldBeSubmitted:e.isSubmitted})}(e,n),e=function zN(e,n){if(n.type!==bs.TYPE)return e;if(n.controlId!==e.id)return _i(e,n);const t=Jr(e.controls,i=>new bs(i));return t===e.controls?e:ii(e.id,t,e.value,e.errors,e.pendingValidations,e.userDefinedProperties,{wasOrShouldBeDirty:e.isDirty,wasOrShouldBeEnabled:e.isEnabled,wasOrShouldBeTouched:e.isTouched,wasOrShouldBeSubmitted:!0})}(e,n),e=function iD(e,n){return n.type!==Lo.TYPE?e:n.controlId!==e.id?_i(e,n):e.isUnsubmitted?e:ii(e.id,Jr(e.controls,t=>new Lo(t)),e.value,e.errors,e.pendingValidations,e.userDefinedProperties,{wasOrShouldBeDirty:e.isDirty,wasOrShouldBeEnabled:e.isEnabled,wasOrShouldBeTouched:e.isTouched,wasOrShouldBeSubmitted:!1})}(e,n),e=function EM(e,n){if(n.type!==Qd.TYPE)return e;if(n.controlId!==e.id)return _i(e,n);if(e.controls.hasOwnProperty(n.name))throw new Error(`Group '${e.id}' already has child control '${n.name}'!`);const t=Object.assign({},e.controls,{[n.name]:_o(`${e.id}.${n.name}`,n.value)});return ii(e.id,t,e.value,e.errors,e.pendingValidations,e.userDefinedProperties,{wasOrShouldBeDirty:!0,wasOrShouldBeEnabled:e.isEnabled,wasOrShouldBeTouched:e.isTouched,wasOrShouldBeSubmitted:e.isSubmitted})}(e,n),e=function nh(e,n){if(n.type!==Xc.TYPE)return e;if(n.controlId!==e.id)return _i(e,n);if(!e.controls.hasOwnProperty(n.name))throw new Error(`Group '${e.id}' does not have child control '${n.name}'!`);const t=Object.assign({},e.controls);return delete t[n.name],ii(e.id,t,e.value,e.errors,e.pendingValidations,e.userDefinedProperties,{wasOrShouldBeDirty:!0,wasOrShouldBeEnabled:e.isEnabled,wasOrShouldBeTouched:e.isTouched,wasOrShouldBeSubmitted:e.isSubmitted})}(e,n),e=function PM(e,n){return n.type!==fo.TYPE?e:n.controlId!==e.id?_i(e,n):e.userDefinedProperties[n.name]===n.value?e:Object.assign(Object.assign({},e),{userDefinedProperties:Object.assign(Object.assign({},e.userDefinedProperties),{[n.name]:n.value})})}(e,n),e=function MM(e,n){return n.type!==pl.TYPE?e:n.controlId!==e.id?_i(e,n):e.isPristine&&e.isUntouched&&e.isUnsubmitted?e:ii(e.id,Jr(e.controls,t=>new pl(t)),e.value,e.errors,e.pendingValidations,e.userDefinedProperties,{wasOrShouldBeDirty:!1,wasOrShouldBeEnabled:e.isEnabled,wasOrShouldBeTouched:!1,wasOrShouldBeSubmitted:!1})}(e,n),e}(e,n)}(e,n):qr(e)?gl(e,n):iu(e,n)}function Jr(e,n){let t=!1;const i=Object.keys(e).reduce((r,o)=>(Object.assign(r,{[o]:Mr(e[o],n(e[o].id))}),t=t||r[o]!==e[o],r),{});return t?i:e}function _i(e,n){const t=function QO(e,n){let t=!1;const i=Object.keys(e).map(r=>[r,Mr(e[r],n)]).reduce((r,[o,s])=>(t=t||s!==e[o],Object.assign(r,{[o]:s})),{});return t?i:e}(e.controls,n);return e.controls===t?e:ii(e.id,t,e.value,e.errors,e.pendingValidations,e.userDefinedProperties,{wasOrShouldBeDirty:e.isDirty,wasOrShouldBeEnabled:e.isEnabled,wasOrShouldBeTouched:e.isTouched,wasOrShouldBeSubmitted:e.isSubmitted})}const dr=new u.OlP("NgrxFormViewAdapter");let Qg=(()=>{class e{constructor(t,i){this.renderer=t,this.elementRef=i,this.nativeIdWasSet=!1,this.onChange=()=>{},this.onTouched=()=>{}}set ngrxFormControlState(t){if(!t)throw new Error("The control state must not be undefined!");this.state=t,t.id!==this.elementRef.nativeElement.id&&this.nativeIdWasSet&&this.renderer.setProperty(this.elementRef.nativeElement,"id",t.id)}ngAfterViewInit(){const t=this.elementRef.nativeElement.id;this.state.id!==t&&!t&&(this.renderer.setProperty(this.elementRef.nativeElement,"id",this.state.id),this.nativeIdWasSet=!0)}setViewValue(t){this.renderer.setProperty(this.elementRef.nativeElement,"checked",t)}setOnChangeCallback(t){this.onChange=t}setOnTouchedCallback(t){this.onTouched=t}setIsDisabled(t){this.renderer.setProperty(this.elementRef.nativeElement,"disabled",t)}handleInput({target:t}){this.onChange(t.checked)}}return e.\u0275fac=function(t){return new(t||e)(u.Y36(u.Qsj),u.Y36(u.SBq))},e.\u0275dir=u.lG2({type:e,selectors:[["input","type","checkbox","ngrxFormControlState",""]],hostBindings:function(t,i){1&t&&u.NdJ("blur",function(){return i.onTouched()})("change",function(o){return i.handleInput(o)})},inputs:{ngrxFormControlState:"ngrxFormControlState"},features:[u._Bn([{provide:dr,useExisting:(0,u.Gpc)(()=>e),multi:!0}])]}),e})(),wv=(()=>{class e{constructor(t,i,r=null,o=null){this.renderer=t,this.elementRef=i,this.platformId=r,this.nativeIdWasSet=!1,this.onChange=()=>{},this.onTouched=()=>{},this.isComposing=!1,this.isCompositionSupported=function Od(e){return e===Za}(this.platformId||"")&&!function oh(e){return/android (\d+)/.test(e.userAgent.toLowerCase())}(o||window.navigator)}set ngrxFormControlState(t){if(!t)throw new Error("The control state must not be undefined!");this.state=t,t.id!==this.elementRef.nativeElement.id&&this.nativeIdWasSet&&this.renderer.setProperty(this.elementRef.nativeElement,"id",t.id)}ngAfterViewInit(){const t=this.elementRef.nativeElement.id;this.state.id!==t&&!t&&(this.renderer.setProperty(this.elementRef.nativeElement,"id",this.state.id),this.nativeIdWasSet=!0)}setViewValue(t){this.renderer.setProperty(this.elementRef.nativeElement,"value",t??"")}setOnChangeCallback(t){this.onChange=t}setOnTouchedCallback(t){this.onTouched=t}setIsDisabled(t){this.renderer.setProperty(this.elementRef.nativeElement,"disabled",t)}handleInput({target:t}){this.isCompositionSupported&&this.isComposing||this.onChange(t.value)}compositionStart(){this.isComposing=!0}compositionEnd({target:t}){this.isComposing=!1,this.isCompositionSupported&&this.onChange(t.value)}}return e.\u0275fac=function(t){return new(t||e)(u.Y36(u.Qsj),u.Y36(u.SBq),u.Y36(u.Lbi,8),u.Y36("ngrx-forms/never",8))},e.\u0275dir=u.lG2({type:e,selectors:[["input","ngrxFormControlState","",3,"type","checkbox",3,"type","number",3,"type","radio",3,"type","range"],["textarea","ngrxFormControlState",""]],hostBindings:function(t,i){1&t&&u.NdJ("blur",function(){return i.onTouched()})("input",function(o){return i.handleInput(o)})("compositionstart",function(){return i.compositionStart()})("compositionend",function(o){return i.compositionEnd(o)})},inputs:{ngrxFormControlState:"ngrxFormControlState"},features:[u._Bn([{provide:dr,useExisting:(0,u.Gpc)(()=>e),multi:!0}])]}),e})(),ef=(()=>{class e{constructor(t,i){this.renderer=t,this.elementRef=i,this.nativeIdWasSet=!1,this.onChange=()=>{},this.onTouched=()=>{}}set ngrxFormControlState(t){if(!t)throw new Error("The control state must not be undefined!");this.state=t,t.id!==this.elementRef.nativeElement.id&&this.nativeIdWasSet&&this.renderer.setProperty(this.elementRef.nativeElement,"id",t.id)}ngAfterViewInit(){const t=this.elementRef.nativeElement.id;this.state.id!==t&&!t&&(this.renderer.setProperty(this.elementRef.nativeElement,"id",this.state.id),this.nativeIdWasSet=!0)}setViewValue(t){this.renderer.setProperty(this.elementRef.nativeElement,"value",null===t?"":t)}setOnChangeCallback(t){this.onChange=t}setOnTouchedCallback(t){this.onTouched=t}setIsDisabled(t){this.renderer.setProperty(this.elementRef.nativeElement,"disabled",t)}handleInput({target:t}){const i=t.value;this.onChange(""===i?null:parseFloat(i))}}return e.\u0275fac=function(t){return new(t||e)(u.Y36(u.Qsj),u.Y36(u.SBq))},e.\u0275dir=u.lG2({type:e,selectors:[["input","type","number","ngrxFormControlState",""]],hostBindings:function(t,i){1&t&&u.NdJ("blur",function(){return i.onTouched()})("change",function(o){return i.handleInput(o)})("input",function(o){return i.handleInput(o)})},inputs:{ngrxFormControlState:"ngrxFormControlState"},features:[u._Bn([{provide:dr,useExisting:(0,u.Gpc)(()=>e),multi:!0}])]}),e})(),lu=(()=>{class e{constructor(t,i){this.renderer=t,this.elementRef=i,this.optionMap={},this.idCounter=0,this.selectedId=null,this.value=void 0,this.nativeIdWasSet=!1,this.onChangeFn=()=>{},this.onTouched=()=>{}}set ngrxFormControlState(t){if(!t)throw new Error("The control state must not be undefined!");this.state=t,t.id!==this.elementRef.nativeElement.id&&this.nativeIdWasSet&&this.renderer.setProperty(this.elementRef.nativeElement,"id",t.id)}ngAfterViewInit(){const t=this.elementRef.nativeElement.id;this.state.id!==t&&!t&&(this.renderer.setProperty(this.elementRef.nativeElement,"id",this.state.id),this.nativeIdWasSet=!0)}setViewValue(t){this.value=t,this.selectedId=this.getOptionId(t),null===this.selectedId&&this.renderer.setProperty(this.elementRef.nativeElement,"selectedIndex",-1),this.renderer.setProperty(this.elementRef.nativeElement,"value",this.selectedId)}onChange({target:t}){this.selectedId=t.value;const i=this.optionMap[this.selectedId];this.value=i,this.onChangeFn(i)}setOnChangeCallback(t){this.onChangeFn=t}setOnTouchedCallback(t){this.onTouched=t}setIsDisabled(t){this.renderer.setProperty(this.elementRef.nativeElement,"disabled",t)}createOptionId(){const t=this.idCounter.toString();return this.idCounter+=1,t}updateOptionValue(t,i){this.optionMap[t]=i,this.selectedId===t?this.onChangeFn(i):i===this.value&&this.setViewValue(i)}deregisterOption(t){delete this.optionMap[t]}getOptionId(t){for(const i of Array.from(Object.keys(this.optionMap)))if(this.optionMap[i]===t)return i;return null}}return e.\u0275fac=function(t){return new(t||e)(u.Y36(u.Qsj),u.Y36(u.SBq))},e.\u0275dir=u.lG2({type:e,selectors:[["select","ngrxFormControlState","",3,"multiple",""]],hostBindings:function(t,i){1&t&&u.NdJ("blur",function(){return i.onTouched()})("change",function(o){return i.onChange(o)})},inputs:{ngrxFormControlState:"ngrxFormControlState"},features:[u._Bn([{provide:dr,useExisting:(0,u.Gpc)(()=>e),multi:!0}])]}),e})(),tf=(()=>{class e{constructor(t,i){this.renderer=t,this.elementRef=i,this.options={},this.optionValues={},this.idCounter=0,this.selectedIds=[],this.nativeIdWasSet=!1,this.onChangeFn=()=>{},this.onTouched=()=>{}}set ngrxFormControlState(t){if(!t)throw new Error("The control state must not be undefined!");this.state=t,t.id!==this.elementRef.nativeElement.id&&this.nativeIdWasSet&&this.renderer.setProperty(this.elementRef.nativeElement,"id",t.id)}ngAfterViewInit(){const t=this.elementRef.nativeElement.id;this.state.id!==t&&!t&&(this.renderer.setProperty(this.elementRef.nativeElement,"id",this.state.id),this.nativeIdWasSet=!0)}setViewValue(t){if(null===t&&(t=[]),!Array.isArray(t))throw new Error(`the value provided to a NgrxSelectMultipleViewAdapter must be null or an array; got ${t} of type ${typeof t}`);this.selectedIds=t.map(i=>this.getOptionId(i)).filter(i=>null!==i).map(i=>i),Object.keys(this.options).forEach(i=>this.options[i].isSelected=this.selectedIds.indexOf(i)>=0)}onChange(){this.selectedIds=Object.keys(this.options).filter(i=>this.options[i].isSelected);const t=this.selectedIds.map(i=>this.optionValues[i]);this.onChangeFn(t)}setOnChangeCallback(t){this.onChangeFn=t}setOnTouchedCallback(t){this.onTouched=t}setIsDisabled(t){this.renderer.setProperty(this.elementRef.nativeElement,"disabled",t)}registerOption(t){const i=this.idCounter.toString();return this.options[i]=t,this.idCounter+=1,i}updateOptionValue(t,i){this.optionValues[t]=i,this.selectedIds.indexOf(t)>=0&&this.onChange()}deregisterOption(t){delete this.options[t],delete this.optionValues[t]}getOptionId(t){for(const i of Array.from(Object.keys(this.optionValues)))if(this.optionValues[i]===t)return i;return null}}return e.\u0275fac=function(t){return new(t||e)(u.Y36(u.Qsj),u.Y36(u.SBq))},e.\u0275dir=u.lG2({type:e,selectors:[["select","multiple","","ngrxFormControlState",""]],hostBindings:function(t,i){1&t&&u.NdJ("blur",function(){return i.onTouched()})("change",function(){return i.onChange()})},inputs:{ngrxFormControlState:"ngrxFormControlState"},features:[u._Bn([{provide:dr,useExisting:(0,u.Gpc)(()=>e),multi:!0}])]}),e})(),gD=(()=>{class e{constructor(t,i){this.renderer=t,this.elementRef=i,this.nativeNameWasSet=!1,this.onChange=()=>{},this.onTouched=()=>{}}set value(t){t!==this.latestValue&&(this.latestValue=t,this.isChecked&&this.onChange())}set ngrxFormControlState(t){if(!t)throw new Error("The control state must not be undefined!");this.state=t,t.id!==this.elementRef.nativeElement.name&&this.nativeNameWasSet&&this.renderer.setProperty(this.elementRef.nativeElement,"name",t.id)}ngOnInit(){this.isChecked=this.elementRef.nativeElement.checked}ngAfterViewInit(){const t=this.elementRef.nativeElement.name;this.state.id!==t&&!t&&(this.renderer.setProperty(this.elementRef.nativeElement,"name",this.state.id),this.nativeNameWasSet=!0)}setViewValue(t){this.isChecked=t===this.latestValue,this.renderer.setProperty(this.elementRef.nativeElement,"checked",this.isChecked)}setOnChangeCallback(t){this.onChange=()=>t(this.latestValue)}setOnTouchedCallback(t){this.onTouched=t}setIsDisabled(t){this.renderer.setProperty(this.elementRef.nativeElement,"disabled",t)}}return e.\u0275fac=function(t){return new(t||e)(u.Y36(u.Qsj),u.Y36(u.SBq))},e.\u0275dir=u.lG2({type:e,selectors:[["input","type","radio","ngrxFormControlState",""]],hostBindings:function(t,i){1&t&&u.NdJ("change",function(){return i.onChange()})("blur",function(){return i.onTouched()})},inputs:{value:"value",ngrxFormControlState:"ngrxFormControlState"},features:[u._Bn([{provide:dr,useExisting:(0,u.Gpc)(()=>e),multi:!0}])]}),e})(),fD=(()=>{class e{constructor(t,i){this.renderer=t,this.elementRef=i,this.nativeIdWasSet=!1,this.onChange=()=>{},this.onTouched=()=>{}}set ngrxFormControlState(t){if(!t)throw new Error("The control state must not be undefined!");this.state=t,t.id!==this.elementRef.nativeElement.id&&this.nativeIdWasSet&&this.renderer.setProperty(this.elementRef.nativeElement,"id",t.id)}ngAfterViewInit(){const t=this.elementRef.nativeElement.id;this.state.id!==t&&!t&&(this.renderer.setProperty(this.elementRef.nativeElement,"id",this.state.id),this.nativeIdWasSet=!0)}setViewValue(t){this.renderer.setProperty(this.elementRef.nativeElement,"value",parseFloat(t))}setOnChangeCallback(t){this.onChange=t}setOnTouchedCallback(t){this.onTouched=t}setIsDisabled(t){this.renderer.setProperty(this.elementRef.nativeElement,"disabled",t)}handleInput({target:t}){const i=t.value;this.onChange(""===i?null:parseFloat(i))}}return e.\u0275fac=function(t){return new(t||e)(u.Y36(u.Qsj),u.Y36(u.SBq))},e.\u0275dir=u.lG2({type:e,selectors:[["input","type","range","ngrxFormControlState",""]],hostBindings:function(t,i){1&t&&u.NdJ("blur",function(){return i.onTouched()})("change",function(o){return i.handleInput(o)})("input",function(o){return i.handleInput(o)})},inputs:{ngrxFormControlState:"ngrxFormControlState"},features:[u._Bn([{provide:dr,useExisting:(0,u.Gpc)(()=>e),multi:!0}])]}),e})();const _D=[Qg,fD,ef,lu,tf,gD];const qM_default=()=>({convertViewToStateValue:e=>"object"==typeof e&&null!==e?function pv(e){return{__boxed:"",value:e}}(e):e,convertStateToViewValue:tu});var Di=function(e){return e.CHANGE="change",e.BLUR="blur",e.NEVER="never",e}(Di||{});class JM{constructor(n){this.valueAccessor=n}setViewValue(n){this.valueAccessor.writeValue(n)}setOnChangeCallback(n){this.valueAccessor.registerOnChange(n)}setOnTouchedCallback(n){this.valueAccessor.registerOnTouched(n)}setIsDisabled(n){this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(n)}}let du=(()=>{class e{constructor(t,i,r,o,s){if(this.el=t,this.dom=i,this.actionsSubject=r,this.isInitialized=!1,this.focusTrackingIsEnabled=!1,this.ngrxUpdateOn=Di.CHANGE,this.ngrxValueConverter=qM_default(),o=o||[],(s=s||[]).length>1)throw new Error("More than one custom control value accessor matches!");this.viewAdapter=s.length>0?new JM(s[0]):function YM(e){if(!e)throw new Error("No view adapter matches!");let n,t,i;if(e.forEach(r=>{if(r.constructor===wv)n=r;else if(function mD(e){return _D.some(n=>e.constructor===n)}(r)){if(t)throw new Error("More than one built-in view adapter matches!");t=r}else{if(i)throw new Error("More than one custom view adapter matches!");i=r}}),i)return i;if(t)return t;if(n)return n;throw new Error("No valid view adapter!")}(o)}set ngrxFormControlState(t){if(!t)throw new Error("The control state must not be undefined!");const i=this.state;this.state=t,this.isInitialized&&(this.updateViewIfControlIdChanged(t,i),this.updateViewIfValueChanged(t,i),this.updateViewIfIsDisabledChanged(t,i),this.updateViewIfIsFocusedChanged(t,i))}set ngrxEnableFocusTracking(t){if(t&&!this.dom)throw new Error("focus tracking is only supported on the browser platform");this.focusTrackingIsEnabled=t}get focusRegionStartAttr(){return this.state&&this.state.isFocused?"":null}updateViewIfControlIdChanged(t,i){i&&t.id===i.id||(this.stateValue=t.value,this.viewValue=this.ngrxValueConverter.convertStateToViewValue(this.stateValue),this.viewAdapter.setViewValue(this.viewValue),this.viewAdapter.setIsDisabled&&this.viewAdapter.setIsDisabled(t.isDisabled))}updateViewIfValueChanged(t,i){t.value!==this.stateValue&&(this.stateValue=t.value,this.viewValue=this.ngrxValueConverter.convertStateToViewValue(t.value),this.viewAdapter.setViewValue(this.viewValue))}updateViewIfIsDisabledChanged(t,i){this.viewAdapter.setIsDisabled&&(i&&t.isDisabled===i.isDisabled||this.viewAdapter.setIsDisabled(t.isDisabled))}updateViewIfIsFocusedChanged(t,i){this.focusTrackingIsEnabled&&(i&&t.isFocused===i.isFocused||(t.isFocused?this.el.nativeElement.focus():this.el.nativeElement.blur()))}dispatchAction(t){if(null===this.actionsSubject)throw new Error("ActionsSubject must be present in order to dispatch actions!");this.actionsSubject.next(t)}ngOnInit(){if(!this.state)throw new Error("The form state must not be undefined!");this.isInitialized=!0,this.updateViewIfControlIdChanged(this.state,void 0),this.updateViewIfValueChanged(this.state,void 0),this.updateViewIfIsDisabledChanged(this.state,void 0),this.updateViewIfIsFocusedChanged(this.state,void 0);const t=()=>{this.state.isPristine&&this.dispatchAction(new $t(this.state.id))},i=()=>{this.stateValue=this.ngrxValueConverter.convertViewToStateValue(this.viewValue),this.stateValue!==this.state.value&&(this.dispatchAction(new wr(this.state.id,this.stateValue)),t())};this.viewAdapter.setOnChangeCallback(r=>{this.viewValue=r,this.ngrxUpdateOn===Di.CHANGE&&i()}),this.viewAdapter.setOnTouchedCallback(()=>{!this.state.isTouched&&this.ngrxUpdateOn!==Di.NEVER&&this.dispatchAction(new Bo(this.state.id)),this.ngrxUpdateOn===Di.BLUR&&i()})}ngAfterViewInit(){this.viewAdapter.setViewValue(this.viewValue),this.viewAdapter.setIsDisabled&&this.viewAdapter.setIsDisabled(this.state.isDisabled)}onFocusChange(){if(!this.focusTrackingIsEnabled)return;const t=this.el.nativeElement===this.dom.activeElement;t!==this.state.isFocused&&this.dispatchAction(t?new Zd(this.state.id):new hl(this.state.id))}}return e.\u0275fac=function(t){return new(t||e)(u.Y36(u.SBq),u.Y36(Z,8),u.Y36(Wt.UO,8),u.Y36(dr,10),u.Y36(fi,10))},e.\u0275dir=u.lG2({type:e,selectors:[["","ngrxFormControlState","",3,"ngrxFormsAction",""]],hostVars:1,hostBindings:function(t,i){1&t&&u.NdJ("focusin",function(){return i.onFocusChange()})("focusout",function(){return i.onFocusChange()}),2&t&&u.uIk("cdk-focus-region-start",i.focusRegionStartAttr)},inputs:{ngrxFormControlState:"ngrxFormControlState",ngrxUpdateOn:"ngrxUpdateOn",ngrxEnableFocusTracking:"ngrxEnableFocusTracking",ngrxValueConverter:"ngrxValueConverter"}}),e})(),sh=(()=>{class e{set ngrxFormControlState(t){this.state=t}set ngrxFormState(t){this.state=t}get isValid(){return this.state.isValid}get isInvalid(){return this.state.isInvalid}get isDirty(){return this.state.isDirty}get isPristine(){return this.state.isPristine}get isTouched(){return this.state.isTouched}get isUntouched(){return this.state.isUntouched}get isSubmitted(){return this.state.isSubmitted}get isUnsubmitted(){return this.state.isUnsubmitted}get isValidationPending(){return this.state.isValidationPending}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=u.lG2({type:e,selectors:[["form","ngrxFormState",""],["","ngrxFormControlState",""]],hostVars:18,hostBindings:function(t,i){2&t&&u.ekj("ngrx-forms-valid",i.isValid)("ngrx-forms-invalid",i.isInvalid)("ngrx-forms-dirty",i.isDirty)("ngrx-forms-pristine",i.isPristine)("ngrx-forms-touched",i.isTouched)("ngrx-forms-untouched",i.isUntouched)("ngrx-forms-submitted",i.isSubmitted)("ngrx-forms-unsubmitted",i.isUnsubmitted)("ngrx-forms-validation-pending",i.isValidationPending)},inputs:{ngrxFormControlState:"ngrxFormControlState",ngrxFormState:"ngrxFormState"}}),e})(),ah=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=u.oAB({type:e}),e.\u0275inj=u.cJS({}),e})();var XM=F(3620),Mv=F(2737);const la=(0,Wt.R7)({source:"Recalculate",events:{SetRecalculationProgress:(0,Wt.Ky)(),RecalculateRows:(0,Wt.Ky)(),RecalculateRowsResult:(0,Wt.Ky)()}}),uu="DocumentForm",ZM={loadInProgress:!1,recalculateInProgress:!1,documentFormState:fv(uu,{documentNumber:"",finalDocumentText:"",items:[]})},QM=(0,Wt.Lq)(ZM,function XO(){return{reducer:(e,n)=>Ir(e)?Mr(e,n):function Dv(e,n){return Object.keys(e).reduce((t,i)=>function SM(e,n,t){const i=e[n];return Ir(i)?Object.assign(Object.assign({},e),{[n]:Mr(i,t)}):e}(t,i,n),e)}(e,n),types:$g}}(),(0,Wt.on)(fs.loadDocumentById,fs.loadEmptyDocument,e=>({...e,loadInProgress:!0})),(0,Wt.on)(fs.loadDocumentSuccess,(e,n)=>({...e,loadInProgress:!1,documentFormState:fv(uu,n.document)})),(0,Wt.on)(la.setRecalculationProgress,(e,n)=>({...e,recalculateInProgress:n.inProgress})),(0,Wt.on)(la.recalculateRowsResult,(e,n)=>{const t=n.recalculatedRows.map(r=>({index:r.changedField.match(/\d+/)[0],item:r})),i=e.documentFormState.controls.items.value.map((r,o)=>{const s=t.find(l=>l.index===o.toString());return s?function No(e,n){return{...e,price:n.changedField.endsWith("price")?e.price:n.price,amount:n.changedField.endsWith("amount")?e.amount:n.amount,totalPrice:n.changedField.endsWith("totalPrice")?e.totalPrice:n.totalPrice}}(r,s.item):r});return{...e,documentFormState:Mr(e.documentFormState,new wr(uu+".items",i))}})),lh=(0,Wt.ZF)("document"),CD=(0,Wt.P1)(lh,e=>e.documentFormState),yD=(0,Wt.P1)(lh,e=>e.loadInProgress),xD=(0,Wt.P1)(lh,e=>e.recalculateInProgress),Rv=(0,Wt.P1)(CD,e=>e.controls.items);(0,Wt.P1)(Rv,e=>e.value);const Pv=(0,F(2306).d)(e=>function(){e(this),this.name="EmptyError",this.message="no elements in sequence"});var qN=F(305);let kv=(()=>{var e;class n{constructor(){}recalculateRows(i){const r=i.map(o=>this.recalculateCore(o));return(0,Dr.of)(r).pipe(ki(100))}recalculateRowAsync(i){const r=this.recalculateCore(i);return function bD(e,n){const t="object"==typeof n;return new Promise((i,r)=>{const o=new qN.Hp({next:s=>{i(s),o.unsubscribe()},error:r,complete:()=>{t?i(n.defaultValue):r(new Pv)}});e.subscribe(o)})}((0,Dr.of)(r).pipe(ki(100)))}recalculateCore(i){return i.changedField.endsWith("totalPrice")?{...i,price:i.amount?i.totalPrice/i.amount:0}:{...i,totalPrice:i.price*i.amount}}}return(e=n).\u0275fac=function(i){return new(i||e)},e.\u0275prov=u.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),n})(),OD=(()=>{var e;class n{constructor(i,r,o){this.actions$=i,this.store=r,this.recalculateService=o,this.recalculateRows$=Td(()=>this.actions$.pipe(Md(la.recalculateRows),(0,Im.z)(s=>this.recalculateService.recalculateRows(s.rowsToRecalculate)),(0,Kr.U)(s=>la.recalculateRowsResult({recalculatedRows:s})))),this.recalculateRowsTrigger$=Td(()=>this.actions$.pipe(Md(wr.TYPE),(0,wm.h)(s=>/DocumentForm\.items\.\d+\.(price|amount|totalPrice)$/.test(s.controlId)),this.setRecalculationInProgress(),(0,XM.b)(300),sl(()=>this.store.select(Rv)),(0,Kr.U)(([s,l])=>{const h=s.controlId.match(/\d+/),g=h?+h[0]:null;if(null===g)throw new Error("Index of changed item not found.");return la.recalculateRows({rowsToRecalculate:[{...l.value[g],changedField:s.controlId}]})}))),this.recalculationDone$=Td(()=>this.actions$.pipe(Md(la.recalculateRowsResult),(0,Kr.U)(()=>la.setRecalculationProgress({inProgress:!1}))))}setRecalculationInProgress(){return i=>i.pipe(sl(()=>this.store.select(xD)),function Av(e,n,t){const i=(0,sg.m)(e)||n||t?{next:e,error:n,complete:t}:e;return i?(0,wd.e)((r,o)=>{var s;null===(s=i.subscribe)||void 0===s||s.call(i);let l=!0;r.subscribe((0,Sr.x)(o,h=>{var g;null===(g=i.next)||void 0===g||g.call(i,h),o.next(h)},()=>{var h;l=!1,null===(h=i.complete)||void 0===h||h.call(i),o.complete()},h=>{var g;l=!1,null===(g=i.error)||void 0===g||g.call(i,h),o.error(h)},()=>{var h,g;l&&(null===(h=i.unsubscribe)||void 0===h||h.call(i)),null===(g=i.finalize)||void 0===g||g.call(i)}))}):Mv.y}(([r,o])=>{o||this.store.dispatch(la.setRecalculationProgress({inProgress:!0}))}),(0,Kr.U)(([r,o])=>r))}}return(e=n).\u0275fac=function(i){return new(i||e)(u.LFG(Pm),u.LFG(Wt.yh),u.LFG(kv))},e.\u0275prov=u.Yz7({token:e,factory:e.\u0275fac}),n})();const Bv={providers:[(0,Wt.mW)({document:QM}),(0,aT.rM)({maxAge:25,logOnly:!(0,u.X6Q)()}),function sT(...e){const n=e.flat(),t=function eO(e){return e.filter(Rc)}(n);return(0,u.MR2)([t,{provide:u.Xts,multi:!0,useValue:()=>{(0,u.f3M)(Wt.qY),(0,u.f3M)(Wt.Py,{optional:!0});const i=(0,u.f3M)(rO),r=(0,u.f3M)(hg),o=!i.isStarted;o&&i.start();for(const s of n){const l=Rc(s)?(0,u.f3M)(s):s;r.addEffects(l)}o&&(0,u.f3M)(Wt.yh).dispatch(iT())}}])}([cT,OD])]};var e,Es={"[object Array]":"array","[object Date]":"date","[object Object]":"object","[object String]":"string"},Rr=function(e){if(null===e)return"null";var n=Object.prototype.toString.call(e);return"object"==typeof e?Es[n]||"object":typeof e},dh=function(e){return"boolean"==typeof e},of=function(e){return Vt(e)&&-1!==e.toString().indexOf("e")},ur=function(e){return"date"===Rr(e)},T=function(e){return null!=e},Re=function(e){return"function"==typeof e},je=function(e){return"string"==typeof e},Vt=function(e){return"number"==typeof e&&isFinite(e)||!isNaN(e-parseFloat(e))},qe=function(e){return"object"===Rr(e)},Pr=function(e){var n;for(n in e)return!1;return!0},ft=function(e){if(!e||"object"!==Rr(e))return!1;var n=Object.getPrototypeOf(e);if(!n)return!0;var t=Object.hasOwnProperty.call(n,"constructor")&&n.constructor;return"function"==typeof t&&Object.toString.call(t)===Object.toString.call(Object)},cu=function(e){return-1===["object","array","function"].indexOf(Rr(e))},Sn=function(e){return null!=e&&e===e.window},Fr=function(e){return!(!e||!e.jquery&&!e.dxRenderer)},hu=function(e){return!!e&&Re(e.then)},uh=function(e){return!!e&&Re(e.done)&&Re(e.fail)},A=function e(n){var t=1,i=!1;for("boolean"==typeof(n=n||{})&&(i=n,n=arguments[1]||{},t++);t<arguments.length;t++){var r=arguments[t];if(null!=r)for(var o in r){var s=n[o],l=r[o],h=!1,g=void 0;"__proto__"===o||"constructor"===o||n===l||(i&&l&&(ft(l)||(h=Array.isArray(l)))?(g=h?s&&Array.isArray(s)?s:[]:s&&ft(s)?s:{},n[o]=e(i,g,l)):void 0!==l&&(n[o]=l))}}return n},Fn=(e,n)=>{if(Array.isArray(e))return e.map(n);var t=[];for(var i in e)t.push(n(e[i],i));return t},B=(e,n)=>{if(e){if("length"in e)for(var t=0;t<e.length&&!1!==n.call(e[t],t,e[t]);t++);else for(var i in e)if(!1===n.call(e[i],i,e[i]))break;return e}},tA=function(){},da=function(e){return typeof console>"u"||!Re(console[e])?tA:console[e].bind(console)},sf={log:da("log"),info:da("info"),warn:da("warn"),error:da("error")},SD=(e=[new RegExp("&","g"),new RegExp('"',"g"),new RegExp("'","g"),new RegExp("<","g"),new RegExp(">","g")],function(n){return String(n).replace(e[0],"&amp;").replace(e[1],"&quot;").replace(e[2],"&#39;").replace(e[3],"&lt;").replace(e[4],"&gt;")});function Ho(e){for(var n=arguments.length,t=new Array(n>1?n-1:0),i=1;i<n;i++)t[i-1]=arguments[i];return Re(e)?e(...t):(t.forEach((r,o)=>{je(r)&&(r=r.replace(/\$/g,"$$$$"));var s=new RegExp("\\{"+o+"\\}","gm");e=e.replace(s,r)}),e)}var af=function(){var e=/\s/g;return function(n){return!n||!n.replace(e,"")}}(),Lv="http://js.devexpress.com/error/"+"23.1.4".split(".").slice(0,2).join("_")+"/";function Vv(e,n){var t={ERROR_MESSAGES:A(n,e),Error:function(){return function s(h){var g=h[0],_=r(g,h=h.slice(1)),v=l(g),C=o(g,_);return A(new Error(C),{__id:g,__details:_,url:v})}([].slice.call(arguments))},log:function(h){var g="log";/^E\d+$/.test(h)?g="error":/^W\d+$/.test(h)&&(g="warn"),sf[g]("log"===g?h:function i(h){var g=h[0];return o(g,r(g,h=h.slice(1)))}([].slice.call(arguments)))}};function r(h,g){return g=[t.ERROR_MESSAGES[h]].concat(g),Ho.apply(this,g).replace(/\.*\s*?$/,"")}function o(h,g){return Ho.apply(this,["{0} - {1}. See:\n{2}",h,g,l(h)])}function l(h){return Lv+h}return t}const zt=Vv({E0001:"Method is not implemented",E0002:"Member name collision: {0}",E0003:"A class must be instantiated using the 'new' keyword",E0004:"The NAME property of the component is not specified",E0005:"Unknown device",E0006:"Unknown endpoint key is requested",E0007:"'Invalidate' method is called outside the update transaction",E0008:"Type of the option name is not appropriate to create an action",E0009:"Component '{0}' has not been initialized for an element",E0010:"Animation configuration with the '{0}' type requires '{1}' configuration as {2}",E0011:"Unknown animation type '{0}'",E0012:"jQuery version is too old. Please upgrade jQuery to 1.10.0 or later",E0013:"KnockoutJS version is too old. Please upgrade KnockoutJS to 2.3.0 or later",E0014:"The 'release' method shouldn't be called for an unlocked Lock object",E0015:"Queued task returned an unexpected result",E0017:"Event namespace is not defined",E0018:"DevExpress.ui.DevExpressPopup widget is required",E0020:"Template engine '{0}' is not supported",E0021:"Unknown theme is set: {0}",E0022:"LINK[rel=DevExpress-theme] tags must go before DevExpress included scripts",E0023:"Template name is not specified",E0024:"DevExtreme bundle already included",E0025:"Unexpected argument type",E0100:"Unknown validation type is detected",E0101:"Misconfigured range validation rule is detected",E0102:"Misconfigured comparison validation rule is detected",E0103:"validationCallback of an asynchronous rule should return a jQuery or a native promise",E0110:"Unknown validation group is detected",E0120:"Adapter for a DevExpressValidator component cannot be configured",E0121:"The 'customItem' parameter of the 'onCustomItemCreating' function is empty or contains invalid data. Assign a custom object or a Promise that is resolved after the item is created.",W0000:"'{0}' is deprecated in {1}. {2}",W0001:"{0} - '{1}' option is deprecated in {2}. {3}",W0002:"{0} - '{1}' method is deprecated in {2}. {3}",W0003:"{0} - '{1}' property is deprecated in {2}. {3}",W0004:"Timeout for theme loading is over: {0}",W0005:"'{0}' event is deprecated in {1}. {2}",W0006:"Invalid recurrence rule: '{0}'",W0007:"'{0}' Globalize culture is not defined",W0008:"Invalid view name: '{0}'",W0009:"Invalid time zone name: '{0}'",W0010:"{0} is deprecated in {1}. {2}",W0011:"Number parsing is invoked while the parser is not defined",W0012:"Date parsing is invoked while the parser is not defined",W0013:"'{0}' file is deprecated in {1}. {2}",W0014:"{0} - '{1}' type is deprecated in {2}. {3}",W0015:"Instead of returning a value from the '{0}' function, write it into the '{1}' field of the function's parameter.",W0016:'The "{0}" option does not accept the "{1}" value since v{2}. {3}.',W0017:'Setting the "{0}" property with a function is deprecated since v21.2',W0018:'Setting the "position" property with a function is deprecated since v21.2'});var rA=function(e,n,t){return function(){var i=this.callBase;this.callBase=e[n];try{return t.apply(this,arguments)}finally{this.callBase=i}}},sA=function(e){var t,i;if(!e)return this;for(t in e)i=e[t],this.prototype[t]="function"==typeof this.prototype[t]&&"function"==typeof i?rA(this.parent.prototype,t,i):i;return this},aA=function(){var n,t,i,e=this,r=Object.prototype.hasOwnProperty.bind(e);for(!r("_includedCtors")&&!r("_includedPostCtors")&&(e._includedCtors=e._includedCtors.slice(0),e._includedPostCtors=e._includedPostCtors.slice(0)),i=0;i<arguments.length;i++)for(t in(n=arguments[i]).ctor&&e._includedCtors.push(n.ctor),n.postCtor&&e._includedPostCtors.push(n.postCtor),n)"ctor"===t||"postCtor"===t||"default"===t||(e.prototype[t]=n[t]);return e},lA=function(e){if(!Object.prototype.hasOwnProperty.bind(this)("parent")&&this.parent){var i=Object.getPrototypeOf(this);return i===e||i.subclassOf(e)}return this.parent===e||!(!this.parent||!this.parent.subclassOf)&&this.parent.subclassOf(e)},wD=function(){throw zt.Error("E0001")},dA=function(){var e=Object.prototype.hasOwnProperty;return function(n,t){for(var i in n){if(!e.call(n,i))return;t[i]=n[i]}}}(),lf=function(){};lf.inherit=function(e){var n=function(){if(!this||Sn(this)||"function"!=typeof this.constructor)throw zt.Error("E0003");var s,t=this,i=t.ctor,r=t.constructor._includedCtors,o=t.constructor._includedPostCtors;for(s=0;s<r.length;s++)r[s].call(t);for(i&&i.apply(t,arguments),s=0;s<o.length;s++)o[s].call(t)};return n.prototype=function(e){var n=function(){};return n.prototype=e.prototype,new n}(this),dA(this,n),n.inherit=this.inherit,n.abstract=wD,n.redefine=sA,n.include=aA,n.subclassOf=lA,n.parent=this,n._includedCtors=this._includedCtors?this._includedCtors.slice(0):[],n._includedPostCtors=this._includedPostCtors?this._includedPostCtors.slice(0):[],n.prototype.constructor=n,n.redefine(e),n},lf.abstract=wD;const kt=lf;function Xr(e){var n=kt.inherit(e),t=n,i=new t(e),r={},o=function(s,l){B(s,function(h){Re(i[h])?(l||!e[h])&&(e[h]=function(){return i[h].apply(e,arguments)}):(l&&(r[h]=e[h]),e[h]=i[h])})};return o(e,!0),e.inject=function(s){t=t.inherit(s),i=new t,o(s)},e.resetInjection=function(){A(e,r),t=n,i=new n},e}function de(){return de=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},de.apply(this,arguments)}var Nv={rtlEnabled:!1,defaultCurrency:"USD",defaultUseCurrencyAccountingStyle:!0,oDataFilterToLower:!0,serverDecimalSeparator:".",decimalSeparator:".",thousandsSeparator:",",forceIsoDateParsing:!0,wrapActionsBeforeExecute:!0,useLegacyStoreResult:!1,useJQuery:void 0,editorStylingMode:void 0,useLegacyVisibleIndex:!1,floatingActionButtonConfig:{icon:"add",closeIcon:"close",label:"",position:{at:"right bottom",my:"right bottom",offset:{x:-16,y:-16}},maxSpeedDialActionCount:5,shading:!1,direction:"auto"},optionsParser:e=>{"{"!==e.trim().charAt(0)&&(e="{"+e+"}");try{return JSON.parse(e)}catch(n){try{return JSON.parse(uA(e))}catch{throw zt.Error("E3018",n,e)}}}},uA=e=>e.replace(/'/g,'"').replace(/,\s*([\]}])/g,"$1").replace(/([{,])\s*([^":\s]+)\s*:/g,'$1"$2":'),QN=["decimalSeparator","thousandsSeparator"],hh=function(){if(!arguments.length)return Nv;var e=arguments.length<=0?void 0:arguments[0];QN.forEach(n=>{if(e[n]){var t="Now, the ".concat(n," is selected based on the specified locale.");zt.log("W0003","config",n,"19.2",t)}}),A(Nv,e)};typeof DevExpress<"u"&&DevExpress.config&&hh(DevExpress.config);const un=hh;var cA=kt.inherit({ctor:function(e){e&&(e=String(e)),this._value=this._normalize(e||this._generate())},_normalize:function(e){for(e=e.replace(/[^a-f0-9]/gi,"").toLowerCase();e.length<32;)e+="0";return[e.substr(0,8),e.substr(8,4),e.substr(12,4),e.substr(16,4),e.substr(20,12)].join("-")},_generate:function(){for(var e="",n=0;n<32;n++)e+=Math.round(15*Math.random()).toString(16);return e},toString:function(){return this._value},valueOf:function(){return this._value},toJSON:function(){return this._value}});const En=cA;var ws=function(e){this._options=e||{},this._list=[],this._queue=[],this._firing=!1,this._fired=!1,this._firingIndexes=[]};ws.prototype._fireCore=function(e,n){var t=this._firingIndexes,i=this._list,r=this._options.stopOnFalse,o=t.length;for(t[o]=0;t[o]<i.length&&(!1!==i[t[o]].apply(e,n)||!r);t[o]++);t.pop()},ws.prototype.add=function(e){return"function"==typeof e&&(!this._options.unique||!this.has(e))&&this._list.push(e),this},ws.prototype.remove=function(e){var n=this._list,t=this._firingIndexes,i=n.indexOf(e);if(i>-1&&(n.splice(i,1),this._firing&&t.length))for(var r=0;r<t.length;r++)i<=t[r]&&t[r]--;return this},ws.prototype.has=function(e){var n=this._list;return e?n.indexOf(e)>-1:!!n.length},ws.prototype.empty=function(e){return this._list=[],this},ws.prototype.fireWith=function(e,n){var t=this._queue;if(n=(n=n||[]).slice?n.slice():n,this._options.syncStrategy)this._firing=!0,this._fireCore(e,n);else{if(t.push([e,n]),this._firing)return;for(this._firing=!0;t.length;){var i=t.shift();this._fireCore(i[0],i[1])}}return this._firing=!1,this._fired=!0,this},ws.prototype.fire=function(){this.fireWith(this,arguments)},ws.prototype.fired=function(){return this._fired};const Et=function(e){return new ws(e)};var Si=[{method:"resolve",handler:"done",state:"resolved"},{method:"reject",handler:"fail",state:"rejected"},{method:"notify",handler:"progress"}],kr=function(){var e=this;this._state="pending",this._promise={},Si.forEach(function(n){var t=n.method;this[t+"Callbacks"]=Et(),this[t]=function(){return this[t+"With"](this._promise,arguments)}.bind(this),this._promise[n.handler]=function(i){if(!i)return this;var r=e[t+"Callbacks"];return r.fired()?i.apply(e[t+"Context"],e[t+"Args"]):r.add(function(o,s){i.apply(o,s)}.bind(this)),this}}.bind(this)),this._promise.always=function(n){return this.done(n).fail(n)},this._promise.catch=function(n){return this.then(null,n)},this._promise.then=function(n,t){var i=new kr;return["done","fail"].forEach(function(r){var o="done"===r?n:t;this[r](function(){if(o){var s=o&&o.apply(this,arguments);uh(s)?s.done(i.resolve).fail(i.reject):hu(s)?s.then(i.resolve,i.reject):i.resolve.apply(this,T(s)?[s]:arguments)}else i["done"===r?"resolve":"reject"].apply(this,arguments)})}.bind(this)),i.promise()},this._promise.state=function(){return e._state},this._promise.promise=function(n){return n?A(n,e._promise):e._promise},this._promise.promise(this)};function Gn(e,n){if(uh(e))return e;if(hu(e)){var t=new kr;return e.then(function(){t.resolveWith.apply(t,[n].concat([[].slice.call(arguments)]))},function(){t.rejectWith.apply(t,[n].concat([[].slice.call(arguments)]))}),t}return(new kr).resolveWith(n,[e])}Si.forEach(function(e){var n=e.method,t=e.state;kr.prototype[n+"With"]=function(i,r){var o=this[n+"Callbacks"];return"pending"===this.state()&&(this[n+"Args"]=r,this[n+"Context"]=i,t&&(this._state=t),o.fire(i,r)),this}});var Br=function(){if(1===arguments.length)return Gn(arguments[0]);for(var e=[].slice.call(arguments),n=[],t=0,i=new kr,r=function(s){return function(l){n[s]=this,e[s]=arguments.length>1?[].slice.call(arguments):l,++t===e.length&&i.resolveWith(n,e)}},o=0;o<e.length;o++)uh(e[o])?e[o].promise().done(r(o)).fail(i.reject):t++;return t===e.length&&i.resolveWith(n,e),i.promise()};function W(){return new kr}function ke(){return Br.apply(this,arguments)}const Jn=Xr({isWrapped:function(){return!1},isWritableWrapped:function(){return!1},wrap:function(e){return e},unwrap:function(e){return e},assign:function(){sf.error("Method 'assign' should not be used for not wrapped variables. Use 'isWrapped' method for ensuring.")}});var ua=function(e,n){var i,r,t=[];for(i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.push(i);for(t.sort(function(o,s){var l=Vt(o),h=Vt(s);return l&&h?o-s:l&&!h?-1:!l&&h?1:o<s?-1:o>s?1:0}),r=0;r<t.length;r++)n(i=t[r],e[i])},pu=function(e,n,t,i){!i&&Jn.isWrapped(e[n])?Jn.assign(e[n],t):e[n]=t},Ei=function e(n,t,i,r){var o,s;for(var l in t)o=n[l],s=t[l],"__proto__"!==l&&"constructor"!==l&&n!==s&&(ft(s)&&(s=e((i?qe(o):ft(o))?o:{},s,i,r)),void 0!==s&&o!==s&&pu(n,l,s,r));return n},gu=Jn.unwrap,fl=Jn.isWrapped,TD=Jn.assign,ca=function(e){return function(e){return e.replace(/\[/g,".").replace(/\]/g,"")}(e).split(".")},Hv=function(e,n,t,i){if("this"===n)throw new zt.Error("E4016");var r=e[n];i.unwrapObservables&&fl(r)?TD(r,t):e[n]=t},zv=function(e){return(e=e||{}).unwrapObservables=void 0===e.unwrapObservables||e.unwrapObservables,e};function fu(e,n){return n.unwrapObservables?gu(e):e}var fh,Yt=function(e){if(arguments.length>1&&(e=[].slice.call(arguments)),!e||"this"===e)return function(t){return t};if("string"==typeof e){var n=ca(e);return function(t,i){for(var r=(i=zv(i)).functionsAsIs,o=("defaultValue"in i),s=fu(t,i),l=0;l<n.length;l++){if(!s){if(null==s&&o)return i.defaultValue;break}var h=n[l];if(o&&qe(s)&&!(h in s))return i.defaultValue;var g=fu(s[h],i);!r&&Re(g)&&(g=g.call(s)),s=g}return s}}return Array.isArray(e)?function RD(e){for(var n={},t=0,i=e.length;t<i;t++){var r=e[t];n[r]=Yt(r)}return function(o,s){var l;return B(n,function(h){var g=this(o,s);if(void 0!==g){for(var _=l||(l={}),v=h.split("."),C=v.length-1,b=0;b<C;b++){var E=v[b];E in _||(_[E]={}),_=_[E]}_[v[C]]=g}}),l}}(e):Re(e)?e:void 0},df=function(e,n,t,i){if(T(t))return t;var r={};return Hv(e,n,r,i),r},Wv=function(e){var n=(e=ca(e||"this")).length-1;return function(t,i,r){var o=fu(t,r=zv(r));e.forEach(function(s,l){var h=function(e,n,t){return fu("this"===n?e:e[n],t=t||{})}(o,s,r),g=!r.functionsAsIs&&Re(h)&&!fl(h);l===n?r.merge&&ft(i)&&(!T(h)||ft(h))?(h=df(o,s,h,r),Ei(h,i,!1,!0)):g?o[s](i):Hv(o,s,i,r):(h=df(o,s,h,r),g&&(h=h.call(o)),o=h)})}},wi=function(e,n){var i,t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return e instanceof Date?e.getTime():e&&e instanceof kt&&e.valueOf?e.valueOf():n||"string"!=typeof e?e:("base"===(null==t||null===(i=t.collatorOptions)||void 0===i?void 0:i.sensitivity)&&(e=e.normalize("NFD").replace(/[\u0300-\u036f]/g,"")),null!=t&&t.locale?e.toLocaleLowerCase(t.locale):e.toLowerCase())},Cn=function(e,n){return T(e)?e:n},$v=function(e,n){var t=new W,i=n||this,r={promise:t.promise(),abort:function(){clearTimeout(s),t.rejectWith(i)}},s=(arguments[2]||setTimeout)(function(){var l=e.call(i);l&&l.done&&Re(l.done)?l.done(function(){t.resolveWith(i)}):t.resolveWith(i)},"number"==typeof n?n:0);return r},Gv=[],hA=[],gh=[],uf=function(e,n,t){if(fh&&fh!==e)return Gv.push(n),hA.push(e),t=t||new W,gh.push(t),t;var i=fh,r=gh.length;fh=e;var o=n();return o||(gh.length>r?o=ke.apply(this,gh.slice(r)):t&&t.resolve()),fh=i,t&&o&&o.done&&o.done(t.resolve).fail(t.reject),!fh&&Gv.length&&("render"===hA.shift()?Xn:er)(Gv.shift(),gh.shift()),o||ke()},Xn=function(e,n){return uf("render",e,n)},er=function(e,n){return uf("update",e,n)},ha=function(e){return function(){var n=this;return uf("render",function(){return e.call(n)})}},_u=function(e){return function(){var n=this;return uf("update",function(){return e.call(n)})}},cf=function(e,n,t){var i=[],r=0;return B(n,(o,s)=>{var l=0,h=t?t(s):s;B(e,(g,_)=>{var v=h[g];if(void 0!==v)return hf(v,_)?void l++:(l=-1,!1)}),!(l<r)&&(l>r&&(i.length=0,r=l),i.push(s))}),i},hf=function(e,n){if(Array.isArray(e)&&Array.isArray(n)){var t=!1;return B(e,(i,r)=>{if(r!==n[i])return t=!0,!1}),!t}return e===n},_l=function(e){var n,t;switch(Rr(e)){case"string":return e.split(/\s+/,2);case"object":return[null!==(n=e.x)&&void 0!==n?n:e.h,null!==(t=e.y)&&void 0!==t?t:e.v];case"number":return[e];case"array":return e;default:return null}},PD=function(e,n){var t=_l(e),i=n?parseFloat(t&&t[0]):parseInt(t&&t[0],10),r=n?parseFloat(t&&t[1]):parseInt(t&&t[1],10);return isFinite(i)||(i=0),isFinite(r)||(r=i),{h:i,v:r}},cr=function(e){if(e instanceof En)return e.toString();if(qe(e)||Array.isArray(e))try{var n=JSON.stringify(e);return"{}"===n?e:n}catch{return e}return e},pa=function(e){return e.replace(/[[\]{}\-()*+?.\\^$|\s]/g,"\\$&")},U=function(){},FD=function(){return(new W).resolve().promise()},Ii=function(e,n,t){for(var i=[],o=!t,s=0;s<e.length;s++)!!n(e[s],s)===o&&i.push(e[s]);return i},fA={maxDepth:3,strict:!0},Uv=(e,n,t,i)=>{var{strict:r,maxDepth:o}=i,s=wi(e,!0),l=wi(n,!0);switch(!0){case r?s===l:s==l:case t>=o:return!0;case qe(s)&&qe(l):return((e,n,t,i)=>{var r=Object.keys(e),o=Object.keys(n);if(r.length!==o.length)return!1;var s=new Set(o);return!r.some(l=>!s.has(l)||!Uv(e[l],n[l],t+1,i))})(s,l,t,i);case Array.isArray(s)&&Array.isArray(l):return((e,n,t,i)=>e.length===n.length&&!e.some((r,o)=>!Uv(r,n[o],t+1,de({},i,{strict:!0}))))(s,l,t,i);default:return!1}},Jt=function(e,n){var i=de({},fA,arguments.length>2&&void 0!==arguments[2]?arguments[2]:fA);return Uv(e,n,0,i)},_h="dx-",_f=null;function jv(e){try{return new CSSStyleSheet}catch{var n=e.ownerDocument.createElement("style");return e.appendChild(n),n.sheet}}function kD(e,n,t){for(var i=0;i<n.length;i++){var r=n[i];try{for(var o=0;o<r.cssRules.length;o++)_A(e,r.cssRules[o],t)}catch{}}}function _A(e,n,t){var i,r,o,s,l,h;(t||(null===(i=n.selectorText)||void 0===i?void 0:i.includes(_h))||(null===(r=n.cssRules)||void 0===r||null===(o=r[0])||void 0===o||null===(s=o.selectorText)||void 0===s?void 0:s.includes(_h))||(null===(l=n.name)||void 0===l?void 0:l.startsWith(_h))||"DXIcons"===(null===(h=n.style)||void 0===h?void 0:h.fontFamily))&&e.insertRule(n.cssText,e.cssRules.length)}function LD(e,n,t){var i=e.getBoundingClientRect();return i&&n>=i.left&&n<i.right&&t>=i.top&&t<i.bottom}var Yv={querySelectorAll:(e,n)=>e.querySelectorAll(n),elementMatches(e,n){return(e.matches||e.matchesSelector||e.mozMatchesSelector||e.msMatchesSelector||e.oMatchesSelector||e.webkitMatchesSelector||(i=>{var r=e.document||e.ownerDocument;if(!r)return!1;for(var o=this.querySelectorAll(r,i),s=0;s<o.length;s++)if(o[s]===e)return!0})).call(e,n)},createElement(e,n){return(n=n||this._document).createElement(e)},createElementNS(e,n,t){return(t=t||this._document).createElementNS(e,n)},createTextNode(e,n){return(n=n||this._document).createTextNode(e)},createAttribute(e,n){return(n=n||this._document).createAttribute(e)},isNode:e=>e&&"object"==typeof e&&"nodeType"in e&&"nodeName"in e,isElementNode:e=>e&&1===e.nodeType,isTextNode:e=>e&&3===e.nodeType,isDocument:e=>e&&9===e.nodeType,isDocumentFragment:e=>e&&11===e.nodeType,removeElement(e){var n=e&&e.parentNode;n&&n.removeChild(e)},insertElement(e,n,t){e&&n&&e!==n&&(t?e.insertBefore(n,t):e.appendChild(n))},getAttribute:(e,n)=>e.getAttribute(n),setAttribute(e,n,t){"style"===n?e.style.cssText=t:e.setAttribute(n,t)},removeAttribute(e,n){e.removeAttribute(n)},setProperty(e,n,t){e[n]=t},setText(e,n){e&&(e.textContent=n)},setClass(e,n,t){1===e.nodeType&&n&&(t?e.classList.add(n):e.classList.remove(n))},setStyle(e,n,t){e.style[n]=t||""},_document:typeof document>"u"?void 0:document,getDocument(){return this._document},getActiveElement(e){return this.getRootNode(e).activeElement},getRootNode(e){var n,t;return null!==(n=null==e||null===(t=e.getRootNode)||void 0===t?void 0:t.call(e))&&void 0!==n?n:this._document},getBody(){return this._document.body},createDocumentFragment(){return this._document.createDocumentFragment()},getDocumentElement(){return this._document.documentElement},getLocation(){return this._document.location},getSelection(){return this._document.selection},getReadyState(){return this._document.readyState},getHead(){return this._document.head},hasDocumentProperty(e){return e in this._document},listen:(e,n,t,i)=>e&&"addEventListener"in e?(e.addEventListener(n,t,i),()=>{e.removeEventListener(n,t)}):U,elementsFromPoint(e,n,t){var i=this.getRootNode(t);return i.host?function mA(e,n,t){for(var i=function VD(){var e=0,n=[];return{push(t){return n.push(t),this},shift:()=>(e++,n[e-1]),get length(){return n.length-e},get items(){return n}}}().push(t);i.length;)for(var r=i.shift(),o=0;o<r.childNodes.length;o++){var s=r.childNodes[o];s.nodeType===Node.ELEMENT_NODE&&LD(s,e,n)&&"none"!==getComputedStyle(s).pointerEvents&&i.push(s)}var l=i.items.reverse();return l.pop(),l}(e,n,i):i.elementsFromPoint(e,n)}};const se=Xr(Yv);class mu{constructor(){this.memory=[],this.callbacks=Et()}add(n){B(this.memory,(t,i)=>n.apply(n,i)),this.callbacks.add(n)}remove(n){this.callbacks.remove(n)}fire(){for(var n=arguments.length,t=new Array(n),i=0;i<n;i++)t[i]=arguments[i];this.memory.push(t),this.callbacks.fire.apply(this.callbacks,t)}}const vu=new mu;var mh=typeof window<"u",rt=()=>mh,ga=rt()?window:void 0;ga||((ga={}).window=ga);var ut=()=>ga,vh=e=>rt()&&e in ga,Cu=e=>e<768?"xs":e<992?"sm":e<1200?"md":"lg",qv=e=>(e||Cu)(se.getDocumentElement().clientWidth),Ch=()=>rt()?ga.navigator:{userAgent:""},xA=["pageX","pageY","screenX","screenY","clientX","clientY"];const Wo=function(e){var n,t=function(){return n=e.apply(this,arguments),t=function(){return n},n};return function(){return t.apply(this,arguments)}};var yh=ut(),xh="dxEmptyEventType",HD={mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},zD={focusin:"focus",focusout:"blur"},WD=["blur","focus","load"],Xv=["touchmove","wheel","mousewheel","touchstart"];function OA(e,n){return!Sn(e)&&"#document"!==e.nodeName&&se.elementMatches(e,n)}var bh,mf=new WeakMap,Zv=0,$o=function(){var e={};return vu.add(function(n,t){e[n]=t}),{getField:function(n,t){return e[n]&&e[n][t]},callMethod:function(n,t,i,r){return e[n]&&e[n][t]&&e[n][t].apply(i,r)}}}(),Mn=Xr({on:yu(Go(fa(function(e,n,t,i,r){ml(e,n).addHandler(r,t,i)}))),one:yu(Go(function(e,n,t,i,r){Mn.on(e,n,t,i,function o(){Mn.off(e,n,t,o),r.apply(this,arguments)})})),off:yu(function DA(e){return function(n,t,i,r){"function"==typeof i&&(r=i,i=void 0),e(n,t,i,r)}}(fa(function(e,n,t,i){ml(e,n).removeHandler(i,t)}))),trigger:yu(jD(function(e,n,t){var i=n.type,r=ml(e,n.type);if($o.callMethod(i,"trigger",e,[n,t]),r.callHandlers(n,t),!$o.getField(i,"noBubble")&&!n.isPropagationStopped()&&-1===WD.indexOf(i)){var s=[];(function g(_){var v,C=null!==(v=_.parentNode)&&void 0!==v?v:_.host;C&&(s.push(C),g(C))})(e),s.push(yh);for(var l=0;s[l]&&!n.isPropagationStopped();)ml(s[l],n.type).callHandlers(A(n,{currentTarget:s[l]}),t),l++}(e.nodeType||Sn(e))&&($o.callMethod(i,"_default",e,[n,t]),function nC(e,n){var t=zD[e]||e;(function(i,r){return"click"===i&&"a"===r.localName})(e,n)||Re(n[t])&&(bh=e,n[t](),bh=void 0)}(i,e))})),triggerHandler:yu(jD(function(e,n,t){ml(e,n.type).callHandlers(n,t)}))});function vf(e,n){var t=e[0];if(t)if(se.isNode(t)||Sn(t))n.apply(Mn,e);else{if(je(t)||!("length"in t))throw zt.Error("E0025");var i=Array.prototype.slice.call(e,0);Array.prototype.forEach.call(t,function(r){i[0]=r,vf(i,n)})}}function yu(e){return function(){vf(arguments,e)}}var Qv=Wo(function GD(){var e=!1;try{var n=Object.defineProperty({},"passive",{get:function(){return e=!0,!0}});yh.addEventListener("test",null,n)}catch{}return e}),eC=(e,n)=>Sn(e)?eC(e.document,n):e.contains?e.contains(n):!!(n.compareDocumentPosition(e)&n.DOCUMENT_POSITION_CONTAINS);function ml(e,n){var t=mf.get(e),i=(n=n||"").split("."),r=i.slice(1),o=!!i[0];n=i[0]||xh,t||mf.set(e,t={}),t[n]||(t[n]={handleObjects:[],nativeHandler:null});var s=t[n];return{addHandler:function(l,h,g){var _=function(w,M){var Q,le,k=[w],L=w.currentTarget,G=w.relatedTarget;n in HD&&(Q=G&&L&&(G===L||eC(L,G))),void 0!==M&&k.push(M),$o.callMethod(n,"handle",e,[w,g]),Q||(le=l.apply(L,k)),!1===le&&(w.preventDefault(),w.stopPropagation())},v={handler:l,wrappedHandler:function(w,M){if(!bh||w.type!==bh)if(w.data=g,w.delegateTarget=e,h)for(var k=w.target;k&&k!==e;)OA(k,h)&&(w.currentTarget=k,_(w,M)),k=k.parentNode;else w.currentTarget=w.delegateTarget||w.target,_(w,M)},selector:h,type:n,data:g,namespace:r.join("."),namespaces:r,guid:++Zv};s.handleObjects.push(v);var E,b=1===s.handleObjects.length&&o;b&&(b=!$o.callMethod(n,"setup",e,[g,r,l])),b&&(s.nativeHandler=function UD(e){return function(n,t){var i=ml(this,e);n=Mn.Event(n),i.callHandlers(n,t)}}(n),Qv()&&Xv.indexOf(n)>-1&&(E={passive:!1}),s.removeListener=se.listen(e,HD[n]||n,s.nativeHandler,E)),$o.callMethod(n,"add",e,[v])},removeHandler:function(l,h){var g=function(C){var E,b=t[C];b.handleObjects.length?(b.handleObjects=b.handleObjects.filter(function(k){var L=r.length&&!Oh(k.namespaces,r)||l&&k.handler!==l||h&&k.selector!==h;return L||(E=k.handler,$o.callMethod(C,"remove",e,[k])),L}),!b.handleObjects.length&&C!==xh&&($o.callMethod(C,"teardown",e,[r,E]),b.nativeHandler&&b.removeListener(),delete t[C])):delete t[C]};if(o)g(n);else for(var _ in t)g(_);0===Object.keys(t).length&&mf.delete(e)},callHandlers:function(l,h){var g=!1,_=function(v){g||(!r.length||Oh(v.namespaces,r))&&(v.wrappedHandler(l,h),g=l.isImmediatePropagationStopped())};s.handleObjects.forEach(_),r.length&&t[xh]&&t[xh].handleObjects.forEach(_)}}}function Oh(e,n){for(var t=0;t<n.length;t++)if(e.indexOf(n[t])<0)return!1;return!0}function Go(e){return function(n,t,i,r,o){o||(o=r,r=void 0),"string"!=typeof i&&(r=i,i=void 0),!o&&"string"==typeof t&&(o=r||i,i=void 0,r=void 0),e(n,t,i,r,o)}}function jD(e){return function(n,t,i){"string"==typeof t&&(t={type:t}),t.target||(t.target=n),t.currentTarget=n,t.delegateTarget||(t.delegateTarget=n),!t.type&&t.originalEvent&&(t.type=t.originalEvent.type),e(n,t instanceof Mn.Event?t:Mn.Event(t),i)}}function fa(e){var n=function(t,i){if(i&&i.indexOf(" ")>-1){var r=Array.prototype.slice.call(arguments,0);i.split(" ").forEach(function(o){r[1]=o,e.apply(this,r)})}else e.apply(this,arguments)};return function(t,i){if("object"==typeof i){var r=Array.prototype.slice.call(arguments,0);for(var o in i)r[1]=o,r[r.length-1]=i[o],n.apply(this,r)}else n.apply(this,arguments)}}function SA(e){return null==(n=e).which&&0===n.type.indexOf("key")?null!=e.charCode?e.charCode:e.keyCode:function(n){return!n.which&&void 0!==n.button&&/^(?:mouse|pointer|contextmenu|drag|drop)|click/.test(n.type)}(e)?{1:1,2:3,3:1,4:2}[e.button]:e.which;var n}function Cf(e){e&&(Mn.Event=e,Mn.Event.prototype=e.prototype)}function KD(e,n,t){Object.defineProperty(t||Mn.Event.prototype,e,{enumerable:!0,configurable:!0,get:function(){return this.originalEvent&&n(this.originalEvent)},set:function(i){Object.defineProperty(this,e,{enumerable:!0,configurable:!0,writable:!0,value:i})}})}Cf(function tC(e){return Mn.Event=function(n,t){if(!(this instanceof Mn.Event))return new Mn.Event(n,t);n||(n={}),"string"==typeof n&&(n={type:n}),t||(t={}),e.call(this,n,t)},de(Mn.Event.prototype,{_propagationStopped:!1,_immediatePropagationStopped:!1,_defaultPrevented:!1,isPropagationStopped:function(){return!!(this._propagationStopped||this.originalEvent&&this.originalEvent.propagationStopped)},stopPropagation:function(){this._propagationStopped=!0,this.originalEvent&&this.originalEvent.stopPropagation()},isImmediatePropagationStopped:function(){return this._immediatePropagationStopped},stopImmediatePropagation:function(){this.stopPropagation(),this._immediatePropagationStopped=!0,this.originalEvent&&this.originalEvent.stopImmediatePropagation()},isDefaultPrevented:function(){return!!(this._defaultPrevented||this.originalEvent&&this.originalEvent.defaultPrevented)},preventDefault:function(){this._defaultPrevented=!0,this.originalEvent&&this.originalEvent.preventDefault()}}),Mn.Event}(function(e,n){var t;e instanceof Mn.Event||rt()&&e instanceof yh.Event||(null===(t=e.view)||void 0===t?void 0:t.Event)&&e instanceof e.view.Event?(this.originalEvent=e,this.type=e.type,this.currentTarget=void 0,Object.prototype.hasOwnProperty.call(e,"isTrusted")&&(this.isTrusted=e.isTrusted),this.timeStamp=e.timeStamp||Date.now()):de(this,e),KD("which",SA,this),0===e.type.indexOf("touch")&&(delete n.pageX,delete n.pageY),de(this,n),this.guid=++Zv})),["target","relatedTarget","delegateTarget","altKey","bubbles","cancelable","changedTouches","ctrlKey","detail","eventPhase","metaKey","shiftKey","view","char","code","charCode","key","keyCode","button","buttons","offsetX","offsetY","pointerId","pointerType","targetTouches","toElement","touches"].forEach(e=>KD(e,n=>n[e])),function ND(e){xA.forEach(function(n){e(n,function(t){return function(e,n){if(n[e]&&!n.touches||!n.touches)return n[e];var t=n.touches.length?n.touches:n.changedTouches;return t.length?t[0][e]:void 0}(n,t)})},this)}(KD);var EA=Et(),YD=Et();Mn.set=function(e){EA.fire(),Mn.inject(e),Cf(e.Event),YD.fire()},Mn.subscribeGlobal=function(){vf(arguments,Go(function(){var e=arguments;Mn.on.apply(this,e),EA.add(function(){var n=Array.prototype.slice.call(e,0);n.splice(3,1),Mn.off.apply(this,n)}),YD.add(function(){Mn.on.apply(this,e)})}))},Mn.forcePassiveFalseEventNames=Xv,Mn.passiveEventHandlersSupported=Qv;const R=Mn;var Is,xu=new WeakMap,li=new mu,iC=function(){};function _n(){return Is.data.apply(this,arguments)}function yf(e,n){return Is.removeData.call(this,e,n)}function Sh(e,n){if(se.isElementNode(e)){var t=e.getElementsByTagName("*");Is.cleanData(t),n&&Is.cleanData([e])}}!function(e){li.fire(e);var n=(Is=e).cleanData;Is.cleanData=function(t){return iC(t),n.call(this,t)}}({data:function(){var e=arguments[0],n=arguments[1],t=arguments[2];if(e){var i=xu.get(e);return i||xu.set(e,i={}),void 0===n?i:2===arguments.length?i[n]:(i[n]=t,t)}},removeData:function(e,n){if(e)if(void 0===n)xu.delete(e);else{var t=xu.get(e);t&&delete t[n]}},cleanData:function(e){for(var n=0;n<e.length;n++)R.off(e[n]),xu.delete(e[n])}});var rC=function(e){return null==e?"":String(e)},oC=function(e){return rC(e).charAt(0).toUpperCase()+e.substr(1)},xf=function(e){return rC(e).replace(/([a-z\d])([A-Z])/g,"$1 $2").split(/[\s_-]+/)},sC=function(e){return Fn(xf(e),function(n){return n.toLowerCase()}).join("-")},vl=function(e,n){return Fn(xf(e),function(t,i){return t=t.toLowerCase(),(n||i>0)&&(t=oC(t)),t}).join("")},Eh=function(e){return Fn(xf(e),function(n){return oC(n.toLowerCase())}).join(" ")},AA=["0","1","2","3","4","5","6","7","8","9"],Ni=function(e){var t,i,n=[],r=!1,o=!1;for(t=0;t<e.length;t++)o=(i=e.charAt(t))===i.toUpperCase()&&"-"!==i&&")"!==i&&"/"!==i||i in AA,"_"===i||"."===i?(i=" ",o=!0):0===t?(i=i.toUpperCase(),o=!0):!r&&o&&n.length>0&&n.push(" "),n.push(i),r=o;return n.join("")},hr=["","Webkit","Moz","O","Ms"],vo={"":"",Webkit:"-webkit-",Moz:"-moz-",O:"-o-",ms:"-ms-"},bf=Wo(function(){return se.createElement("dx").style}),Cl=function(e){if(e in bf())return e;var n=e;e=e.charAt(0).toUpperCase()+e.substr(1);for(var t=1;t<hr.length;t++){var i=hr[t].toLowerCase()+e;if(i in bf())return i}return n},Of=function(e){return function(e,n){e=vl(e,!0);for(var t,i=0,r=hr.length;i<r;i++){var o=hr[i],s=o+e;if(void 0===(t=n(vl(s),o))&&(t=n(s,o)),void 0!==t)break}return t||""}(e,function(n,t){if(n in bf())return vo[t]})},RA=["fillOpacity","columnCount","flexGrow","flexShrink","fontWeight","lineHeight","opacity","zIndex","zoom"],_a=function(e,n){return Vt(n)&&-1===RA.indexOf(e)&&(n+="px"),n},bu=function(e,n,t){if(e){t=Vt(t)?t+="px":t;for(var i=0;i<e.length;++i)e[i].style[n]=t}},aC=function(e,n){bu(e,"width",n)},Df=function(e,n){bu(e,"height",n)},ZD=function(e,n){arguments.length>2&&void 0!==arguments[2]&&!arguments[2]||[].slice.call(e.style).forEach(r=>{e.style.removeProperty(r)}),n.split(";").forEach(r=>{var o=r.split(":").map(h=>h.trim());if(2===o.length){var[s,l]=o;e.style[s]=l}})},Sf=ut(),QD=["auto","none","inherit","initial"],Ef=function(e,n){var t=0;return n.forEach(function(i){t+=parseFloat(e[i])||0}),t},wh=function(e,n){var t="width"===e?"Left":"Top",i="width"===e?"Right":"Bottom";return{padding:Ef(n,["padding"+t,"padding"+i]),border:Ef(n,["border"+t+"Width","border"+i+"Width"]),margin:Ef(n,["margin"+t,"margin"+i])}},eS=function(e){var n,t=(null==e||null===(n=e.ownerDocument)||void 0===n?void 0:n.defaultView)||Sf;return t.getComputedStyle&&t.getComputedStyle(e)},wf=function(e,n,t,i){var r;return n?.[t]||(null===(r=e.style)||void 0===r?void 0:r[t])||i},yl={content:0,padding:1,border:2,margin:3,"content-box":0,"border-box":2},lC={width:["left","right"],height:["top","bottom"]};function Ih(e,n,t,i){var r=(s,l,h)=>parseFloat(wf(s,l,h,"0"))||0,o="border"===t?"-width":"";return r(e,i,"".concat(t,"-").concat(lC[n][0]).concat(o))+r(e,i,"".concat(t,"-").concat(lC[n][1]).concat(o))}var cC=function(e,n,t){return e?QD.indexOf(e)>-1?n?null:e:(je(e)&&(e=function(e,n,t){return e.indexOf("px")>0?e=parseInt(e.replace("px","")):e.indexOf("%")>0?e=parseInt(e.replace("%",""))*function(e){return Sn(e)?e.innerHeight:e.offsetHeight}(n)/100:isNaN(e)?e.indexOf("vh")>0?e=Sf.innerHeight/100*parseInt(e.replace("vh","")):t&&e.indexOf("em")>0&&(e=parseFloat(e.replace("em",""))*parseFloat(Sf.getComputedStyle(t).fontSize)):e=parseInt(e),e}(e,t)),Vt(e)?Math.max(0,e+n):"calc("+e+(n<0?" - ":" ")+Math.abs(n)+"px)"):null},If=function(e,n){if(!e)return 0;var t=wh("height",Sf.getComputedStyle(e));return t.padding+t.border+(n?t.margin:0)},hC=function(e){if(e){var n=e.getBoundingClientRect();if(n.height)return n.height}return 0};function Vr(e,n,t){return 2===arguments.length?oS(n,e):oS(n,e,t)}var Ze=e=>function(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];return Vr("width",...n)}(e),pC=(e,n)=>function(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];return Vr("width",...n)}(e,n),gt=e=>function(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];return Vr("height",...n)}(e),ma=(e,n)=>function(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];return Vr("height",...n)}(e,n),wt=(e,n)=>function(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];return Vr("outerWidth",...n)}(e,n||!1),iS=(e,n)=>function(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];return Vr("outerWidth",...n)}(e,n),_t=(e,n)=>function(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];return Vr("outerHeight",...n)}(e,n||!1),rS=(e,n)=>function(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];return Vr("outerHeight",...n)}(e,n),gC=e=>function(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];return Vr("innerWidth",...n)}(e),Tf=e=>function(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];return Vr("innerHeight",...n)}(e),oS=function e(n,t,i){var r=t.toLowerCase().indexOf("width")>=0?"Width":"Height",o=r.toLowerCase(),s=0===t.indexOf("outer"),l=0===t.indexOf("inner"),h=2===arguments.length||"boolean"==typeof i;if(Fr(n)){if(n.length>1&&!h){for(var g=0;g<n.length;g++)e(n[g],t,i);return}n=n[0]}if(n){if(Sn(n))return s?n["inner"+r]:se.getDocumentElement()["client"+r];if(se.isDocument(n)){var _=se.getDocumentElement(),v=se.getBody();return Math.max(v["scroll"+r],v["offset"+r],_["scroll"+r],_["offset"+r],_["client"+r])}if(h){var C="content";return s&&(C=i?"margin":"border"),l&&(C="padding"),function(e,n,t){var i="width"===n?"offsetWidth":"offsetHeight",r=eS(e),o=wf(e,r,n);(""===o||"auto"===o)&&(o=e[i]),o=parseFloat(o)||0;var s=wf(e,r,"boxSizing","content-box"),h=yl[t||s],g=yl[s];if(void 0===h||void 0===g)throw new Error;if(g===h)return o;var _=Math.sign(h-g),v=!1,C=!1,b=!1,E=!1;1===_&&(h+=1,g+=1);for(var w=g;w!==h;w+=_)switch(w){case yl.content:break;case yl.padding:v=_*Ih(e,n,"padding",r);break;case yl.border:C=_*Ih(e,n,"border",r);break;case yl.margin:b=_*Ih(e,n,"margin",r)}if(v||C){var M=(!1===v?_*Ih(e,n,"padding",r):v)+(!1===C?_*Ih(e,n,"border",r):C);E=_*Math.max(0,Math.floor(e[i]-o-_*M))||0}return o+b+v+C+E}(n,o,C)}if(Vt(i)){var b=eS(n),E=wh(o,b),w="border-box"===b.boxSizing;i=Number(i),s?i-=w?0:E.border+E.padding:l?i+=w?E.border:-E.padding:w&&(i+=E.border+E.padding)}return i+=Vt(i)?"px":"",se.setStyle(n,o,i),null}},sS=e=>Sn(e)?e:e.defaultView,fC=e=>{if(!e.getClientRects().length)return{top:0,left:0};var n=e.getBoundingClientRect(),t=sS(e.ownerDocument),i=e.ownerDocument.documentElement;return{top:n.top+t.pageYOffset-i.clientTop,left:n.left+t.pageXOffset-i.clientLeft}},aS=/<([a-z][^/\0>\x20\t\r\n\f]+)/i,jo={default:{tagsCount:0,startTags:"",endTags:""},thead:{tagsCount:1,startTags:"<table>",endTags:"</table>"},td:{tagsCount:3,startTags:"<table><tbody><tr>",endTags:"</tr></tbody></table>"},col:{tagsCount:2,startTags:"<table><colgroup>",endTags:"</colgroup></table>"},tr:{tagsCount:2,startTags:"<table><tbody>",endTags:"</tbody></table>"}};jo.tbody=jo.colgroup=jo.caption=jo.tfoot=jo.thead,jo.th=jo.td;var Ot,_C=function(e){if("string"!=typeof e)return null;var t=se.createDocumentFragment().appendChild(se.createElement("div")),i=aS.exec(e),r=i&&i[1].toLowerCase(),o=jo[r]||jo.default;t.innerHTML=o.startTags+e+o.endTags;for(var s=0;s<o.tagsCount;s++)t=t.lastChild;return[...t.childNodes]},lS=ut(),lt=function(e,n){return e?"string"==typeof e?"body"===e?(this[0]=n?n.body:se.getBody(),this.length=1,this):(n=n||se.getDocument(),"<"===e[0]?(this[0]=se.createElement(e.slice(1,-1),n),this.length=1,this):([].push.apply(this,se.querySelectorAll(n,e)),this)):se.isNode(e)||Sn(e)?(this[0]=e,this.length=1,this):Array.isArray(e)?([].push.apply(this,e),this):Ot(e.toArray?e.toArray():[e]):(this.length=0,this)};Ot=function(e,n){return new lt(e,n)},Ot.fn={dxRenderer:!0};var xl=function(e,n){for(var t=0;t<this.length;t++){var i=Ot(this[t]);i[e].apply(i,n)}return this},Mf=function(e,n,t){null!=t&&!1!==t?se.setAttribute(e,n,t):se.removeAttribute(e,n)};(lt.prototype=Ot.fn).show=function(){return this.toggle(!0)},lt.prototype.hide=function(){return this.toggle(!1)},lt.prototype.toggle=function(e){return this[0]&&this.toggleClass("dx-state-invisible",!e),this},lt.prototype.attr=function(e,n){if(this.length>1&&arguments.length>1)return xl.call(this,"attr",arguments);if(!this[0])return qe(e)||void 0!==n?this:void 0;if(!this[0].getAttribute)return this.prop(e,n);if("string"==typeof e&&1===arguments.length)return this[0].getAttribute(e)??void 0;if(ft(e))for(var i in e)this.attr(i,e[i]);else Mf(this[0],e,n);return this},lt.prototype.removeAttr=function(e){return this[0]&&se.removeAttribute(this[0],e),this},lt.prototype.prop=function(e,n){if(!this[0])return this;if("string"==typeof e&&1===arguments.length)return this[0][e];if(ft(e))for(var t in e)this.prop(t,e[t]);else se.setProperty(this[0],e,n);return this},lt.prototype.addClass=function(e){return this.toggleClass(e,!0)},lt.prototype.removeClass=function(e){return this.toggleClass(e,!1)},lt.prototype.hasClass=function(e){if(!this[0]||void 0===this[0].className)return!1;for(var n=e.split(" "),t=0;t<n.length;t++)if(this[0].classList){if(this[0].classList.contains(n[t]))return!0}else if(((je(this[0].className)?this[0].className:se.getAttribute(this[0],"class"))||"").split(" ").indexOf(n[t])>=0)return!0;return!1},lt.prototype.toggleClass=function(e,n){if(this.length>1)return xl.call(this,"toggleClass",arguments);if(!this[0]||!e)return this;n=void 0===n?!this.hasClass(e):n;for(var t=e.split(" "),i=0;i<t.length;i++)se.setClass(this[0],t[i],n);return this},lt.prototype.html=function(e){return arguments.length?(this.empty(),"string"==typeof e&&!function(e){var n=aS.exec(e);return n&&n[1]in jo}(e)||"number"==typeof e?(this[0].innerHTML=e,this):this.append(_C(e))):this[0].innerHTML};var mC=function(e,n){if(this[0]&&e){"string"==typeof e?e=_C(e):e.nodeType?e=[e]:Vt(e)&&(e=[se.createTextNode(e)]);for(var t=0;t<e.length;t++){var i=e[t],r=this[0];"TABLE"===r.tagName&&"TR"===i.tagName&&r.tBodies&&r.tBodies.length&&(r=r.tBodies[0]),se.insertElement(r,i.nodeType?i:i[0],n)}}},vC=function(e,n){if(this[0]&&this[0].style&&!(null===n||"number"==typeof n&&isNaN(n))){e=Cl(e);for(var t=0;t<this.length;t++)this[t].style[e]=_a(e,n)}};lt.prototype.css=function(e,n){if(je(e)){if(2!==arguments.length){if(!this[0])return;e=Cl(e);var t=lS.getComputedStyle(this[0])[e]||this[0].style[e];return Vt(t)?t.toString():t}vC.call(this,e,n)}else if(ft(e))for(var i in e)vC.call(this,i,e[i]);return this},lt.prototype.prepend=function(e){if(arguments.length>1){for(var n=0;n<arguments.length;n++)this.prepend(arguments[n]);return this}return mC.apply(this,[e,this[0].firstChild]),this},lt.prototype.append=function(e){if(arguments.length>1){for(var n=0;n<arguments.length;n++)this.append(arguments[n]);return this}return mC.apply(this,[e]),this},lt.prototype.prependTo=function(e){if(this.length>1){for(var n=this.length-1;n>=0;n--)Ot(this[n]).prependTo(e);return this}return(e=Ot(e))[0]&&se.insertElement(e[0],this[0],e[0].firstChild),this},lt.prototype.appendTo=function(e){return this.length>1?xl.call(this,"appendTo",arguments):(se.insertElement(Ot(e)[0],this[0]),this)},lt.prototype.insertBefore=function(e){return e&&e[0]&&se.insertElement(e[0].parentNode,this[0],e[0]),this},lt.prototype.insertAfter=function(e){return e&&e[0]&&se.insertElement(e[0].parentNode,this[0],e[0].nextSibling),this},lt.prototype.before=function(e){return this[0]&&se.insertElement(this[0].parentNode,e[0],this[0]),this},lt.prototype.after=function(e){return this[0]&&se.insertElement(this[0].parentNode,e[0],this[0].nextSibling),this},lt.prototype.wrap=function(e){if(this[0]){var n=Ot(e);n.insertBefore(this),n.append(this)}return this},lt.prototype.wrapInner=function(e){var n=this.contents();return n.length?n.wrap(e):this.append(e),this},lt.prototype.replaceWith=function(e){if(e&&e[0])return e.is(this)?this:(e.insertBefore(this),this.remove(),e)},lt.prototype.remove=function(){return this.length>1?xl.call(this,"remove",arguments):(Sh(this[0],!0),se.removeElement(this[0]),this)},lt.prototype.detach=function(){return this.length>1?xl.call(this,"detach",arguments):(se.removeElement(this[0]),this)},lt.prototype.empty=function(){return this.length>1?xl.call(this,"empty",arguments):(Sh(this[0]),se.setText(this[0],""),this)},lt.prototype.clone=function(){for(var e=[],n=0;n<this.length;n++)e.push(this[n].cloneNode(!0));return Ot(e)},lt.prototype.text=function(e){if(!arguments.length){for(var n="",t=0;t<this.length;t++)n+=this[t]&&this[t].textContent||"";return n}var i=Re(e)?e():e;return Sh(this[0],!1),se.setText(this[0],T(i)?i:""),this},lt.prototype.val=function(e){return 1===arguments.length?this.prop("value",T(e)?e:""):this.prop("value")},lt.prototype.contents=function(){if(!this[0])return Ot();var e=[];return e.push.apply(e,this[0].childNodes),Ot(e)},lt.prototype.find=function(e){var n=Ot();if(!e)return n;var i,t=[];if("string"==typeof e)for(e=e.trim(),i=0;i<this.length;i++){var r=this[i];if(se.isElementNode(r)){var o=r.getAttribute("id"),s=o||"dx-query-children";o||Mf(r,"id",s);var l=(s="[id='"+s+"'] ")+e.replace(/([^\\])(,)/g,"$1, "+s);t.push.apply(t,se.querySelectorAll(r,l)),Mf(r,"id",o)}else(se.isDocument(r)||se.isDocumentFragment(r))&&t.push.apply(t,se.querySelectorAll(r,e))}else for(i=0;i<this.length;i++)e=se.isNode(e)?e:e[0],this[i]!==e&&this[i].contains(e)&&t.push(e);return n.add(t)};var CC=function(e,n){var t;return!(n=null!==(t=n.host)&&void 0!==t?t:n).nodeType||!!(n.offsetWidth||n.offsetHeight||n.getClientRects().length)};lt.prototype.filter=function(e){if(!e)return Ot();if(":visible"===e)return this.filter(CC);if(":hidden"===e)return this.filter(function(o,s){return!CC(0,s)});for(var n=[],t=0;t<this.length;t++){var i=this[t];if(se.isElementNode(i)&&"string"===Rr(e))se.elementMatches(i,e)&&n.push(i);else if(se.isNode(e)||Sn(e))e===i&&n.push(i);else if(Re(e))e.call(i,t,i)&&n.push(i);else for(var r=0;r<e.length;r++)e[r]===i&&n.push(i)}return Ot(n)},lt.prototype.not=function(e){for(var n=[],t=this.filter(e).toArray(),i=0;i<this.length;i++)-1===t.indexOf(this[i])&&n.push(this[i]);return Ot(n)},lt.prototype.is=function(e){return!!this.filter(e).length},lt.prototype.children=function(e){for(var n=[],t=0;t<this.length;t++)for(var i=this[t]?this[t].childNodes:[],r=0;r<i.length;r++)se.isElementNode(i[r])&&n.push(i[r]);return n=Ot(n),e?n.filter(e):n},lt.prototype.siblings=function(){var e=this[0];if(!e||!e.parentNode)return Ot();for(var n=[],t=e.parentNode.childNodes||[],i=0;i<t.length;i++){var r=t[i];se.isElementNode(r)&&r!==e&&n.push(r)}return Ot(n)},lt.prototype.each=function(e){for(var n=0;n<this.length&&!1!==e.call(this[n],n,this[n]);n++);},lt.prototype.index=function(e){return e?(e=Ot(e),this.toArray().indexOf(e[0])):this.parent().children().index(this)},lt.prototype.get=function(e){return this[e<0?this.length+e:e]},lt.prototype.eq=function(e){return Ot(this[e=e<0?this.length+e:e])},lt.prototype.first=function(){return this.eq(0)},lt.prototype.last=function(){return this.eq(-1)},lt.prototype.select=function(){for(var e=0;e<this.length;e+=1)this[e].select&&this[e].select();return this},lt.prototype.parent=function(e){if(!this[0])return Ot();var n=Ot(this[0].parentNode);return!e||n.is(e)?n:Ot()},lt.prototype.parents=function(e){for(var n=[],t=this.parent();t&&t[0]&&!se.isDocument(t[0]);)se.isElementNode(t[0])&&(!e||t.is(e))&&n.push(t.get(0)),t=t.parent();return Ot(n)},lt.prototype.closest=function(e){if(this.is(e))return this;for(var n=this.parent();n&&n.length;){if(n.is(e))return n;n=n.parent()}return Ot()},lt.prototype.next=function(e){if(!this[0])return Ot();var n=Ot(this[0].nextSibling);if(!arguments.length)return n;for(;n&&n.length;){if(n.is(e))return n;n=n.next()}return Ot()},lt.prototype.prev=function(){return this[0]?Ot(this[0].previousSibling):Ot()},lt.prototype.add=function(e){for(var n=Ot(e),t=this.toArray(),i=0;i<n.length;i++){var r=n[i];-1===t.indexOf(r)&&t.push(r)}return Ot(t)};var Af=[];lt.prototype.splice=function(){return Ot(Af.splice.apply(this,arguments))},lt.prototype.slice=function(){return Ot(Af.slice.apply(this,arguments))},lt.prototype.toArray=function(){return Af.slice.call(this)},lt.prototype.offset=function(){if(this[0])return fC(this[0])},lt.prototype.offsetParent=function(){if(!this[0])return Ot();for(var e=Ot(this[0].offsetParent);e[0]&&"static"===e.css("position");)e=Ot(e[0].offsetParent);return e[0]?e:Ot(se.getDocumentElement())},lt.prototype.position=function(){if(this[0]){var e,n=parseFloat(this.css("marginTop")),t=parseFloat(this.css("marginLeft"));if("fixed"===this.css("position"))return{top:(e=this[0].getBoundingClientRect()).top-n,left:e.left-t};e=this.offset();var i=this.offsetParent(),r={top:0,left:0};return"HTML"!==i[0].nodeName&&(r=i.offset()),r={top:r.top+parseFloat(i.css("borderTopWidth")),left:r.left+parseFloat(i.css("borderLeftWidth"))},{top:e.top-r.top-n,left:e.left-r.left-t}}},[{name:"scrollLeft",offsetProp:"pageXOffset",scrollWindow:function(e,n){e.scrollTo(n,e.pageYOffset)}},{name:"scrollTop",offsetProp:"pageYOffset",scrollWindow:function(e,n){e.scrollTo(e.pageXOffset,n)}}].forEach(function(e){var n=e.name;lt.prototype[n]=function(t){if(this[0]){var i=sS(this[0]);return void 0===t?i?i[e.offsetProp]:this[0][n]:(i?e.scrollWindow(i,t):this[0][n]=t,this)}}}),lt.prototype.data=function(e,n){if(this[0])return arguments.length<2?_n.call(Ot,this[0],e):(_n.call(Ot,this[0],e,n),this)},lt.prototype.removeData=function(e){return this[0]&&yf(this[0],e),this};var yC=function(){return Ot.apply(this,arguments)};Object.defineProperty(yC,"fn",{enumerable:!0,configurable:!0,get:function(){return Ot.fn},set:function(e){Ot.fn=e}});const x=yC,dS=new mu;var uS=function(e,n){var t={};"noBubble"in n&&(t.noBubble=n.noBubble),"bindType"in n&&(t.bindType=n.bindType),"delegateType"in n&&(t.delegateType=n.delegateType),B(["setup","teardown","add","remove","trigger","handle","_default","dispose"],function(i,r){n[r]&&(t[r]=function(){var o=[].slice.call(arguments);return o.unshift(this),n[r].apply(n,o)})}),vu.fire(e,t)};uS.callbacks=vu;const Hi=uS;var Ko="dxremove",Th="dxRemoveEvent";(function JD(e){iC=e})(function(e){e=[].slice.call(e);for(var n=0;n<e.length;n++){var t=x(e[n]);t.prop(Th)&&(t[0][Th]=null,R.triggerHandler(t,Ko))}}),Hi(Ko,{noBubble:!0,setup:function(e){x(e).prop(Th,!0)}});var cS="dxComponents",Mh=new WeakMap,r1=0,Yo=function(e,n){if(!T(n)){if(!Mh.has(e)){var t="dxPrivateComponent"+r1++;return Mh.set(e,t),t}return Mh.get(e)}Mh.set(e,n)};function pS(e,n,t){var i=_n(e.get(0)),r=Yo(n.constructor);i[r]=n,t&&R.one(e,Ko,function(){t.call(n)}),i[cS]||(i[cS]=[]),i[cS].push(r)}function gS(e,n){var t=Yo(n);return _n(e.get(0),t)}dS.add(function(e,n){x.fn[e]=function(t){var r;if("string"==typeof t){var o=t,s=[].slice.call(arguments).slice(1);this.each(function(){var l=n.getInstance(this);if(!l)throw zt.Error("E0009",e);var g=l[o].apply(l,s);void 0===r&&(r=g)})}else this.each(function(){var l=n.getInstance(this);l?l.option(t):new n(this,t)}),r=this;return r}});const Dt=function(e,n,t){t?n[e]=t:t=n,Yo(t,e),dS.fire(e,t)};class qo{constructor(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._events={},this._owner=n,this._options=t}static create(n,t){return t?Re(t)?t(n):t:new qo(n)}hasEvent(n){var t=this._events[n];return!!t&&t.has()}fireEvent(n,t){var i=this._events[n];return i&&i.fireWith(this._owner,t),this._owner}on(n,t){if(ft(n))B(n,(o,s)=>{this.on(o,s)});else{var i=this._events[n];i||(i=Et({syncStrategy:this._options.syncStrategy}),this._events[n]=i),(i.originalAdd||i.add).call(i,t)}}off(n,t){var i=this._events[n];i&&(Re(t)?i.remove(t):i.empty())}dispose(){B(this._events,(n,t)=>{t.empty()})}}var Ts=function(e){return 0===e?0:e/Math.abs(e)},cn=function(e,n,t){var i=!n&&0!==n,r=!t&&0!==t;return i&&(n=r?e:Math.min(e,t)),r&&(t=i?e:Math.max(e,n)),Math.min(Math.max(e,n),t)},va=function(e,n,t){return e>=n&&e<=t};function xC(e){return Math.abs(parseInt(e.toExponential().split("e")[1]))}function _S(e,n){var t=function fS(e){var n=e.toExponential().split("e"),t=parseFloat(n[0]);return{exponent:parseInt(n[1]),mantissa:t}}(e);return parseFloat("".concat(t.mantissa,"e").concat(t.exponent+n))}function bC(e,n){var s,t=function vS(e){var n=e.toString();if(n.indexOf(".")<0)return 0;var t=n.split("."),i=t[1].indexOf("e");return i>=0?i:t[1].length}(n||0)+2,i=e.toString().split("."),r=e,o=Math.abs(e),l=of(e),h=o>1?10:0;return 1===i.length?e:(l||(of(n)&&(t=i[0].length+xC(n)),e=(e=o)-Math.floor(e)+h),t=function mS(){return"0.000300"!==3e-4.toPrecision(3)}()&&xC(e)>6||t>7?15:7,l||(s=parseFloat(e.toPrecision(t)).toString().split("."))[0]!==h.toString()?parseFloat(r.toPrecision(t)):parseFloat(i[0]+"."+s[1]))}var VA=10;function DC(e,n){var t=n||0;return(t>0?function Pf(e,n){var t=Math.pow(VA,n);return function NA(e){return Ts(e)*Math.round(Math.abs(e))}(_S(e,n))/t}(...arguments):e).toFixed(t)}var CS={thousandsSeparator:",",decimalSeparator:"."};function EC(e){return e.toString().split("").reverse().join("")}function wC(e){return e.replace(/'.+'/g,"")}function IC(e){if(!e)return 0;var n=wC(e);return n.length-n.replace(/[#]/g,"").length}function TC(e){if(!e)return 0;var n=wC(e);return n.length-n.replace(/[0]/g,"").length}function yS(e,n,t){if(!e)return"";for(e.length>t&&(e=e.substr(0,t));e.length>n&&"0"===e.slice(-1);)e=e.substr(0,e.length-1);for(;e.length<n;)e+="0";return e}function bS(e,n){return e.split("'").map(function(t,i){var r=i%2;return!t&&r?"'":r?t:t.replace(/[,#0]+/,n)}).join("")}function Ff(e,n,t){var i=(n?.01:1)*parseFloat(e)||0;return t?-i:i}function GA(e,n,t,i){var o,s,l,r=e;do{l&&(o=s.length===l.length?"0":"1",e=i?o+e:e+o),s=l||n(Ff(r,t)),l=n(Ff(r=i?"1"+r:r+"1",t))}while(s!==l&&(i?s.length===l.length:s.length<=l.length));if(i&&l.length>s.length){var h=-1===n(12345).indexOf("12345");do{e="1"+e}while(h&&Ff(e,t)<1e5)}return e}function UA(e,n,t,i){var r=n(Ff(e,t,i)),o=e.split("."),h=n(Ff(o[0]+".3"+o[1].slice(1),t,i)).indexOf("3")-1;return r=r.replace(/(\d)\D(\d)/g,"$1,$2"),h>=0&&(r=r.slice(0,h)+"."+r.slice(h+1)),r=r.replace(/1+/,"1").replace(/1/g,"#"),t||(r=r.replace("%","'%'")),r}const kf={_formatNumberCore:function(e,n,t){if("currency"===n){t.precision=t.precision||0;var i=this.format(e,A({},t,{type:"fixedpoint"})),r=this.getCurrencySymbol().symbol.replace(/\$/g,"$$$$");return i.replace(/^(\D*)(\d.*)/,"$1"+r+"$2")}return this.callBase.apply(this,arguments)},getCurrencySymbol:function(){return{symbol:"$"}},getOpenXmlCurrencyFormat:function(){return"$#,##0{0}_);\\($#,##0{0}\\)"}},jA={"en-150":"en-001","en-AG":"en-001","en-AI":"en-001","en-AU":"en-001","en-BB":"en-001","en-BM":"en-001","en-BS":"en-001","en-BW":"en-001","en-BZ":"en-001","en-CC":"en-001","en-CK":"en-001","en-CM":"en-001","en-CX":"en-001","en-CY":"en-001","en-DG":"en-001","en-DM":"en-001","en-ER":"en-001","en-FJ":"en-001","en-FK":"en-001","en-FM":"en-001","en-GB":"en-001","en-GD":"en-001","en-GG":"en-001","en-GH":"en-001","en-GI":"en-001","en-GM":"en-001","en-GY":"en-001","en-HK":"en-001","en-IE":"en-001","en-IL":"en-001","en-IM":"en-001","en-IN":"en-001","en-IO":"en-001","en-JE":"en-001","en-JM":"en-001","en-KE":"en-001","en-KI":"en-001","en-KN":"en-001","en-KY":"en-001","en-LC":"en-001","en-LR":"en-001","en-LS":"en-001","en-MG":"en-001","en-MO":"en-001","en-MS":"en-001","en-MT":"en-001","en-MU":"en-001","en-MV":"en-001","en-MW":"en-001","en-MY":"en-001","en-NA":"en-001","en-NF":"en-001","en-NG":"en-001","en-NR":"en-001","en-NU":"en-001","en-NZ":"en-001","en-PG":"en-001","en-PK":"en-001","en-PN":"en-001","en-PW":"en-001","en-RW":"en-001","en-SB":"en-001","en-SC":"en-001","en-SD":"en-001","en-SG":"en-001","en-SH":"en-001","en-SL":"en-001","en-SS":"en-001","en-SX":"en-001","en-SZ":"en-001","en-TC":"en-001","en-TK":"en-001","en-TO":"en-001","en-TT":"en-001","en-TV":"en-001","en-TZ":"en-001","en-UG":"en-001","en-VC":"en-001","en-VG":"en-001","en-VU":"en-001","en-WS":"en-001","en-ZA":"en-001","en-ZM":"en-001","en-ZW":"en-001","en-AT":"en-150","en-BE":"en-150","en-CH":"en-150","en-DE":"en-150","en-DK":"en-150","en-FI":"en-150","en-NL":"en-150","en-SE":"en-150","en-SI":"en-150","hi-Latn":"en-IN","es-AR":"es-419","es-BO":"es-419","es-BR":"es-419","es-BZ":"es-419","es-CL":"es-419","es-CO":"es-419","es-CR":"es-419","es-CU":"es-419","es-DO":"es-419","es-EC":"es-419","es-GT":"es-419","es-HN":"es-419","es-MX":"es-419","es-NI":"es-419","es-PA":"es-419","es-PE":"es-419","es-PR":"es-419","es-PY":"es-419","es-SV":"es-419","es-US":"es-419","es-UY":"es-419","es-VE":"es-419",nb:"no",nn:"no","pt-AO":"pt-PT","pt-CH":"pt-PT","pt-CV":"pt-PT","pt-FR":"pt-PT","pt-GQ":"pt-PT","pt-GW":"pt-PT","pt-LU":"pt-PT","pt-MO":"pt-PT","pt-MZ":"pt-PT","pt-ST":"pt-PT","pt-TL":"pt-PT","az-Arab":"und","az-Cyrl":"und","bal-Latn":"und","blt-Latn":"und","bm-Nkoo":"und","bs-Cyrl":"und","byn-Latn":"und","cu-Glag":"und","dje-Arab":"und","dyo-Arab":"und","en-Dsrt":"und","en-Shaw":"und","ff-Adlm":"und","ff-Arab":"und","ha-Arab":"und","iu-Latn":"und","kk-Arab":"und","ks-Deva":"und","ku-Arab":"und","ky-Arab":"und","ky-Latn":"und","ml-Arab":"und","mn-Mong":"und","mni-Mtei":"und","ms-Arab":"und","pa-Arab":"und","sat-Deva":"und","sd-Deva":"und","sd-Khoj":"und","sd-Sind":"und","shi-Latn":"und","so-Arab":"und","sr-Latn":"und","sw-Arab":"und","tg-Arab":"und","ug-Cyrl":"und","uz-Arab":"und","uz-Cyrl":"und","vai-Latn":"und","wo-Arab":"und","yo-Arab":"und","yue-Hans":"und","zh-Hant":"und","zh-Hant-MO":"zh-Hant-HK"},DS=(e,n)=>{var t=e[n];return t?"root"!==t&&t:n.substr(0,n.lastIndexOf("-"))},Zr=Xr({locale:(()=>{var e="en";return n=>{if(!n)return e;e=n}})(),getValueByClosestLocale:function(e){for(var i,n=this.locale(),t=e(n);!t&&!i;)(n=DS(jA,n))?t=e(n):i=!0;return void 0===t&&"en"!==n?e("en"):t}}),qA={af:"\xa4#,##0.00;(\xa4#,##0.00)","af-NA":"\xa4#,##0.00;(\xa4#,##0.00)",agq:"#,##0.00\xa4",ak:"\xa4#,##0.00",am:"\xa4#,##0.00;(\xa4#,##0.00)",ar:"\xa4#,##0.00;(\xa4#,##0.00)","ar-AE":"\xa4#,##0.00;(\xa4#,##0.00)","ar-BH":"\xa4#,##0.00;(\xa4#,##0.00)","ar-DJ":"\xa4#,##0.00;(\xa4#,##0.00)","ar-DZ":"\xa4#,##0.00;(\xa4#,##0.00)","ar-EG":"\xa4#,##0.00;(\xa4#,##0.00)","ar-EH":"\xa4#,##0.00;(\xa4#,##0.00)","ar-ER":"\xa4#,##0.00;(\xa4#,##0.00)","ar-IL":"\xa4#,##0.00;(\xa4#,##0.00)","ar-IQ":"\xa4#,##0.00;(\xa4#,##0.00)","ar-JO":"\xa4#,##0.00;(\xa4#,##0.00)","ar-KM":"\xa4#,##0.00;(\xa4#,##0.00)","ar-KW":"\xa4#,##0.00;(\xa4#,##0.00)","ar-LB":"\xa4#,##0.00;(\xa4#,##0.00)","ar-LY":"\xa4#,##0.00;(\xa4#,##0.00)","ar-MA":"\xa4#,##0.00;(\xa4#,##0.00)","ar-MR":"\xa4#,##0.00;(\xa4#,##0.00)","ar-OM":"\xa4#,##0.00;(\xa4#,##0.00)","ar-PS":"\xa4#,##0.00;(\xa4#,##0.00)","ar-QA":"\xa4#,##0.00;(\xa4#,##0.00)","ar-SA":"\xa4#,##0.00;(\xa4#,##0.00)","ar-SD":"\xa4#,##0.00;(\xa4#,##0.00)","ar-SO":"\xa4#,##0.00;(\xa4#,##0.00)","ar-SS":"\xa4#,##0.00;(\xa4#,##0.00)","ar-SY":"\xa4#,##0.00;(\xa4#,##0.00)","ar-TD":"\xa4#,##0.00;(\xa4#,##0.00)","ar-TN":"\xa4#,##0.00;(\xa4#,##0.00)","ar-YE":"\xa4#,##0.00;(\xa4#,##0.00)",as:"\xa4\xa0#,##,##0.00",asa:"#,##0.00\xa0\xa4",ast:"#,##0.00\xa0\xa4",az:"#,##0.00\xa0\xa4","az-Cyrl":"#,##0.00\xa0\xa4","az-Latn":"#,##0.00\xa0\xa4",bas:"#,##0.00\xa0\xa4",be:"#,##0.00\xa0\xa4","be-tarask":"#,##0.00\xa0\xa4",bem:"\xa4#,##0.00;(\xa4#,##0.00)",bez:"#,##0.00\xa4",bg:"0.00\xa0\xa4;(0.00\xa0\xa4)",bm:"\xa4#,##0.00;(\xa4#,##0.00)",bn:"#,##,##0.00\xa4;(#,##,##0.00\xa4)","bn-IN":"#,##,##0.00\xa4;(#,##,##0.00\xa4)",bo:"\xa4\xa0#,##0.00","bo-IN":"\xa4\xa0#,##0.00",br:"#,##0.00\xa0\xa4",brx:"\xa4\xa0#,##,##0.00",bs:"#,##0.00\xa0\xa4","bs-Cyrl":"#,##0.00\xa0\xa4","bs-Latn":"#,##0.00\xa0\xa4",ca:"#,##0.00\xa0\xa4;(#,##0.00\xa0\xa4)","ca-AD":"#,##0.00\xa0\xa4;(#,##0.00\xa0\xa4)","ca-ES-valencia":"#,##0.00\xa0\xa4;(#,##0.00\xa0\xa4)","ca-FR":"#,##0.00\xa0\xa4;(#,##0.00\xa0\xa4)","ca-IT":"#,##0.00\xa0\xa4;(#,##0.00\xa0\xa4)",ccp:"#,##,##0.00\xa4;(#,##,##0.00\xa4)","ccp-IN":"#,##,##0.00\xa4;(#,##,##0.00\xa4)",ce:"#,##0.00\xa0\xa4",ceb:"\xa4#,##0.00;(\xa4#,##0.00)",cgg:"\xa4#,##0.00",chr:"\xa4#,##0.00;(\xa4#,##0.00)",ckb:"\xa4\xa0#,##0.00","ckb-IR":"\xa4\xa0#,##0.00",cs:"#,##0.00\xa0\xa4",cy:"\xa4#,##0.00;(\xa4#,##0.00)",da:"#,##0.00\xa0\xa4","da-GL":"#,##0.00\xa0\xa4",dav:"\xa4#,##0.00;(\xa4#,##0.00)",de:"#,##0.00\xa0\xa4","de-AT":"#,##0.00\xa0\xa4","de-BE":"#,##0.00\xa0\xa4","de-CH":"#,##0.00\xa0\xa4","de-IT":"#,##0.00\xa0\xa4","de-LI":"#,##0.00\xa0\xa4","de-LU":"#,##0.00\xa0\xa4",dje:"#,##0.00\xa4",doi:"\xa4#,##0.00",dsb:"#,##0.00\xa0\xa4",dua:"#,##0.00\xa0\xa4",dyo:"#,##0.00\xa0\xa4",dz:"\xa4#,##,##0.00",ebu:"\xa4#,##0.00;(\xa4#,##0.00)",ee:"\xa4#,##0.00;(\xa4#,##0.00)","ee-TG":"\xa4#,##0.00;(\xa4#,##0.00)",el:"#,##0.00\xa0\xa4","el-CY":"#,##0.00\xa0\xa4",en:"\xa4#,##0.00;(\xa4#,##0.00)","en-001":"\xa4#,##0.00;(\xa4#,##0.00)","en-150":"#,##0.00\xa0\xa4","en-AE":"\xa4#,##0.00;(\xa4#,##0.00)","en-AG":"\xa4#,##0.00;(\xa4#,##0.00)","en-AI":"\xa4#,##0.00;(\xa4#,##0.00)","en-AS":"\xa4#,##0.00;(\xa4#,##0.00)","en-AT":"\xa4\xa0#,##0.00","en-AU":"\xa4#,##0.00;(\xa4#,##0.00)","en-BB":"\xa4#,##0.00;(\xa4#,##0.00)","en-BE":"#,##0.00\xa0\xa4","en-BI":"\xa4#,##0.00;(\xa4#,##0.00)","en-BM":"\xa4#,##0.00;(\xa4#,##0.00)","en-BS":"\xa4#,##0.00;(\xa4#,##0.00)","en-BW":"\xa4#,##0.00;(\xa4#,##0.00)","en-BZ":"\xa4#,##0.00;(\xa4#,##0.00)","en-CA":"\xa4#,##0.00;(\xa4#,##0.00)","en-CC":"\xa4#,##0.00;(\xa4#,##0.00)","en-CH":"\xa4\xa0#,##0.00;\xa4-#,##0.00","en-CK":"\xa4#,##0.00;(\xa4#,##0.00)","en-CM":"\xa4#,##0.00;(\xa4#,##0.00)","en-CX":"\xa4#,##0.00;(\xa4#,##0.00)","en-CY":"\xa4#,##0.00;(\xa4#,##0.00)","en-DE":"#,##0.00\xa0\xa4","en-DG":"\xa4#,##0.00;(\xa4#,##0.00)","en-DK":"#,##0.00\xa0\xa4","en-DM":"\xa4#,##0.00;(\xa4#,##0.00)","en-ER":"\xa4#,##0.00;(\xa4#,##0.00)","en-FI":"#,##0.00\xa0\xa4","en-FJ":"\xa4#,##0.00;(\xa4#,##0.00)","en-FK":"\xa4#,##0.00;(\xa4#,##0.00)","en-FM":"\xa4#,##0.00;(\xa4#,##0.00)","en-GB":"\xa4#,##0.00;(\xa4#,##0.00)","en-GD":"\xa4#,##0.00;(\xa4#,##0.00)","en-GG":"\xa4#,##0.00;(\xa4#,##0.00)","en-GH":"\xa4#,##0.00;(\xa4#,##0.00)","en-GI":"\xa4#,##0.00;(\xa4#,##0.00)","en-GM":"\xa4#,##0.00;(\xa4#,##0.00)","en-GU":"\xa4#,##0.00;(\xa4#,##0.00)","en-GY":"\xa4#,##0.00;(\xa4#,##0.00)","en-HK":"\xa4#,##0.00;(\xa4#,##0.00)","en-IE":"\xa4#,##0.00;(\xa4#,##0.00)","en-IL":"\xa4#,##0.00;(\xa4#,##0.00)","en-IM":"\xa4#,##0.00;(\xa4#,##0.00)","en-IN":"\xa4#,##0.00;(\xa4#,##0.00)","en-IO":"\xa4#,##0.00;(\xa4#,##0.00)","en-JE":"\xa4#,##0.00;(\xa4#,##0.00)","en-JM":"\xa4#,##0.00;(\xa4#,##0.00)","en-KE":"\xa4#,##0.00;(\xa4#,##0.00)","en-KI":"\xa4#,##0.00;(\xa4#,##0.00)","en-KN":"\xa4#,##0.00;(\xa4#,##0.00)","en-KY":"\xa4#,##0.00;(\xa4#,##0.00)","en-LC":"\xa4#,##0.00;(\xa4#,##0.00)","en-LR":"\xa4#,##0.00;(\xa4#,##0.00)","en-LS":"\xa4#,##0.00;(\xa4#,##0.00)","en-MG":"\xa4#,##0.00;(\xa4#,##0.00)","en-MH":"\xa4#,##0.00;(\xa4#,##0.00)","en-MO":"\xa4#,##0.00;(\xa4#,##0.00)","en-MP":"\xa4#,##0.00;(\xa4#,##0.00)","en-MS":"\xa4#,##0.00;(\xa4#,##0.00)","en-MT":"\xa4#,##0.00;(\xa4#,##0.00)","en-MU":"\xa4#,##0.00;(\xa4#,##0.00)","en-MV":"\xa4\xa0#,##0.00","en-MW":"\xa4#,##0.00;(\xa4#,##0.00)","en-MY":"\xa4#,##0.00;(\xa4#,##0.00)","en-NA":"\xa4#,##0.00;(\xa4#,##0.00)","en-NF":"\xa4#,##0.00;(\xa4#,##0.00)","en-NG":"\xa4#,##0.00;(\xa4#,##0.00)","en-NL":"\xa4\xa0#,##0.00;(\xa4\xa0#,##0.00)","en-NR":"\xa4#,##0.00;(\xa4#,##0.00)","en-NU":"\xa4#,##0.00;(\xa4#,##0.00)","en-NZ":"\xa4#,##0.00;(\xa4#,##0.00)","en-PG":"\xa4#,##0.00;(\xa4#,##0.00)","en-PH":"\xa4#,##0.00;(\xa4#,##0.00)","en-PK":"\xa4#,##0.00;(\xa4#,##0.00)","en-PN":"\xa4#,##0.00;(\xa4#,##0.00)","en-PR":"\xa4#,##0.00;(\xa4#,##0.00)","en-PW":"\xa4#,##0.00;(\xa4#,##0.00)","en-RW":"\xa4#,##0.00;(\xa4#,##0.00)","en-SB":"\xa4#,##0.00;(\xa4#,##0.00)","en-SC":"\xa4#,##0.00;(\xa4#,##0.00)","en-SD":"\xa4#,##0.00;(\xa4#,##0.00)","en-SE":"#,##0.00\xa0\xa4","en-SG":"\xa4#,##0.00;(\xa4#,##0.00)","en-SH":"\xa4#,##0.00;(\xa4#,##0.00)","en-SI":"#,##0.00\xa0\xa4;(#,##0.00\xa0\xa4)","en-SL":"\xa4#,##0.00;(\xa4#,##0.00)","en-SS":"\xa4#,##0.00;(\xa4#,##0.00)","en-SX":"\xa4#,##0.00;(\xa4#,##0.00)","en-SZ":"\xa4#,##0.00;(\xa4#,##0.00)","en-TC":"\xa4#,##0.00;(\xa4#,##0.00)","en-TK":"\xa4#,##0.00;(\xa4#,##0.00)","en-TO":"\xa4#,##0.00;(\xa4#,##0.00)","en-TT":"\xa4#,##0.00;(\xa4#,##0.00)","en-TV":"\xa4#,##0.00;(\xa4#,##0.00)","en-TZ":"\xa4#,##0.00;(\xa4#,##0.00)","en-UG":"\xa4#,##0.00;(\xa4#,##0.00)","en-UM":"\xa4#,##0.00;(\xa4#,##0.00)","en-VC":"\xa4#,##0.00;(\xa4#,##0.00)","en-VG":"\xa4#,##0.00;(\xa4#,##0.00)","en-VI":"\xa4#,##0.00;(\xa4#,##0.00)","en-VU":"\xa4#,##0.00;(\xa4#,##0.00)","en-WS":"\xa4#,##0.00;(\xa4#,##0.00)","en-ZA":"\xa4#,##0.00;(\xa4#,##0.00)","en-ZM":"\xa4#,##0.00;(\xa4#,##0.00)","en-ZW":"\xa4#,##0.00;(\xa4#,##0.00)",eo:"\xa4\xa0#,##0.00",es:"#,##0.00\xa0\xa4","es-419":"\xa4#,##0.00","es-AR":"\xa4\xa0#,##0.00;(\xa4\xa0#,##0.00)","es-BO":"\xa4#,##0.00","es-BR":"\xa4#,##0.00","es-BZ":"\xa4#,##0.00","es-CL":"\xa4#,##0.00","es-CO":"\xa4#,##0.00","es-CR":"\xa4#,##0.00","es-CU":"\xa4#,##0.00","es-DO":"\xa4#,##0.00;(\xa4#,##0.00)","es-EA":"#,##0.00\xa0\xa4","es-EC":"\xa4#,##0.00","es-GQ":"#,##0.00\xa0\xa4","es-GT":"\xa4#,##0.00","es-HN":"\xa4#,##0.00","es-IC":"#,##0.00\xa0\xa4","es-MX":"\xa4#,##0.00","es-NI":"\xa4#,##0.00","es-PA":"\xa4#,##0.00","es-PE":"\xa4#,##0.00","es-PH":"#,##0.00\xa0\xa4","es-PR":"\xa4#,##0.00","es-PY":"\xa4#,##0.00","es-SV":"\xa4#,##0.00","es-US":"\xa4#,##0.00","es-UY":"\xa4\xa0#,##0.00;(\xa4\xa0#,##0.00)","es-VE":"\xa4#,##0.00",et:"#,##0.00\xa0\xa4;(#,##0.00\xa0\xa4)",eu:"#,##0.00\xa0\xa4;(#,##0.00\xa0\xa4)",ewo:"#,##0.00\xa0\xa4",fa:"\u200e\xa4\xa0#,##0.00;\u200e(\xa4\xa0#,##0.00)","fa-AF":"\xa4\xa0#,##0.00;\u200e(\xa4\xa0#,##0.00)",ff:"#,##0.00\xa0\xa4","ff-Adlm":"\xa4\xa0#,##0.00","ff-Adlm-BF":"\xa4\xa0#,##0.00","ff-Adlm-CM":"\xa4\xa0#,##0.00","ff-Adlm-GH":"\xa4\xa0#,##0.00","ff-Adlm-GM":"\xa4\xa0#,##0.00","ff-Adlm-GW":"\xa4\xa0#,##0.00","ff-Adlm-LR":"\xa4\xa0#,##0.00","ff-Adlm-MR":"\xa4\xa0#,##0.00","ff-Adlm-NE":"\xa4\xa0#,##0.00","ff-Adlm-NG":"\xa4\xa0#,##0.00","ff-Adlm-SL":"\xa4\xa0#,##0.00","ff-Adlm-SN":"\xa4\xa0#,##0.00","ff-Latn":"#,##0.00\xa0\xa4","ff-Latn-BF":"#,##0.00\xa0\xa4","ff-Latn-CM":"#,##0.00\xa0\xa4","ff-Latn-GH":"#,##0.00\xa0\xa4","ff-Latn-GM":"#,##0.00\xa0\xa4","ff-Latn-GN":"#,##0.00\xa0\xa4","ff-Latn-GW":"#,##0.00\xa0\xa4","ff-Latn-LR":"#,##0.00\xa0\xa4","ff-Latn-MR":"#,##0.00\xa0\xa4","ff-Latn-NE":"#,##0.00\xa0\xa4","ff-Latn-NG":"#,##0.00\xa0\xa4","ff-Latn-SL":"#,##0.00\xa0\xa4",fi:"#,##0.00\xa0\xa4",fil:"\xa4#,##0.00;(\xa4#,##0.00)",fo:"#,##0.00\xa0\xa4;(#,##0.00\xa0\xa4)","fo-DK":"#,##0.00\xa0\xa4;(#,##0.00\xa0\xa4)",fr:"#,##0.00\xa0\xa4;(#,##0.00\xa0\xa4)","fr-BE":"#,##0.00\xa0\xa4;(#,##0.00\xa0\xa4)","fr-BF":"#,##0.00\xa0\xa4;(#,##0.00\xa0\xa4)","fr-BI":"#,##0.00\xa0\xa4;(#,##0.00\xa0\xa4)","fr-BJ":"#,##0.00\xa0\xa4;(#,##0.00\xa0\xa4)","fr-BL":"#,##0.00\xa0\xa4;(#,##0.00\xa0\xa4)","fr-CA":"#,##0.00\xa0\xa4;(#,##0.00\xa0\xa4)","fr-CD":"#,##0.00\xa0\xa4;(#,##0.00\xa0\xa4)","fr-CF":"#,##0.00\xa0\xa4;(#,##0.00\xa0\xa4)","fr-CG":"#,##0.00\xa0\xa4;(#,##0.00\xa0\xa4)","fr-CH":"#,##0.00\xa0\xa4;(#,##0.00\xa0\xa4)","fr-CI":"#,##0.00\xa0\xa4;(#,##0.00\xa0\xa4)","fr-CM":"#,##0.00\xa0\xa4;(#,##0.00\xa0\xa4)","fr-DJ":"#,##0.00\xa0\xa4;(#,##0.00\xa0\xa4)","fr-DZ":"#,##0.00\xa0\xa4;(#,##0.00\xa0\xa4)","fr-GA":"#,##0.00\xa0\xa4;(#,##0.00\xa0\xa4)","fr-GF":"#,##0.00\xa0\xa4;(#,##0.00\xa0\xa4)","fr-GN":"#,##0.00\xa0\xa4;(#,##0.00\xa0\xa4)","fr-GP":"#,##0.00\xa0\xa4;(#,##0.00\xa0\xa4)","fr-GQ":"#,##0.00\xa0\xa4;(#,##0.00\xa0\xa4)","fr-HT":"#,##0.00\xa0\xa4;(#,##0.00\xa0\xa4)","fr-KM":"#,##0.00\xa0\xa4;(#,##0.00\xa0\xa4)","fr-LU":"#,##0.00\xa0\xa4;(#,##0.00\xa0\xa4)","fr-MA":"#,##0.00\xa0\xa4;(#,##0.00\xa0\xa4)","fr-MC":"#,##0.00\xa0\xa4;(#,##0.00\xa0\xa4)","fr-MF":"#,##0.00\xa0\xa4;(#,##0.00\xa0\xa4)","fr-MG":"#,##0.00\xa0\xa4;(#,##0.00\xa0\xa4)","fr-ML":"#,##0.00\xa0\xa4;(#,##0.00\xa0\xa4)","fr-MQ":"#,##0.00\xa0\xa4;(#,##0.00\xa0\xa4)","fr-MR":"#,##0.00\xa0\xa4;(#,##0.00\xa0\xa4)","fr-MU":"#,##0.00\xa0\xa4;(#,##0.00\xa0\xa4)","fr-NC":"#,##0.00\xa0\xa4;(#,##0.00\xa0\xa4)","fr-NE":"#,##0.00\xa0\xa4;(#,##0.00\xa0\xa4)","fr-PF":"#,##0.00\xa0\xa4;(#,##0.00\xa0\xa4)","fr-PM":"#,##0.00\xa0\xa4;(#,##0.00\xa0\xa4)","fr-RE":"#,##0.00\xa0\xa4;(#,##0.00\xa0\xa4)","fr-RW":"#,##0.00\xa0\xa4;(#,##0.00\xa0\xa4)","fr-SC":"#,##0.00\xa0\xa4;(#,##0.00\xa0\xa4)","fr-SN":"#,##0.00\xa0\xa4;(#,##0.00\xa0\xa4)","fr-SY":"#,##0.00\xa0\xa4;(#,##0.00\xa0\xa4)","fr-TD":"#,##0.00\xa0\xa4;(#,##0.00\xa0\xa4)","fr-TG":"#,##0.00\xa0\xa4;(#,##0.00\xa0\xa4)","fr-TN":"#,##0.00\xa0\xa4;(#,##0.00\xa0\xa4)","fr-VU":"#,##0.00\xa0\xa4;(#,##0.00\xa0\xa4)","fr-WF":"#,##0.00\xa0\xa4;(#,##0.00\xa0\xa4)","fr-YT":"#,##0.00\xa0\xa4;(#,##0.00\xa0\xa4)",fur:"\xa4\xa0#,##0.00",fy:"\xa4\xa0#,##0.00;(\xa4\xa0#,##0.00)",ga:"\xa4#,##0.00;(\xa4#,##0.00)","ga-GB":"\xa4#,##0.00;(\xa4#,##0.00)",gd:"\xa4#,##0.00;(\xa4#,##0.00)",gl:"#,##0.00\xa0\xa4",gsw:"#,##0.00\xa0\xa4","gsw-FR":"#,##0.00\xa0\xa4","gsw-LI":"#,##0.00\xa0\xa4",gu:"\xa4#,##,##0.00;(\xa4#,##,##0.00)",guz:"\xa4#,##0.00;(\xa4#,##0.00)",gv:"\xa4#,##0.00",ha:"\xa4\xa0#,##0.00","ha-GH":"\xa4\xa0#,##0.00","ha-NE":"\xa4\xa0#,##0.00",haw:"\xa4#,##0.00;(\xa4#,##0.00)",he:"#,##0.00\xa0\xa4",hi:"\xa4#,##,##0.00","hi-Latn":"\xa4#,##,##0.00",hr:"#,##0.00\xa0\xa4","hr-BA":"#,##0.00\xa0\xa4",hsb:"#,##0.00\xa0\xa4",hu:"#,##0.00\xa0\xa4",hy:"#,##0.00\xa0\xa4",ia:"\xa4\xa0#,##0.00;(\xa4\xa0#,##0.00)",id:"\xa4#,##0.00",ig:"\xa4#,##0.00;(\xa4#,##0.00)",ii:"\xa4\xa0#,##0.00",is:"#,##0.00\xa0\xa4",it:"#,##0.00\xa0\xa4","it-CH":"#,##0.00\xa0\xa4","it-SM":"#,##0.00\xa0\xa4","it-VA":"#,##0.00\xa0\xa4",ja:"\xa4#,##0.00;(\xa4#,##0.00)",jgo:"\xa4\xa0#,##0.00",jmc:"\xa4#,##0.00",jv:"\xa4\xa0#,##0.00",ka:"#,##0.00\xa0\xa4",kab:"#,##0.00\xa4",kam:"\xa4#,##0.00;(\xa4#,##0.00)",kde:"\xa4#,##0.00;(\xa4#,##0.00)",kea:"#,##0.00\xa0\xa4;(#,##0.00\xa0\xa4)",kgp:"\xa4\xa0#,##0.00",khq:"#,##0.00\xa4",ki:"\xa4#,##0.00;(\xa4#,##0.00)",kk:"#,##0.00\xa0\xa4",kkj:"\xa4\xa0#,##0.00",kl:"\xa4#,##0.00;\xa4-#,##0.00",kln:"\xa4#,##0.00;(\xa4#,##0.00)",km:"#,##0.00\xa4;(#,##0.00\xa4)",kn:"\xa4#,##0.00;(\xa4#,##0.00)",ko:"\xa4#,##0.00;(\xa4#,##0.00)","ko-KP":"\xa4#,##0.00;(\xa4#,##0.00)",kok:"\xa4#,##0.00;(\xa4#,##0.00)",ks:"\xa4#,##0.00","ks-Arab":"\xa4#,##0.00","ks-Deva":"\xa4\xa0#,##0.00",ksb:"#,##0.00\xa4",ksf:"#,##0.00\xa0\xa4",ksh:"#,##0.00\xa0\xa4",ku:"#,##0.00\xa0\xa4;(#,##0.00\xa0\xa4)",kw:"\xa4#,##0.00",ky:"#,##0.00\xa0\xa4",lag:"\xa4\xa0#,##0.00",lb:"#,##0.00\xa0\xa4",lg:"#,##0.00\xa4",lkt:"\xa4\xa0#,##0.00",ln:"#,##0.00\xa0\xa4","ln-AO":"#,##0.00\xa0\xa4","ln-CF":"#,##0.00\xa0\xa4","ln-CG":"#,##0.00\xa0\xa4",lo:"\xa4#,##0.00;\xa4-#,##0.00",lrc:"\xa4\xa0#,##0.00","lrc-IQ":"\xa4\xa0#,##0.00",lt:"#,##0.00\xa0\xa4",lu:"#,##0.00\xa4",luo:"#,##0.00\xa4",luy:"\xa4#,##0.00;\xa4-\xa0#,##0.00",lv:"#,##0.00\xa0\xa4",mai:"\xa4\xa0#,##0.00",mas:"\xa4#,##0.00;(\xa4#,##0.00)","mas-TZ":"\xa4#,##0.00;(\xa4#,##0.00)",mer:"\xa4#,##0.00;(\xa4#,##0.00)",mfe:"\xa4\xa0#,##0.00",mg:"\xa4#,##0.00",mgh:"\xa4\xa0#,##0.00",mgo:"\xa4\xa0#,##0.00",mi:"\xa4\xa0#,##0.00",mk:"#,##0.00\xa0\xa4",ml:"\xa4#,##0.00;(\xa4#,##0.00)",mn:"\xa4\xa0#,##0.00",mni:"\xa4\xa0#,##0.00","mni-Beng":"\xa4\xa0#,##0.00",mr:"\xa4#,##0.00;(\xa4#,##0.00)",ms:"\xa4#,##0.00;(\xa4#,##0.00)","ms-BN":"\xa4#,##0.00;(\xa4#,##0.00)","ms-ID":"\xa4#,##0.00","ms-SG":"\xa4#,##0.00;(\xa4#,##0.00)",mt:"\xa4#,##0.00",mua:"\xa4#,##0.00;(\xa4#,##0.00)",my:"\xa4\xa0#,##0.00",mzn:"\xa4\xa0#,##0.00",naq:"\xa4#,##0.00",nb:"\xa4\xa0#,##0.00;(\xa4\xa0#,##0.00)","nb-SJ":"\xa4\xa0#,##0.00;(\xa4\xa0#,##0.00)",nd:"\xa4#,##0.00;(\xa4#,##0.00)",nds:"\xa4\xa0#,##0.00","nds-NL":"\xa4\xa0#,##0.00",ne:"\xa4\xa0#,##,##0.00","ne-IN":"\xa4\xa0#,##,##0.00",nl:"\xa4\xa0#,##0.00;(\xa4\xa0#,##0.00)","nl-AW":"\xa4\xa0#,##0.00;(\xa4\xa0#,##0.00)","nl-BE":"\xa4\xa0#,##0.00;(\xa4\xa0#,##0.00)","nl-BQ":"\xa4\xa0#,##0.00;(\xa4\xa0#,##0.00)","nl-CW":"\xa4\xa0#,##0.00;(\xa4\xa0#,##0.00)","nl-SR":"\xa4\xa0#,##0.00;(\xa4\xa0#,##0.00)","nl-SX":"\xa4\xa0#,##0.00;(\xa4\xa0#,##0.00)",nmg:"#,##0.00\xa0\xa4",nn:"#,##0.00\xa0\xa4",nnh:"\xa4\xa0#,##0.00",no:"\xa4\xa0#,##0.00;(\xa4\xa0#,##0.00)",nus:"\xa4#,##0.00;(\xa4#,##0.00)",nyn:"\xa4#,##0.00",om:"\xa4#,##0.00","om-KE":"\xa4#,##0.00",or:"\xa4#,##0.00;(\xa4#,##0.00)",os:"\xa4\xa0#,##0.00","os-RU":"\xa4\xa0#,##0.00",pa:"\xa4\xa0#,##0.00","pa-Arab":"\xa4\xa0#,##0.00","pa-Guru":"\xa4\xa0#,##0.00",pcm:"\xa4#,##0.00",pl:"#,##0.00\xa0\xa4;(#,##0.00\xa0\xa4)",ps:"\xa4#,##0.00;(\xa4#,##0.00)","ps-PK":"\xa4#,##0.00;(\xa4#,##0.00)",pt:"\xa4\xa0#,##0.00","pt-AO":"#,##0.00\xa0\xa4;(#,##0.00\xa0\xa4)","pt-CH":"#,##0.00\xa0\xa4;(#,##0.00\xa0\xa4)","pt-CV":"#,##0.00\xa0\xa4;(#,##0.00\xa0\xa4)","pt-GQ":"#,##0.00\xa0\xa4;(#,##0.00\xa0\xa4)","pt-GW":"#,##0.00\xa0\xa4;(#,##0.00\xa0\xa4)","pt-LU":"#,##0.00\xa0\xa4;(#,##0.00\xa0\xa4)","pt-MO":"#,##0.00\xa0\xa4;(#,##0.00\xa0\xa4)","pt-MZ":"#,##0.00\xa0\xa4;(#,##0.00\xa0\xa4)","pt-PT":"#,##0.00\xa0\xa4;(#,##0.00\xa0\xa4)","pt-ST":"#,##0.00\xa0\xa4;(#,##0.00\xa0\xa4)","pt-TL":"#,##0.00\xa0\xa4;(#,##0.00\xa0\xa4)",qu:"\xa4\xa0#,##0.00","qu-BO":"\xa4\xa0#,##0.00","qu-EC":"\xa4\xa0#,##0.00",rm:"#,##0.00\xa0\xa4",rn:"#,##0.00\xa4",ro:"#,##0.00\xa0\xa4;(#,##0.00\xa0\xa4)","ro-MD":"#,##0.00\xa0\xa4;(#,##0.00\xa0\xa4)",rof:"\xa4#,##0.00",ru:"#,##0.00\xa0\xa4","ru-BY":"#,##0.00\xa0\xa4","ru-KG":"#,##0.00\xa0\xa4","ru-KZ":"#,##0.00\xa0\xa4","ru-MD":"#,##0.00\xa0\xa4","ru-UA":"#,##0.00\xa0\xa4",rw:"\xa4\xa0#,##0.00",rwk:"#,##0.00\xa4",sa:"\xa4\xa0#,##0.00",sah:"#,##0.00\xa0\xa4",saq:"\xa4#,##0.00;(\xa4#,##0.00)",sat:"\xa4\xa0#,##0.00","sat-Olck":"\xa4\xa0#,##0.00",sbp:"#,##0.00\xa4",sc:"#,##0.00\xa0\xa4",sd:"\xa4\xa0#,##0.00","sd-Arab":"\xa4\xa0#,##0.00","sd-Deva":"\xa4\xa0#,##0.00",se:"#,##0.00\xa0\xa4","se-FI":"#,##0.00\xa0\xa4","se-SE":"#,##0.00\xa0\xa4",seh:"#,##0.00\xa4",ses:"#,##0.00\xa4",sg:"\xa4#,##0.00;\xa4-#,##0.00",shi:"#,##0.00\xa4","shi-Latn":"#,##0.00\xa4","shi-Tfng":"#,##0.00\xa4",si:"\xa4#,##0.00;(\xa4#,##0.00)",sk:"#,##0.00\xa0\xa4;(#,##0.00\xa0\xa4)",sl:"#,##0.00\xa0\xa4;(#,##0.00\xa0\xa4)",smn:"#,##0.00\xa0\xa4",sn:"\xa4#,##0.00;(\xa4#,##0.00)",so:"\xa4#,##0.00;(\xa4#,##0.00)","so-DJ":"\xa4#,##0.00;(\xa4#,##0.00)","so-ET":"\xa4#,##0.00;(\xa4#,##0.00)","so-KE":"\xa4#,##0.00;(\xa4#,##0.00)",sq:"#,##0.00\xa0\xa4;(#,##0.00\xa0\xa4)","sq-MK":"#,##0.00\xa0\xa4;(#,##0.00\xa0\xa4)","sq-XK":"#,##0.00\xa0\xa4;(#,##0.00\xa0\xa4)",sr:"#,##0.00\xa0\xa4;(#,##0.00\xa0\xa4)","sr-Cyrl":"#,##0.00\xa0\xa4;(#,##0.00\xa0\xa4)","sr-Cyrl-BA":"#,##0.00\xa0\xa4;(#,##0.00\xa0\xa4)","sr-Cyrl-ME":"#,##0.00\xa0\xa4;(#,##0.00\xa0\xa4)","sr-Cyrl-XK":"#,##0.00\xa0\xa4;(#,##0.00\xa0\xa4)","sr-Latn":"#,##0.00\xa0\xa4;(#,##0.00\xa0\xa4)","sr-Latn-BA":"#,##0.00\xa0\xa4;(#,##0.00\xa0\xa4)","sr-Latn-ME":"#,##0.00\xa0\xa4;(#,##0.00\xa0\xa4)","sr-Latn-XK":"#,##0.00\xa0\xa4;(#,##0.00\xa0\xa4)",su:"\xa4#,##0.00","su-Latn":"\xa4#,##0.00",sv:"#,##0.00\xa0\xa4","sv-AX":"#,##0.00\xa0\xa4","sv-FI":"#,##0.00\xa0\xa4",sw:"\xa4\xa0#,##0.00","sw-CD":"\xa4\xa0#,##0.00","sw-KE":"\xa4\xa0#,##0.00","sw-UG":"\xa4\xa0#,##0.00",ta:"\xa4#,##0.00;(\xa4#,##0.00)","ta-LK":"\xa4#,##0.00;(\xa4#,##0.00)","ta-MY":"\xa4#,##0.00;(\xa4#,##0.00)","ta-SG":"\xa4#,##0.00;(\xa4#,##0.00)",te:"\xa4#,##0.00;(\xa4#,##0.00)",teo:"\xa4#,##0.00;(\xa4#,##0.00)","teo-KE":"\xa4#,##0.00;(\xa4#,##0.00)",tg:"#,##0.00\xa0\xa4",th:"\xa4#,##0.00;(\xa4#,##0.00)",ti:"\xa4#,##0.00","ti-ER":"\xa4#,##0.00",tk:"#,##0.00\xa0\xa4",to:"\xa4\xa0#,##0.00",tr:"\xa4#,##0.00;(\xa4#,##0.00)","tr-CY":"\xa4#,##0.00;(\xa4#,##0.00)",tt:"#,##0.00\xa0\xa4",twq:"#,##0.00\xa4",tzm:"#,##0.00\xa0\xa4",ug:"\xa4#,##0.00;(\xa4#,##0.00)",uk:"#,##0.00\xa0\xa4",und:"\xa4\xa0#,##0.00",ur:"\xa4#,##0.00;(\xa4#,##0.00)","ur-IN":"\xa4#,##0.00;(\xa4#,##0.00)",uz:"#,##0.00\xa0\xa4","uz-Arab":"\xa4\xa0#,##0.00","uz-Cyrl":"#,##0.00\xa0\xa4","uz-Latn":"#,##0.00\xa0\xa4",vai:"\xa4#,##0.00;(\xa4#,##0.00)","vai-Latn":"\xa4#,##0.00;(\xa4#,##0.00)","vai-Vaii":"\xa4#,##0.00;(\xa4#,##0.00)",vi:"#,##0.00\xa0\xa4",vun:"\xa4#,##0.00",wae:"\xa4\xa0#,##0.00",wo:"\xa4\xa0#,##0.00",xh:"\xa4#,##0.00",xog:"#,##0.00\xa0\xa4",yav:"#,##0.00\xa0\xa4;(#,##0.00\xa0\xa4)",yi:"\xa4\xa0#,##0.00",yo:"\xa4#,##0.00;(\xa4#,##0.00)","yo-BJ":"\xa4#,##0.00;(\xa4#,##0.00)",yrl:"\xa4\xa0#,##0.00","yrl-CO":"\xa4\xa0#,##0.00","yrl-VE":"\xa4\xa0#,##0.00",yue:"\xa4#,##0.00;(\xa4#,##0.00)","yue-Hans":"\xa4#,##0.00;(\xa4#,##0.00)","yue-Hant":"\xa4#,##0.00;(\xa4#,##0.00)",zgh:"#,##0.00\xa4",zh:"\xa4#,##0.00;(\xa4#,##0.00)","zh-Hans":"\xa4#,##0.00;(\xa4#,##0.00)","zh-Hans-HK":"\xa4#,##0.00;(\xa4#,##0.00)","zh-Hans-MO":"\xa4#,##0.00;(\xa4#,##0.00)","zh-Hans-SG":"\xa4#,##0.00;(\xa4#,##0.00)","zh-Hant":"\xa4#,##0.00;(\xa4#,##0.00)","zh-Hant-HK":"\xa4#,##0.00;(\xa4#,##0.00)","zh-Hant-MO":"\xa4#,##0.00;(\xa4#,##0.00)",zu:"\xa4#,##0.00;(\xa4#,##0.00)"};var JA=["standard","accounting"],XA=/([^\s0]+)?(\s*)0*[.,]*0*(\s*)([^\s0]+)?/,Bf={},SS=e=>{var n=Zr.locale()+"/"+JSON.stringify(e);return Bf[n]||(Bf[n]=new Intl.NumberFormat(Zr.locale(),e).format),Bf[n]};const Ph={engine:function(){return"intl"},_formatNumberCore:function(e,n,t){return"exponential"===n?this.callBase.apply(this,arguments):SS(this._normalizeFormatConfig(n,t,e))(e)},_normalizeFormatConfig:function(e,n,t){var i;if("decimal"===e){var r=String(t).split(".")[1];i={minimumIntegerDigits:n.precision||void 0,useGrouping:!1,maximumFractionDigits:r&&r.length,round:t<0?"ceil":"floor"}}else i=this._getPrecisionConfig(n.precision);if("percent"===e)i.style="percent";else if("currency"===e){var o,s=null!==(o=n.useCurrencyAccountingStyle)&&void 0!==o?o:un().defaultUseCurrencyAccountingStyle;i.style="currency",i.currency=n.currency||un().defaultCurrency,i.currencySign=JA[+s]}return i},_getPrecisionConfig:function(e){return null===e?{minimumFractionDigits:0,maximumFractionDigits:20}:{minimumFractionDigits:e||0,maximumFractionDigits:e||0}},format:function(e,n){return"number"!=typeof e?e:("default"===(n=this._normalizeFormat(n)).currency&&(n.currency=un().defaultCurrency),n&&("function"==typeof n||n.type||n.formatter)?this.callBase.apply(this,arguments):SS(n)(e))},_getCurrencySymbolInfo:function(e){var n=(e=>new Intl.NumberFormat(Zr.locale(),{style:"currency",currency:e}))(e);return this._extractCurrencySymbolInfo(n.format(0))},_extractCurrencySymbolInfo:function(e){var n=XA.exec(e)||[];return{position:n[1]?"before":"after",symbol:n[1]||n[4]||"",delimiter:n[2]||n[3]||""}},getCurrencySymbol:function(e){return e||(e=un().defaultCurrency),{symbol:this._getCurrencySymbolInfo(e).symbol}},getOpenXmlCurrencyFormat:function(e){var n=e||un().defaultCurrency;return((e,n)=>{if(n){var t=e;if("string"==typeof e){t="";for(var i=0;i<e.length;i++)"$"!==e[i]&&(t+="\\"),t+=e[i]}for(var r={".00":"{0}","'":"\\'","\\(":"\\(","\\)":"\\)"," ":"\\ ",'"':"&quot;","\\\xa4":t},o=n.split(";"),s=0;s<o.length;s++)for(var l in r)Object.prototype.hasOwnProperty.call(r,l)&&(o[s]=o[s].replace(new RegExp(l,"g"),r[l]));return 2===o.length?o[0]+"_);"+o[1]:o[0]}})(this._getCurrencySymbolInfo(n).symbol,Zr.getValueByClosestLocale(r=>qA[r]))}};var QA=typeof Intl<"u",MC=["currency","fixedpoint","exponential","percent","decimal"],AC={1:"K",2:"M",3:"B",4:"T"},RC={largenumber:"auto",thousands:1,millions:2,billions:3,trillions:4},PC=Xr({engine:function(){return"base"},numericFormats:MC,defaultLargeNumberFormatPostfixes:AC,_parseNumberFormatString:function(e){var n={};if(e&&"string"==typeof e){var t=e.toLowerCase().split(" ");if(B(t,(i,r)=>{MC.includes(r)?n.formatType=r:r in RC&&(n.power=RC[r])}),n.power&&!n.formatType&&(n.formatType="fixedpoint"),n.formatType)return n}},_calculateNumberPower:function(e,n,t,i){var r=Math.abs(e),o=0;if(r>1)for(;r&&r>=n&&(void 0===i||o<i);)o++,r/=n;else if(r>0&&r<1)for(;r<1&&(void 0===t||o>t);)o--,r*=n;return o},_getNumberByPower:function(e,n,t){for(var i=e;n>0;)i/=t,n--;for(;n<0;)i*=t,n++;return i},_formatNumber:function(e,n,t){"auto"===n.power&&(n.power=this._calculateNumberPower(e,1e3,0,4)),n.power&&(e=this._getNumberByPower(e,n.power,1e3));var i=this.defaultLargeNumberFormatPostfixes[n.power]||"",r=this._formatNumberCore(e,n.formatType,t);return r.replace(/(\d|.$)(\D*)$/,"$1"+i+"$2")},_formatNumberExponential:function(e,n){var t=this._calculateNumberPower(e,10),i=this._getNumberByPower(e,t,10);void 0===n.precision&&(n.precision=1),i.toFixed(n.precision||0)>=10&&(t++,i/=10);var r=(t>=0?"+":"")+t.toString();return this._formatNumberCore(i,"fixedpoint",n)+"E"+r},_addZeroes:function(e,n){for(var t=Math.pow(10,n),i=e<0?"-":"",r=(e=(Math.abs(e)*t>>>0)/t).toString();r.length<n;)r="0"+r;return i+r},_addGroupSeparators:function(e){var n=e.toString().split(".");return n[0].replace(/\B(?=(\d{3})+(?!\d))/g,un().thousandsSeparator)+(n[1]?un().decimalSeparator+n[1]:"")},_formatNumberCore:function(e,n,t){return"exponential"===n?this._formatNumberExponential(e,t):("decimal"!==n&&null!==t.precision&&(t.precision=t.precision||0),"percent"===n&&(e*=100),void 0!==t.precision&&(e="decimal"===n?this._addZeroes(e,t.precision):null===t.precision?e.toPrecision():DC(e,t.precision)),e="decimal"!==n?this._addGroupSeparators(e):e.toString().replace(".",un().decimalSeparator),"percent"===n&&(e+="%"),e)},_normalizeFormat:function(e){return e?("function"==typeof e||ft(e)||(e={type:e}),e):{}},_getSeparators:function(){return{decimalSeparator:this.getDecimalSeparator(),thousandsSeparator:this.getThousandsSeparator()}},getThousandsSeparator:function(){return this.format(1e4,"fixedPoint")[2]},getDecimalSeparator:function(){return this.format(1.2,{type:"fixedPoint",precision:1})[1]},convertDigits:function(e,n){var t=this.format(90,"decimal");if("string"!=typeof e||"0"===t[1])return e;var i=n?t[1]:"0",r=n?"0":t[1],s=new RegExp("["+i+"-"+(n?t[0]:"9")+"]","g");return e.replace(s,l=>String.fromCharCode(l.charCodeAt(0)+(r.charCodeAt(0)-i.charCodeAt(0))))},getNegativeEtalonRegExp:function(e){var n=this._getSeparators(),t=new RegExp("[0-9"+pa(n.decimalSeparator+n.thousandsSeparator)+"]+","g"),i=this.format(-1,e).replace(t,"1");return["\\","(",")","[","]","*","+","$","^","?","|","{","}"].forEach(r=>{i=i.replace(new RegExp("\\".concat(r),"g"),"\\".concat(r))}),i=(i=i.replace(/ /g,"\\s")).replace(/1/g,".*"),new RegExp(i,"g")},getSign:function(e,n){if(!n)return"-"===e.replace(/[^0-9-]/g,"").charAt(0)?-1:1;var t=this.getNegativeEtalonRegExp(n);return e.match(t)?-1:1},format:function(e,n){if("number"!=typeof e||"number"==typeof n)return e;if("function"==typeof(n=n&&n.formatter||n))return n(e);(n=this._normalizeFormat(n)).type||(n.type="decimal");var t=this._parseNumberFormatString(n.type);if(!t){var i=this._getSeparators();return i.unlimitedIntegerDigits=n.unlimitedIntegerDigits,this.convertDigits(function l1(e,n){return n=n||CS,function(t){if("number"!=typeof t||isNaN(t))return"";var i=function zA(e){var n=e.split(";");return 1===n.length&&n.push("-"+n[0]),n}(e),o=t>0||1/t==1/0,s=i[o?0:1],l=function $A(e){for(var n=!1,t=0;t<e.length;t++)if("'"===e[t]&&(n=!n),"."===e[t]&&!n)return t;return e.length}(s),h=[s.substr(0,l),s.substr(l+1)],g=TC(h[1]),_=g+IC(h[1]);(function WA(e){return-1!==e.indexOf("%")&&!e.match(/'[^']*%[^']*'/g)})(s)&&(t=_S(t,2)),o||(t=-t);var v=TC(h[0]),C=IC(h[0])||n.unlimitedIntegerDigits?void 0:v,b=Math.floor(t).toString().length,E=cn(_,0,15-b),w=function Rh(e){return e.split(",").slice(1).map(function(n){var t=0;return n.split("").filter(function(i,r){return t+="'"===i,!("#"!==i&&"0"!==i||t%2)}).length})}(h[0]).reverse(),M=DC(t,E<0?0:E).split("."),k=yS(EC(M[0]),v,C),L=yS(M[1],g,_);k=function xS(e,n,t){if(!n.length)return e;for(var i=[],r=0;e;){var o=n[r];if(!o)break;i.push(e.slice(0,o)),e=e.slice(o),r<n.length-1&&r++}return i.join(t)}(k,w,n.thousandsSeparator);var G=EC(bS(EC(h[0]),k)),Q=_?bS(h[1],L):"";return G+(Q.match(/\d/)?n.decimalSeparator:"")+Q}}(n.type,i)(e))}return this._formatNumber(e,t,n)},parse:function(e,n){if(e){if(n&&n.parser)return n.parser(e);e=this.convertDigits(e,!0),n&&"string"!=typeof n&&zt.log("W0011");var t=this.getDecimalSeparator(),i=new RegExp("[^0-9"+pa(t)+"]","g"),r=e.replace(i,"").replace(t,".").replace(/\.$/g,"");if("."===r||""===r)return null;if(this._calcSignificantDigits(r)>15)return NaN;var o=+r*this.getSign(e,n);n=this._normalizeFormat(n);var s=this._parseNumberFormatString(n.type),l=s?.power;if(l){if("auto"===l){var h=e.match(/\d(K|M|B|T)/);h&&(l=Object.keys(AC).find(g=>AC[g]===h[1]))}o*=Math.pow(10,3*l)}return"percent"===s?.formatType&&(o/=100),o}},_calcSignificantDigits:function(e){var[n,t]=e.split("."),i=o=>{for(var s=-1,l=0;l<o.length;l++)if("0"!==o[l]){s=l;break}return s>-1?o.length-s:0},r=0;return n&&(r+=i(n.split(""))),t&&(r+=i(t.split("").reverse())),r}});PC.inject(kf),QA&&PC.inject(Ph);const en=PC;var wS=A(!0,{},{en:{Yes:"Yes",No:"No",Cancel:"Cancel",Close:"Close",Clear:"Clear",Done:"Done",Loading:"Loading...",Select:"Select...",Search:"Search",Back:"Back",OK:"OK","dxCollectionWidget-noDataText":"No data to display","dxDropDownEditor-selectLabel":"Select","validation-required":"Required","validation-required-formatted":"{0} is required","validation-numeric":"Value must be a number","validation-numeric-formatted":"{0} must be a number","validation-range":"Value is out of range","validation-range-formatted":"{0} is out of range","validation-stringLength":"The length of the value is not correct","validation-stringLength-formatted":"The length of {0} is not correct","validation-custom":"Value is invalid","validation-custom-formatted":"{0} is invalid","validation-async":"Value is invalid","validation-async-formatted":"{0} is invalid","validation-compare":"Values do not match","validation-compare-formatted":"{0} does not match","validation-pattern":"Value does not match pattern","validation-pattern-formatted":"{0} does not match pattern","validation-email":"Email is invalid","validation-email-formatted":"{0} is invalid","validation-mask":"Value is invalid","dxLookup-searchPlaceholder":"Minimum character number: {0}","dxList-pullingDownText":"Pull down to refresh...","dxList-pulledDownText":"Release to refresh...","dxList-refreshingText":"Refreshing...","dxList-pageLoadingText":"Loading...","dxList-nextButtonText":"More","dxList-selectAll":"Select All","dxListEditDecorator-delete":"Delete","dxListEditDecorator-more":"More","dxScrollView-pullingDownText":"Pull down to refresh...","dxScrollView-pulledDownText":"Release to refresh...","dxScrollView-refreshingText":"Refreshing...","dxScrollView-reachBottomText":"Loading...","dxDateBox-simulatedDataPickerTitleTime":"Select time","dxDateBox-simulatedDataPickerTitleDate":"Select date","dxDateBox-simulatedDataPickerTitleDateTime":"Select date and time","dxDateBox-validation-datetime":"Value must be a date or time","dxDateRangeBox-invalidStartDateMessage":"Start value must be a date","dxDateRangeBox-invalidEndDateMessage":"End value must be a date","dxDateRangeBox-startDateOutOfRangeMessage":"Start date is out of range","dxDateRangeBox-endDateOutOfRangeMessage":"End date is out of range","dxDateRangeBox-startDateLabel":"Start Date","dxDateRangeBox-endDateLabel":"End Date","dxFileUploader-selectFile":"Select a file","dxFileUploader-dropFile":"or Drop a file here","dxFileUploader-bytes":"bytes","dxFileUploader-kb":"kb","dxFileUploader-Mb":"Mb","dxFileUploader-Gb":"Gb","dxFileUploader-upload":"Upload","dxFileUploader-uploaded":"Uploaded","dxFileUploader-readyToUpload":"Ready to upload","dxFileUploader-uploadAbortedMessage":"Upload cancelled","dxFileUploader-uploadFailedMessage":"Upload failed","dxFileUploader-invalidFileExtension":"File type is not allowed","dxFileUploader-invalidMaxFileSize":"File is too large","dxFileUploader-invalidMinFileSize":"File is too small","dxRangeSlider-ariaFrom":"From","dxRangeSlider-ariaTill":"Till","dxSwitch-switchedOnText":"ON","dxSwitch-switchedOffText":"OFF","dxForm-optionalMark":"optional","dxForm-requiredMessage":"{0} is required","dxNumberBox-invalidValueMessage":"Value must be a number","dxNumberBox-noDataText":"No data","dxDataGrid-emptyHeaderWithColumnChooserText":"Use {0} to display columns","dxDataGrid-emptyHeaderWithGroupPanelText":"Drag a column from the group panel here","dxDataGrid-emptyHeaderWithColumnChooserAndGroupPanelText":"Use {0} or drag a column from the group panel","dxDataGrid-emptyHeaderColumnChooserText":"column chooser","dxDataGrid-columnChooserTitle":"Column Chooser","dxDataGrid-columnChooserEmptyText":"Drag a column here to hide it","dxDataGrid-groupContinuesMessage":"Continues on the next page","dxDataGrid-groupContinuedMessage":"Continued from the previous page","dxDataGrid-groupHeaderText":"Group by This Column","dxDataGrid-ungroupHeaderText":"Ungroup","dxDataGrid-ungroupAllText":"Ungroup All","dxDataGrid-editingEditRow":"Edit","dxDataGrid-editingSaveRowChanges":"Save","dxDataGrid-editingCancelRowChanges":"Cancel","dxDataGrid-editingDeleteRow":"Delete","dxDataGrid-editingUndeleteRow":"Undelete","dxDataGrid-editingConfirmDeleteMessage":"Are you sure you want to delete this record?","dxDataGrid-validationCancelChanges":"Cancel changes","dxDataGrid-groupPanelEmptyText":"Drag a column header here to group by that column","dxDataGrid-noDataText":"No data","dxDataGrid-searchPanelPlaceholder":"Search...","dxDataGrid-filterRowShowAllText":"(All)","dxDataGrid-filterRowResetOperationText":"Reset","dxDataGrid-filterRowOperationEquals":"Equals","dxDataGrid-filterRowOperationNotEquals":"Does not equal","dxDataGrid-filterRowOperationLess":"Less than","dxDataGrid-filterRowOperationLessOrEquals":"Less than or equal to","dxDataGrid-filterRowOperationGreater":"Greater than","dxDataGrid-filterRowOperationGreaterOrEquals":"Greater than or equal to","dxDataGrid-filterRowOperationStartsWith":"Starts with","dxDataGrid-filterRowOperationContains":"Contains","dxDataGrid-filterRowOperationNotContains":"Does not contain","dxDataGrid-filterRowOperationEndsWith":"Ends with","dxDataGrid-filterRowOperationBetween":"Between","dxDataGrid-filterRowOperationBetweenStartText":"Start","dxDataGrid-filterRowOperationBetweenEndText":"End","dxDataGrid-ariaSearchBox":"Search box","dxDataGrid-applyFilterText":"Apply filter","dxDataGrid-trueText":"true","dxDataGrid-falseText":"false","dxDataGrid-sortingAscendingText":"Sort Ascending","dxDataGrid-sortingDescendingText":"Sort Descending","dxDataGrid-sortingClearText":"Clear Sorting","dxDataGrid-editingSaveAllChanges":"Save changes","dxDataGrid-editingCancelAllChanges":"Discard changes","dxDataGrid-editingAddRow":"Add a row","dxDataGrid-summaryMin":"Min: {0}","dxDataGrid-summaryMinOtherColumn":"Min of {1} is {0}","dxDataGrid-summaryMax":"Max: {0}","dxDataGrid-summaryMaxOtherColumn":"Max of {1} is {0}","dxDataGrid-summaryAvg":"Avg: {0}","dxDataGrid-summaryAvgOtherColumn":"Avg of {1} is {0}","dxDataGrid-summarySum":"Sum: {0}","dxDataGrid-summarySumOtherColumn":"Sum of {1} is {0}","dxDataGrid-summaryCount":"Count: {0}","dxDataGrid-columnFixingFix":"Fix","dxDataGrid-columnFixingUnfix":"Unfix","dxDataGrid-columnFixingLeftPosition":"To the left","dxDataGrid-columnFixingRightPosition":"To the right","dxDataGrid-exportTo":"Export","dxDataGrid-exportToExcel":"Export to Excel file","dxDataGrid-exporting":"Exporting...","dxDataGrid-excelFormat":"Excel file","dxDataGrid-selectedRows":"Selected rows","dxDataGrid-exportSelectedRows":"Export selected rows to {0}","dxDataGrid-exportAll":"Export all data to {0}","dxDataGrid-headerFilterLabel":"Filter options","dxDataGrid-headerFilterIndicatorLabel":"Show filter options for column '{0}'","dxDataGrid-headerFilterEmptyValue":"(Blanks)","dxDataGrid-headerFilterOK":"OK","dxDataGrid-headerFilterCancel":"Cancel","dxDataGrid-ariaAdaptiveCollapse":"Hide additional data","dxDataGrid-ariaAdaptiveExpand":"Display additional data","dxDataGrid-ariaColumn":"Column","dxDataGrid-ariaValue":"Value","dxDataGrid-ariaFilterCell":"Filter cell","dxDataGrid-ariaCollapse":"Collapse","dxDataGrid-ariaExpand":"Expand","dxDataGrid-ariaDataGrid":"Data grid with {0} rows and {1} columns","dxDataGrid-ariaSearchInGrid":"Search in the data grid","dxDataGrid-ariaSelectAll":"Select all","dxDataGrid-ariaSelectRow":"Select row","dxDataGrid-ariaToolbar":"Data grid toolbar","dxDataGrid-filterBuilderPopupTitle":"Filter Builder","dxDataGrid-filterPanelCreateFilter":"Create Filter","dxDataGrid-filterPanelClearFilter":"Clear","dxDataGrid-filterPanelFilterEnabledHint":"Enable the filter","dxTreeList-ariaTreeList":"Tree list","dxTreeList-ariaSearchInGrid":"Search in the tree list","dxTreeList-ariaToolbar":"Tree list toolbar","dxTreeList-editingAddRowToNode":"Add","dxPager-infoText":"Page {0} of {1} ({2} items)","dxPager-pagesCountText":"of","dxPager-pageSize":"Items per page: {0}","dxPager-pageSizesAllText":"All","dxPager-page":"Page {0}","dxPager-prevPage":"Previous Page","dxPager-nextPage":"Next Page","dxPager-ariaLabel":"Page Navigation","dxPager-ariaPageSize":"Page size","dxPager-ariaPageNumber":"Page number","dxPivotGrid-grandTotal":"Grand Total","dxPivotGrid-total":"{0} Total","dxPivotGrid-fieldChooserTitle":"Field Chooser","dxPivotGrid-showFieldChooser":"Show Field Chooser","dxPivotGrid-expandAll":"Expand All","dxPivotGrid-collapseAll":"Collapse All","dxPivotGrid-sortColumnBySummary":'Sort "{0}" by This Column',"dxPivotGrid-sortRowBySummary":'Sort "{0}" by This Row',"dxPivotGrid-removeAllSorting":"Remove All Sorting","dxPivotGrid-dataNotAvailable":"N/A","dxPivotGrid-rowFields":"Row Fields","dxPivotGrid-columnFields":"Column Fields","dxPivotGrid-dataFields":"Data Fields","dxPivotGrid-filterFields":"Filter Fields","dxPivotGrid-allFields":"All Fields","dxPivotGrid-columnFieldArea":"Drop Column Fields Here","dxPivotGrid-dataFieldArea":"Drop Data Fields Here","dxPivotGrid-rowFieldArea":"Drop Row Fields Here","dxPivotGrid-filterFieldArea":"Drop Filter Fields Here","dxScheduler-editorLabelTitle":"Subject","dxScheduler-editorLabelStartDate":"Start Date","dxScheduler-editorLabelEndDate":"End Date","dxScheduler-editorLabelDescription":"Description","dxScheduler-editorLabelRecurrence":"Repeat","dxScheduler-openAppointment":"Open appointment","dxScheduler-recurrenceNever":"Never","dxScheduler-recurrenceMinutely":"Every minute","dxScheduler-recurrenceHourly":"Hourly","dxScheduler-recurrenceDaily":"Daily","dxScheduler-recurrenceWeekly":"Weekly","dxScheduler-recurrenceMonthly":"Monthly","dxScheduler-recurrenceYearly":"Yearly","dxScheduler-recurrenceRepeatEvery":"Repeat Every","dxScheduler-recurrenceRepeatOn":"Repeat On","dxScheduler-recurrenceEnd":"End repeat","dxScheduler-recurrenceAfter":"After","dxScheduler-recurrenceOn":"On","dxScheduler-recurrenceRepeatMinutely":"minute(s)","dxScheduler-recurrenceRepeatHourly":"hour(s)","dxScheduler-recurrenceRepeatDaily":"day(s)","dxScheduler-recurrenceRepeatWeekly":"week(s)","dxScheduler-recurrenceRepeatMonthly":"month(s)","dxScheduler-recurrenceRepeatYearly":"year(s)","dxScheduler-switcherDay":"Day","dxScheduler-switcherWeek":"Week","dxScheduler-switcherWorkWeek":"Work Week","dxScheduler-switcherMonth":"Month","dxScheduler-switcherAgenda":"Agenda","dxScheduler-switcherTimelineDay":"Timeline Day","dxScheduler-switcherTimelineWeek":"Timeline Week","dxScheduler-switcherTimelineWorkWeek":"Timeline Work Week","dxScheduler-switcherTimelineMonth":"Timeline Month","dxScheduler-recurrenceRepeatOnDate":"on date","dxScheduler-recurrenceRepeatCount":"occurrence(s)","dxScheduler-allDay":"All day","dxScheduler-confirmRecurrenceEditMessage":"Do you want to edit only this appointment or the whole series?","dxScheduler-confirmRecurrenceDeleteMessage":"Do you want to delete only this appointment or the whole series?","dxScheduler-confirmRecurrenceEditSeries":"Edit series","dxScheduler-confirmRecurrenceDeleteSeries":"Delete series","dxScheduler-confirmRecurrenceEditOccurrence":"Edit appointment","dxScheduler-confirmRecurrenceDeleteOccurrence":"Delete appointment","dxScheduler-noTimezoneTitle":"No timezone","dxScheduler-moreAppointments":"{0} more","dxCalendar-todayButtonText":"Today","dxCalendar-ariaWidgetName":"Calendar","dxCalendar-ariaHotKeysInfo":"To navigate between views, press Control, and then Left Arrow or Right Arrow. To zoom in on a view, press Control, and then Down Arrow. To zoom out, press Control, and then Up Arrow.","dxColorView-ariaRed":"Red","dxColorView-ariaGreen":"Green","dxColorView-ariaBlue":"Blue","dxColorView-ariaAlpha":"Transparency","dxColorView-ariaHex":"Color code","dxTagBox-selected":"{0} selected","dxTagBox-allSelected":"All selected ({0})","dxTagBox-moreSelected":"{0} more","vizExport-printingButtonText":"Print","vizExport-titleMenuText":"Exporting/Printing","vizExport-exportButtonText":"{0} file","dxFilterBuilder-and":"And","dxFilterBuilder-or":"Or","dxFilterBuilder-notAnd":"Not And","dxFilterBuilder-notOr":"Not Or","dxFilterBuilder-addCondition":"Add Condition","dxFilterBuilder-addGroup":"Add Group","dxFilterBuilder-enterValueText":"<enter a value>","dxFilterBuilder-filterOperationEquals":"Equals","dxFilterBuilder-filterOperationNotEquals":"Does not equal","dxFilterBuilder-filterOperationLess":"Is less than","dxFilterBuilder-filterOperationLessOrEquals":"Is less than or equal to","dxFilterBuilder-filterOperationGreater":"Is greater than","dxFilterBuilder-filterOperationGreaterOrEquals":"Is greater than or equal to","dxFilterBuilder-filterOperationStartsWith":"Starts with","dxFilterBuilder-filterOperationContains":"Contains","dxFilterBuilder-filterOperationNotContains":"Does not contain","dxFilterBuilder-filterOperationEndsWith":"Ends with","dxFilterBuilder-filterOperationIsBlank":"Is blank","dxFilterBuilder-filterOperationIsNotBlank":"Is not blank","dxFilterBuilder-filterOperationBetween":"Is between","dxFilterBuilder-filterOperationAnyOf":"Is any of","dxFilterBuilder-filterOperationNoneOf":"Is none of","dxHtmlEditor-dialogColorCaption":"Change Font Color","dxHtmlEditor-dialogBackgroundCaption":"Change Background Color","dxHtmlEditor-dialogLinkCaption":"Add Link","dxHtmlEditor-dialogLinkUrlField":"URL","dxHtmlEditor-dialogLinkTextField":"Text","dxHtmlEditor-dialogLinkTargetField":"Open link in new window","dxHtmlEditor-dialogImageCaption":"Add Image","dxHtmlEditor-dialogImageUrlField":"URL","dxHtmlEditor-dialogImageAltField":"Alternate text","dxHtmlEditor-dialogImageWidthField":"Width (px)","dxHtmlEditor-dialogImageHeightField":"Height (px)","dxHtmlEditor-dialogInsertTableRowsField":"Rows","dxHtmlEditor-dialogInsertTableColumnsField":"Columns","dxHtmlEditor-dialogInsertTableCaption":"Insert Table","dxHtmlEditor-dialogUpdateImageCaption":"Update Image","dxHtmlEditor-dialogImageUpdateButton":"Update","dxHtmlEditor-dialogImageAddButton":"Add","dxHtmlEditor-dialogImageSpecifyUrl":"From the Web","dxHtmlEditor-dialogImageSelectFile":"From This Device","dxHtmlEditor-dialogImageKeepAspectRatio":"Keep Aspect Ratio","dxHtmlEditor-dialogImageEncodeToBase64":"Encode to Base64","dxHtmlEditor-heading":"Heading","dxHtmlEditor-normalText":"Normal text","dxHtmlEditor-background":"Background Color","dxHtmlEditor-bold":"Bold","dxHtmlEditor-color":"Font Color","dxHtmlEditor-font":"Font","dxHtmlEditor-italic":"Italic","dxHtmlEditor-link":"Add Link","dxHtmlEditor-image":"Add Image","dxHtmlEditor-size":"Size","dxHtmlEditor-strike":"Strikethrough","dxHtmlEditor-subscript":"Subscript","dxHtmlEditor-superscript":"Superscript","dxHtmlEditor-underline":"Underline","dxHtmlEditor-blockquote":"Blockquote","dxHtmlEditor-header":"Header","dxHtmlEditor-increaseIndent":"Increase Indent","dxHtmlEditor-decreaseIndent":"Decrease Indent","dxHtmlEditor-orderedList":"Ordered List","dxHtmlEditor-bulletList":"Bullet List","dxHtmlEditor-alignLeft":"Align Left","dxHtmlEditor-alignCenter":"Align Center","dxHtmlEditor-alignRight":"Align Right","dxHtmlEditor-alignJustify":"Align Justify","dxHtmlEditor-codeBlock":"Code Block","dxHtmlEditor-variable":"Add Variable","dxHtmlEditor-undo":"Undo","dxHtmlEditor-redo":"Redo","dxHtmlEditor-clear":"Clear Formatting","dxHtmlEditor-insertTable":"Insert Table","dxHtmlEditor-insertHeaderRow":"Insert Header Row","dxHtmlEditor-insertRowAbove":"Insert Row Above","dxHtmlEditor-insertRowBelow":"Insert Row Below","dxHtmlEditor-insertColumnLeft":"Insert Column Left","dxHtmlEditor-insertColumnRight":"Insert Column Right","dxHtmlEditor-deleteColumn":"Delete Column","dxHtmlEditor-deleteRow":"Delete Row","dxHtmlEditor-deleteTable":"Delete Table","dxHtmlEditor-cellProperties":"Cell Properties","dxHtmlEditor-tableProperties":"Table Properties","dxHtmlEditor-insert":"Insert","dxHtmlEditor-delete":"Delete","dxHtmlEditor-border":"Border","dxHtmlEditor-style":"Style","dxHtmlEditor-width":"Width","dxHtmlEditor-height":"Height","dxHtmlEditor-borderColor":"Color","dxHtmlEditor-tableBackground":"Background","dxHtmlEditor-dimensions":"Dimensions","dxHtmlEditor-alignment":"Alignment","dxHtmlEditor-horizontal":"Horizontal","dxHtmlEditor-vertical":"Vertical","dxHtmlEditor-paddingVertical":"Vertical Padding","dxHtmlEditor-paddingHorizontal":"Horizontal Padding","dxHtmlEditor-pixels":"Pixels","dxHtmlEditor-list":"List","dxHtmlEditor-ordered":"Ordered","dxHtmlEditor-bullet":"Bullet","dxHtmlEditor-align":"Align","dxHtmlEditor-center":"Center","dxHtmlEditor-left":"Left","dxHtmlEditor-right":"Right","dxHtmlEditor-indent":"Indent","dxHtmlEditor-justify":"Justify","dxFileManager-newDirectoryName":"Untitled directory","dxFileManager-rootDirectoryName":"Files","dxFileManager-errorNoAccess":"Access Denied. Operation could not be completed.","dxFileManager-errorDirectoryExistsFormat":"Directory '{0}' already exists.","dxFileManager-errorFileExistsFormat":"File '{0}' already exists.","dxFileManager-errorFileNotFoundFormat":"File '{0}' not found.","dxFileManager-errorDirectoryNotFoundFormat":"Directory '{0}' not found.","dxFileManager-errorWrongFileExtension":"File extension is not allowed.","dxFileManager-errorMaxFileSizeExceeded":"File size exceeds the maximum allowed size.","dxFileManager-errorInvalidSymbols":"This name contains invalid characters.","dxFileManager-errorDefault":"Unspecified error.","dxFileManager-errorDirectoryOpenFailed":"The directory cannot be opened","dxFileManager-commandCreate":"New directory","dxFileManager-commandRename":"Rename","dxFileManager-commandMove":"Move to","dxFileManager-commandCopy":"Copy to","dxFileManager-commandDelete":"Delete","dxFileManager-commandDownload":"Download","dxFileManager-commandUpload":"Upload files","dxFileManager-commandRefresh":"Refresh","dxFileManager-commandThumbnails":"Thumbnails View","dxFileManager-commandDetails":"Details View","dxFileManager-commandClearSelection":"Clear selection","dxFileManager-commandShowNavPane":"Toggle navigation pane","dxFileManager-dialogDirectoryChooserMoveTitle":"Move to","dxFileManager-dialogDirectoryChooserMoveButtonText":"Move","dxFileManager-dialogDirectoryChooserCopyTitle":"Copy to","dxFileManager-dialogDirectoryChooserCopyButtonText":"Copy","dxFileManager-dialogRenameItemTitle":"Rename","dxFileManager-dialogRenameItemButtonText":"Save","dxFileManager-dialogCreateDirectoryTitle":"New directory","dxFileManager-dialogCreateDirectoryButtonText":"Create","dxFileManager-dialogDeleteItemTitle":"Delete","dxFileManager-dialogDeleteItemButtonText":"Delete","dxFileManager-dialogDeleteItemSingleItemConfirmation":"Are you sure you want to delete {0}?","dxFileManager-dialogDeleteItemMultipleItemsConfirmation":"Are you sure you want to delete {0} items?","dxFileManager-dialogButtonCancel":"Cancel","dxFileManager-editingCreateSingleItemProcessingMessage":"Creating a directory inside {0}","dxFileManager-editingCreateSingleItemSuccessMessage":"Created a directory inside {0}","dxFileManager-editingCreateSingleItemErrorMessage":"Directory was not created","dxFileManager-editingCreateCommonErrorMessage":"Directory was not created","dxFileManager-editingRenameSingleItemProcessingMessage":"Renaming an item inside {0}","dxFileManager-editingRenameSingleItemSuccessMessage":"Renamed an item inside {0}","dxFileManager-editingRenameSingleItemErrorMessage":"Item was not renamed","dxFileManager-editingRenameCommonErrorMessage":"Item was not renamed","dxFileManager-editingDeleteSingleItemProcessingMessage":"Deleting an item from {0}","dxFileManager-editingDeleteMultipleItemsProcessingMessage":"Deleting {0} items from {1}","dxFileManager-editingDeleteSingleItemSuccessMessage":"Deleted an item from {0}","dxFileManager-editingDeleteMultipleItemsSuccessMessage":"Deleted {0} items from {1}","dxFileManager-editingDeleteSingleItemErrorMessage":"Item was not deleted","dxFileManager-editingDeleteMultipleItemsErrorMessage":"{0} items were not deleted","dxFileManager-editingDeleteCommonErrorMessage":"Some items were not deleted","dxFileManager-editingMoveSingleItemProcessingMessage":"Moving an item to {0}","dxFileManager-editingMoveMultipleItemsProcessingMessage":"Moving {0} items to {1}","dxFileManager-editingMoveSingleItemSuccessMessage":"Moved an item to {0}","dxFileManager-editingMoveMultipleItemsSuccessMessage":"Moved {0} items to {1}","dxFileManager-editingMoveSingleItemErrorMessage":"Item was not moved","dxFileManager-editingMoveMultipleItemsErrorMessage":"{0} items were not moved","dxFileManager-editingMoveCommonErrorMessage":"Some items were not moved","dxFileManager-editingCopySingleItemProcessingMessage":"Copying an item to {0}","dxFileManager-editingCopyMultipleItemsProcessingMessage":"Copying {0} items to {1}","dxFileManager-editingCopySingleItemSuccessMessage":"Copied an item to {0}","dxFileManager-editingCopyMultipleItemsSuccessMessage":"Copied {0} items to {1}","dxFileManager-editingCopySingleItemErrorMessage":"Item was not copied","dxFileManager-editingCopyMultipleItemsErrorMessage":"{0} items were not copied","dxFileManager-editingCopyCommonErrorMessage":"Some items were not copied","dxFileManager-editingUploadSingleItemProcessingMessage":"Uploading an item to {0}","dxFileManager-editingUploadMultipleItemsProcessingMessage":"Uploading {0} items to {1}","dxFileManager-editingUploadSingleItemSuccessMessage":"Uploaded an item to {0}","dxFileManager-editingUploadMultipleItemsSuccessMessage":"Uploaded {0} items to {1}","dxFileManager-editingUploadSingleItemErrorMessage":"Item was not uploaded","dxFileManager-editingUploadMultipleItemsErrorMessage":"{0} items were not uploaded","dxFileManager-editingUploadCanceledMessage":"Canceled","dxFileManager-editingDownloadSingleItemErrorMessage":"Item was not downloaded","dxFileManager-editingDownloadMultipleItemsErrorMessage":"{0} items were not downloaded","dxFileManager-listDetailsColumnCaptionName":"Name","dxFileManager-listDetailsColumnCaptionDateModified":"Date Modified","dxFileManager-listDetailsColumnCaptionFileSize":"File Size","dxFileManager-listThumbnailsTooltipTextSize":"Size","dxFileManager-listThumbnailsTooltipTextDateModified":"Date Modified","dxFileManager-notificationProgressPanelTitle":"Progress","dxFileManager-notificationProgressPanelEmptyListText":"No operations","dxFileManager-notificationProgressPanelOperationCanceled":"Canceled","dxDiagram-categoryGeneral":"General","dxDiagram-categoryFlowchart":"Flowchart","dxDiagram-categoryOrgChart":"Org Chart","dxDiagram-categoryContainers":"Containers","dxDiagram-categoryCustom":"Custom","dxDiagram-commandExportToSvg":"Export to SVG","dxDiagram-commandExportToPng":"Export to PNG","dxDiagram-commandExportToJpg":"Export to JPEG","dxDiagram-commandUndo":"Undo","dxDiagram-commandRedo":"Redo","dxDiagram-commandFontName":"Font Name","dxDiagram-commandFontSize":"Font Size","dxDiagram-commandBold":"Bold","dxDiagram-commandItalic":"Italic","dxDiagram-commandUnderline":"Underline","dxDiagram-commandTextColor":"Font Color","dxDiagram-commandLineColor":"Line Color","dxDiagram-commandLineWidth":"Line Width","dxDiagram-commandLineStyle":"Line Style","dxDiagram-commandLineStyleSolid":"Solid","dxDiagram-commandLineStyleDotted":"Dotted","dxDiagram-commandLineStyleDashed":"Dashed","dxDiagram-commandFillColor":"Fill Color","dxDiagram-commandAlignLeft":"Align Left","dxDiagram-commandAlignCenter":"Align Center","dxDiagram-commandAlignRight":"Align Right","dxDiagram-commandConnectorLineType":"Connector Line Type","dxDiagram-commandConnectorLineStraight":"Straight","dxDiagram-commandConnectorLineOrthogonal":"Orthogonal","dxDiagram-commandConnectorLineStart":"Connector Line Start","dxDiagram-commandConnectorLineEnd":"Connector Line End","dxDiagram-commandConnectorLineNone":"None","dxDiagram-commandConnectorLineArrow":"Arrow","dxDiagram-commandFullscreen":"Full Screen","dxDiagram-commandUnits":"Units","dxDiagram-commandPageSize":"Page Size","dxDiagram-commandPageOrientation":"Page Orientation","dxDiagram-commandPageOrientationLandscape":"Landscape","dxDiagram-commandPageOrientationPortrait":"Portrait","dxDiagram-commandPageColor":"Page Color","dxDiagram-commandShowGrid":"Show Grid","dxDiagram-commandSnapToGrid":"Snap to Grid","dxDiagram-commandGridSize":"Grid Size","dxDiagram-commandZoomLevel":"Zoom Level","dxDiagram-commandAutoZoom":"Auto Zoom","dxDiagram-commandFitToContent":"Fit to Content","dxDiagram-commandFitToWidth":"Fit to Width","dxDiagram-commandAutoZoomByContent":"Auto Zoom by Content","dxDiagram-commandAutoZoomByWidth":"Auto Zoom by Width","dxDiagram-commandSimpleView":"Simple View","dxDiagram-commandCut":"Cut","dxDiagram-commandCopy":"Copy","dxDiagram-commandPaste":"Paste","dxDiagram-commandSelectAll":"Select All","dxDiagram-commandDelete":"Delete","dxDiagram-commandBringToFront":"Bring to Front","dxDiagram-commandSendToBack":"Send to Back","dxDiagram-commandLock":"Lock","dxDiagram-commandUnlock":"Unlock","dxDiagram-commandInsertShapeImage":"Insert Image...","dxDiagram-commandEditShapeImage":"Change Image...","dxDiagram-commandDeleteShapeImage":"Delete Image","dxDiagram-commandLayoutLeftToRight":"Left-to-right","dxDiagram-commandLayoutRightToLeft":"Right-to-left","dxDiagram-commandLayoutTopToBottom":"Top-to-bottom","dxDiagram-commandLayoutBottomToTop":"Bottom-to-top","dxDiagram-unitIn":"in","dxDiagram-unitCm":"cm","dxDiagram-unitPx":"px","dxDiagram-dialogButtonOK":"OK","dxDiagram-dialogButtonCancel":"Cancel","dxDiagram-dialogInsertShapeImageTitle":"Insert Image","dxDiagram-dialogEditShapeImageTitle":"Change Image","dxDiagram-dialogEditShapeImageSelectButton":"Select image","dxDiagram-dialogEditShapeImageLabelText":"or drop a file here","dxDiagram-uiExport":"Export","dxDiagram-uiProperties":"Properties","dxDiagram-uiSettings":"Settings","dxDiagram-uiShowToolbox":"Show Toolbox","dxDiagram-uiSearch":"Search","dxDiagram-uiStyle":"Style","dxDiagram-uiLayout":"Layout","dxDiagram-uiLayoutTree":"Tree","dxDiagram-uiLayoutLayered":"Layered","dxDiagram-uiDiagram":"Diagram","dxDiagram-uiText":"Text","dxDiagram-uiObject":"Object","dxDiagram-uiConnector":"Connector","dxDiagram-uiPage":"Page","dxDiagram-shapeText":"Text","dxDiagram-shapeRectangle":"Rectangle","dxDiagram-shapeEllipse":"Ellipse","dxDiagram-shapeCross":"Cross","dxDiagram-shapeTriangle":"Triangle","dxDiagram-shapeDiamond":"Diamond","dxDiagram-shapeHeart":"Heart","dxDiagram-shapePentagon":"Pentagon","dxDiagram-shapeHexagon":"Hexagon","dxDiagram-shapeOctagon":"Octagon","dxDiagram-shapeStar":"Star","dxDiagram-shapeArrowLeft":"Left Arrow","dxDiagram-shapeArrowUp":"Up Arrow","dxDiagram-shapeArrowRight":"Right Arrow","dxDiagram-shapeArrowDown":"Down Arrow","dxDiagram-shapeArrowUpDown":"Up Down Arrow","dxDiagram-shapeArrowLeftRight":"Left Right Arrow","dxDiagram-shapeProcess":"Process","dxDiagram-shapeDecision":"Decision","dxDiagram-shapeTerminator":"Terminator","dxDiagram-shapePredefinedProcess":"Predefined Process","dxDiagram-shapeDocument":"Document","dxDiagram-shapeMultipleDocuments":"Multiple Documents","dxDiagram-shapeManualInput":"Manual Input","dxDiagram-shapePreparation":"Preparation","dxDiagram-shapeData":"Data","dxDiagram-shapeDatabase":"Database","dxDiagram-shapeHardDisk":"Hard Disk","dxDiagram-shapeInternalStorage":"Internal Storage","dxDiagram-shapePaperTape":"Paper Tape","dxDiagram-shapeManualOperation":"Manual Operation","dxDiagram-shapeDelay":"Delay","dxDiagram-shapeStoredData":"Stored Data","dxDiagram-shapeDisplay":"Display","dxDiagram-shapeMerge":"Merge","dxDiagram-shapeConnector":"Connector","dxDiagram-shapeOr":"Or","dxDiagram-shapeSummingJunction":"Summing Junction","dxDiagram-shapeContainerDefaultText":"Container","dxDiagram-shapeVerticalContainer":"Vertical Container","dxDiagram-shapeHorizontalContainer":"Horizontal Container","dxDiagram-shapeCardDefaultText":"Person's Name","dxDiagram-shapeCardWithImageOnLeft":"Card with Image on the Left","dxDiagram-shapeCardWithImageOnTop":"Card with Image on the Top","dxDiagram-shapeCardWithImageOnRight":"Card with Image on the Right","dxGantt-dialogTitle":"Title","dxGantt-dialogStartTitle":"Start","dxGantt-dialogEndTitle":"End","dxGantt-dialogProgressTitle":"Progress","dxGantt-dialogResourcesTitle":"Resources","dxGantt-dialogResourceManagerTitle":"Resource Manager","dxGantt-dialogTaskDetailsTitle":"Task Details","dxGantt-dialogEditResourceListHint":"Edit Resource List","dxGantt-dialogEditNoResources":"No resources","dxGantt-dialogButtonAdd":"Add","dxGantt-contextMenuNewTask":"New Task","dxGantt-contextMenuNewSubtask":"New Subtask","dxGantt-contextMenuDeleteTask":"Delete Task","dxGantt-contextMenuDeleteDependency":"Delete Dependency","dxGantt-dialogTaskDeleteConfirmation":"Deleting a task also deletes all its dependencies and subtasks. Are you sure you want to delete this task?","dxGantt-dialogDependencyDeleteConfirmation":"Are you sure you want to delete the dependency from the task?","dxGantt-dialogResourcesDeleteConfirmation":"Deleting a resource also deletes it from tasks to which this resource is assigned. Are you sure you want to delete these resources? Resources: {0}","dxGantt-dialogConstraintCriticalViolationMessage":"The task you are attempting to move is linked to a second task by a dependency relation. This change would conflict with dependency rules. How would you like to proceed?","dxGantt-dialogConstraintViolationMessage":"The task you are attempting to move is linked to a second task by a dependency relation. How would you like to proceed?","dxGantt-dialogCancelOperationMessage":"Cancel the operation","dxGantt-dialogDeleteDependencyMessage":"Delete the dependency","dxGantt-dialogMoveTaskAndKeepDependencyMessage":"Move the task and keep the dependency","dxGantt-dialogConstraintCriticalViolationSeveralTasksMessage":"The task you are attempting to move is linked to another tasks by dependency relations. This change would conflict with dependency rules. How would you like to proceed?","dxGantt-dialogConstraintViolationSeveralTasksMessage":"The task you are attempting to move is linked to another tasks by dependency relations. How would you like to proceed?","dxGantt-dialogDeleteDependenciesMessage":"Delete the dependency relations","dxGantt-dialogMoveTaskAndKeepDependenciesMessage":"Move the task and keep the dependencies","dxGantt-undo":"Undo","dxGantt-redo":"Redo","dxGantt-expandAll":"Expand All","dxGantt-collapseAll":"Collapse All","dxGantt-addNewTask":"Add New Task","dxGantt-deleteSelectedTask":"Delete Selected Task","dxGantt-zoomIn":"Zoom In","dxGantt-zoomOut":"Zoom Out","dxGantt-fullScreen":"Full Screen","dxGantt-quarter":"Q{0}","dxGantt-sortingAscendingText":"Sort Ascending","dxGantt-sortingDescendingText":"Sort Descending","dxGantt-sortingClearText":"Clear Sorting","dxGantt-showResources":"Show Resources","dxGantt-showDependencies":"Show Dependencies","dxGantt-dialogStartDateValidation":"Start date must be after {0}","dxGantt-dialogEndDateValidation":"End date must be after {0}"}}),FC={},tR=Xr({engine:function(){return"base"},_dictionary:wS,load:function(e){A(!0,this._dictionary,e)},_localizablePrefix:"@",setup:function(e){this._localizablePrefix=e},localizeString:function(e){var n=this,t=new RegExp("(^|[^a-zA-Z_0-9"+n._localizablePrefix+"-]+)("+n._localizablePrefix+"{1,2})([a-zA-Z_0-9-]+)","g"),i=n._localizablePrefix+n._localizablePrefix;return e.replace(t,(r,o,s,l)=>{var g,h=n._localizablePrefix+l;return s!==i&&(g=n.format(l)),g||(FC[l]=function(e){return oC(sC(e).replace(/-/g," "))}(l)),o+(g||h)})},getMessagesByLocales:function(){return this._dictionary},getDictionary:function(e){return e?FC:A({},FC,this.getMessagesByLocales()[Zr.locale()])},getFormatter:function(e){return this._getFormatterBase(e)||this._getFormatterBase(e,"en")},_getFormatterBase:function(e,n){var t=Zr.getValueByClosestLocale(i=>((e,n)=>this._dictionary[n]||{})(0,i)[e]);if(t)return function(){var i=1===arguments.length&&Array.isArray(arguments[0])?arguments[0].slice(0):Array.prototype.slice.call(arguments,0);return i.unshift(t),Ho.apply(this,i)}},format:function(e){var n=this.getFormatter(e),t=Array.prototype.slice.call(arguments,1);return n&&n.apply(this,t)||""}});const J=tR;class Ca{constructor(){this.NAME="base"}defaultMessage(n){return J.getFormatter("validation-".concat(this.NAME))(n)}defaultFormattedMessage(n){return J.getFormatter("validation-".concat(this.NAME,"-formatted"))(n)}_isValueEmpty(n){return!Du.required.validate(n,{})}validate(n,t){var i=Array.isArray(n)?n:[n],r=!0;return i.length?i.every(o=>r=this._validate(o,t)):r=this._validate(null,t),r}}class MS extends Ca{constructor(){super(),this.NAME="custom"}validate(n,t){if(t.ignoreEmptyValue&&this._isValueEmpty(n))return!0;var i=t.validator,r=i&&Re(i.option)&&i.option("dataGetter"),o=Re(r)&&r(),s={value:n,validator:i,rule:t};return o&&A(s,o),t.validationCallback(s)}}var Du={required:new class TS extends Ca{constructor(){super(),this.NAME="required"}_validate(n,t){return!(!T(n)||!1===n)&&(n=String(n),(t.trim||!T(t.trim))&&(n=n.trim()),""!==n)}},numeric:new class nR extends Ca{constructor(){super(),this.NAME="numeric"}_validate(n,t){return!(!1===t.ignoreEmptyValue||!this._isValueEmpty(n))||(t.useCultureSettings&&je(n)?!isNaN(en.parse(n)):Vt(n))}},range:new class iR extends Ca{constructor(){super(),this.NAME="range"}_validate(n,t){if(!1!==t.ignoreEmptyValue&&this._isValueEmpty(n))return!0;var i=Du.numeric.validate(n,t),r=T(n)&&""!==n,o=i?parseFloat(n):r&&n.valueOf(),s=t.min,l=t.max;if(!i&&!ur(n)&&!r)return!1;if(T(s))return T(l)?o>=s&&o<=l:o>=s;if(T(l))return o<=l;throw zt.Error("E0101")}},stringLength:new class rR extends Ca{constructor(){super(),this.NAME="stringLength"}_validate(n,t){var i;return n=String(null!==(i=n)&&void 0!==i?i:""),(t.trim||!T(t.trim))&&(n=n.trim()),!(!t.ignoreEmptyValue||!this._isValueEmpty(n))||Du.range.validate(n.length,A({},t))}},custom:new MS,async:new class oR extends MS{constructor(){super(),this.NAME="async"}validate(n,t){if(T(t.reevaluate)||A(t,{reevaluate:!0}),t.ignoreEmptyValue&&this._isValueEmpty(n))return!0;var i=t.validator,r=i&&Re(i.option)&&i.option("dataGetter"),o=Re(r)&&r(),s={value:n,validator:i,rule:t};o&&A(s,o);var l=t.validationCallback(s);if(!hu(l))throw zt.Error("E0103");return this._getWrappedPromise(Gn(l).promise())}_getWrappedPromise(n){var t=new W;return n.then(function(i){t.resolve(i)},function(i){var r={isValid:!1};T(i)&&(je(i)?r.message=i:qe(i)&&T(i.message)&&je(i.message)&&(r.message=i.message)),t.resolve(r)}),t.promise()}},compare:new class sR extends Ca{constructor(){super(),this.NAME="compare"}_validate(n,t){if(!t.comparisonTarget)throw zt.Error("E0102");if(t.ignoreEmptyValue&&this._isValueEmpty(n))return!0;A(t,{reevaluate:!0});var i=t.comparisonTarget();switch(t.comparisonType||"=="){case"==":return n==i;case"!=":return n!=i;case"===":return n===i;case"!==":return n!==i;case">":return n>i;case">=":return n>=i;case"<":return n<i;case"<=":return n<=i}}},pattern:new class aR extends Ca{constructor(){super(),this.NAME="pattern"}_validate(n,t){if(!1!==t.ignoreEmptyValue&&this._isValueEmpty(n))return!0;var i=t.pattern;return je(i)&&(i=new RegExp(i)),i.test(n)}},email:new class lR extends Ca{constructor(){super(),this.NAME="email"}_validate(n,t){return!(!1===t.ignoreEmptyValue||!this._isValueEmpty(n))||Du.pattern.validate(n,A({},t,{pattern:/^[\d\w._-]+@[\d\w._-]+\.[\w]+$/i}))}}},AS=kt.inherit({ctor(e){this.group=e,this.validators=[],this._pendingValidators=[],this._onValidatorStatusChanged=this._onValidatorStatusChanged.bind(this),this._resetValidationInfo(),this._eventsStrategy=new qo(this)},validate(){var e={isValid:!0,brokenRules:[],validators:[],status:"valid",complete:null};return this._unsubscribeFromAllChangeEvents(),this._pendingValidators=[],this._resetValidationInfo(),B(this.validators,(n,t)=>{var i=t.validate();e.isValid=e.isValid&&i.isValid,i.brokenRules&&(e.brokenRules=e.brokenRules.concat(i.brokenRules)),e.validators.push(t),"pending"===i.status&&this._addPendingValidator(t),this._subscribeToChangeEvents(t)}),this._pendingValidators.length?e.status="pending":(e.status=e.isValid?"valid":"invalid",this._unsubscribeFromAllChangeEvents(),this._raiseValidatedEvent(e)),this._updateValidationInfo(e),A({},this._validationInfo.result)},_subscribeToChangeEvents(e){e.on("validating",this._onValidatorStatusChanged),e.on("validated",this._onValidatorStatusChanged)},_unsubscribeFromChangeEvents(e){e.off("validating",this._onValidatorStatusChanged),e.off("validated",this._onValidatorStatusChanged)},_unsubscribeFromAllChangeEvents(){B(this.validators,(e,n)=>{this._unsubscribeFromChangeEvents(n)})},_updateValidationInfo(e){this._validationInfo.result=e,"pending"===e.status&&(this._validationInfo.deferred||(this._validationInfo.deferred=new W,this._validationInfo.result.complete=this._validationInfo.deferred.promise()))},_addPendingValidator(e){Ii(this._pendingValidators,function(t){return t===e})[0]||this._pendingValidators.push(e)},_removePendingValidator(e){var n=this._pendingValidators.indexOf(e);n>=0&&this._pendingValidators.splice(n,1)},_orderBrokenRules(e){var n=[];return B(this.validators,function(t,i){var r=Ii(e,function(o){return o.validator===i});r.length&&(n=n.concat(r))}),n},_updateBrokenRules(e){if(this._validationInfo.result){var n=this._validationInfo.result.brokenRules,t=Ii(n,function(i){return i.validator!==e.validator});e.brokenRules&&(n=t.concat(e.brokenRules)),this._validationInfo.result.brokenRules=this._orderBrokenRules(n)}},_onValidatorStatusChanged(e){"pending"!==e.status?this._resolveIfComplete(e):this._addPendingValidator(e.validator)},_resolveIfComplete(e){if(this._removePendingValidator(e.validator),this._updateBrokenRules(e),!this._pendingValidators.length){if(this._unsubscribeFromAllChangeEvents(),!this._validationInfo.result)return;this._validationInfo.result.status=0===this._validationInfo.result.brokenRules.length?"valid":"invalid",this._validationInfo.result.isValid="valid"===this._validationInfo.result.status;var n=A({},this._validationInfo.result,{complete:null}),t=this._validationInfo.deferred;this._validationInfo.deferred=null,this._raiseValidatedEvent(n),t&&setTimeout(()=>{t.resolve(n)})}},_raiseValidatedEvent(e){this._eventsStrategy.fireEvent("validated",[e])},_resetValidationInfo(){this._validationInfo={result:null,deferred:null}},_synchronizeValidationInfo(){this._validationInfo.result&&(this._validationInfo.result.validators=this.validators)},removeRegisteredValidator(e){var n=this.validators.indexOf(e);n>-1&&(this.validators.splice(n,1),this._synchronizeValidationInfo(),this._resolveIfComplete({validator:e}))},registerValidator(e){this.validators.includes(e)||(this.validators.push(e),this._synchronizeValidationInfo())},reset(){B(this.validators,function(e,n){n.reset()}),this._pendingValidators=[],this._resetValidationInfo()},on(e,n){return this._eventsStrategy.on(e,n),this},off(e,n){return this._eventsStrategy.off(e,n),this}}),Ol={groups:[],getGroupConfig(e){var n=Ii(this.groups,function(t){return t.group===e});if(n.length)return n[0]},findGroup(e,n){var t,i,o=(null===(t=e.data())||void 0===t||null===(i=t.dxComponents)||void 0===i?void 0:i.includes("dxValidationGroup"))&&e.dxValidationGroup("instance");if(o)return o;var s=e.parents(".dx-validationgroup").first();return s.length?s.dxValidationGroup("instance"):n},initGroups(){this.groups=[],this.addGroup()},addGroup(e){var n=this.getGroupConfig(e);return n||(n=new AS(e),this.groups.push(n)),n},removeGroup(e){var n=this.getGroupConfig(e),t=this.groups.indexOf(n);return t>-1&&this.groups.splice(t,1),n},_setDefaultMessage(e){var{rule:n,validator:t,name:i}=e;T(n.message)||(n.message=t.defaultFormattedMessage&&T(i)?t.defaultFormattedMessage(i):t.defaultMessage())},_addBrokenRule(e){var{result:n,rule:t}=e;n.brokenRule||(n.brokenRule=t),n.brokenRules||(n.brokenRules=[]),n.brokenRules.push(t)},validate(e,n,t){var i,r={name:t,value:e,brokenRule:null,brokenRules:null,isValid:!0,validationRules:n,pendingRules:null,status:"valid",complete:null},o=null==n||null===(i=n[0])||void 0===i?void 0:i.validator,s=[];return B(n||[],(l,h)=>{var _,g=Du[h.type];if(!g)throw zt.Error("E0100");return T(h.isValid)&&h.value===e&&!h.reevaluate?!!h.isValid||(r.isValid=!1,this._addBrokenRule({result:r,rule:h}),!1):(h.value=e,"async"===h.type?(s.push({rule:h,ruleValidator:g}),!0):(_=g.validate(e,h),h.isValid=_,_||(r.isValid=!1,this._setDefaultMessage({rule:h,validator:g,name:t}),this._addBrokenRule({result:r,rule:h})),!!h.isValid&&void 0))}),r.isValid&&!r.brokenRules&&s.length&&(r=this._validateAsyncRules({value:e,items:s,result:r,name:t})),this._synchronizeGroupValidationInfo(o,r),r.status=r.pendingRules?"pending":r.isValid?"valid":"invalid",r},_synchronizeGroupValidationInfo(e,n){var t;if(e){var i=Ol.getGroupConfig(e._validationGroup);i._updateBrokenRules.call(i,{validator:e,brokenRules:null!==(t=n.brokenRules)&&void 0!==t?t:[]})}},_validateAsyncRules(e){var{result:n,value:t,items:i,name:r}=e,o=[];return B(i,(s,l)=>{var h=l.ruleValidator.validate(t,l.rule);if(hu(h)){n.pendingRules||(n.pendingRules=[]),n.pendingRules.push(l.rule);var g=h.then(_=>{var v=this._getPatchedRuleResult(_);return this._updateRuleConfig({rule:l.rule,ruleResult:v,validator:l.ruleValidator,name:r}),v});o.push(g)}else this._updateRuleConfig({rule:l.rule,ruleResult:this._getPatchedRuleResult(h),validator:l.ruleValidator,name:r})}),o.length&&(n.complete=Promise.all(o).then(s=>this._getAsyncRulesResult({result:n,values:s}))),n},_updateRuleConfig(e){var{rule:n,ruleResult:t,validator:i,name:r}=e;n.isValid=t.isValid,t.isValid||(T(t.message)&&je(t.message)&&t.message.length?n.message=t.message:this._setDefaultMessage({rule:n,validator:i,name:r}))},_getPatchedRuleResult(e){var n;return qe(e)?(n=A({},e),T(n.isValid)||(n.isValid=!0)):n={isValid:!dh(e)||e},n},_getAsyncRulesResult(e){var{values:n,result:t}=e;return B(n,(i,r)=>{!1===r.isValid&&(t.isValid=r.isValid,this._addBrokenRule({result:t,rule:t.pendingRules[i]}))}),t.pendingRules=null,t.complete=null,t.status=t.isValid?"valid":"invalid",t},registerValidatorInGroup(e,n){var t=Ol.addGroup(e);t.registerValidator.call(t,n)},_shouldRemoveGroup:(e,n)=>!(void 0===e||e&&"dxValidationGroup"===e.NAME||n.length),removeRegisteredValidator(e,n){var t=Ol.getGroupConfig(e);t&&(t.removeRegisteredValidator.call(t,n),this._shouldRemoveGroup(e,t.validators)&&this.removeGroup(e))},initValidationOptions(e){var n={};return e&&["isValid","validationStatus","validationError","validationErrors"].forEach(t=>{t in e&&A(n,this.synchronizeValidationOptions({name:t,value:e[t]},e))}),n},synchronizeValidationOptions(e,n){var{name:t,value:i}=e;switch(t){case"validationStatus":var r="valid"===i||"pending"===i;return n.isValid!==r?{isValid:r}:{};case"isValid":var{validationStatus:o}=n,s=o;return i&&"invalid"===o?s="valid":!i&&"invalid"!==o&&(s="invalid"),s!==o?{validationStatus:s}:{};case"validationErrors":var l=i&&i.length?i[0]:null;return n.validationError!==l?{validationError:l}:{};case"validationError":var{validationErrors:h}=n;if(!i&&h)return{validationErrors:null};if(i&&!h)return{validationErrors:[i]};if(i&&h&&i!==h[0])return h[0]=i,{validationErrors:h.slice()}}return{}},validateGroup(e){var n=Ol.getGroupConfig(e);if(!n)throw zt.Error("E0110");return n.validate()},resetGroup(e){var n=Ol.getGroupConfig(e);if(!n)throw zt.Error("E0110");return n.reset()}};Ol.initGroups();const ln=Ol;var Su=Array.isArray;function Vf(e){var n=typeof e;return"string"===n||"number"===n}function jt(e){return null==e}function Fh(e){return null===e||!1===e||!0===e||void 0===e}function yn(e){return"function"==typeof e}function Dl(e){return"string"==typeof e}function zi(e){return null===e}function BC(e){return void 0===e}function ya(e,n){var t={};if(e)for(var i in e)t[i]=e[i];if(n)for(var r in n)t[r]=n[r];return t}function kh(e){return!zi(e)&&"object"==typeof e}var di={};function Ms(e){return e.substr(2).toLowerCase()}function PS(e,n){e.appendChild(n)}function LC(e,n,t){zi(t)?PS(e,n):e.insertBefore(n,t)}function Nf(e,n){e.removeChild(n)}function FS(e){for(var n=0;n<e.length;n++)e[n]()}function kS(e,n,t){var i=e.children;return 4&t?i.$LI:8192&t?2===e.childFlags?i:i[n?0:i.length-1]:i}function Qr(e,n){for(var t;e;){if(2033&(t=e.flags))return e.dom;e=kS(e,n,t)}return null}function Bh(e,n){do{var t=e.flags;if(2033&t)return void Nf(n,e.dom);var i=e.children;if(4&t&&(e=i.$LI),8&t&&(e=i),8192&t){if(2!==e.childFlags){for(var r=0,o=i.length;r<o;++r)Bh(i[r],n);return}e=i}}while(e)}function NC(e,n,t){do{var i=e.flags;if(2033&i)return void LC(n,e.dom,t);var r=e.children;if(4&i&&(e=r.$LI),8&i&&(e=r),8192&i){if(2!==e.childFlags){for(var o=0,s=r.length;o<s;++o)NC(r[o],n,t);return}e=r}}while(e)}function Hf(e,n,t){return e.constructor.getDerivedStateFromProps?ya(t,e.constructor.getDerivedStateFromProps(n,t)):t}var Eu={v:!1},Sl={componentComparator:null,createVNode:null,renderComplete:null};function wu(e,n){e.textContent=n}function HC(e,n){return kh(e)&&e.event===n.event&&e.data===n.data}function BS(e,n){for(var t in n)BC(e[t])&&(e[t]=n[t]);return e}function zC(e,n){return!!yn(e)&&(e(n),!0)}var Lh="$";function zf(e,n,t,i,r,o,s,l){this.childFlags=e,this.children=n,this.className=t,this.dom=null,this.flags=i,this.key=void 0===r?null:r,this.props=void 0===o?null:o,this.ref=void 0===s?null:s,this.type=l}function wn(e,n,t,i,r,o,s,l){var h=void 0===r?1:r,g=new zf(h,i,t,e,s,o,l,n);return Sl.createVNode&&Sl.createVNode(g),0===h&&HS(g,g.children),g}function rn(e,n,t,i,r){e=function dR(e,n){return 12&e?e:n.prototype&&n.prototype.render?4:n.render?32776:8}(e,n);var o=new zf(1,null,null,e,i,function LS(e,n,t){var i=(32768&e?n.render:n).defaultProps;return jt(i)?t:jt(t)?ya(i,null):BS(t,i)}(e,n,t),function h1(e,n,t){if(4&e)return t;var i=(32768&e?n.render:n).defaultHooks;return jt(i)?t:jt(t)?i:BS(t,i)}(e,n,r),n);return Sl.createVNode&&Sl.createVNode(o),o}function Wf(e,n){return new zf(1,jt(e)||!0===e||!1===e?"":e,null,16,n,null,null,null)}function As(e,n,t){var i=wn(8192,8192,null,e,n,null,t,null);switch(i.childFlags){case 1:i.children=$f(),i.childFlags=2;break;case 16:i.children=[Wf(e)],i.childFlags=4}return i}function pr(e){var n=e.props;if(n){var t=e.flags;481&t&&(void 0!==n.children&&jt(e.children)&&HS(e,n.children),void 0!==n.className&&(jt(e.className)&&(e.className=n.className||null),n.className=void 0)),void 0!==n.key&&(e.key=n.key,n.key=void 0),void 0!==n.ref&&(e.ref=8&t?ya(e.ref,n.ref):n.ref,n.ref=void 0)}return e}function ui(e){var n=-16385&e.flags,t=e.props;if(14&n&&!zi(t)){var i=t;for(var r in t={},i)t[r]=i[r]}return 8192&n?function VS(e){var n=e.children,t=e.childFlags;return As(2===t?ui(n):n.map(ui),t,e.key)}(e):new zf(e.childFlags,e.children,e.className,n,e.key,t,e.ref,e.type)}function $f(){return Wf("",null)}function NS(e,n,t,i){for(var r=e.length;t<r;t++){var o=e[t];if(!Fh(o)){var s=i+Lh+t;if(Su(o))NS(o,n,0,s);else{if(Vf(o))o=Wf(o,s);else{var l=o.key,h=Dl(l)&&l[0]===Lh;(81920&o.flags||h)&&(o=ui(o)),o.flags|=65536,h?l.substring(0,i.length)!==i&&(o.key=i+l):o.key=zi(l)?s:i+l}n.push(o)}}}}function HS(e,n){var t,i=1;if(Fh(n))t=n;else if(Vf(n))i=16,t=n;else if(Su(n)){for(var r=n.length,o=0;o<r;++o){var s=n[o];if(Fh(s)||Su(s)){t=t||n.slice(0,o),NS(n,t,o,"");break}if(Vf(s))(t=t||n.slice(0,o)).push(Wf(s,Lh+o));else{var l=s.key,h=(81920&s.flags)>0,g=zi(l),_=Dl(l)&&l[0]===Lh;h||g||_?(t=t||n.slice(0,o),(h||_)&&(s=ui(s)),(g||_)&&(s.key=Lh+o),t.push(s)):t&&t.push(s),s.flags|=65536}}i=0===(t=t||n).length?1:8}else(t=n).flags|=65536,81920&n.flags&&(t=ui(n)),i=2;return e.children=t,e.childFlags=i,e}function Vh(e){return Fh(e)||Vf(e)?Wf(e,null):Su(e)?As(e,0,null):16384&e.flags?ui(e):e}var El="http://www.w3.org/1999/xlink",WC="http://www.w3.org/XML/1998/namespace",Iu={"xlink:actuate":El,"xlink:arcrole":El,"xlink:href":El,"xlink:role":El,"xlink:show":El,"xlink:title":El,"xlink:type":El,"xml:base":WC,"xml:lang":WC,"xml:space":WC};function Nh(e){return{onClick:e,onDblClick:e,onFocusIn:e,onFocusOut:e,onKeyDown:e,onKeyPress:e,onKeyUp:e,onMouseDown:e,onMouseMove:e,onMouseUp:e,onTouchEnd:e,onTouchMove:e,onTouchStart:e}}var $C=Nh(0),Gf=Nh(null),GC=Nh(!0);function UC(e,n){var t=n.$EV;return t||(t=n.$EV=Nh(null)),t[e]||1==++$C[e]&&(Gf[e]=function _R(e){var n="onClick"===e||"onDblClick"===e?function fR(e){return function(n){0===n.button?hR(n,!0,e,WS(n)):n.stopPropagation()}}(e):function Hh(e){return function(n){hR(n,!1,e,WS(n))}}(e);return document.addEventListener(Ms(e),n),n}(e)),t}function jC(e,n){var t=n.$EV;t&&t[e]&&(0==--$C[e]&&(document.removeEventListener(Ms(e),Gf[e]),Gf[e]=null),t[e]=null)}function hR(e,n,t,i){var r=function g1(e){return yn(e.composedPath)?e.composedPath()[0]:e.target}(e);do{if(n&&r.disabled)return;var o=r.$EV;if(o){var s=o[t];if(s&&(i.dom=r,s.event?s.event(s.data,e):s(e),e.cancelBubble))return}r=r.parentNode}while(!zi(r))}function zS(){this.cancelBubble=!0,this.immediatePropagationStopped||this.stopImmediatePropagation()}function pR(){return this.defaultPrevented}function gR(){return this.cancelBubble}function WS(e){var n={dom:document};return e.isDefaultPrevented=pR,e.isPropagationStopped=gR,e.stopPropagation=zS,Object.defineProperty(e,"currentTarget",{configurable:!0,get:function(){return n.dom}}),n}function Co(e,n,t){if(e[n]){var i=e[n];i.event?i.event(i.data,t):i(t)}else{var r=n.toLowerCase();e[r]&&e[r](t)}}function zh(e,n){var t=function(i){var r=this.$V;if(r){var o=r.props||di,s=r.dom;if(Dl(e))Co(o,e,i);else for(var l=0;l<e.length;++l)Co(o,e[l],i);if(yn(n)){var h=this.$V;n(h.props||di,s,!1,h)}}};return Object.defineProperty(t,"wrapped",{configurable:!1,enumerable:!1,value:!0,writable:!1}),t}function Rs(e,n,t){var i="$"+n,r=e[i];if(r){if(r[1].wrapped)return;e.removeEventListener(r[0],r[1]),e[i]=null}yn(t)&&(e.addEventListener(n,t),e[i]=[n,t])}function YC(e){return"checkbox"===e||"radio"===e}var f1=zh("onInput",qC),mR=zh(["onClick","onChange"],qC);function vR(e){e.stopPropagation()}function qC(e,n){var t=e.type,i=e.value,r=e.checked,o=e.multiple,s=e.defaultValue,l=!jt(i);t&&t!==n.type&&n.setAttribute("type",t),!jt(o)&&o!==n.multiple&&(n.multiple=o),!jt(s)&&!l&&(n.defaultValue=s+""),YC(t)?(l&&(n.value=i),jt(r)||(n.checked=r)):l&&n.value!==i?(n.defaultValue=i,n.value=i):jt(r)||(n.checked=r)}function $h(e,n){if("option"===e.type)!function CR(e,n){var t=e.props||di,i=e.dom;i.value=t.value,t.value===n||Su(n)&&-1!==n.indexOf(t.value)?i.selected=!0:(!jt(n)||!jt(t.selected))&&(i.selected=t.selected||!1)}(e,n);else{var t=e.children,i=e.flags;if(4&i)$h(t.$LI,n);else if(8&i)$h(t,n);else if(2===e.childFlags)$h(t,n);else if(12&e.childFlags)for(var r=0,o=t.length;r<o;++r)$h(t[r],n)}}vR.wrapped=!0;var Uf=zh("onChange",GS);function GS(e,n,t,i){var r=!!e.multiple;!jt(e.multiple)&&r!==n.multiple&&(n.multiple=r);var o=e.selectedIndex;if(-1===o&&(n.selectedIndex=-1),1!==i.childFlags){var l=e.value;(function kC(e){return"number"==typeof e})(o)&&o>-1&&n.options[o]&&(l=n.options[o].value),t&&jt(l)&&(l=e.defaultValue),$h(i,l)}}var US=zh("onInput",jS),jf=zh("onChange");function jS(e,n,t){var i=e.value,r=n.value;if(jt(i)){if(t){var o=e.defaultValue;!jt(o)&&o!==r&&(n.defaultValue=o,n.value=o)}}else r!==i&&(n.defaultValue=i,n.value=i)}function JC(e,n,t,i,r,o){64&e?qC(i,t):256&e?GS(i,t,r,n):128&e&&jS(i,t,r),o&&(t.$V=n)}function KS(e){return e.type&&YC(e.type)?!jt(e.checked):!jt(e.value)}function Kf(e){e&&!zC(e,null)&&e.current&&(e.current=null)}function Gh(e,n,t){e&&(yn(e)||void 0!==e.current)&&t.push(function(){!zC(e,n)&&void 0!==e.current&&(e.current=n)})}function eo(e,n){Jo(e),Bh(e,n)}function Jo(e){var i,n=e.flags,t=e.children;if(481&n){var r=e.props;Kf(i=e.ref);var o=e.childFlags;if(!zi(r))for(var s=Object.keys(r),l=0,h=s.length;l<h;l++){var g=s[l];GC[g]&&jC(g,e.dom)}12&o?wl(t):2===o&&Jo(t)}else t&&(4&n?(yn(t.componentWillUnmount)&&t.componentWillUnmount(),Kf(e.ref),t.$UN=!0,Jo(t.$LI)):8&n?(!jt(i=e.ref)&&yn(i.onComponentWillUnmount)&&i.onComponentWillUnmount(Qr(e,!0),e.props||di),Jo(t)):1024&n?eo(t,e.ref):8192&n&&12&e.childFlags&&wl(t))}function wl(e){for(var n=0,t=e.length;n<t;++n)Jo(e[n])}function Uh(e){e.textContent=""}function Yf(e,n,t){wl(t),8192&n.flags?Bh(n,e):Uh(e)}function jh(e,n,t,i,r,o,s){switch(e){case"children":case"childrenType":case"className":case"defaultValue":case"key":case"multiple":case"ref":case"selectedIndex":break;case"autoFocus":i.autofocus=!!t;break;case"allowfullscreen":case"autoplay":case"capture":case"checked":case"controls":case"default":case"disabled":case"hidden":case"indeterminate":case"loop":case"muted":case"novalidate":case"open":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"selected":i[e]=!!t;break;case"defaultChecked":case"value":case"volume":if(o&&"value"===e)break;var l=jt(t)?"":t;i[e]!==l&&(i[e]=l);break;case"style":!function bR(e,n,t){if(jt(n))t.removeAttribute("style");else{var r,o,i=t.style;if(Dl(n))i.cssText=n;else if(jt(e)||Dl(e))for(r in n)i.setProperty(r,o=n[r]);else{for(r in n)(o=n[r])!==e[r]&&i.setProperty(r,o);for(r in e)jt(n[r])&&i.removeProperty(r)}}}(n,t,i);break;case"dangerouslySetInnerHTML":!function OR(e,n,t,i){var o=n&&n.__html||"";(e&&e.__html||"")!==o&&!jt(o)&&!function KC(e,n){var t=document.createElement("i");return t.innerHTML=n,t.innerHTML===e.innerHTML}(i,o)&&(zi(t)||(12&t.childFlags?wl(t.children):2===t.childFlags&&Jo(t.children),t.children=null,t.childFlags=1),i.innerHTML=o)}(n,t,s,i);break;default:GC[e]?function cR(e,n,t,i){if(yn(t))UC(e,i)[e]=t;else if(kh(t)){if(HC(n,t))return;UC(e,i)[e]=t}else jC(e,i)}(e,n,t,i):111===e.charCodeAt(0)&&110===e.charCodeAt(1)?function qS(e,n,t,i){if(kh(t)){if(HC(n,t))return;t=function YS(e){var n=e.event;return function(t){n(e.data,t)}}(t)}Rs(i,Ms(e),t)}(e,n,t,i):jt(t)?i.removeAttribute(e):r&&Iu[e]?i.setAttributeNS(Iu[e],e,t):i.setAttribute(e,t)}}function qf(e,n,t,i,r){var o=!1,s=(448&n)>0;for(var l in s&&(o=KS(t))&&function xR(e,n,t){64&e?function Wh(e,n){YC(n.type)?(Rs(e,"change",mR),Rs(e,"click",vR)):Rs(e,"input",f1)}(n,t):256&e?function $S(e){Rs(e,"change",Uf)}(n):128&e&&function yR(e,n){Rs(e,"input",US),n.onChange&&Rs(e,"change",jf)}(n,t)}(n,i,t),t)jh(l,null,t[l],i,r,o,null);s&&JC(n,e,i,t,!0,o)}function ZC(e,n,t){var i=Vh(e.render(n,e.state,t)),r=t;return yn(e.getChildContext)&&(r=ya(t,e.getChildContext())),e.$CX=r,i}function Jf(e,n,t,i,r,o){var s=new n(t,i),l=s.$N=!(!n.getDerivedStateFromProps&&!s.getSnapshotBeforeUpdate);if(s.$SVG=r,s.$L=o,e.children=s,s.$BS=!1,s.context=i,s.props===di&&(s.props=t),l)s.state=Hf(s,t,s.state);else if(yn(s.componentWillMount)){s.$BR=!0,s.componentWillMount();var h=s.$PS;if(!zi(h)){var g=s.state;if(zi(g))s.state=h;else for(var _ in h)g[_]=h[_];s.$PS=null}s.$BR=!1}return s.$LI=ZC(s,t,i),s}function Kh(e,n){var t=e.props||di;return 32768&e.flags?e.type.render(t,e.ref,n):e.type(t,n)}function ci(e,n,t,i,r,o){var s=e.flags|=16384;481&s?QC(e,n,t,i,r,o):4&s?function XS(e,n,t,i,r,o){var s=Jf(e,e.type,e.props||di,t,i,o);ci(s.$LI,n,s.$CX,i,r,o),ey(e.ref,s,o)}(e,n,t,i,r,o):8&s?(function ZS(e,n,t,i,r,o){ci(e.children=Vh(Kh(e,t)),n,t,i,r,o)}(e,n,t,i,r,o),ty(e,o)):512&s||16&s?JS(e,n,r):8192&s?function SR(e,n,t,i,r,o){var s=e.children,l=e.childFlags;12&l&&0===s.length&&(l=e.childFlags=2,s=e.children=$f()),2===l?ci(s,t,n,i,r,o):Ps(s,t,n,i,r,o)}(e,t,n,i,r,o):1024&s&&function DR(e,n,t,i,r){ci(e.children,e.ref,n,!1,null,r);var o=$f();JS(o,t,i),e.dom=o.dom}(e,t,n,r,o)}function JS(e,n,t){var i=e.dom=document.createTextNode(e.children);zi(n)||LC(n,i,t)}function QC(e,n,t,i,r,o){var s=e.flags,l=e.props,h=e.className,g=e.childFlags,_=e.dom=function c1(e,n){return n?document.createElementNS("http://www.w3.org/2000/svg",e):document.createElement(e)}(e.type,i=i||(32&s)>0),v=e.children;if(!jt(h)&&""!==h&&(i?_.setAttribute("class",h):_.className=h),16===g)wu(_,v);else if(1!==g){var C=i&&"foreignObject"!==e.type;2===g?(16384&v.flags&&(e.children=v=ui(v)),ci(v,_,t,C,null,o)):(8===g||4===g)&&Ps(v,_,t,C,null,o)}zi(n)||LC(n,_,r),zi(l)||qf(e,s,l,_,i),Gh(e.ref,_,o)}function Ps(e,n,t,i,r,o){for(var s=0;s<e.length;++s){var l=e[s];16384&l.flags&&(e[s]=l=ui(l)),ci(l,n,t,i,r,o)}}function ey(e,n,t){Gh(e,n,t),yn(n.componentDidMount)&&t.push(function QS(e){return function(){e.componentDidMount()}}(n))}function ty(e,n){var t=e.ref;jt(t)||(zC(t.onComponentWillMount,e.props||di),yn(t.onComponentDidMount)&&n.push(function ER(e,n){return function(){e.onComponentDidMount(Qr(n,!0),n.props||di)}}(t,e)))}function Fs(e,n,t,i,r,o,s){var l=n.flags|=16384;e.flags!==l||e.type!==n.type||e.key!==n.key||2048&l?16384&e.flags?function eE(e,n,t,i,r,o){Jo(e),n.flags&e.flags&2033?(ci(n,null,i,r,null,o),function VC(e,n,t){e.replaceChild(n,t)}(t,n.dom,e.dom)):(ci(n,t,i,r,Qr(e,!0),o),Bh(e,t))}(e,n,t,i,r,s):ci(n,t,i,r,o,s):481&l?function IR(e,n,t,i,r,o){var v,s=n.dom=e.dom,l=e.props,h=n.props,g=!1,_=!1;if(i=i||(32&r)>0,l!==h){var C=l||di;if((v=h||di)!==di)for(var b in(g=(448&r)>0)&&(_=KS(v)),v){var E=C[b],w=v[b];E!==w&&jh(b,E,w,s,i,_,e)}if(C!==di)for(var M in C)jt(v[M])&&!jt(C[M])&&jh(M,C[M],null,s,i,_,e)}var k=n.children,L=n.className;e.className!==L&&(jt(L)?s.removeAttribute("class"):i?s.setAttribute("class",L):s.className=L),4096&r?function wR(e,n){e.textContent!==n&&(e.textContent=n)}(s,k):nE(e.childFlags,n.childFlags,e.children,k,s,t,i&&"foreignObject"!==n.type,null,e,o),g&&JC(r,n,s,v,!1,_);var G=n.ref,Q=e.ref;Q!==G&&(Kf(Q),Gh(G,s,o))}(e,n,i,r,l,s):4&l?function iE(e,n,t,i,r,o,s){var l=n.children=e.children;if(!zi(l)){l.$L=s;var h=n.props||di,g=n.ref,_=e.ref,v=l.state;if(!l.$N){if(yn(l.componentWillReceiveProps)){if(l.$BR=!0,l.componentWillReceiveProps(h,i),l.$UN)return;l.$BR=!1}zi(l.$PS)||(v=ya(v,l.$PS),l.$PS=null)}ny(l,v,h,t,i,r,!1,o,s),_!==g&&(Kf(_),Gh(g,l,s))}}(e,n,t,i,r,o,s):8&l?function m1(e,n,t,i,r,o,s){var l=!0,h=n.props||di,g=n.ref,_=e.props,v=!jt(g),C=e.children;if(v&&yn(g.onComponentShouldUpdate)&&(l=g.onComponentShouldUpdate(_,h)),!1!==l){v&&yn(g.onComponentWillUpdate)&&g.onComponentWillUpdate(_,h);var b=Vh(Kh(n,i));Fs(C,b,t,i,r,o,s),n.children=b,v&&yn(g.onComponentDidUpdate)&&g.onComponentDidUpdate(_,h)}else n.children=C}(e,n,t,i,r,o,s):16&l?function v1(e,n){var t=n.children,i=n.dom=e.dom;t!==e.children&&(i.nodeValue=t)}(e,n):512&l?n.dom=e.dom:8192&l?function tr(e,n,t,i,r,o){var s=e.children,l=n.children,h=e.childFlags,g=n.childFlags,_=null;12&g&&0===l.length&&(g=n.childFlags=2,l=n.children=$f());var v=0!=(2&g);if(12&h){var C=s.length;(8&h&&8&g||v||!v&&l.length>C)&&(_=Qr(s[C-1],!1).nextSibling)}nE(h,g,s,l,t,i,r,_,e,o)}(e,n,t,i,r,s):function Tu(e,n,t,i){var r=e.ref,o=n.ref,s=n.children;if(nE(e.childFlags,n.childFlags,e.children,s,r,t,!1,null,e,i),n.dom=e.dom,r!==o&&!Fh(s)){var l=s.dom;Nf(r,l),PS(o,l)}}(e,n,i,s)}function nE(e,n,t,i,r,o,s,l,h,g){switch(e){case 2:switch(n){case 2:Fs(t,i,r,o,s,l,g);break;case 1:eo(t,r);break;case 16:Jo(t),wu(r,i);break;default:!function TR(e,n,t,i,r,o){Jo(e),Ps(n,t,i,r,Qr(e,!0),o),Bh(e,t)}(t,i,r,o,s,g)}break;case 1:switch(n){case 2:ci(i,r,o,s,l,g);break;case 1:break;case 16:wu(r,i);break;default:Ps(i,r,o,s,l,g)}break;case 16:switch(n){case 16:!function tE(e,n,t){e!==n&&(""!==e?t.firstChild.nodeValue=n:wu(t,n))}(t,i,r);break;case 2:Uh(r),ci(i,r,o,s,l,g);break;case 1:Uh(r);break;default:Uh(r),Ps(i,r,o,s,l,g)}break;default:switch(n){case 16:wl(t),wu(r,i);break;case 2:Yf(r,h,t),ci(i,r,o,s,l,g);break;case 1:Yf(r,h,t);break;default:var _=0|t.length,v=0|i.length;0===_?v>0&&Ps(i,r,o,s,l,g):0===v?Yf(r,h,t):8===n&&8===e?function Yh(e,n,t,i,r,o,s,l,h,g){var w,M,_=o-1,v=s-1,C=0,b=e[C],E=n[C];e:{for(;b.key===E.key;){if(16384&E.flags&&(n[C]=E=ui(E)),Fs(b,E,t,i,r,l,g),e[C]=E,++C>_||C>v)break e;b=e[C],E=n[C]}for(b=e[_],E=n[v];b.key===E.key;){if(16384&E.flags&&(n[v]=E=ui(E)),Fs(b,E,t,i,r,l,g),e[_]=E,v--,C>--_||C>v)break e;b=e[_],E=n[v]}}if(C>_){if(C<=v)for(M=(w=v+1)<s?Qr(n[w],!0):l;C<=v;)16384&(E=n[C]).flags&&(n[C]=E=ui(E)),++C,ci(E,t,i,r,M,g)}else if(C>v)for(;C<=_;)eo(e[C++],t);else!function MR(e,n,t,i,r,o,s,l,h,g,_,v,C){var b,E,w,M=0,k=l,L=l,G=o-l+1,Q=s-l+1,le=new Int32Array(Q+1),Te=G===i,He=!1,Ee=0,ze=0;if(r<4||(G|Q)<32)for(M=k;M<=o;++M)if(b=e[M],ze<Q){for(l=L;l<=s;l++)if(b.key===(E=n[l]).key){if(le[l-L]=M+1,Te)for(Te=!1;k<M;)eo(e[k++],h);Ee>l?He=!0:Ee=l,16384&E.flags&&(n[l]=E=ui(E)),Fs(b,E,h,t,g,_,C),++ze;break}!Te&&l>s&&eo(b,h)}else Te||eo(b,h);else{var ot={};for(M=L;M<=s;++M)ot[n[M].key]=M;for(M=k;M<=o;++M)if(b=e[M],ze<Q)if(void 0!==(l=ot[b.key])){if(Te)for(Te=!1;M>k;)eo(e[k++],h);le[l-L]=M+1,Ee>l?He=!0:Ee=l,16384&(E=n[l]).flags&&(n[l]=E=ui(E)),Fs(b,E,h,t,g,_,C),++ze}else Te||eo(b,h);else Te||eo(b,h)}if(Te)Yf(h,v,e),Ps(n,h,t,g,_,C);else if(He){var ht=function AR(e){var n=0,t=0,i=0,r=0,o=0,s=0,l=0,h=e.length;for(h>iy&&(iy=h,yo=new Int32Array(h),Xf=new Int32Array(h));t<h;++t)if(0!==(n=e[t])){if(e[i=yo[r]]<n){Xf[t]=i,yo[++r]=t;continue}for(o=0,s=r;o<s;)e[yo[l=o+s>>1]]<n?o=l+1:s=l;n<e[yo[o]]&&(o>0&&(Xf[t]=yo[o-1]),yo[o]=t)}o=r+1;var g=new Int32Array(o);for(s=yo[o-1];o-- >0;)g[o]=s,s=Xf[s],yo[o]=0;return g}(le);for(l=ht.length-1,M=Q-1;M>=0;M--)0===le[M]?(16384&(E=n[Ee=M+L]).flags&&(n[Ee]=E=ui(E)),ci(E,h,t,g,(w=Ee+1)<r?Qr(n[w],!0):_,C)):l<0||M!==ht[l]?NC(E=n[Ee=M+L],h,(w=Ee+1)<r?Qr(n[w],!0):_):l--}else if(ze!==Q)for(M=Q-1;M>=0;M--)0===le[M]&&(16384&(E=n[Ee=M+L]).flags&&(n[Ee]=E=ui(E)),ci(E,h,t,g,(w=Ee+1)<r?Qr(n[w],!0):_,C))}(e,n,i,o,s,_,v,C,t,r,l,h,g)}(t,i,r,o,s,_,v,l,h,g):function C1(e,n,t,i,r,o,s,l,h){for(var v,C,g=o>s?s:o,_=0;_<g;++_)C=e[_],16384&(v=n[_]).flags&&(v=n[_]=ui(v)),Fs(C,v,t,i,r,l,h),e[_]=v;if(o<s)for(_=g;_<s;++_)16384&(v=n[_]).flags&&(v=n[_]=ui(v)),ci(v,t,i,r,l,h);else if(o>s)for(_=g;_<o;++_)eo(e[_],t)}(t,i,r,o,s,_,v,l,g)}}}function ny(e,n,t,i,r,o,s,l,h){var g=e.state,_=e.props,v=!!e.$N,C=yn(e.shouldComponentUpdate);if(v&&(n=Hf(e,t,n!==g?ya(g,n):n)),s||!C||C&&e.shouldComponentUpdate(t,n,r)){!v&&yn(e.componentWillUpdate)&&e.componentWillUpdate(t,n,r),e.props=t,e.state=n,e.context=r;var b=null,E=ZC(e,t,r);v&&yn(e.getSnapshotBeforeUpdate)&&(b=e.getSnapshotBeforeUpdate(_,g)),Fs(e.$LI,E,i,e.$CX,o,l,h),e.$LI=E,yn(e.componentDidUpdate)&&function _1(e,n,t,i,r){r.push(function(){e.componentDidUpdate(n,t,i)})}(e,_,g,b,h)}else e.props=t,e.state=n,e.context=r}var yo,Xf,iy=0;function Il(e,n,t,i){void 0===t&&(t=null),void 0===i&&(i=di),function PR(e,n,t,i){var r=[],o=n.$V;Eu.v=!0,jt(o)?jt(e)||(16384&e.flags&&(e=ui(e)),ci(e,n,i,!1,null,r),n.$V=e,o=e):jt(e)?(eo(o,n),n.$V=null):(16384&e.flags&&(e=ui(e)),Fs(o,e,n,i,!1,null,r),o=n.$V=e),FS(r),Eu.v=!1,yn(t)&&t(),yn(Sl.renderComplete)&&Sl.renderComplete(o,n)}(e,n,t,i)}typeof document<"u"&&window.Node&&(Node.prototype.$EV=null,Node.prototype.$V=null);var Zf=[],Qf=typeof Promise<"u"?Promise.resolve().then.bind(Promise.resolve()):function(e){window.setTimeout(e,0)},qh=!1;function kR(e,n,t,i){var r=e.$PS;if(yn(n)&&(n=n(r?ya(e.state,r):e.state,e.props,e.context)),jt(r))e.$PS=n;else for(var o in n)r[o]=n[o];if(e.$BR)yn(t)&&e.$L.push(t.bind(e));else{if(!Eu.v&&0===Zf.length)return ry(e,i),void(yn(t)&&t.call(e));if(-1===Zf.indexOf(e)&&Zf.push(e),i&&(e.$F=!0),qh||(qh=!0,Qf(oE)),yn(t)){var s=e.$QU;s||(s=e.$QU=[]),s.push(t)}}}function rE(e){for(var n=e.$QU,t=0;t<n.length;++t)n[t].call(e);e.$QU=null}function oE(){var e;for(qh=!1;e=Zf.shift();)if(!e.$UN){var n=e.$F;e.$F=!1,ry(e,n),e.$QU&&rE(e)}}function ry(e,n){if(n||!e.$BR){var t=e.$PS;e.$PS=null;var i=[];Eu.v=!0,ny(e,ya(e.state,t),e.props,Qr(e.$LI,!0).parentNode,e.context,e.$SVG,n,null,i),FS(i),Eu.v=!1}else e.state=e.$PS,e.$PS=null}var Xo=function(n,t){this.state=null,this.$BR=!1,this.$BS=!0,this.$PS=null,this.$LI=null,this.$UN=!1,this.$CX=null,this.$QU=null,this.$N=!1,this.$L=null,this.$SVG=!1,this.$F=!1,this.props=n||di,this.context=t||di};Xo.prototype.forceUpdate=function(n){this.$UN||kR(this,{},n,!0)},Xo.prototype.setState=function(n,t){this.$UN||this.$BS||kR(this,n,t,!1)},Xo.prototype.render=function(n,t,i){return null};var e_=(e,n)=>{if(!n)throw zt.Error("E0017");return Array.isArray(e)?e.map(t=>e_(t,n)).join(" "):-1!==e.indexOf(" ")?e_(e.split(/\s+/g),n):"".concat(e,".").concat(n)},BR=function(e,n){if(!function LR(e){var n=x(e);return n.is(":visible")&&"hidden"!==n.css("visibility")&&"hidden"!==n.parents().css("visibility")}(e))return!1;var t=e.nodeName.toLowerCase(),i=!isNaN(n),r=e.disabled;return/^(input|select|textarea|button|object|iframe)$/.test(t)||e.isContentEditable?!r:"a"===t&&e.href||i},sE=function(e,n){return BR(n,x(n).attr("tabIndex"))},aE=function(e,n){var t=x(n).attr("tabIndex");return(isNaN(t)||t>=0)&&BR(n,t)},xa=function(e){var n=x(e).get(0);return se.getActiveElement(n)===n},VR={backspace:"backspace",tab:"tab",enter:"enter",escape:"escape",pageup:"pageUp",pagedown:"pageDown",end:"end",home:"home",arrowleft:"leftArrow",arrowup:"upArrow",arrowright:"rightArrow",arrowdown:"downArrow",delete:"del"," ":"space",f:"F",a:"A","*":"asterisk","-":"minus",alt:"alt",control:"control",shift:"shift"},lE={8:"backspace",9:"tab",13:"enter",27:"escape",33:"pageUp",34:"pageDown",35:"end",36:"home",37:"leftArrow",38:"upArrow",39:"rightArrow",40:"downArrow",46:"del",32:"space",70:"F",65:"A",106:"asterisk",109:"minus",189:"minus",173:"minus",16:"shift",17:"control",18:"alt"},dE={dx:/^dx/i,mouse:/(mouse|wheel)/i,touch:/^touch/i,keyboard:/^key/i,pointer:/^(ms)?pointer/i},t_=e=>"dx"===Tl(e),hE=e=>"touch"===Tl(e),Tl=e=>{var{type:n}=e,t="other";return B(dE,function(i){if(this.test(n))return t=i,!1}),t},pE=e=>"pointer"===Tl(e),ba=e=>(e=>"mouse"===Tl(e))(e)||(pE(e)||t_(e))&&"mouse"===e.pointerType,Wi=e=>e&&"dxmousewheel"===e.type,Mu=e=>hE(e)||(pE(e)||t_(e))&&"touch"===e.pointerType,In=e=>{var{pageX:n,pageY:t,timeStamp:i}=e;return{x:n,y:t,time:i}},Au=(e,n)=>({x:n.x-e.x,y:n.y-e.y,time:n.time-e.time||1}),zR=e=>{var{target:n}=e,t=x(n),i=n?.isContentEditable||n?.hasAttribute("contenteditable"),r=t.is("input, textarea, select")||i;return Wi(e)?!(t.is("textarea")&&t.hasClass("dx-texteditor-input")||i)&&t.is("input[type='number'], textarea, select")&&t.is(":focus"):ba(e)?r||e.which>1:Mu(e)?r&&xa(t):void 0},Ml=(e,n)=>{var t=(e=>R.Event(e,e))(e);return n&&A(t,n),t},Al=e=>{var{originalEvent:n,delegateTarget:t}=e,i=Ml(n,e);return R.trigger(t||i.target,i),i},xn=e=>{var{key:n,which:t}=e,i=VR[n?.toLowerCase()]||n,r=lE[t];return r&&i===n?r:!i&&t?String.fromCharCode(t):i},_E=e=>{var{key:n,which:t}=e;return n||String.fromCharCode(t)},fe=e_,Un=e=>{var{ctrlKey:n,metaKey:t}=e;return n||t},mE="compositionstart",sy="KeyboardProcessor",$R=e=>({keyName:xn(e),key:e.key,code:e.code,ctrl:e.ctrlKey,location:e.location,metaKey:e.metaKey,shift:e.shiftKey,alt:e.altKey,which:e.which,originalEvent:e}),GR=kt.inherit({_keydown:fe("keydown",sy),_compositionStart:fe(mE,sy),_compositionEnd:fe("compositionend",sy),ctor:function(e){(e=e||{}).element&&(this._element=x(e.element)),e.focusTarget&&(this._focusTarget=e.focusTarget),this._handler=e.handler,this._element&&(this._processFunction=n=>{var t=x(this._focusTarget).toArray(),i=this._focusTarget&&this._focusTarget!==n.target&&!t.includes(n.target),r=this._isComposingJustFinished&&229===n.which||this._isComposing||i;this._isComposingJustFinished=!1,r||this.process(n)},this._toggleProcessingWithContext=this.toggleProcessing.bind(this),R.on(this._element,this._keydown,this._processFunction),R.on(this._element,this._compositionStart,this._toggleProcessingWithContext),R.on(this._element,this._compositionEnd,this._toggleProcessingWithContext))},dispose:function(){this._element&&(R.off(this._element,this._keydown,this._processFunction),R.off(this._element,this._compositionStart,this._toggleProcessingWithContext),R.off(this._element,this._compositionEnd,this._toggleProcessingWithContext)),this._element=void 0,this._handler=void 0},process:function(e){this._handler($R(e))},toggleProcessing:function(e){var{type:n}=e;this._isComposing=n===mE,this._isComposingJustFinished=!this._isComposing}});GR.createKeyDownOptions=$R;const vE=GR,Oa={lockCount:0,lock(){this.lockCount++},callbacks:[],callEffects(){if(this.lockCount--,this.lockCount<0)throw new Error("Unexpected Effect Call");if(0===this.lockCount){const e=this.callbacks;this.callbacks=[],e.forEach(n=>n())}}},ay=(e,n)=>{if(!(e instanceof Object&&n instanceof Object))return e===n;const i=Object.keys(e),r=Object.keys(n);return i.length===r.length&&!i.some(s=>e[s]!==n[s])};class xo extends Xo{constructor(){super(...arguments),this._pendingContext=this.context}componentWillReceiveProps(n,t){this._pendingContext=t??{}}shouldComponentUpdate(n,t){return!ay(this.props,n)||!ay(this.state,t)||!ay(this.context,this._pendingContext)}}class Zo extends xo{constructor(){super(...arguments),this._effects=[]}createEffects(){return[]}updateEffects(){}componentWillMount(){Oa.lock()}componentWillUpdate(n,t,i){Oa.lock()}componentDidMount(){Oa.callbacks.push(()=>{this._effects=this.createEffects()}),Oa.callEffects()}componentDidUpdate(){Oa.callbacks.push(()=>this.updateEffects()),Oa.callEffects()}destroyEffects(){this._effects.forEach(n=>n.dispose())}componentWillUnmount(){this.destroyEffects()}}class i_ extends Zo{constructor(){super(...arguments),this.vDomElement=null}vDomUpdateClasses(){const n=this.vDomElement,t=n.className.length?n.className.split(" "):[],i=t.filter(o=>n.dxClasses.previous.indexOf(o)<0),r=n.dxClasses.previous.filter(o=>t.indexOf(o)<0);i.forEach(o=>{const s=n.dxClasses.removed.indexOf(o);s>-1?n.dxClasses.removed.splice(s,1):n.dxClasses.added.push(o)}),r.forEach(o=>{const s=n.dxClasses.added.indexOf(o);s>-1?n.dxClasses.added.splice(s,1):n.dxClasses.removed.push(o)})}componentDidMount(){const n=Qr(this.$LI,!0);this.vDomElement=n,super.componentDidMount(),n.dxClasses=n.dxClasses||{removed:[],added:[],previous:[]},n.dxClasses.previous=n?.className.length?n.className.split(" "):[]}componentDidUpdate(){super.componentDidUpdate();const n=this.vDomElement;null!==n&&(n.dxClasses.added.forEach(t=>n.classList.add(t)),n.dxClasses.removed.forEach(t=>n.classList.remove(t)),n.dxClasses.previous=n.className.length?n.className.split(" "):[])}shouldComponentUpdate(n,t){const i=super.shouldComponentUpdate(n,t);return i&&this.vDomUpdateClasses(),i}}let UR=0;const Ru=function(e){const n=UR++;return{id:n,defaultValue:e,Provider:class extends Xo{getChildContext(){return Object.assign(Object.assign({},this.context),{[n]:this.props.value||e})}render(){return this.props.children}}}};class tn{constructor(n,t){this.dependency=t,this.effect=n,this.destroy=n()}update(n){const t=this.dependency;n&&(this.dependency=n),(!n||n.some((i,r)=>t[r]!==i))&&(this.dispose(),this.destroy=this.effect())}dispose(){this.destroy&&this.destroy()}}const Jh=()=>new tn(()=>{oE()},[]),jR="a runtime error occured! Use Inferno in development environment to find the error.";function Da(e){return null===e}function CE(e,n,t,i,r,o){const s=e.childFlags,l=e.children,h=e.props,g=e.flags;if(1!==s){if(2===s)Da(t)?ci(l,n,i,r,null,o):t=(t=Pu(l,n,t,i,r,o))?t.nextSibling:null;else if(16===s)Da(t)?n.appendChild(document.createTextNode(l)):1!==n.childNodes.length||3!==t.nodeType?n.textContent=l:t.nodeValue!==l&&(t.nodeValue=l),t=null;else if(12&s){let _=!1;for(let v=0,C=l.length;v<C;++v){const b=l[v];Da(t)||_&&(16&b.flags)>0?ci(b,n,i,r,t,o):t=(t=Pu(b,n,t,i,r,o))?t.nextSibling:null,_=(16&b.flags)>0}}if(!(8192&g)){let _=null;for(;t;)_=t.nextSibling,n.removeChild(t),t=_}}else!Da(n.firstChild)&&!function QR(e,n){return!!(n&&n.dangerouslySetInnerHTML&&n.dangerouslySetInnerHTML.__html&&function XR(e,n){const t=document.createElement("i");return t.innerHTML=n,t.innerHTML===e.innerHTML}(e,n.dangerouslySetInnerHTML.__html))}(n,h)&&(n.textContent="",448&g&&(n.defaultValue=""))}function yE(e,n,t){if(3!==t.nodeType)n.replaceChild(e.dom=document.createTextNode(e.children),t);else{const i=e.children;t.nodeValue!==i&&(t.nodeValue=i),e.dom=t}return e.dom}function Pu(e,n,t,i,r,o){const s=e.flags|=16384;return 14&s?function eP(e,n,t,i,r,o,s){const h=e.ref;let _;if(o){const v=Jf(e,e.type,e.props||di,i,r,s);_=Pu(v.$LI,n,t,v.$CX,r,s),ey(h,v,s)}else{const v=Vh(Kh(e,i));_=Pu(v,n,t,i,r,s),e.children=v,ty(e,s)}return _}(e,n,t,i,r,(4&s)>0,o):481&s?function tP(e,n,t,i,r,o){const s=e.props,l=e.className,h=e.flags,g=e.ref;return r=r||(32&h)>0,1!==t.nodeType?(QC(e,null,i,r,null,o),n.replaceChild(e.dom,t)):(e.dom=t,CE(e,t,t.firstChild,i,r,o),Da(s)||qf(e,h,s,t,r),function KR(e){return null==e}(l)?""!==t.className&&t.removeAttribute("class"):r?t.setAttribute("class",l):t.className=l,Gh(g,t,o)),e.dom}(e,n,t,i,r,o):16&s?yE(e,n,t):512&s?e.dom=t:8192&s?function nP(e,n,t,i,r,o){const s=e.children;return 2===e.childFlags?(yE(s,n,t),s.dom):(CE(e,n,t,i,r,o),function ZR(e){let n,t;for(;e;){if(n=e.flags,2033&n)return e.dom;t=e.children,e=8192&n?2===e.childFlags?t:t[t.length-1]:4&n?t.$LI:t}return null}(s[s.length-1]))}(e,n,t,i,r,o):(function JR(e){throw e||(e=jR),new Error(`Inferno Error: ${e}`)}(),null)}function xE(e){return null==e}function dy(e){return void 0===e}var bE={onComponentDidMount:1,onComponentDidUpdate:1,onComponentShouldUpdate:1,onComponentWillMount:1,onComponentWillUnmount:1,onComponentWillUpdate:1};function uy(e,n,t){var r,g,i=arguments,o=null,s=null,l=null,h=0,_=arguments.length-2;if(1===_)r=t;else if(_>1)for(r=[];_-- >0;)r[_]=i[_+2];if(!function iP(e){return"string"==typeof e}(e)){if(h=2,dy(r)||(n||(n={}),n.children=r),!xE(n))for(var C in g={},n)"key"===C?s=n.key:"ref"===C?o=n.ref:1===bE[C]?(o||(o={}),o[C]=n[C]):g[C]=n[C];return rn(h,e,g,s,o)}if(h=function uR(e){switch(e){case"svg":return 32;case"input":return 64;case"select":return 256;case"textarea":return 128;case"$F":return 8192;default:return 1}}(e),!xE(n))for(var v in g={},n)"className"===v||"class"===v?l=n[v]:"key"===v?s=n.key:"children"===v&&dy(r)?r=n.children:"ref"===v?o=n.ref:("contenteditable"===v&&(h|=4096),g[v]=n[v]);return 8192&h?As(1===_?[r]:r,0,s):wn(h,e,l,r,0,g,s,o)}const O1=new Set(["animationIterationCount","borderImageOutset","borderImageSlice","border-imageWidth","boxFlex","boxFlexGroup","boxOrdinalGroup","columnCount","fillOpacity","flex","flexGrow","flexNegative","flexOrder","flexPositive","flexShrink","floodOpacity","fontWeight","gridColumn","gridRow","lineClamp","lineHeight","opacity","order","orphans","stopOpacity","strokeDasharray","strokeDashoffset","strokeMiterlimit","strokeOpacity","strokeWidth","tabSize","widows","zIndex","zoom"]),cy=/[A-Z]/g;function hy(e){if(e instanceof Object)return Object.entries(e).reduce((n,[t,i])=>(n[(e=>e.replace(cy,"-$&").toLowerCase())(t)]=(e=>"number"==typeof e||!Number.isNaN(Number(e)))(i)?((e,n)=>O1.has(e)?n:`${n}px`)(t,i):i,n),{})}var r_=e=>{var{parentNode:n}=e;if(n){var t=e.nextSibling;Sh(e),n.$V=e.$V,Il(null,n),n.insertBefore(e,t),e.innerHTML="",delete n.$V}delete e.$V};const Rl=Xr({createElement:(e,n)=>uy(e,n),remove:r_,onAfterRender:()=>{Oa.callEffects()},onPreRender:()=>{Oa.lock()},render:(e,n,t,i)=>{if(i)Il(uy(e,n),t);else{var{parentNode:r}=t,o=t?.nextSibling,s=se.createElement("div");s.appendChild(t);var l=se.createDocumentFragment().appendChild(s);!!t.$V&&r_(t),function ly(e,n,t){let i=n.firstChild;if(Da(i))Il(e,n,t);else{const r=[];for(function YR(e){return null===e||!1===e||!0===e||void 0===e}(e)||(i=Pu(e,n,i,{},!1,r));i&&(i=i.nextSibling);)n.removeChild(i);if(r.length>0){let o;for(;void 0!==(o=r.shift());)o()}}n.$V=e,function qR(e){return"function"==typeof e}(t)&&t()}(uy(e,n),l),t.$V=l.$V,r&&r.insertBefore(t,o)}}});var o_=[],aP=Wo(()=>{var e=se.listen(se.getDocument(),"DOMContentLoaded",()=>{py.fire(),e()})}),py={add:e=>{var n=rt();n&&"loading"!==se.getReadyState()?e():(o_.push(e),n&&aP())},fire:()=>{o_.forEach(e=>e()),o_=[]}};const Nr=Xr(py);var DE=function(){var e,n=Et(),t=n.add,i=n.remove;if(!rt())return n;var l,r=function(){var h=ut();return{width:h.innerWidth,height:h.innerHeight}},o=function(){var g,h=r();h.width===e.width&&h.height===e.height||(h.width===e.width&&(g="height"),h.height===e.height&&(g="width"),e=h,n.fire(g))},s=Wo(function(){e=r()});return n.add=function(){var h=t.apply(n,arguments);return s(),Nr.add(function(){!l&&n.has()&&(l=se.listen(ut(),"resize",o))}),h},n.remove=function(){var h=i.apply(n,arguments);return!n.has()&&l&&(l(),l=void 0),h},n}();const Sa=DE;var dP=ut(),s_=function(){var e;try{e=dP.sessionStorage}catch{}return e},Ea=Nr.add,Xh=Et(),a_=x(),ks=function(){var e;return function(n){if(!arguments.length)return e;var t=x(n);a_=t;var i=!!t.length,r=ks();e=i?t:x("body"),Xh.fire(i?ks():x(),r)}}();function EE(){return a_}Ea(function(){ks(".dx-viewport")});var D1=Ch(),gy=ut(),uP={iPhone:"iPhone",iPhone5:"iPhone",iPhone6:"iPhone",iPhone6plus:"iPhone",iPad:"iPad",iPadMini:"iPad Mini",androidPhone:"Android Mobile",androidTablet:"Android",msSurface:"Windows ARM Tablet PC",desktop:"desktop"},cP={deviceType:"desktop",platform:"generic",version:[],phone:!1,tablet:!1,android:!1,ios:!1,generic:!0,grade:"A",mac:!1},hP={generic(e){var n=/windows phone/i.test(e)||e.match(/WPDesktop/),t=!n&&/Windows(.*)arm(.*)Tablet PC/i.test(e),i=!n&&!t&&/msapphost/i.test(e),r=/((intel|ppc) mac os x)/.test(e.toLowerCase());if(n||t||i||r)return{deviceType:n?"phone":t?"tablet":"desktop",platform:"generic",version:[],grade:"A",mac:r}},ios(e){if(/ip(hone|od|ad)/i.test(e)){var n=/ip(hone|od)/i.test(e),t=e.match(/os (\d+)_(\d+)_?(\d+)?/i);return{deviceType:n?"phone":"tablet",platform:"ios",version:t?[parseInt(t[1],10),parseInt(t[2],10),parseInt(t[3]||0,10)]:[],grade:480===gy.screen.height?"B":"A"}}},android(e){if(/android|htc_|silk/i.test(e)){var n=/mobile/i.test(e),t=e.match(/android (\d+)\.?(\d+)?\.?(\d+)?/i),i=t?[parseInt(t[1],10),parseInt(t[2]||0,10),parseInt(t[3]||0,10)]:[];return{deviceType:n?"phone":"tablet",platform:"android",version:i,grade:i.length>1&&(i[0]<4||4===i[0]&&i[1]<4)?"B":"A"}}}},Zh=new class pP{constructor(n){this._window=n?.window||gy,this._realDevice=this._getDevice(),this._currentDevice=void 0,this._currentOrientation=void 0,this._eventsStrategy=new qo(this),this.changed=Et(),rt()&&(Nr.add(this._recalculateOrientation.bind(this)),Sa.add(this._recalculateOrientation.bind(this)))}current(n){if(n)return this._currentDevice=this._getDevice(n),this._forced=!0,void this.changed.fire();if(!this._currentDevice){n=void 0;try{n=this._getDeviceOrNameFromWindowScope()}catch{n=this._getDeviceNameFromSessionStorage()}finally{n||(n=this._getDeviceNameFromSessionStorage()),n&&(this._forced=!0)}this._currentDevice=this._getDevice(n)}return this._currentDevice}real(n){return A({},this._realDevice)}orientation(){return this._currentOrientation}isForced(){return this._forced}isRippleEmulator(){return!!this._window.tinyHippos}_getCssClasses(n){var t=[],i=this._realDevice;return(n=n||this.current()).deviceType&&(t.push("dx-device-".concat(n.deviceType)),"desktop"!==n.deviceType&&t.push("dx-device-mobile")),t.push("dx-device-".concat(i.platform)),i.version&&i.version.length&&t.push("dx-device-".concat(i.platform,"-").concat(i.version[0])),this.isSimulator()&&t.push("dx-simulator"),un().rtlEnabled&&t.push("dx-rtl"),t}attachCssClasses(n,t){this._deviceClasses=this._getCssClasses(t).join(" "),x(n).addClass(this._deviceClasses)}detachCssClasses(n){x(n).removeClass(this._deviceClasses)}isSimulator(){try{return this._isSimulator||rt()&&this._window.top!==this._window.self&&this._window.top["dx-force-device"]||this.isRippleEmulator()}catch{return!1}}forceSimulator(){this._isSimulator=!0}_getDevice(n){if("genericPhone"===n&&(n={deviceType:"phone",platform:"generic",generic:!0}),ft(n))return this._fromConfig(n);var t;if(n){if(!(t=uP[n]))throw zt.Error("E0005")}else t=D1.userAgent;return this._fromUA(t)}_getDeviceOrNameFromWindowScope(){var n;return rt()&&(this._window.top["dx-force-device-object"]||this._window.top["dx-force-device"])&&(n=this._window.top["dx-force-device-object"]||this._window.top["dx-force-device"]),n}_getDeviceNameFromSessionStorage(){var n=s_();if(n){var t=n.getItem("dx-force-device");try{return JSON.parse(t)}catch{return t}}}_fromConfig(n){var t=A({},cP,this._currentDevice,n);return A(t,{phone:"phone"===t.deviceType,tablet:"tablet"===t.deviceType,android:"android"===t.platform,ios:"ios"===t.platform,generic:"generic"===t.platform})}_fromUA(n){var t;return B(hP,(i,r)=>!(t=r(n))),t?this._fromConfig(t):cP}_changeOrientation(){var n=x(this._window),t=gt(n)>Ze(n)?"portrait":"landscape";this._currentOrientation!==t&&(this._currentOrientation=t,this._eventsStrategy.fireEvent("orientationChanged",[{orientation:t}]))}_recalculateOrientation(){var n=Ze(this._window);this._currentWidth!==n&&(this._currentWidth=n,this._changeOrientation())}on(n,t){return this._eventsStrategy.on(n,t),this}off(n,t){return this._eventsStrategy.off(n,t),this}},wE=ks();wE&&Zh.attachCssClasses(wE),Xh.add((e,n)=>{Zh.detachCssClasses(n),Zh.attachCssClasses(e)});const $e=Zh;var fy={},Pl=e=>{var n=$e.current();return e.reduce((t,i)=>{var{device:r,options:o}=i,s=r||{};return(Re(s)?s(n):_y(n,s))&&A(!0,t,o),t},{})},_y=(e,n)=>Pr(n)||cf(e,[n]).length>0,my=e=>e.substr(e.lastIndexOf(".")+1),vy=e=>e.substr(0,e.lastIndexOf(".")),l_={},Fl={};class d_{constructor(n,t){this._options=n,this._optionsByReference=t}_setByReference(n,t){for(var i in A(!0,n,t),this._optionsByReference)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}_setPreparedValue(n,t,i,r){var o=this.get(this._options,n,!1);if(!function(e,n){return e=wi(e,!0),n=wi(n,!0),e&&n&&Fr(e)&&Fr(n)?n.is(e):!(e==e||n==n)||(0===e&&0===n?function(e,n){return 1/e==1/n}(e,n):!(null!==e&&"object"==typeof e&&!se.isElementNode(e))&&e===n)}(o,t)){var s=ca(n);!r&&this._changingCallback(n,o,t),Fl[n]=Fl[n]||Wv(n),Fl[n](this._options,t,{functionsAsIs:!0,merge:T(i)?i:!this._optionsByReference[n],unwrapObservables:s.length>1&&!!this._optionsByReference[s[0]]}),!r&&this._changedCallback(n,t,o)}}_prepareRelevantNames(n,t,i,r){if(ft(i))for(var o in i)this._prepareRelevantNames(n,"".concat(t,".").concat(o),i[o]);this._namePreparedCallbacks(n,t,i,r)}get(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._options,t=arguments.length>1?arguments[1]:void 0,i=arguments.length>2?arguments[2]:void 0;return l_[t]=l_[t]||Yt(t),l_[t](n,{functionsAsIs:!0,unwrapObservables:i})}set(n,t,i,r){for(var o in n=((e,n)=>"string"!=typeof e?e:{[e]:n})(n,t),n)this._prepareRelevantNames(n,o,n[o],r);for(var s in n)this._setPreparedValue(s,n[s],i,r)}onRelevantNamesPrepared(n){this._namePreparedCallbacks=n}onChanging(n){this._changingCallback=n}onChanged(n){this._changedCallback=n}dispose(){this._changingCallback=U,this._changedCallback=U}}class TE{constructor(n,t,i,r){this._default=t,this._deprecated=r,this._deprecatedNames=[],this._initDeprecatedNames(),this._optionManager=new d_(n,i),this._optionManager.onRelevantNamesPrepared((o,s,l,h)=>this._setRelevantNames(o,s,l,h)),this._cachedOptions={},this._rules=[]}set _initial(n){this._initialOptions=n}get _initial(){if(!this._initialOptions){var n=this._getByRules(this.silent("defaultOptionsRules"));this._initialOptions=this._default,this._optionManager._setByReference(this._initialOptions,n)}return this._initialOptions}_initDeprecatedNames(){for(var n in this._deprecated)this._deprecatedNames.push(n)}_getByRules(n){return n=Array.isArray(n)?this._rules.concat(n):this._rules,Pl(n)}_notifyDeprecated(n){var t=this._deprecated[n];t&&this._deprecatedCallback(n,t)}_setRelevantNames(n,t,i,r){if(t){var o=this._normalizeName(t,r);o&&o!==t&&(this._setField(n,o,i),this._clearField(n,t))}}_setField(n,t,i){var r="",o=null;do{r=r?".".concat(r):"",r=my(t)+r,o=(t=vy(t))?this._optionManager.get(n,t,!1):n}while(!o);o[r]=i}_clearField(n,t){delete n[t];var i=vy(t),r=i?this._optionManager.get(n,i,!1):n;r&&delete r[my(t)]}_normalizeName(n,t){if(this._deprecatedNames.length&&n)for(var i=0;i<this._deprecatedNames.length;i++)if(this._deprecatedNames[i]===n){var r=this._deprecated[n];if(r)return!t&&this._notifyDeprecated(n),r.alias||n}return n}addRules(n){this._rules=n.concat(this._rules)}applyRules(n){var t=this._getByRules(n);this.silent(t)}dispose(){this._deprecatedCallback=U,this._startChangeCallback=U,this._endChangeCallback=U,this._optionManager.dispose()}onChanging(n){this._optionManager.onChanging(n)}onChanged(n){this._optionManager.onChanged(n)}onDeprecated(n){this._deprecatedCallback=n}onStartChange(n){this._startChangeCallback=n}onEndChange(n){this._endChangeCallback=n}isInitial(n){var t=this.silent(n),i=this.initial(n);return Re(t)&&Re(i)?t.toString()===i.toString():Jt(t,i)}initial(n){return function(e,n){return fy[n]=fy[n]||Yt(n),fy[n](e,{functionsAsIs:!0})}(this._initial,n)}option(n,t){if(arguments.length<2&&"object"!==Rr(n))return this._optionManager.get(void 0,this._normalizeName(n));this._startChangeCallback();try{this._optionManager.set(n,t)}finally{this._endChangeCallback()}}silent(n,t){if(arguments.length<2&&"object"!==Rr(n))return this._optionManager.get(void 0,n,void 0,!0);this._optionManager.set(n,t,void 0,!0)}reset(n){if(n){var i=ca(n).reduce((o,s)=>o?o[s]:this.initial(s),null),r=qe(i)?de({},i):i;this._optionManager.set(n,r,!1)}}getAliasesByName(n){return Object.keys(this._deprecated).filter(t=>n===this._deprecated[t].alias)}isDeprecated(n){return Object.prototype.hasOwnProperty.call(this._deprecated,n)}cache(n,t){if(arguments.length<2)return this._cachedOptions[n];this._cachedOptions[n]=A(this._cachedOptions[n],t)}}let wa=(()=>{class e{constructor(t,i){i=i||{},this._action=t,this._context=i.context||ut(),this._beforeExecute=i.beforeExecute,this._afterExecute=i.afterExecute,this._component=i.component,this._validatingTargetName=i.validatingTargetName;var r=this._excludeValidators={};if(i.excludeValidators)for(var o=0;o<i.excludeValidators.length;o++)r[i.excludeValidators[o]]=!0}execute(){var t={action:this._action,args:Array.prototype.slice.call(arguments),context:this._context,component:this._component,validatingTargetName:this._validatingTargetName,cancel:!1,handled:!1},i=this._beforeExecute,r=this._afterExecute,o=t.args[0]||{};if(this._validateAction(t)&&(i?.call(this._context,t),!t.cancel)){var s=this._executeAction(t);if(!o.cancel)return r?.call(this._context,t),s}}_validateAction(t){var i=this._excludeValidators,{executors:r}=e;for(var o in r)if(!i[o]){var s,l=r[o];if(null===(s=l.validate)||void 0===s||s.call(l,t),t.cancel)return!1}return!0}_executeAction(t){var i,{executors:r}=e;for(var o in r){var s,l=r[o];if(null===(s=l.execute)||void 0===s||s.call(l,t),t.handled){i=t.result;break}}return i}static registerExecutor(t,i){ft(t)?B(t,e.registerExecutor):e.executors[t]=i}static unregisterExecutor(){for(var t=arguments.length,i=new Array(t),r=0;r<t;r++)i[r]=arguments[r];B(i,function(){delete e.executors[this]})}}return e.executors={},e})();var ME=e=>n=>{if(n.args.length){var t=n.args[0],i=t[n.validatingTargetName]||t.element;i&&e(x(i))&&(n.cancel=!0)}};wa.registerExecutor({disabled:{validate:ME(e=>e.is(".dx-state-disabled, .dx-state-disabled *"))},readOnly:{validate:ME(e=>e.is(".dx-state-readonly, .dx-state-readonly *:not(.dx-state-independent)"))},undefined:{execute:e=>{e.action||(e.result=void 0,e.handled=!0)}},func:{execute:e=>{Re(e.action)&&(e.result=e.action.call(e.context,e.args[0]),e.handled=!0)}}});class fP{constructor(){this._postponedOperations={}}add(n,t,i){if(n in this._postponedOperations)i&&this._postponedOperations[n].promises.push(i);else{var r=new W;this._postponedOperations[n]={fn:t,completePromise:r,promises:i?[i]:[]}}return this._postponedOperations[n].completePromise.promise()}callPostponedOperations(){for(var n in this._postponedOperations){var t=this._postponedOperations[n];T(t)&&(t.promises&&t.promises.length?ke(...t.promises).done(t.fn).then(t.completePromise.resolve):t.fn().done(t.completePromise.resolve))}this._postponedOperations={}}}var _P=e=>e.charAt(2).toLowerCase()+e.substr(3),AE=e=>0===e.indexOf("_",0),RE=kt.inherit({_setDeprecatedOptions(){this._deprecatedOptions={}},_getDeprecatedOptions(){return this._deprecatedOptions},_getDefaultOptions:()=>({onInitialized:null,onOptionChanged:null,onDisposing:null,defaultOptionsRules:null}),_defaultOptionsRules:()=>[],_setOptionsByDevice(e){this._options.applyRules(e)},_convertRulesToOptions:e=>Pl(e),_isInitialOptionValue(e){return this._options.isInitial(e)},_setOptionsByReference(){this._optionsByReference={}},_getOptionsByReference(){return this._optionsByReference},ctor(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{_optionChangedCallbacks:n,_disposingCallbacks:t}=e;this.NAME=Yo(this.constructor),this._eventsStrategy=qo.create(this,e.eventsStrategy),this._updateLockCount=0,this._optionChangedCallbacks=n||Et(),this._disposingCallbacks=t||Et(),this.postponedOperations=new fP,this._createOptions(e)},_createOptions(e){this.beginUpdate();try{this._setOptionsByReference(),this._setDeprecatedOptions(),this._options=new TE(this._getDefaultOptions(),this._getDefaultOptions(),this._getOptionsByReference(),this._getDeprecatedOptions()),this._options.onChanging((n,t,i)=>this._initialized&&this._optionChanging(n,t,i)),this._options.onDeprecated((n,t)=>this._logDeprecatedOptionWarning(n,t)),this._options.onChanged((n,t,i)=>this._notifyOptionChanged(n,t,i)),this._options.onStartChange(()=>this.beginUpdate()),this._options.onEndChange(()=>this.endUpdate()),this._options.addRules(this._defaultOptionsRules()),e&&e.onInitializing&&e.onInitializing.apply(this,[e]),this._setOptionsByDevice(e.defaultOptionsRules),this._initOptions(e)}finally{this.endUpdate()}},_initOptions(e){this.option(e)},_init(){this._createOptionChangedAction(),this.on("disposing",e=>{this._disposingCallbacks.fireWith(this,[e])})},_logDeprecatedOptionWarning(e,n){var t=n.message||"Use the '".concat(n.alias,"' option instead");zt.log("W0001",this.NAME,e,n.since,t)},_logDeprecatedComponentWarning(e,n){zt.log("W0000",this.NAME,e,"Use the '".concat(n,"' widget instead"))},_createOptionChangedAction(){this._optionChangedAction=this._createActionByOption("onOptionChanged",{excludeValidators:["disabled","readOnly"]})},_createDisposingAction(){this._disposingAction=this._createActionByOption("onDisposing",{excludeValidators:["disabled","readOnly"]})},_optionChanged(e){switch(e.name){case"onDisposing":case"onInitialized":break;case"onOptionChanged":this._createOptionChangedAction()}},_dispose(){this._optionChangedCallbacks.empty(),this._createDisposingAction(),this._disposingAction(),this._eventsStrategy.dispose(),this._options.dispose(),this._disposed=!0},_lockUpdate(){this._updateLockCount++},_unlockUpdate(){this._updateLockCount=Math.max(this._updateLockCount-1,0)},_isUpdateAllowed(){return 0===this._updateLockCount},_isInitializingRequired(){return!this._initializing&&!this._initialized},isInitialized(){return this._initialized},_commitUpdate(){this.postponedOperations.callPostponedOperations(),this._isInitializingRequired()&&this._initializeComponent()},_initializeComponent(){this._initializing=!0;try{this._init()}finally{this._initializing=!1,this._lockUpdate(),this._createActionByOption("onInitialized",{excludeValidators:["disabled","readOnly"]})(),this._unlockUpdate(),this._initialized=!0}},instance(){return this},beginUpdate:function(){this._lockUpdate()},endUpdate:function(){this._unlockUpdate(),this._isUpdateAllowed()&&this._commitUpdate()},_optionChanging:U,_notifyOptionChanged(e,n,t){if(this._initialized)for(var i=[e].concat(this._options.getAliasesByName(e)),r=0;r<i.length;r++){var o=i[r],s={name:ca(o)[0],fullName:o,value:n,previousValue:t};AE(o)||(this._optionChangedCallbacks.fireWith(this,[A(this._defaultActionArgs(),s)]),this._optionChangedAction(A({},s))),!this._disposed&&this._cancelOptionChange!==o&&this._optionChanged(s)}},initialOption(e){return this._options.initial(e)},_defaultActionConfig(){return{context:this,component:this}},_defaultActionArgs(){return{component:this}},_createAction(e,n){var t;return i=>(T(i)||(i={}),ft(i)||(i={actionValue:i}),(t=t||new wa(e,A(n,this._defaultActionConfig()))).execute.call(t,A(i,this._defaultActionArgs())))},_createActionByOption(e,n){var i,r,o,t=this,s=function(){if(!r){if(n=n||{},"string"!=typeof e)throw zt.Error("E0008");0===e.indexOf("on")&&(r=_P(e)),o=t.option(e)}if(i||o||n.beforeExecute||n.afterExecute||t._eventsStrategy.hasEvent(r)){if(!i){var h=n.beforeExecute;n.beforeExecute=function(){for(var E=arguments.length,w=new Array(E),M=0;M<E;M++)w[M]=arguments[M];h&&h.apply(t,w),t._eventsStrategy.fireEvent(r,w[0].args)},i=t._createAction(o,n)}for(var g=arguments.length,_=new Array(g),v=0;v<g;v++)_[v]=arguments[v];return un().wrapActionsBeforeExecute?((t.option("beforeActionExecute")||U)(t,i,n)||i).apply(t,_):i.apply(t,_)}};return un().wrapActionsBeforeExecute?s:(this.option("onActionCreated")||U)(this,s,n)||s},on(e,n){return this._eventsStrategy.on(e,n),this},off(e,n){return this._eventsStrategy.off(e,n),this},hasActionSubscription:function(e){return!!this._options.silent(e)||this._eventsStrategy.hasEvent(_P(e))},isOptionDeprecated(e){return this._options.isDeprecated(e)},_setOptionWithoutOptionChange(e,n){this._cancelOptionChange=e,this.option(e,n),this._cancelOptionChange=!1},_getOptionValue(e,n){var t=this.option(e);return Re(t)?t.bind(n)():t},option(){return this._options.option(...arguments)},resetOption(e){this.beginUpdate(),this._options.reset(e),this.endUpdate()}}),Cy=ut(),Qh=()=>{var n,e=se.getActiveElement();e&&e!==se.getBody()&&(null===(n=e.blur)||void 0===n||n.call(e))},PE=(e,n)=>{var t=x(e),i=x(n);if(t[0]===i[0])return t[0];for(var r=t.parents(),o=i.parents(),l=-Math.min(r.length,o.length);l<0;l++)if(r.get(l)===o.get(l))return r.get(l)},u_=e=>{var n=T(e)&&(e.nodeType||Fr(e))?x(e):x("<div>").html(e).contents();return 1===n.length&&(n.is("script")?n=u_(n.html().trim()):n.is("table")&&(n=n.children("tbody").contents())),n},yy=(e,n)=>{var t=e.originalEvent&&e.originalEvent.clipboardData||Cy.clipboardData;if(!n)return t&&t.getData("Text");t&&t.setData("Text",n)},Ia=(e,n)=>!!n&&(Sn(e)?Ia(e.document,n):e.contains(n)||Ia(e,(e=>{if(e.getRootNode){var n=e.getRootNode().host;if(!je(n))return n}})(n))),xy=e=>{var n=e?.get(0),t=n?.getRootNode().host;return!!x(t||n).closest(ut().document).length},by=function(e){return function(n){for(var t=x(n||"body"),i=t.filter(".dx-visibility-change-handler").add(t.find(".dx-visibility-change-handler")),r=0;r<i.length;r++)R.triggerHandler(i[r],e)}},Fu=by("dxshown"),mP=by("dxhiding"),Qo=by("dxresize"),FE=Et({syncStrategy:!0});class Hr{render(n){var i,t=(n=n||{}).onRendered;return delete n.onRendered,i=n.renovated&&n.transclude&&this._element?x("<div>").append(this._element).contents():this._renderCore(n),this._ensureResultInContainer(i,n.container),FE.fire(i,n.container),t&&t(),i}_ensureResultInContainer(n,t){if(t){var i=x(t),r=Ia(i.get(0),n.get(0));i.append(n),r||se.getBody().contains(i.get(0))&&Fu(n)}}_renderCore(){throw zt.Error("E0001")}}class kl extends Hr{constructor(n){super(),this._render=n}_renderCore(n){return u_(this._render(n))}}class Bs extends Hr{_renderCore(){return x()}}class ep extends Hr{constructor(n){super(),this.name=n}}var ku,kE={};function vP(){return ku}(function Oy(e,n){kE[e]=n})("default",{compile:e=>u_(e),render:(e,n,t)=>e.clone()}),function c_(e){if(je(e)){if(!(ku=kE[e]))throw zt.Error("E0020",e)}else ku=e}("default");class A1 extends Hr{constructor(n){super(),this._element=n}_renderCore(n){var t=n.transclude;return!t&&!this._compiledTemplate&&(this._compiledTemplate=vP().compile(this._element)),x("<div>").append(t?this._element:vP().render(this._compiledTemplate,n.model,n.index)).contents()}source(){return x(this._element).clone()}}var LE=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=function CP(e){return e.reduce((n,t)=>{var i,r=(null!==(i=n.get(t))&&void 0!==i?i:0)+1;return n.set(t,r),n},new Map)}(arguments.length>1&&void 0!==arguments[1]?arguments[1]:[]);return e.filter(i=>{var r=t.get(i);return r&&t.set(i,r-1),!r})},tp=function(e,n,t,i){var r={},{useLegacyVisibleIndex:o}=un(),s=0,l=h=>!T(h[n])&&(!i||i(h));e.forEach(h=>{var g=h[n];g>=0?(r[g]=r[g]||[],h===t?r[g].unshift(h):r[g].push(h)):h[n]=void 0}),o||e.forEach(h=>{if(l(h)){for(;r[s];)s++;r[s]=[h],s++}}),s=0,ua(r,function(h,g){g.forEach(_=>{h>=0&&(_[n]=s++)})}),o&&e.forEach(h=>{l(h)&&(h[n]=s++)})},Dy=(e,n)=>{var t=x(e).contents().filter("[".concat("data-options",'*="').concat(n,'"]'));return[].slice.call(t).map(i=>{var r=x(i).attr("data-options")||"";return{element:i,options:un().optionsParser(r)[n]}}).filter(i=>!!i.options)},HE=e=>{var n=e.render.bind(e);return A({},e,{render(t){var i=n(t);return t&&t.onRendered&&t.onRendered(),i}})},h_=e=>Fr(e)&&e[0]||e,P1=e=>new A1(e),p_=(e,n,t,i,r,o)=>null==e?new Bs:e instanceof ep?o[e.name]:e instanceof Hr?e:Re(e.render)&&!Fr(e)?i?e:HE(e):e.nodeType||Fr(e)?n(x(e)):((e,n,t,i)=>{var r=null;return(!i||-1===i.indexOf(e))&&(r=n[e])&&!(r instanceof Hr)&&!t&&(r=HE(r)),r})(e,t,i,r)||o[e]||n(e),B1=new kl(e=>{var{model:n,parent:t}=e,i=n.widget;if(!i)return x();var r=x("<div>"),o=n.options||{};return t?t._createComponent(r,i,o):r[i](o),r});class DP{constructor(n,t){this._tempTemplates=[],this._defaultTemplates={},this._anonymousTemplateName=t||"template",this._createElement=n||P1,this._createTemplateIfNeeded=this._createTemplateIfNeeded.bind(this)}static createDefaultOptions(){return{integrationOptions:{watchMethod:function(n,t){return(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).skipImmediate||t(n()),U},templates:{"dx-polymorph-widget":B1},useDeferUpdateForTemplates:!0}}}get anonymousTemplateName(){return this._anonymousTemplateName}addDefaultTemplates(n){this._defaultTemplates=A({},this._defaultTemplates,n)}dispose(){this._tempTemplates.forEach(n=>{n.template.dispose&&n.template.dispose()}),this._tempTemplates=[]}extractTemplates(n){return{templates:this._extractTemplates(n),anonymousTemplateMeta:this._extractAnonymousTemplate(n)}}_extractTemplates(n){var t=Dy(n,"dxTemplate"),i=(e=>{var n=((e,n)=>e.reduce((t,i)=>{var r,o=(i=>i.options.name)(i);return t[o]=null!==(r=t[o])&&void 0!==r?r:[],t[o].push(i),t},{}))(e);if(n[void 0])throw zt.Error("E0023");var t={};return Object.keys(n).forEach(i=>{var r,o=null===(r=cf($e.current(),n[i],s=>s.options)[0])||void 0===r?void 0:r.element;o&&(t[i]=o)}),t})(t);return t.forEach(r=>{var{element:o,options:{name:s}}=r;o===i[s]?x(o).addClass("dx-template-wrapper").detach():x(o).remove()}),Object.keys(i).map(r=>({name:r,template:this._createTemplate(i[r])}))}_extractAnonymousTemplate(n){var t=n.contents().detach();return t.filter((r,o)=>{var s=3===o.nodeType,l=x(o).text().trim().length<1;return!(s&&l)}).length>0?{template:this._createTemplate(t),name:this._anonymousTemplateName}:{}}_createTemplateIfNeeded(n){var t=this._tempTemplates.filter(r=>r.source===h_(n))[0];if(t)return t.template;var i=this._createTemplate(n);return this._tempTemplates.push({template:i,source:h_(n)}),i}_createTemplate(n){return this._createElement((e=>"string"==typeof e?u_(e):e)(n))}getTemplate(n,t,i,r){var{isAsyncTemplate:o,skipTemplates:s}=i;return Re(n)?new kl(l=>{var h=n.apply(r,(e=>{var n=[];return"model"in e&&n.push(e.model),"index"in e&&n.push(e.index),n.push(e.container),n})(l));if(!T(h))return new Bs;var g=!1,_=p_(h,C=>C.nodeType||Fr(C)&&!x(C).is("script")?new kl(()=>C):(g=!0,this._createTemplate(C)),t,o,s,this._defaultTemplates),v=_.render(l);return g&&_.dispose&&_.dispose(),v}):p_(n,this._createTemplateIfNeeded,t,o,s,this._defaultTemplates)}}var $E=function(e){return e&&e.get(0)};function Ke(e){return $E(e)}function zn(e,n){return n?fe(e,n):e}function g_(e,n){return"function"==typeof e?e(n):e.execute(n)}var Sy_on=function(e,n){var{namespace:t}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};R.on(e,zn("dxresize",t),n)},Sy_off=function(e){var{namespace:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};R.off(e,zn("dxresize",n))},Bu_on=(e,n,t,i)=>{var{namespace:r}=i;R.on(e,zn("dxhiding",r),t),R.on(e,zn("dxshown",r),n)},Bu_off=(e,n)=>{var{namespace:t}=n;R.off(e,zn("dxhiding",t)),R.off(e,zn("dxshown",t))},np_trigger=e=>R.trigger(e,"focus"),f_=0,ip={},Ls_on=(e,n,t)=>{var i="keyboardProcessorId".concat(f_++);return ip[i]=new vE({element:e,focusTarget:n,handler:t}),i},Ls_off=e=>{e&&ip[e]&&(ip[e].dispose(),delete ip[e])},{abstract:rp}=RE,KE=RE.inherit({_getDefaultOptions(){return A(this.callBase(),{width:void 0,height:void 0,rtlEnabled:un().rtlEnabled,elementAttr:{},disabled:!1,integrationOptions:{}},this._useTemplates()?DP.createDefaultOptions():{})},ctor(e,n){this._customClass=null,this._createElement(e),pS(this._$element,this,this._dispose),this.callBase(n)},_createElement(e){this._$element=x(e)},_getSynchronizableOptionsForCreateComponent:()=>["rtlEnabled","disabled","templatesRenderAsynchronously"],_checkFunctionValueDeprecation:function(e){this.option("_ignoreFunctionValueDeprecation")||e.forEach(n=>{Re(this.option(n))&&zt.log("W0017",n)})},_visibilityChanged:rp,_dimensionChanged:rp,_init(){this.callBase(),this._checkFunctionValueDeprecation(["width","height","maxHeight","maxWidth","minHeight","minWidth","popupHeight","popupWidth"]),this._attachWindowResizeCallback(),this._initTemplateManager()},_setOptionsByDevice(e){this.callBase([].concat(this.constructor._classCustomRules||[],e||[]))},_isInitialOptionValue(e){return!(this.constructor._classCustomRules&&Object.prototype.hasOwnProperty.call(this._convertRulesToOptions(this.constructor._classCustomRules),e))&&this.callBase(e)},_attachWindowResizeCallback(){if(this._isDimensionChangeSupported()){var e=this._windowResizeCallBack=this._dimensionChanged.bind(this);Sa.add(e)}},_isDimensionChangeSupported(){return this._dimensionChanged!==rp},_renderComponent(){this._initMarkup(),rt()&&this._render()},_initMarkup(){var{rtlEnabled:e}=this.option()||{};this._renderElementAttributes(),this._toggleRTLDirection(e),this._renderVisibilityChange(),this._renderDimensions()},_render(){this._attachVisibilityChangeHandlers(),function BD(e){var n,t=e.get(0),i=null===(n=t.getRootNode)||void 0===n?void 0:n.call(t);if(null!=i&&i.host){_f||kD(_f=jv(i),t.ownerDocument.styleSheets,!1);var r=jv(i);kD(r,i.styleSheets,!0),i.adoptedStyleSheets=[_f,r]}}(this.$element())},_renderElementAttributes(){var{elementAttr:e}=this.option()||{},n=A({},e),t=n.class;delete n.class,this.$element().attr(n).removeClass(this._customClass).addClass(t),this._customClass=t},_renderVisibilityChange(){this._isDimensionChangeSupported()&&this._attachDimensionChangeHandlers(),this._isVisibilityChangeSupported()&&this.$element().addClass("dx-visibility-change-handler")},_renderDimensions(){var e=this.$element(),n=e.get(0),t=this._getOptionValue("width",n),i=this._getOptionValue("height",n);this._isCssUpdateRequired(n,i,t)&&e.css({width:null===t?"":t,height:null===i?"":i})},_isCssUpdateRequired:(e,n,t)=>!!(T(t)||T(n)||e.style.width||e.style.height),_attachDimensionChangeHandlers(){var e=this.$element(),n="".concat(this.NAME,"VisibilityChange");Sy_off(e,{namespace:n}),Sy_on(e,()=>this._dimensionChanged(),{namespace:n})},_attachVisibilityChangeHandlers(){if(this._isVisibilityChangeSupported()){var e=this.$element(),n="".concat(this.NAME,"VisibilityChange");this._isHidden=!this._isVisible(),Bu_off(e,{namespace:n}),Bu_on(e,()=>this._checkVisibilityChanged("shown"),()=>this._checkVisibilityChanged("hiding"),{namespace:n})}},_isVisible(){return this.$element().is(":visible")},_checkVisibilityChanged(e){this._isVisible()&&("hiding"!==e||this._isHidden?"shown"===e&&this._isHidden&&(this._isHidden=!1,this._visibilityChanged(!0)):(this._visibilityChanged(!1),this._isHidden=!0))},_isVisibilityChangeSupported(){return this._visibilityChanged!==rp&&rt()},_clean:U,_modelByElement(){var{modelByElement:e}=this.option(),n=this.$element();return e?e(n):void 0},_invalidate(){if(this._isUpdateAllowed())throw zt.Error("E0007");this._requireRefresh=!0},_refresh(){this._clean(),this._renderComponent()},_dispose(){this._templateManager&&this._templateManager.dispose(),this.callBase(),this._clean(),this._detachWindowResizeCallback()},_detachWindowResizeCallback(){this._isDimensionChangeSupported()&&Sa.remove(this._windowResizeCallBack)},_toggleRTLDirection(e){this.$element().toggleClass("dx-rtl",e)},_createComponent(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=Ii(this._getSynchronizableOptionsForCreateComponent(),_=>!(_ in t)),{integrationOptions:r}=this.option(),{nestedComponentOptions:o}=this.option(),s=A({integrationOptions:r},(o=o||U)(this));i.forEach(_=>s[_]=this.option(_)),this._extendConfig(t,s);var l=void 0;if(je(n)){var h=x(e)[n](t);l=h[n]("instance")}else e&&((l=n.getInstance(e))?l.option(t):l=new n(e,t));if(l){var g=_=>{var{name:v,value:C}=_;i.includes(v)&&l.option(v,C)};this.on("optionChanged",g),l.on("disposing",()=>this.off("optionChanged",g))}return l},_extendConfig(e,n){B(n,(t,i)=>{!Object.prototype.hasOwnProperty.call(e,t)&&(e[t]=i)})},_defaultActionConfig(){var e=this.$element(),n=this._modelByElement(e);return A(this.callBase(),{context:n})},_defaultActionArgs(){var e=this.$element(),n=this._modelByElement(e),t=this.element();return A(this.callBase(),{element:t,model:n})},_optionChanged(e){switch(e.name){case"width":case"height":this._renderDimensions();break;case"rtlEnabled":this._invalidate();break;case"elementAttr":this._renderElementAttributes();break;case"disabled":case"integrationOptions":break;default:this.callBase(e)}},_removeAttributes(e){for(var n=e.attributes,t=n.length-1;t>=0;t--){var i=n[t];if(i){var{name:r}=i;(!r.indexOf("aria-")||-1!==r.indexOf("dx-")||"role"===r||"style"===r||"tabindex"===r)&&e.removeAttribute(r)}}},_removeClasses(e){e.className=e.className.split(" ").filter(n=>0!==n.lastIndexOf("dx-",0)).join(" ")},_updateDOMComponent(e){e?this._renderComponent():this._requireRefresh&&(this._requireRefresh=!1,this._refresh())},endUpdate(){var e=this._isInitializingRequired();this.callBase(),this._isUpdateAllowed()&&this._updateDOMComponent(e)},$element(){return this._$element},element(){return Ke(this.$element())},dispose(){var e=this.$element().get(0);Sh(e,!0),e.textContent="",this._removeAttributes(e),this._removeClasses(e)},resetOption(e){if(this.callBase(e),"width"===e||"height"===e){var n=this.initialOption(e);!T(n)&&this.$element().css(e,"")}},_getAnonymousTemplateName(){},_initTemplateManager(){if(!this._templateManager&&this._useTemplates()){var{integrationOptions:e={}}=this.option(),{createTemplate:n}=e;this._templateManager=new DP(n,this._getAnonymousTemplateName()),this._initTemplates()}},_initTemplates(){var{templates:e,anonymousTemplateMeta:n}=this._templateManager.extractTemplates(this.$element()),t=this.option("integrationOptions.templates.".concat(n.name));e.forEach(i=>{var{name:r,template:o}=i;this._options.silent("integrationOptions.templates.".concat(r),o)}),n.name&&!t&&(this._options.silent("integrationOptions.templates.".concat(n.name),n.template),this._options.silent("_hasAnonymousTemplateContent",!0))},_getTemplateByOption(e){return this._getTemplate(this.option(e))},_getTemplate(e){var n=this.option("integrationOptions.templates"),t=this.option("templatesRenderAsynchronously"),i=this.option("integrationOptions.skipTemplates");return this._templateManager.getTemplate(e,n,{isAsyncTemplate:t,skipTemplates:i},this)},_saveTemplate(e,n){this._setOptionWithoutOptionChange("integrationOptions.templates."+e,this._templateManager._createTemplate(n))},_useTemplates:()=>!0});KE.getInstance=function(e){return gS(x(e),this)},KE.defaultOptions=function(e){this._classCustomRules=this._classCustomRules||[],this._classCustomRules.push(e)};const Ta=KE;function mn(e,n){if(null==e)return{};var r,o,t={},i=Object.keys(e);for(o=0;o<i.length;o++)!(n.indexOf(r=i[o])>=0)&&(t[r]=e[r]);return t}var wP=(e,n)=>Object.keys(e).length===Object.keys(n).length&&Object.keys(e).every(t=>e[t]===n[t]);function V1(e){var{addedNodes:n,type:t}=e;"childList"===t&&n.forEach(i=>function L1(e){return"function"==typeof e.remove}(i)&&i.remove())}var TP=["isEqual"];class MP extends Zo{constructor(n){super(n),this.cleanParent=U,this.renderTemplate=this.renderTemplate.bind(this)}renderTemplate(){var n=Qr(this.$LI,!0),t=n.parentElement;this.cleanParent(),this.cleanParent=function IP(e,n){var t=new MutationObserver(()=>{});t.observe(e,{childList:!0,subtree:!1}),n();var i=t.takeRecords();return t.disconnect(),()=>i.forEach(V1)}(t,()=>{var i=function z1(e,n){var t,{data:i,index:r}=null!==(t=e.model)&&void 0!==t?t:{data:{}};i&&Object.keys(i).forEach(s=>{i[s]&&se.isNode(i[s])&&(i[s]=Ke(x(i[s])))});var o=e.template.render(de({container:n,transclude:e.transclude},{renovated:e.renovated},e.transclude?{}:{model:i},!e.transclude&&Number.isFinite(r)?{index:r}:{}));return void 0===o?[]:function N1(e){return!!e.toArray}(o)?o.toArray():[x(o).get(0)]}(this.props,Ke(x(t)));0!==i.length&&(1!==i.length||i[0]!==t)&&n.after(...i)})}shouldComponentUpdate(n){var{model:t,template:i}=this.props,{isEqual:r,model:o,template:s}=n,l=r??wP;if(i!==s)return!0;if(!T(t)||!T(o))return t!==o;var{data:h,index:g}=t,{data:_,index:v}=o;return g!==v||!l(h,_)}createEffects(){return[new tn(this.renderTemplate,[this.props.template,this.props.model])]}updateEffects(){this._effects[0].update([this.props.template,this.props.model])}componentWillUnmount(){this.cleanParent()}render(){return null}}function YE(e){return Array.isArray(e)?[...e]:de({},e)}function qE(e,n,t){var i=YE(t.length>0&&n&&e!==n?n:e),r=t[0];return t.length>1?i[r]=qE(e[r],n?.[r],t.slice(1)):r&&(i[r]=ft(e[r])?YE(e[r]):e[r]),i}function W1(e,n,t,i){var r=n[t],o=e[t];e[t]=ft(r)||t!==i&&Array.isArray(r)?qE(r,o,ca(i).slice(1)):r}var bo=rt()?ut():{},AP=function(e){return setTimeout(e,16.666666666666668)},RP=function(e){clearTimeout(e)},PP=Wo(function(){var e=bo.requestAnimationFrame||bo.webkitRequestAnimationFrame||bo.mozRequestAnimationFrame||bo.oRequestAnimationFrame||bo.msRequestAnimationFrame,n=bo.cancelAnimationFrame||bo.webkitCancelAnimationFrame||bo.mozCancelAnimationFrame||bo.oCancelAnimationFrame||bo.msCancelAnimationFrame;e&&n&&(AP=e,RP=n)});function __(){return PP(),AP.apply(bo,arguments)}function a(){PP(),RP.apply(bo,arguments)}function d(e){return e&&[e.target,e.delegateTarget,e.relatedTarget,e.currentTarget].filter(n=>!!n)}var{maxTouchPoints:f}=Ch(),m={webkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",transition:"transitionend"},y=function(e){return!!Cl(e)},S=function(e){if("text"===e)return!0;var n=se.createElement("input");try{return n.setAttribute("type",e),n.value="wrongValue",!n.value}catch{return!1}},V=function(e,n){return(e("ontouchstart")||!!n)&&!e("callPhantom")}(vh,f),j=function(e){return e("PointerEvent")}(vh),_e=V||j&&!!f,Be=Wo(function(){return y("transition")}),Ue=Wo(function(){return m[Cl("transition")]}),dt=Wo(function(){return y("animation")}),we=function(){var{platform:e,mac:n}=$e.real();return"ios"===e||"android"===e||n}(),xt=Ch(),Nt=/(webkit)[ /]([\w.]+)/,pn=/(mozilla)(?:.*? rv:([\w.]+))/,nr=e=>{e=e.toLowerCase();var n={},t=Nt.exec(e)||e.indexOf("compatible")<0&&pn.exec(e)||[],i=t[1],r=t[2];return"webkit"===i&&(n.webkit=!0,e.indexOf("chrome")>=0||e.indexOf("crios")>=0?(i="chrome",r=(r=/(?:chrome|crios)\/(\d+\.\d+)/.exec(e))&&r[1]):e.indexOf("fxios")>=0?(i="mozilla",r=(r=/fxios\/(\d+\.\d+)/.exec(e))&&r[1]):e.indexOf("safari")>=0&&/version|phantomjs/.test(e)?(i="safari",r=(r=/(?:version|phantomjs)\/([0-9.]+)/.exec(e))&&r[1]):(i="unknown",r=(r=/applewebkit\/([0-9.]+)/.exec(e))&&r[1])),i&&(n[i]=!0,n.version=r),n};const Gt=A({_fromUA:nr},nr(xt.userAgent));var Bl="dxPointerEvents",wy=kt.inherit({ctor:function(e,n){this._eventName=e,this._originalEvents=fe(n,Bl),this._handlerCount=0,this.noBubble=this._isNoBubble()},_isNoBubble:function(){var e=this._eventName;return"dxpointerenter"===e||"dxpointerleave"===e},_handler:function(e){var n,t=this._getDelegateTarget(e),i={type:this._eventName,pointerType:e.pointerType||Tl(e),originalEvent:e,delegateTarget:t,timeStamp:Gt.mozilla?(new Date).getTime():e.timeStamp},r=e.originalEvent;if(null!=r&&null!==(n=r.target)&&void 0!==n&&n.shadowRoot){var o,s,l=null!==(o=r.path)&&void 0!==o?o:null===(s=r.composedPath)||void 0===s?void 0:s.call(r);i.target=l[0]}return this._fireEvent(i)},_getDelegateTarget:function(e){var n;return this.noBubble&&(n=e.delegateTarget),n},_fireEvent:function(e){return Al(e)},_setSelector:function(e){this._selector=this.noBubble&&e?e.selector:null},_getSelector:function(){return this._selector},setup:function(){return!0},add:function(e,n){if(this._handlerCount<=0||this.noBubble){e=this.noBubble?e:se.getDocument(),this._setSelector(n);var t=this;R.on(e,this._originalEvents,this._getSelector(),function(i){t._handler(i)})}this.noBubble||this._handlerCount++},remove:function(e){this._setSelector(e),this.noBubble||this._handlerCount--},teardown:function(e){this._handlerCount&&!this.noBubble||(e=this.noBubble?e:se.getDocument(),this._originalEvents!=="."+Bl&&R.off(e,this._originalEvents,this._getSelector()))},dispose:function(e){e=this.noBubble?e:se.getDocument(),R.off(e,this._originalEvents)}});const Iy=wy;var G1=function(e){var n=[];return B(e.touches,function(t,i){n.push(A({pointerId:i.identifier},i))}),{pointers:n,pointerId:e.changedTouches[0].identifier}},kP=Iy.inherit({ctor:function(){this.callBase.apply(this,arguments),this._pointerId=0},_handler:function(e){if(function(e){return"ios"===$e.real().platform&&("dxpointerdown"===e||"dxpointerup"===e)}(this._eventName)){var n=e.changedTouches[0];if(this._pointerId===n.identifier&&0!==this._pointerId)return;this._pointerId=n.identifier}return this.callBase.apply(this,arguments)},_fireEvent:function(e){return this.callBase(A(G1(e.originalEvent),e))}});kP.map={dxpointerdown:"touchstart",dxpointermove:"touchmove",dxpointerup:"touchend",dxpointercancel:"touchcancel",dxpointerover:"",dxpointerout:"",dxpointerenter:"",dxpointerleave:""},kP.normalize=G1;const U1=kP;var JE=function(e,n){Nr.add(function(){e.split(" ").forEach(function(t){se.listen(se.getDocument(),t,n,!0)})})};const Wq=function(e,n,t){t=t||function(){};var i=[],r=function(s){var l=-1;return B(i,function(h,g){return!n(s,g)||(l=h,!1)}),l},o=function(s){var l=r(s);l>-1&&i.splice(l,1)};JE(e.dxpointerdown,function(s){-1===r(s)&&(t(s),i.push(s))}),JE(e.dxpointermove,function(s){i[r(s)]=s}),JE(e.dxpointerup,o),JE(e.dxpointercancel,o),this.pointers=function(){return i},this.reset=function(){i=[]}};var BP,j1={dxpointerdown:"mousedown",dxpointermove:"mousemove",dxpointerup:"mouseup",dxpointercancel:"",dxpointerover:"mouseover",dxpointerout:"mouseout",dxpointerenter:"mouseenter",dxpointerleave:"mouseleave"},K1=function(e){return e.pointerId=1,{pointers:BP.pointers(),pointerId:1}},Y1=!1,q1=function(){Y1||(BP=new Wq(j1,function(){return!0}),Y1=!0)},Ty=Iy.inherit({ctor:function(){this.callBase.apply(this,arguments),q1()},_fireEvent:function(e){return this.callBase(A(K1(e.originalEvent),e))}});Ty.map=j1,Ty.normalize=K1,Ty.activate=q1,Ty.resetObserver=function(){BP.reset()};const XE=Ty;var J1=!1,LP=Iy.inherit({EVENT_LOCK_TIMEOUT:100,ctor:function(){this.callBase.apply(this,arguments),J1||(XE.activate(),J1=!0)},_handler:function(e){var n=ba(e);if(n||(this._skipNextEvents=!0),!n||!this._mouseLocked){if(n&&this._skipNextEvents){this._skipNextEvents=!1,this._mouseLocked=!0,clearTimeout(this._unlockMouseTimer);var t=this;return void(this._unlockMouseTimer=setTimeout(function(){t._mouseLocked=!1},this.EVENT_LOCK_TIMEOUT))}return this.callBase(e)}},_fireEvent:function(e){var n=ba(e.originalEvent)?XE.normalize:U1.normalize;return this.callBase(A(n(e.originalEvent),e))},dispose:function(){this.callBase(),this._skipNextEvents=!1,this._mouseLocked=!1,clearTimeout(this._unlockMouseTimer)}});LP.map={dxpointerdown:"touchstart mousedown",dxpointermove:"touchmove mousemove",dxpointerup:"touchend mouseup",dxpointercancel:"touchcancel",dxpointerover:"mouseover",dxpointerout:"mouseout",dxpointerenter:"mouseenter",dxpointerleave:"mouseleave"},LP.resetObserver=XE.resetObserver;const Uq=LP;var X1=((e,n)=>{var{tablet:t,phone:i}=n;return!e.touch||t||i?e.touch?U1:XE:Uq})(N,$e.real());B(X1.map,(e,n)=>{Hi(e,new X1(e,n))});const Rt={down:"dxpointerdown",up:"dxpointerup",move:"dxpointermove",cancel:"dxpointercancel",enter:"dxpointerenter",leave:"dxpointerleave",over:"dxpointerover",out:"dxpointerout"};var Yq=kt.inherit({ctor:function(e){this._$element=x(e),this._cancelCallback=Et(),this._acceptCallback=Et()},getElement:function(){return this._$element},validate:function(e){return!Wi(e)},validatePointers:function(e){return 1===(e=>{var{originalEvent:n,pointers:t}=e;return hE(e)?(n.touches||[]).length:t_(e)?(t||[]).length:0})(e)},allowInterruptionByMouseWheel:function(){return!0},configure:function(e){A(this,e)},addCancelCallback:function(e){this._cancelCallback.add(e)},removeCancelCallback:function(){this._cancelCallback.empty()},_cancel:function(e){this._cancelCallback.fire(this,e)},addAcceptCallback:function(e){this._acceptCallback.add(e)},removeAcceptCallback:function(){this._acceptCallback.empty()},_accept:function(e){this._acceptCallback.fire(this,e)},_requestAccept:function(e){this._acceptRequestEvent=e},_forgetAccept:function(){this._accept(this._acceptRequestEvent),this._acceptRequestEvent=null},start:U,move:U,end:U,cancel:U,reset:function(){this._acceptRequestEvent&&this._accept(this._acceptRequestEvent)},_fireEvent:function(e,n,t){var i=A({type:e,originalEvent:n,target:this._getEmitterTarget(n),delegateTarget:this.getElement().get(0)},t);return(n=Al(i)).cancel&&this._cancel(n),n},_getEmitterTarget:function(e){return(this.delegateSelector?x(e.target).closest(this.delegateSelector):this.getElement()).get(0)},dispose:U});const ZE=Yq;var My="dxmousewheel",Z1="dxWheel",VP={setup:function(e){var n=x(e);R.on(n,fe("wheel",Z1),VP._wheelHandler.bind(VP))},teardown:function(e){R.off(e,".".concat(Z1))},_wheelHandler:function(e){var{deltaMode:n,deltaY:t,deltaX:i,deltaZ:r}=e.originalEvent;Al({type:My,originalEvent:e,delta:this._normalizeDelta(t,n),deltaX:i,deltaY:t,deltaZ:r,deltaMode:n,pointerType:"mouse"}),e.stopPropagation()},_normalizeDelta(e){return 0===(arguments.length>1&&void 0!==arguments[1]?arguments[1]:0)?-e:-30*e}};Hi(My,VP);var QE="dxEventManager",Ay="dxEmitter",Xq=kt.inherit({ctor:function(){this._attachHandlers(),this.reset(),this._proxiedCancelHandler=this._cancelHandler.bind(this),this._proxiedAcceptHandler=this._acceptHandler.bind(this)},_attachHandlers:function(){Nr.add(function(){var e=se.getDocument();R.subscribeGlobal(e,fe(Rt.down,QE),this._pointerDownHandler.bind(this)),R.subscribeGlobal(e,fe(Rt.move,QE),this._pointerMoveHandler.bind(this)),R.subscribeGlobal(e,fe([Rt.up,Rt.cancel].join(" "),QE),this._pointerUpHandler.bind(this)),R.subscribeGlobal(e,fe(My,QE),this._mouseWheelHandler.bind(this))}.bind(this))},_eachEmitter:function(e){for(var n=this._activeEmitters||[],t=0;n.length>t;){var i=n[t];if(!1===e(i))break;n[t]===i&&t++}},_applyToEmitters:function(e,n){this._eachEmitter(function(t){t[e].call(t,n)})},reset:function(){this._eachEmitter(this._proxiedCancelHandler),this._activeEmitters=[]},resetEmitter:function(e){this._proxiedCancelHandler(e)},_pointerDownHandler:function(e){ba(e)&&e.which>1||this._updateEmitters(e)},_updateEmitters:function(e){this._isSetChanged(e)&&(this._cleanEmitters(e),this._fetchEmitters(e))},_isSetChanged:function(e){var n=this._closestEmitter(e),t=this._emittersSet||[],i=n.length!==t.length;return B(n,function(r,o){return!(i=i||t[r]!==o)}),this._emittersSet=n,i},_closestEmitter:function(e){var n=this,t=[],i=x(e.target);function r(s,l){l&&l.validatePointers(e)&&l.validate(e)&&(l.addCancelCallback(n._proxiedCancelHandler),l.addAcceptCallback(n._proxiedAcceptHandler),t.push(l))}for(;i.length;){var o=_n(i.get(0),Ay)||[];B(o,r),i=i.parent()}return t},_acceptHandler:function(e,n){var t=this;this._eachEmitter(function(i){i!==e&&t._cancelEmitter(i,n)})},_cancelHandler:function(e,n){this._cancelEmitter(e,n)},_cancelEmitter:function(e,n){var t=this._activeEmitters;n?e.cancel(n):e.reset(),e.removeCancelCallback(),e.removeAcceptCallback();var i=t.indexOf(e);i>-1&&t.splice(i,1)},_cleanEmitters:function(e){this._applyToEmitters("end",e),this.reset(e)},_fetchEmitters:function(e){this._activeEmitters=this._emittersSet.slice(),this._applyToEmitters("start",e)},_pointerMoveHandler:function(e){this._applyToEmitters("move",e)},_pointerUpHandler:function(e){this._updateEmitters(e)},_mouseWheelHandler:function(e){this._allowInterruptionByMouseWheel()&&(e.pointers=[null],this._pointerDownHandler(e),this._adjustWheelEvent(e),this._pointerMoveHandler(e),e.pointers=[],this._pointerUpHandler(e))},_allowInterruptionByMouseWheel:function(){var e=!0;return this._eachEmitter(function(n){return e=n.allowInterruptionByMouseWheel()&&e}),e},_adjustWheelEvent:function(e){var n=null;if(this._eachEmitter(function(o){if(o.gesture){var s=o.getDirection(e);if("horizontal"!==s&&!e.shiftKey||"vertical"!==s&&e.shiftKey)return n=o,!1}}),n){var t=n.getDirection(e);e["both"===t&&!e.shiftKey||"vertical"===t?"pageY":"pageX"]+=e.delta}},isActive:function(e){var n=!1;return this._eachEmitter(function(t){n=n||t.getElement().is(e)}),n}}),eH=new Xq,NP="dxEmitterSubscription";const m_=function(e){var n=e.emitter,t=e.events[0],i=e.events;B(i,function(r,o){Hi(o,{noBubble:!e.bubble,setup:function(s){var l=_n(s,NP)||{},h=_n(s,Ay)||{},g=h[t]||new n(s);l[o]=!0,h[t]=g,_n(s,Ay,h),_n(s,NP,l)},add:function(s,l){_n(s,Ay)[t].configure(A({delegateSelector:l.selector},l.data),l.type)},teardown:function(s){var l=_n(s,NP),h=_n(s,Ay),g=h[t];delete l[o];var _=!0;B(i,function(v,C){return _=_&&!l[C]}),_&&(eH.isActive(s)&&eH.resetEmitter(g),g&&g.dispose(),delete h[t])}})})};var Kt="dxclick",HP=null,Ry=null,tH=()=>{Ry=null},nH=function(e){var n=e.originalEvent;(!e.which||1===e.which)&&!HP&&!(Ry===n||n&&n.DXCLICK_FIRED)&&(n&&(n.DXCLICK_FIRED=!0),((e,n)=>{R.off(d(e),Ko,n)})(Ry,tH),((e,n)=>{R.one(d(e),Ko,n)})(Ry=n,tH),Al({type:Kt,originalEvent:e}))},Qq=ZE.inherit({ctor:function(e){this.callBase(e),R.on(this.getElement(),"click",nH)},start:function(e){HP=null},cancel:function(){HP=!0},dispose:function(){R.off(this.getElement(),"click",nH)}});(function(){if(!$e.real().generic){var n=null,t=!1,i=se.getDocument();R.subscribeGlobal(i,fe(Rt.down,"NATIVE_CLICK_FIXER"),function(r){n=r.target,t=r.isDefaultPrevented()}),R.subscribeGlobal(i,fe("click","NATIVE_CLICK_FIXER"),function(r){var o=x(r.target);!t&&n&&!o.is(n)&&!x(n).is("label")&&x(o).is("input, textarea, select, button ,:focus, :focus *")&&Qh(),n=null,t=!1})}})(),m_({emitter:Qq,bubble:!0,events:[Kt]});var Vs,zP="dxactive",WP="dxinactive",ew=kt.inherit({ctor:function(e,n){this._timeout=e,this._fire=n},start:function(){var e=this;this._schedule(function(){e.force()})},_schedule:function(e){this.stop(),this._timer=setTimeout(e,this._timeout)},stop:function(){clearTimeout(this._timer)},force:function(){this._fired||(this.stop(),this._fire(),this._fired=!0)},fired:function(){return this._fired}}),$P=ZE.inherit({ctor:function(){this.callBase.apply(this,arguments),this._active=new ew(0,U),this._inactive=new ew(0,U)},configure:function(e,n){switch(n){case zP:e.activeTimeout=e.timeout;break;case WP:e.inactiveTimeout=e.timeout}this.callBase(e)},start:function(e){if(Vs){var n=Ia(this.getElement().get(0),Vs.getElement().get(0)),t=!Vs._active.fired();if(n&&t)return void this._cancel();Vs._inactive.force()}Vs=this,this._initEvents(e),this._active.start()},_initEvents:function(e){var n=this,t=this._getEmitterTarget(e),i=ba(e),o=$e.isSimulator()||!i,s=Cn(this.activeTimeout,30),l=Cn(this.inactiveTimeout,400);this._active=new ew(o?s:0,function(){n._fireEvent(zP,e,{target:t})}),this._inactive=new ew(o?l:0,function(){n._fireEvent(WP,e,{target:t}),Vs=null})},cancel:function(e){this.end(e)},end:function(e){var n=e.type!==Rt.up;n?this._active.stop():this._active.force(),this._inactive.start(),n&&this._inactive.force()},dispose:function(){this._active.stop(),this._inactive.stop(),Vs===this&&(Vs=null),this.callBase()},lockInactive:function(){return this._active.force(),this._inactive.stop(),Vs=null,this._cancel(),this._inactive.force.bind(this._inactive)}});$P.lock=function(e){var n=Vs?Vs.lockInactive():U;e.done(n)},m_({emitter:$P,events:[zP,WP]});var nJ=$P.lock,iH="dxHoverStart",tw="dxhoverstart",iJ=fe(Rt.enter,iH),rH="dxHoverEnd",Py="dxhoverend",rJ=fe(Rt.leave,rH),oH=kt.inherit({noBubble:!0,ctor:function(){this._handlerArrayKeyPath=this._eventNamespace+"_HandlerStore"},setup:function(e){_n(e,this._handlerArrayKeyPath,{})},add:function(e,n){var t=this,i=function(r){t._handler(r)};R.on(e,this._originalEventName,n.selector,i),_n(e,this._handlerArrayKeyPath)[n.guid]=i},_handler:function(e){Mu(e)||$e.isSimulator()||Al({type:this._eventName,originalEvent:e,delegateTarget:e.delegateTarget})},remove:function(e,n){var t=_n(e,this._handlerArrayKeyPath)[n.guid];R.off(e,this._originalEventName,n.selector,t)},teardown:function(e){yf(e,this._handlerArrayKeyPath)}}),oJ=oH.inherit({ctor:function(){this._eventNamespace=iH,this._eventName=tw,this._originalEventName=iJ,this.callBase()},_handler:function(e){(e.pointers||[]).length||this.callBase(e)}}),sJ=oH.inherit({ctor:function(){this._eventNamespace=rH,this._eventName=Py,this._originalEventName=rJ,this.callBase()}});Hi(tw,new oJ),Hi(Py,new sJ);var GP=(e,n)=>t=>{Object.prototype.hasOwnProperty.call(e,t)&&void 0===e[t]&&(e[t]=n(t))};let UP=(()=>{class e extends Ta{constructor(t,i){super(t,i),this._shouldRaiseContentReady=!1,this.validateKeyDownHandler()}get _propsInfo(){return{allowNull:[],twoWay:[],elements:[],templates:[],props:[]}}validateKeyDownHandler(){if(this.getSupportedKeyNames().length>0&&"function"!=typeof this._viewComponent.prototype.keyDown)throw Error("Component's declaration must have 'keyDown' method.")}get viewRef(){var t;return null===(t=this._viewRef)||void 0===t?void 0:t.current}_checkContentReadyOption(t){var i=this._getContentReadyOptions().reduce((r,o)=>(r[o]=!0,r),{});return this._checkContentReadyOption=r=>!!i[r],this._checkContentReadyOption(t)}_getContentReadyOptions(){return["rtlEnabled"]}_fireContentReady(){this._actionsMap.onContentReady({})}_getDefaultOptions(){var t=this._getViewComponentDefaultProps();return A(!0,super._getDefaultOptions(),t,this._propsInfo.twoWay.reduce((i,r)=>{var[o,s,l]=r;return de({},i,{[o]:t[s],[l]:h=>this.option(o,h)})},{}),this._propsInfo.templates.reduce((i,r)=>de({},i,{[r]:null}),{}))}_getUnwrappedOption(){var t={};return Object.keys(this.option()).forEach(i=>{t[i]=this.option(i)}),t}_initializeComponent(){var t;super._initializeComponent(),null===(t=this._templateManager)||void 0===t||t.addDefaultTemplates(this.getDefaultTemplates());var i=this._getUnwrappedOption();this._props=this._optionsWithDefaultTemplates(i),this._propsInfo.templates.forEach(r=>{this._componentTemplates[r]=this._createTemplateComponent(this._props[r])}),Object.keys(this._getActionConfigsFull()).forEach(r=>this._addAction(r)),this._viewRef={current:null},this.defaultKeyHandlers=this._createDefaultKeyHandlers()}_initMarkup(){var t=this.getProps();this._renderWrapper(t)}_renderWrapper(t){var i=this.$element()[0];this._isNodeReplaced||Rl.onPreRender(),Rl.render(this._viewComponent,t,i,this._isNodeReplaced),this._isNodeReplaced||(this._isNodeReplaced=!0,Rl.onAfterRender(),this._shouldRaiseContentReady=!0),this._shouldRaiseContentReady&&(this._fireContentReady(),this._shouldRaiseContentReady=!1)}_silent(t,i){this._options.silent(t,i)}_render(){}_removeWidget(){Rl.remove(this.$element()[0])}_dispose(){this._removeWidget(),super._dispose()}get elementAttr(){var t=this.$element()[0];if(!this._elementAttr){var{attributes:i}=t,r=Array.from(i).filter(h=>{var g;return!this._propsInfo.templates.includes(h.name)&&(null===(g=i[h.name])||void 0===g?void 0:g.specified)}).reduce((h,g)=>{var{name:_,value:v}=g,C=h;return C[_]=""===v&&_ in t?t[_]:v,C},{});this._elementAttr=r,this._storedClasses=t.getAttribute("class")||""}for(var o=t.style,s={},l=0;l<o.length;l+=1)s[o[l]]=o.getPropertyValue(o[l]);return this._elementAttr.style=s,this._elementAttr.class=this._storedClasses,this._elementAttr}_getAdditionalActionConfigs(){return{onContentReady:{excludeValidators:["disabled","readOnly"]}}}_getAdditionalProps(){return[]}_patchOptionValues(t){var{allowNull:i,elements:r,props:o,twoWay:s}=this._propsInfo,l=this._getViewComponentDefaultProps(),h=Object.keys(l),g=this._getDefaultOptions(),{children:_,onKeyboardHandled:v,ref:C}=t,E={ref:C,children:_,onKeyDown:v?(w,M)=>{v(M)}:void 0};return[...o,...this._getAdditionalProps()].forEach(w=>{Object.prototype.hasOwnProperty.call(t,w)&&(E[w]=t[w])}),i.forEach(GP(E,()=>null)),h.forEach(GP(E,w=>g[w])),s.forEach(w=>{var[M,k]=w;GP(E,()=>g[k])(M)}),r.forEach(w=>{if(w in E){var M=E[w];Fr(M)&&(E[w]=this._patchElementParam(M))}}),E}getSupportedKeyNames(){return[]}prepareStyleProp(t){return"string"==typeof t.style?de({},t,{style:{},cssText:t.style}):t}getProps(){var t,i,{elementAttr:r}=this.option(),o=this._patchOptionValues(de({},this._props,{ref:this._viewRef,children:this._extractDefaultSlot(),aria:this._aria}));return this._propsInfo.templates.forEach(s=>{o[s]=this._componentTemplates[s]}),this.prepareStyleProp(de({},o,this.elementAttr,r,{className:[...(null!==(t=this.elementAttr.class)&&void 0!==t?t:"").split(" "),...(null!==(i=r?.class)&&void 0!==i?i:"").split(" ")].filter((s,l,h)=>s&&h.indexOf(s)===l).join(" ").trim(),class:""},this._actionsMap))}_getActionConfigs(){return{}}_getActionConfigsFull(){return de({},this._getActionConfigs(),this._getAdditionalActionConfigs())}getDefaultTemplates(){var t=Object.values(this._templatesInfo),i={};return t.forEach(r=>{i[r]="dx-renovation-template-mock"}),i}get _templatesInfo(){return{}}_optionsWithDefaultTemplates(t){var i=Object.entries(this._templatesInfo).reduce((r,o)=>{var s,[l,h]=o;return de({},r,{[l]:null!==(s=t[l])&&void 0!==s?s:h})},{});return de({},t,i)}_init(){super._init(),this.customKeyHandlers={},this._actionsMap={},this._aria={},this._componentTemplates={}}_createDefaultKeyHandlers(){var t={};return this.getSupportedKeyNames().forEach(r=>{t[r]=o=>this.viewRef.keyDown(vE.createKeyDownOptions(o))}),t}_addAction(t,i){var r=i;if(!r){var o=this._createActionByOption(t,this._getActionConfigsFull()[t]);r=s=>(Object.keys(s).forEach(l=>{T(s[l])&&se.isNode(s[l])&&(s[l]=Ke(x(s[l])))}),o(s))}this._actionsMap[t]=r}_optionChanged(t){var{fullName:i,name:r,previousValue:o,value:s}=t;W1(this._props,this.option(),r,i),this._propsInfo.templates.includes(r)&&s!==o&&(this._componentTemplates[r]=this._createTemplateComponent(s)),r&&this._getActionConfigsFull()[r]&&this._addAction(r),this._shouldRaiseContentReady=this._shouldRaiseContentReady||this._checkContentReadyOption(i),super._optionChanged(t),this._invalidate()}_extractDefaultSlot(){return this.option("_hasAnonymousTemplateContent")?Rl.createElement(MP,{template:this._getTemplate(this._templateManager.anonymousTemplateName),transclude:!0,renovated:!0}):null}_createTemplateComponent(t){if(t){var i=this._getTemplate(t);if(!je(i)||"dx-renovation-template-mock"!==i)return r=>Rl.createElement(MP,function H1(e,n){var t,i={template:n,model:de({},e)},r=null!==(t=e.data)&&void 0!==t?t:{},{isEqual:o}=r,s=mn(r,TP);return o&&(i.model.data=s,i.isEqual=o),i}(r,i))}}_wrapKeyDownHandler(t){return i=>{var{keyName:r,originalEvent:o,which:s}=i,l=this.customKeyHandlers,h=l[r]||l[s];return void 0===h||h.bind(this)(o,i)?t?.(o,i):(o.cancel=!0,o)}}_toPublicElement(t){return Ke(x(t))}_patchElementParam(t){try{var i=x(t),r=i?.get(0);return null!=r&&r.nodeType?r:t}catch{return t}}repaint(){this._isNodeReplaced=!1,this._shouldRaiseContentReady=!0,this._removeWidget(),this._refresh()}_supportedKeys(){return de({},this.defaultKeyHandlers,this.customKeyHandlers)}registerKeyHandler(t,i){this.customKeyHandlers[t]=i}setAria(t,i){this._aria[t]=i,this._initMarkup()}_getViewComponentDefaultProps(){return this._viewComponent.defaultProps||{}}}return e.IS_RENOVATED_WIDGET=!1,e.IS_RENOVATED_WIDGET=!0,e})();var Fy="dx-icon",ky=e=>!(!e||"string"!=typeof e)&&(/^\s*<svg[^>]*>(.|\r?\n)*?<\/svg>\s*$/i.test(e)?"svg":/data:.*base64|\.|[^<\s]\/{1,1}/.test(e)?"image":/^[\w-_]+$/.test(e)?"dxIcon":!!/^\s?([\w-_]\s?)+$/.test(e)&&"fontIcon"),Ll=e=>{switch(ky(e)){case"image":return x("<img>").attr("src",e).addClass(Fy);case"fontIcon":return x("<i>").addClass("".concat(Fy," ").concat(e));case"dxIcon":return x("<i>").addClass("".concat(Fy," ").concat(Fy,"-").concat(e));case"svg":return x("<i>").addClass("".concat(Fy," ").concat("dx-svg-icon")).append(e);default:return null}};class lJ extends UP{get _validationGroupConfig(){return ln.getGroupConfig(this._findGroup())}getDefaultTemplateNames(){return["content"]}getSupportedKeyNames(){return["space","enter"]}getProps(){var n=super.getProps();return n.onClick=i=>{var{event:r}=i;this._clickAction({event:r,validationGroup:this._validationGroupConfig})},"svg"===ky(n.icon)&&(n.iconTemplate=this._createTemplateComponent(()=>n.icon)),n}get _templatesInfo(){return{template:"content"}}_toggleActiveState(n,t){var i=this.viewRef;t?i.activate():i.deactivate()}_getSubmitAction(){var n=!0,t="valid";return this._createAction(i=>{var{event:r,submitInput:o}=i;if(n){var s=this._validationGroupConfig;if(void 0!==s&&""!==s){var l=s.validate();t=l.status,"pending"===l.status&&(n=!1,this.option("disabled",!0),l.complete.then(h=>{var{status:g}=h;this.option("disabled",!1),"valid"===(t=g)&&o.click(),n=!0}))}}"valid"!==t&&r.preventDefault(),r.stopPropagation()})}_initializeComponent(){super._initializeComponent(),this._addAction("onSubmit",this._getSubmitAction()),this._clickAction=this._createClickAction()}_initMarkup(){super._initMarkup();var n=this.$element().find(".dx-button-content"),t=n.children().filter(".dx-template-wrapper"),i=n.children().filter(".dx-button-submit-input");t.length&&(t.addClass("dx-button-content"),t.append(i),n.replaceWith(t))}_patchOptionValues(n){return super._patchOptionValues(de({},n,{templateData:n._templateData}))}_findGroup(){var n=this.$element(),t=this.option("validationGroup");return void 0!==t&&""!==t?t:ln.findGroup(n,this._modelByElement(n))}_createClickAction(){return this._createActionByOption("onClick",{excludeValidators:["readOnly"]})}_optionChanged(n){"onClick"===n.name&&(this._clickAction=this._createClickAction()),super._optionChanged(n)}}var op=Et();const It=Vv(zt.ERROR_MESSAGES,{E1001:"Module '{0}'. Controller '{1}' is already registered",E1002:"Module '{0}'. Controller '{1}' does not inherit from DevExpress.ui.dxDataGrid.Controller",E1003:"Module '{0}'. View '{1}' is already registered",E1004:"Module '{0}'. View '{1}' does not inherit from DevExpress.ui.dxDataGrid.View",E1005:"Public method '{0}' is already registered",E1006:"Public method '{0}.{1}' does not exist",E1007:"State storing cannot be provided due to the restrictions of the browser",E1010:"The template does not contain the TextBox widget",E1011:'Items cannot be deleted from the List. Implement the "remove" function in the data store',E1012:"Editing type '{0}' with the name '{1}' is unsupported",E1016:"Unexpected type of data source is provided for a lookup column",E1018:"The 'collapseAll' method cannot be called if you use a remote data source",E1019:"Search mode '{0}' is unavailable",E1020:"The type cannot be changed after initialization",E1021:"{0} '{1}' you are trying to remove does not exist",E1022:'The "markers" option is given an invalid value. Assign an array instead',E1023:'The "routes" option is given an invalid value. Assign an array instead',E1025:"This layout is too complex to render",E1026:'The "calculateCustomSummary" function is missing from a field whose "summaryType" option is set to "custom"',E1031:"Unknown subscription in the Scheduler widget: '{0}'",E1032:"Unknown start date in an appointment: '{0}'",E1033:"Unknown step in the date navigator: '{0}'",E1034:"The browser does not implement an API for saving files",E1035:"The editor cannot be created: {0}",E1037:"Invalid structure of grouped data",E1038:"The browser does not support local storages for local web pages",E1039:"A cell's position cannot be calculated",E1040:"The '{0}' key value is not unique within the data array",E1041:"The '{0}' script is referenced after the DevExtreme scripts or not referenced at all",E1042:"{0} requires the key field to be specified",E1043:"Changes cannot be processed due to the incorrectly set key",E1044:"The key field specified by the keyExpr option does not match the key field specified in the data store",E1045:"Editing requires the key field to be specified in the data store",E1046:"The '{0}' key field is not found in data objects",E1047:'The "{0}" field is not found in the fields array',E1048:'The "{0}" operation is not found in the filterOperations array',E1049:"Column '{0}': filtering is allowed but the 'dataField' or 'name' option is not specified",E1050:"The validationRules option does not apply to third-party editors defined in the editCellTemplate",E1051:'HtmlEditor\'s valueType is "{0}", but the {0} converter was not imported.',E1052:'{0} should have the "dataSource" option specified',E1053:'The "buttons" option accepts an array that contains only objects or string values',E1054:"All text editor buttons must have names",E1055:'One or several text editor buttons have invalid or non-unique "name" values',E1056:'The {0} widget does not support buttons of the "{1}" type',E1058:'The "startDayHour" must be earlier than the "endDayHour"',E1059:"The following column names are not unique: {0}",E1060:"All editable columns must have names",W1001:'The "key" option cannot be modified after initialization',W1002:"An item with the key '{0}' does not exist",W1003:"A group with the key '{0}' in which you are trying to select items does not exist",W1004:"The item '{0}' you are trying to select in the group '{1}' does not exist",W1005:"Due to column data types being unspecified, data has been loaded twice in order to apply initial filter settings. To resolve this issue, specify data types for all grid columns.",W1006:"The map service returned the following error: '{0}'",W1007:"No item with key {0} was found in the data source, but this key was used as the parent key for item {1}",W1008:"Cannot scroll to the '{0}' date because it does not exist on the current view",W1009:"Searching works only if data is specified using the dataSource option",W1010:"The capability to select all items works with source data of plain structure only",W1011:'The "keyExpr" option is not applied when dataSource is not an array',W1012:"The '{0}' key field is not found in data objects",W1013:'The "message" field in the dialog component was renamed to "messageHtml". Change your code correspondingly. In addition, if you used HTML code in the message, make sure that it is secure',W1014:"The Floating Action Button exceeds the recommended speed dial action count. If you need to display more speed dial actions, increase the maxSpeedDialActionCount option value in the global config.",W1015:'The "cellDuration" should divide the range from the "startDayHour" to the "endDayHour" into even intervals',W1016:"The '{0}' field in the HTML Editor toolbar item configuration was renamed to '{1}'. Please make a corresponding change in your code.",W1017:"The 'key' property is not specified for a lookup data source. Please specify it to prevent requests for the entire dataset when users filter data.",W1018:"Infinite scrolling may not work properly with multiple selection. To use these features together, set 'selection.deferred' to true or set 'selection.selectAllMode' to 'page'.",W1019:"Filter query string exceeds maximum length limit of {0} characters.",W1020:"hideEvent is ignored when the shading property is true",W1021:"The '{0}' is not rendered because none of the DOM elements match the value of the \"container\" property.",W1022:"{0} JSON parsing error: '{1}'",W1023:"Appointments require unique keys. Otherwise, the agenda view may not work correctly."});var Vl,By,Nl,to,Hl,nw,sH=ut(),dJ=Nr.add,uJ=ks,cJ=Xh,sp=new W,aH="link[rel=dx-theme]",hJ="data-theme",pJ="data-active",lH="dx-hairlines",dH="any",jP=15e3,KP="dx.";function YP(){if(!rt())return null;var n,e=x("<div>",Vl).addClass("dx-theme-marker").appendTo(Vl.documentElement);try{return(n=sH.getComputedStyle(e.get(0)).fontFamily)&&(n=n.replace(/["']/g,"")).substr(0,KP.length)===KP?n.substr(KP.length):null}finally{e.remove()}}function qP(e){var n,t,i=!0;function r(){Hl=null,clearInterval(t),i=!0,op.fire(),op.empty(),sp.resolve()}if(Hl=e,JP()||!jP)r();else{if(!i)return void(Hl&&(Hl=e));n=Date.now(),i=!1,t=setInterval(function(){var o=JP(),s=!o&&Date.now()-n>jP;s&&It.log("W0004",Hl),(o||s)&&r()},10)}}function JP(){if(!Hl)return!0;var e=Hl===dH;if("resolved"===sp.state()&&e)return!0;var n=YP();return!(!n||!e)||n===Hl}function uH(e){(function _J(e){try{e!==Vl&&(Nl=null)}catch{Nl=null}Vl=e})((e=e||{}).context||se.getDocument()),Vl&&(function gJ(){var e=x(aH,Vl);e.length&&(Nl={},By=x(_C("<link rel=stylesheet>"),Vl),e.each(function(){var n=x(this,Vl),t=n.attr(hJ),i=n.attr("href"),r="true"===n.attr(pJ);Nl[t]={url:i,isActive:r}}),e.last().after(By),e.remove())}(),to=void 0,es(e))}function es(e){if(!arguments.length)return to=to||YP();ZP(uJ()),"string"==typeof(e=e||{})&&(e={theme:e});var i,n=e._autoInit,t=e.loadCallback;if(to=function fJ(e){var n=e?e.split("."):[],t=null;if(Nl){if(e in Nl)return e;B(Nl,function(i,r){var o=i.split(".");if((!n[0]||o[0]===n[0])&&(!n[1]||n[1]===o[1])&&(!n[2]||n[2]===o[2])&&((!t||r.isActive)&&(t=i),r.isActive))return!1})}return t}(e.theme||to),to&&(i=Nl[to]),t&&op.add(t),i)By.attr("href",Nl[to].url),(op.has()||"resolved"!==sp.state()||e._forceTimeout)&&qP(to);else{if(!n)throw It.Error("E0021",to);rt()&&qP(dH),op.fire(),op.empty()}sp.done(()=>XP(EE(),to))}function XP(e,n){nw=function mJ(e){var n=[],t=(e=e||es())&&e.split(".");return t&&(n.push("dx-theme-"+t[0],"dx-theme-"+t[0]+"-typography"),t.length>1&&n.push("dx-color-scheme-"+t[1]+(Wn(e)?"-"+t[2]:""))),n}(n).join(" "),x(e).addClass(nw),function(){var t=rt()&&sH.devicePixelRatio;if(t&&!(t<2)){var i=x("<div>");i.css("border",".5px solid transparent"),x("body").append(i),1===_t(i)&&(x(e).addClass(lH),nw+=" "+lH),i.remove()}}()}function ZP(e){x(e).removeClass(nw)}function iw(e,n){return n||(n=to||YP()),new RegExp(e).test(n)}function Wn(e){return iw("material",e)}function QP(e){return iw("generic",e)}function cH(e){return iw("compact",e)}function pH(e,n){return new Promise(t=>{var i=()=>{clearInterval(r),clearTimeout(o),t()},r=setInterval(()=>{(function hH(e,n){var t=se.getDocument(),i=t.createElement("span");i.style.position="absolute",i.style.top="-9999px",i.style.left="-9999px",i.style.visibility="hidden",i.style.fontFamily="Arial",i.style.fontSize="250px",i.style.fontWeight=n,i.innerHTML=e,t.body.appendChild(i);var r=i.offsetWidth;i.style.fontFamily="Roboto, RobotoFallback, Arial";var o=i.offsetWidth;return i.parentNode.removeChild(i),r!==o})(e,n)&&i()},15),o=setTimeout(i,2e3)})}function gH(){if(uH({_autoInit:!0,_forceTimeout:!0}),x(aH,Vl).length)throw It.Error("E0022")}function ts(e){return Object.keys(e).filter(n=>e[n]).join(" ")}rt()?gH():dJ(gH),cJ.add(function(e,n){sp.done(function(){ZP(n),XP(e)})}),$e.changed.add(function(){uH({_autoInit:!0})});var OJ=["iconTemplate","position","source"],SJ={position:"left",source:""},EJ=e=>e&&(e.defaultProps?n=>pr(rn(2,e,de({},n))):e);let wJ=(()=>{class e extends xo{constructor(t){super(t),this.state={}}get sourceType(){return ky(this.props.source)}get cssClass(){return"left"!==this.props.position?"dx-icon-right":""}get iconClassName(){var t={"dx-icon":!0,[this.cssClass]:!!this.cssClass},{source:i}=this.props;return"dxIcon"===this.sourceType?ts(de({},t,{["dx-icon-".concat(i)]:!0})):"fontIcon"===this.sourceType?ts(de({},t,{[String(i)]:!!i})):"image"===this.sourceType?ts(t):"svg"===this.sourceType?ts(de({},t,{"dx-svg-icon":!0})):""}get restAttributes(){return mn(this.props,OJ)}render(){var t=this.props;return(e=>{var{iconClassName:n,props:{iconTemplate:t,source:i},sourceType:r}=e;return As(["dxIcon"===r&&wn(1,"i",n),"fontIcon"===r&&wn(1,"i",n),"image"===r&&wn(1,"img",n,null,1,{alt:"",src:i}),t&&wn(1,"i",n,t({}),0)],0)})({props:de({},t,{iconTemplate:EJ(t.iconTemplate)}),sourceType:this.sourceType,cssClass:this.cssClass,iconClassName:this.iconClassName,restAttributes:this.restAttributes})}}return e.defaultProps=SJ,e})();var fH="dx-inkripple",_H="dx-inkripple-wave",mH="dx-inkripple-showing",vH="dx-inkripple-hiding",yH=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{useHoldAnimation:n,waveSizeCoefficient:t,isCentered:i,wavesNumber:r}=e;return{waveSizeCoefficient:t||2,isCentered:i||!1,wavesNumber:r||1,durations:FJ(n??!0)}},tF=function(e){var n=yH(e);return{showWave:bH.bind(this,n),hideWave:DH.bind(this,n)}},xH=function(e,n){for(var t=function(e){var n=e.children("."+fH);return 0===n.length&&(n=x("<div>").addClass(fH).appendTo(e)),n}(x(e)),i=t.children("."+_H).toArray(),r=i.length;r<n;r++){var o=x("<div>").appendTo(t).addClass(_H);i.push(o[0])}return x(i)},RJ=function(e,n){var l,h,t=x(n.element),i=wt(t),r=_t(t),o=parseInt(Math.sqrt(i*i+r*r)),s=Math.min(4e3,parseInt(o*e.waveSizeCoefficient));if(e.isCentered)l=(i-s)/2,h=(r-s)/2;else{var g=n.event,_=t.offset();l=g.pageX-_.left-s/2,h=g.pageY-_.top-s/2}return{left:l,top:h,height:s,width:s}};function bH(e,n){var t=xH(n.element,e.wavesNumber).eq(n.wave||0);e.hidingTimeout&&clearTimeout(e.hidingTimeout),OH(t),t.css(RJ(e,n)),e.showingTimeout=setTimeout(PJ.bind(this,e,t),0)}function PJ(e,n){var t=e.durations.showingScale+"ms";n.addClass(mH).css("transitionDuration",t)}function FJ(e){return{showingScale:e?1e3:300,hidingScale:300,hidingOpacity:300}}function OH(e){e.removeClass(vH).css("transitionDuration","")}function DH(e,n){e.showingTimeout&&clearTimeout(e.showingTimeout);var t=xH(n.element,n.wavesNumber).eq(n.wave||0),i=e.durations,r=i.hidingScale+"ms, "+i.hidingOpacity+"ms";t.addClass(vH).removeClass(mH).css("transitionDuration",r);var o=Math.max(i.hidingScale,i.hidingOpacity);e.hidingTimeout=setTimeout(OH.bind(this,t),o)}var kJ=["config"],LJ={config:Object.freeze({})};let VJ=(()=>{class e extends xo{constructor(t){super(t),this.state={},this.__getterCache={},this.hideWave=this.hideWave.bind(this),this.showWave=this.showWave.bind(this)}get getConfig(){return void 0!==this.__getterCache.getConfig?this.__getterCache.getConfig:this.__getterCache.getConfig=(()=>{var{config:t}=this.props;return yH(t)})()}get restAttributes(){return mn(this.props,kJ)}hideWave(t){DH(this.getConfig,t)}showWave(t){bH(this.getConfig,t)}componentWillUpdate(t,i,r){this.props.config!==t.config&&(this.__getterCache.getConfig=void 0)}render(){return(e=>pr(wn(1,"div","dx-inkripple",null,1,de({},e.restAttributes))))({props:de({},this.props),getConfig:this.getConfig,restAttributes:this.restAttributes})}}return e.defaultProps=LJ,e})();var NJ=Nr.add,SH=Math.abs,rw=10,$J=Wo(function(){var e="desktop"===$e.real().deviceType;if(!Cl("pointer-events")||!e)return U;var n=x("<div>").addClass("dx-gesture-cover").css("pointerEvents","none");return R.subscribeGlobal(n,"dxmousewheel",function(t){t.preventDefault()}),NJ(function(){n.appendTo("body")}),function(t,i){n.css("pointerEvents",t?"all":"none"),t&&n.css("cursor",i)}}),rF=ZE.inherit({gesture:!0,configure:function(e){this.getElement().css("msTouchAction",e.immediate?"pinch-zoom":""),this.callBase(e)},allowInterruptionByMouseWheel:function(){return 2!==this._stage},getDirection:function(){return this.direction},_cancel:function(){this.callBase.apply(this,arguments),this._toggleGestureCover(!1),this._stage=0},start:function(e){e._needSkipEvent||zR(e)?this._cancel(e):(this._startEvent=Ml(e),this._startEventData=In(e),this._stage=1,this._init(e),this._setupImmediateTimer())},_setupImmediateTimer:function(){var e;if(clearTimeout(this._immediateTimer),this._immediateAccepted=!1,this.immediate){if(0===this.immediateTimeout)return void(this._immediateAccepted=!0);this._immediateTimer=setTimeout(function(){this._immediateAccepted=!0}.bind(this),null!==(e=this.immediateTimeout)&&void 0!==e?e:180)}},move:function(e){if(1===this._stage&&this._directionConfirmed(e)){if(this._stage=2,this._resetActiveElement(),this._toggleGestureCover(!0),this._clearSelection(e),this._adjustStartEvent(e),this._start(this._startEvent),0===this._stage)return;this._requestAccept(e),this._move(e),this._forgetAccept()}else 2===this._stage&&(this._clearSelection(e),this._move(e))},_directionConfirmed:function(e){var n=this._getTouchBoundary(e),t=Au(this._startEventData,In(e)),i=SH(t.x),r=SH(t.y),o=this._validateMove(n,i,r),s=this._validateMove(n,r,i),l=this.getDirection(e);return"both"===l&&(o||s)||"horizontal"===l&&o||"vertical"===l&&s||this._immediateAccepted},_validateMove:function(e,n,t){return n&&n>=e&&(!this.immediate||n>=t)},_getTouchBoundary:function(e){return this.immediate||Wi(e)?0:rw},_adjustStartEvent:function(e){var n=this._getTouchBoundary(e),t=Au(this._startEventData,In(e));this._startEvent.pageX+=Ts(t.x)*n,this._startEvent.pageY+=Ts(t.y)*n},_resetActiveElement:function(){"ios"===$e.real().platform&&this.getElement().find(":focus").length&&Qh()},_toggleGestureCover:function(e){this._toggleGestureCoverImpl(e)},_toggleGestureCoverImpl:function(e){2===this._stage&&function(e,n){$J()(e,n)}(e,this.getElement().css("cursor"))},_clearSelection:function(e){Wi(e)||Mu(e)||(()=>{var e=Cy.getSelection();if(e&&"Caret"!==e.type)if(e.empty)e.empty();else if(e.removeAllRanges)try{e.removeAllRanges()}catch{}})()},end:function(e){this._toggleGestureCover(!1),2===this._stage?this._end(e):1===this._stage&&this._stop(e),this._stage=0},dispose:function(){clearTimeout(this._immediateTimer),this.callBase.apply(this,arguments),this._toggleGestureCover(!1)},_init:U,_start:U,_move:U,_stop:U,_end:U});rF.initialTouchBoundary=rw,rF.touchBoundary=function(e){if(!T(e))return rw;rw=e};const oF=rF;var UJ=kt.abstract,jJ=$e.real(),sF="dxscrollinit",aF="dxscrollstart",lF="dxscroll",dF="dxscrollend",uF="dxscrollstop",cF="dxscrollcancel",wH=kt.inherit(function(){var e=fe("scroll","dxScrollEmitter");return{ctor:function(n){this._element=n,this._locked=!1,this._proxiedScroll=t=>{this._disposed||this._scroll(t)},R.on(this._element,e,this._proxiedScroll)},_scroll:UJ,check:function(n,t){this._locked&&t()},dispose:function(){this._disposed=!0,R.off(this._element,e,this._proxiedScroll)}}}()),IH=wH.inherit({ctor:function(e,n){this.callBase(e),this._timeout=n},_scroll:function(){this._prepare(),this._forget()},_prepare:function(){this._timer&&this._clearTimer(),this._locked=!0},_clearTimer:function(){clearTimeout(this._timer),this._locked=!1,this._timer=null},_forget:function(){var e=this;this._timer=setTimeout(function(){e._clearTimer()},this._timeout)},dispose:function(){this.callBase(),this._clearTimer()}}),TH=IH.inherit({ctor:function(e){this.callBase(e,400),this._lastWheelDirection=null},check:function(e,n){this._checkDirectionChanged(e),this.callBase(e,n)},_checkDirectionChanged:function(e){if(Wi(e)){var n=e.shiftKey||!1,t=null!==this._lastWheelDirection&&n!==this._lastWheelDirection;this._lastWheelDirection=n,this._locked=this._locked&&!t}else this._lastWheelDirection=null}}),hF=IH.inherit({ctor:function(e){this.callBase(e,400)}});!function(){var{ios:e,android:n}=jJ;(e||n)&&(hF=wH.inherit({_scroll:function(){this._locked=!0;var t=this;a(this._scrollFrame),this._scrollFrame=__(function(){t._locked=!1})},check:function(t,i){a(this._scrollFrame),a(this._checkFrame);var r=this,o=this.callBase;this._checkFrame=__(function(){o.call(r,t,i),r._locked=!1})},dispose:function(){this.callBase(),a(this._scrollFrame),a(this._checkFrame)}}))}();var KJ=oF.inherit(function(){var e=Math.round(16.666666666666668);return{ctor:function(n){this.callBase.apply(this,arguments),this.direction="both",this._pointerLocker=new hF(n),this._wheelLocker=new TH(n)},validate:function(){return!0},configure:function(n){n.scrollTarget&&(this._pointerLocker.dispose(),this._wheelLocker.dispose(),this._pointerLocker=new hF(n.scrollTarget),this._wheelLocker=new TH(n.scrollTarget)),this.callBase(n)},_init:function(n){this._wheelLocker.check(n,function(){Wi(n)&&this._accept(n)}.bind(this)),this._pointerLocker.check(n,function(){var t=this.isNative&&ba(n);!Wi(n)&&!t&&this._accept(n)}.bind(this)),this._fireEvent(sF,n),this._prevEventData=In(n)},move:function(n){this.callBase.apply(this,arguments),n.isScrollingEvent=this.isNative||n.isScrollingEvent},_start:function(n){this._savedEventData=In(n),this._fireEvent(aF,n),this._prevEventData=In(n)},_move:function(n){var t=In(n);this._fireEvent(lF,n,{delta:Au(this._prevEventData,t)}),Au(this._savedEventData,t).time>200&&(this._savedEventData=this._prevEventData),this._prevEventData=In(n)},_end:function(n){var t=Au(this._prevEventData,In(n)),i={x:0,y:0};if(!Wi(n)&&t.time<100){var r=Au(this._savedEventData,this._prevEventData),o=e/r.time;i={x:r.x*o,y:r.y*o}}this._fireEvent(dF,n,{velocity:i})},_stop:function(n){this._fireEvent(uF,n)},cancel:function(n){this.callBase.apply(this,arguments),this._fireEvent(cF,n)},dispose:function(){this.callBase.apply(this,arguments),this._pointerLocker.dispose(),this._wheelLocker.dispose()},_clearSelection:function(){if(!this.isNative)return this.callBase.apply(this,arguments)},_toggleGestureCover:function(){if(!this.isNative)return this.callBase.apply(this,arguments)}}}());m_({emitter:KJ,events:[sF,aF,lF,dF,uF,cF]});const Oo_init=sF,Oo_start=aF,Oo_move=lF,Oo_end=dF,Oo_stop=uF,Oo_cancel=cF;function vi(e){return(n,t,i,r)=>{var o=r?fe(e,r):e;if(t)return R.on(n,o,i,t),()=>{R.off(n,o,t)}}}var YJ=vi(Kt),qJ=(vi("scroll"),vi(Oo_init),vi(Oo_start),vi(Oo_move),vi(Oo_end),vi(Oo_stop),vi(Oo_cancel),vi(Rt.down),vi(Rt.up),vi(Rt.move),vi("mouseenter"),vi("mouseleave"),vi("keydown"),vi("dxactive")),JJ=vi("dxinactive"),XJ=vi("dxhoverstart"),ZJ=vi("dxhoverend"),QJ=vi("focusin"),e5=vi("focusout"),ow={className:"",activeStateEnabled:!1,disabled:!1,focusStateEnabled:!1,hoverStateEnabled:!1,tabIndex:0,visible:!0},Gi=Ru(void 0),t5=["children","rtlEnabled"],i5={};let r5=(()=>{class e extends xo{constructor(t){super(t),this.state={},this.__getterCache={}}getChildContext(){return de({},this.context,{[Gi.id]:this.config||Gi.defaultValue})}get config(){return void 0!==this.__getterCache.config?this.__getterCache.config:this.__getterCache.config=(()=>({rtlEnabled:this.props.rtlEnabled}))()}get restAttributes(){return mn(this.props,t5)}componentWillUpdate(t,i,r){this.props.rtlEnabled!==t.rtlEnabled&&(this.__getterCache.config=void 0)}render(){return(e=>e.props.children)({props:de({},this.props),config:this.config,restAttributes:this.restAttributes})}}return e.defaultProps=i5,e})();var a5=["_feedbackHideTimeout","_feedbackShowTimeout","accessKey","activeStateEnabled","activeStateUnit","addWidgetClass","aria","children","className","classes","cssText","disabled","focusStateEnabled","height","hint","hoverStateEnabled","name","onActive","onClick","onDimensionChanged","onFocusIn","onFocusOut","onHoverEnd","onHoverStart","onInactive","onKeyDown","onRootElementRendered","onVisibilityChange","rootElementRef","rtlEnabled","tabIndex","visible","width"],sw=Object.create(Object.prototype,de(Object.getOwnPropertyDescriptors(ow),Object.getOwnPropertyDescriptors({_feedbackHideTimeout:400,_feedbackShowTimeout:30,cssText:"",aria:Object.freeze({}),classes:"",name:"",addWidgetClass:!0})));let pF=(()=>{class e extends i_{constructor(t){super(t),this.widgetElementRef={current:null},this.state={active:!1,focused:!1,hovered:!1},this.setRootElementRef=this.setRootElementRef.bind(this),this.activeEffect=this.activeEffect.bind(this),this.inactiveEffect=this.inactiveEffect.bind(this),this.clickEffect=this.clickEffect.bind(this),this.focus=this.focus.bind(this),this.blur=this.blur.bind(this),this.activate=this.activate.bind(this),this.deactivate=this.deactivate.bind(this),this.focusInEffect=this.focusInEffect.bind(this),this.focusOutEffect=this.focusOutEffect.bind(this),this.hoverStartEffect=this.hoverStartEffect.bind(this),this.hoverEndEffect=this.hoverEndEffect.bind(this),this.keyboardEffect=this.keyboardEffect.bind(this),this.resizeEffect=this.resizeEffect.bind(this),this.windowResizeEffect=this.windowResizeEffect.bind(this),this.visibilityEffect=this.visibilityEffect.bind(this),this.checkDeprecation=this.checkDeprecation.bind(this),this.applyCssTextEffect=this.applyCssTextEffect.bind(this)}get config(){return this.context[Gi.id]?this.context[Gi.id]:Gi.defaultValue}createEffects(){return[new tn(this.setRootElementRef,[]),new tn(this.activeEffect,[this.props._feedbackShowTimeout,this.props.activeStateEnabled,this.props.activeStateUnit,this.props.disabled,this.props.onActive]),new tn(this.inactiveEffect,[this.props._feedbackHideTimeout,this.props.activeStateEnabled,this.props.activeStateUnit,this.props.onInactive,this.state.active]),new tn(this.clickEffect,[this.props.disabled,this.props.name,this.props.onClick]),new tn(this.focusInEffect,[this.props.disabled,this.props.focusStateEnabled,this.props.name,this.props.onFocusIn]),new tn(this.focusOutEffect,[this.props.focusStateEnabled,this.props.name,this.props.onFocusOut,this.state.focused]),new tn(this.hoverStartEffect,[this.props.activeStateUnit,this.props.disabled,this.props.hoverStateEnabled,this.props.onHoverStart,this.state.active]),new tn(this.hoverEndEffect,[this.props.activeStateUnit,this.props.hoverStateEnabled,this.props.onHoverEnd,this.state.hovered]),new tn(this.keyboardEffect,[this.props.focusStateEnabled,this.props.onKeyDown]),new tn(this.resizeEffect,[this.props.name,this.props.onDimensionChanged]),new tn(this.windowResizeEffect,[this.props.onDimensionChanged]),new tn(this.visibilityEffect,[this.props.name,this.props.onVisibilityChange]),new tn(this.checkDeprecation,[this.props.height,this.props.width]),new tn(this.applyCssTextEffect,[this.props.cssText]),Jh()]}updateEffects(){var t,i,r,o,s,l,h,g,_,v,C,b,E;null===(t=this._effects[1])||void 0===t||t.update([this.props._feedbackShowTimeout,this.props.activeStateEnabled,this.props.activeStateUnit,this.props.disabled,this.props.onActive]),null===(i=this._effects[2])||void 0===i||i.update([this.props._feedbackHideTimeout,this.props.activeStateEnabled,this.props.activeStateUnit,this.props.onInactive,this.state.active]),null===(r=this._effects[3])||void 0===r||r.update([this.props.disabled,this.props.name,this.props.onClick]),null===(o=this._effects[4])||void 0===o||o.update([this.props.disabled,this.props.focusStateEnabled,this.props.name,this.props.onFocusIn]),null===(s=this._effects[5])||void 0===s||s.update([this.props.focusStateEnabled,this.props.name,this.props.onFocusOut,this.state.focused]),null===(l=this._effects[6])||void 0===l||l.update([this.props.activeStateUnit,this.props.disabled,this.props.hoverStateEnabled,this.props.onHoverStart,this.state.active]),null===(h=this._effects[7])||void 0===h||h.update([this.props.activeStateUnit,this.props.hoverStateEnabled,this.props.onHoverEnd,this.state.hovered]),null===(g=this._effects[8])||void 0===g||g.update([this.props.focusStateEnabled,this.props.onKeyDown]),null===(_=this._effects[9])||void 0===_||_.update([this.props.name,this.props.onDimensionChanged]),null===(v=this._effects[10])||void 0===v||v.update([this.props.onDimensionChanged]),null===(C=this._effects[11])||void 0===C||C.update([this.props.name,this.props.onVisibilityChange]),null===(b=this._effects[12])||void 0===b||b.update([this.props.height,this.props.width]),null===(E=this._effects[13])||void 0===E||E.update([this.props.cssText])}setRootElementRef(){var{onRootElementRendered:t,rootElementRef:i}=this.props;i&&(i.current=this.widgetElementRef.current),t?.(this.widgetElementRef.current)}activeEffect(){var{_feedbackShowTimeout:t,activeStateEnabled:i,activeStateUnit:r,disabled:o,onActive:s}=this.props;if(i&&!o)return qJ(this.widgetElementRef.current,h=>{this.setState(g=>({active:!0})),s?.(h)},{timeout:t,selector:r},"UIFeedback")}inactiveEffect(){var{_feedbackHideTimeout:t,activeStateEnabled:i,activeStateUnit:r,onInactive:o}=this.props;if(i)return JJ(this.widgetElementRef.current,l=>{this.state.active&&(this.setState(h=>({active:!1})),o?.(l))},{timeout:t,selector:r},"UIFeedback")}clickEffect(){var{disabled:t,name:i,onClick:r}=this.props,o=i;if(r&&!t)return function(e,n){var{namespace:t}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};R.on(e,zn("dxclick",t),n)}(this.widgetElementRef.current,r,{namespace:o}),()=>function(e){var{namespace:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};R.off(e,zn("dxclick",n))}(this.widgetElementRef.current,{namespace:o})}focusInEffect(){var{disabled:t,focusStateEnabled:i,name:r,onFocusIn:o}=this.props,s="".concat(r,"Focus");if(i&&!t)return QJ(this.widgetElementRef.current,l=>{l.isDefaultPrevented()||(this.setState(h=>({focused:!0})),o?.(l))},null,s)}focusOutEffect(){var{focusStateEnabled:t,name:i,onFocusOut:r}=this.props,o="".concat(i,"Focus");if(t)return e5(this.widgetElementRef.current,s=>{!s.isDefaultPrevented()&&this.state.focused&&(this.setState(l=>({focused:!1})),r?.(s))},null,o)}hoverStartEffect(){var{activeStateUnit:t,disabled:i,hoverStateEnabled:r,onHoverStart:o}=this.props;if(r&&!i)return XJ(this.widgetElementRef.current,l=>{!this.state.active&&this.setState(h=>({hovered:!0})),o?.(l)},{selector:t},"UIFeedback")}hoverEndEffect(){var{activeStateUnit:t,hoverStateEnabled:i,onHoverEnd:r}=this.props;if(i)return ZJ(this.widgetElementRef.current,s=>{this.state.hovered&&(this.setState(l=>({hovered:!1})),r?.(s))},{selector:t},"UIFeedback")}keyboardEffect(){var{focusStateEnabled:t,onKeyDown:i}=this.props;if(t&&i){var r=Ls_on(this.widgetElementRef.current,this.widgetElementRef.current,o=>i(o));return()=>Ls_off(r)}}resizeEffect(){var t="".concat(this.props.name,"VisibilityChange"),{onDimensionChanged:i}=this.props;if(i)return Sy_on(this.widgetElementRef.current,i,{namespace:t}),()=>Sy_off(this.widgetElementRef.current,{namespace:t})}windowResizeEffect(){var{onDimensionChanged:t}=this.props;if(t)return Sa.add(t),()=>{Sa.remove(t)}}visibilityEffect(){var{name:t,onVisibilityChange:i}=this.props,r="".concat(t,"VisibilityChange");if(i)return Bu_on(this.widgetElementRef.current,()=>i(!0),()=>i(!1),{namespace:r}),()=>Bu_off(this.widgetElementRef.current,{namespace:r})}checkDeprecation(){var{height:t,width:i}=this.props;Re(i)&&zt.log("W0017","width"),Re(t)&&zt.log("W0017","height")}applyCssTextEffect(){var{cssText:t}=this.props;""!==t&&(this.widgetElementRef.current.style.cssText=t)}get shouldRenderConfigProvider(){var{rtlEnabled:t}=this.props;return function s5(e,n){var t=T(e),i=T(un().rtlEnabled)&&!t&&!T(n?.rtlEnabled);return t&&e!==n?.rtlEnabled||i}(t,this.config)}get rtlEnabled(){var{rtlEnabled:t}=this.props;return function o5(e,n){return void 0!==e?e:void 0!==n?.rtlEnabled?n.rtlEnabled:un().rtlEnabled}(t,this.config)}get attributes(){var{aria:t,disabled:i,focusStateEnabled:r,visible:o}=this.props,s=r&&!i&&this.props.accessKey;return de({},A({},s&&{accessKey:s}),(e=>Object.keys(e).reduce((n,t)=>e[t]?de({},n,{["role"===t||"id"===t?t:"aria-".concat(t)]:String(e[t])}):n,{}))(de({},t,{disabled:i,hidden:!o})),A({},this.restAttributes))}get styles(){var{height:t,width:i}=this.props,r=this.restAttributes.style||{},o=_a("width",Re(i)?i():i);return de({},r,{height:_a("height",Re(t)?t():t)??r.height,width:o??r.width})}get cssClasses(){var{activeStateEnabled:t,addWidgetClass:i,className:r,classes:o,disabled:s,focusStateEnabled:l,hoverStateEnabled:h,onVisibilityChange:g,visible:_}=this.props,v=!!l&&!s,C=!!h&&!s,b=!!t&&!s;return ts({"dx-widget":!!i,[String(o)]:!!o,[String(r)]:!!r,"dx-state-disabled":!!s,"dx-state-invisible":!_,"dx-state-focused":!!this.state.focused&&v,"dx-state-active":!!this.state.active&&b,"dx-state-hover":!!this.state.hovered&&C&&!this.state.active,"dx-rtl":!!this.rtlEnabled,"dx-visibility-change-handler":!!g})}get tabIndex(){var{disabled:t,focusStateEnabled:i,tabIndex:r}=this.props;return i&&!t?r:void 0}get restAttributes(){return mn(this.props,a5)}focus(){np_trigger(this.widgetElementRef.current)}blur(){var t=se.getActiveElement(this.widgetElementRef.current);this.widgetElementRef.current===t&&t.blur()}activate(){this.setState(t=>({active:!0}))}deactivate(){this.setState(t=>({active:!1}))}render(){return(e=>{var n=pr(wn(1,"div",e.cssClasses,e.props.children,0,de({},e.attributes,{tabIndex:e.tabIndex,title:e.props.hint,style:hy(e.styles)}),null,e.widgetElementRef));return e.shouldRenderConfigProvider?rn(2,r5,{rtlEnabled:e.rtlEnabled,children:n}):n})({props:de({},this.props),active:this.state.active,focused:this.state.focused,hovered:this.state.hovered,widgetElementRef:this.widgetElementRef,config:this.config,shouldRenderConfigProvider:this.shouldRenderConfigProvider,rtlEnabled:this.rtlEnabled,attributes:this.attributes,styles:this.styles,cssClasses:this.cssClasses,tabIndex:this.tabIndex,restAttributes:this.restAttributes})}}return e.defaultProps=sw,e})();var h5=["accessKey","activeStateEnabled","children","className","disabled","focusStateEnabled","height","hint","hoverStateEnabled","icon","iconPosition","iconTemplate","onClick","onKeyDown","onSubmit","pressed","rtlEnabled","stylingMode","tabIndex","template","templateData","text","type","useInkRipple","useSubmitBehavior","visible","width"],p5=["outlined","text","contained"],_5=Object.create(Object.prototype,de(Object.getOwnPropertyDescriptors(ow),Object.getOwnPropertyDescriptors({activeStateEnabled:!0,hoverStateEnabled:!0,icon:"",iconPosition:"left",stylingMode:"contained",text:"",type:"normal",useInkRipple:!1,useSubmitBehavior:!1,templateData:Object.freeze({})}))),MH=function(){return arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]}([{device:()=>"desktop"===$e.real().deviceType&&!$e.isSimulator(),options:{focusStateEnabled:!0}},{device:()=>Wn(es()),options:{useInkRipple:!0}}]),AH=e=>e&&(e.defaultProps?n=>pr(rn(2,e,de({},n))):e);class aw extends i_{constructor(n){super(n),this.state={},this.contentRef={current:null},this.inkRippleRef={current:null},this.submitInputRef={current:null},this.widgetRef={current:null},this.__getterCache={},this.focus=this.focus.bind(this),this.activate=this.activate.bind(this),this.deactivate=this.deactivate.bind(this),this.submitEffect=this.submitEffect.bind(this),this.checkDeprecation=this.checkDeprecation.bind(this),this.onActive=this.onActive.bind(this),this.onInactive=this.onInactive.bind(this),this.onWidgetClick=this.onWidgetClick.bind(this),this.keyDown=this.keyDown.bind(this)}createEffects(){return[new tn(this.submitEffect,[this.props.onSubmit,this.props.useSubmitBehavior]),new tn(this.checkDeprecation,[this.props.type]),Jh()]}updateEffects(){var n,t;null===(n=this._effects[0])||void 0===n||n.update([this.props.onSubmit,this.props.useSubmitBehavior]),null===(t=this._effects[1])||void 0===t||t.update([this.props.type])}submitEffect(){var{onSubmit:n,useSubmitBehavior:t}=this.props;if(t&&n)return function(e,n){var{namespace:t}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};R.on(e,zn("click",t),n)}(this.submitInputRef.current,i=>n({event:i,submitInput:this.submitInputRef.current}),{namespace:"UIFeedback"}),()=>function(e){var{namespace:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};R.off(e,zn("click",n))}(this.submitInputRef.current,{namespace:"UIFeedback"})}checkDeprecation(){var{type:n}=this.props;"back"===n&&zt.log("W0016","type","back","22.2","Use the 'back' icon instead")}onActive(n){var{useInkRipple:t}=this.props;t&&this.inkRippleRef.current.showWave({element:this.contentRef.current,event:n})}onInactive(n){var{useInkRipple:t}=this.props;t&&this.inkRippleRef.current.hideWave({element:this.contentRef.current,event:n})}onWidgetClick(n){var{onClick:t,useSubmitBehavior:i}=this.props;t?.({event:n}),i&&this.submitInputRef.current.click()}keyDown(n){var{onKeyDown:t}=this.props,{keyName:i,originalEvent:r,which:o}=n,s=t?.(n);if(null!=s&&s.cancel)return s;("space"===i||"space"===o||"enter"===i||"enter"===o)&&(r.preventDefault(),this.onWidgetClick(r))}get aria(){var{icon:n,text:t}=this.props,i=t??"";if(!t&&n)switch(ky(n)){case"image":i=!n.includes("base64")&&/^(?!(?:https?:\/\/)|(?:ftp:\/\/)|(?:www\.))[^\s]+$/.test(n)?n.replace(/.+\/([^.]+)\..+$/,"$1"):"";break;case"dxIcon":i=J.format(vl(n,!0))||n;break;case"fontIcon":i=n;break;case"svg":var s,l;i=null!==(s=null===(l=/<title>(.*?)<\/title>/.exec(n))||void 0===l?void 0:l[1])&&void 0!==s?s:""}return de({role:"button"},i?{label:i}:{})}get cssClasses(){return(e=>{var{icon:n,iconPosition:t,stylingMode:i,text:r,type:o}=e,s=i&&p5.includes(i);return ts({"dx-button":!0,["dx-button-mode-".concat(s?i:"contained")]:!0,["dx-button-".concat(o??"normal")]:!0,"dx-button-has-text":!!r,"dx-button-has-icon":!!n,"dx-button-icon-right":"left"!==t})})(this.props)}get iconSource(){var{icon:n,type:t}=this.props;return n||"back"===t?(n??"")||"back":""}get inkRippleConfig(){return void 0!==this.__getterCache.inkRippleConfig?this.__getterCache.inkRippleConfig:this.__getterCache.inkRippleConfig=(()=>{var{icon:n,text:t,type:i}=this.props;return!t&&n||"back"===i?{isCentered:!0,useHoldAnimation:!1,waveSizeCoefficient:1}:{}})()}get buttonTemplateData(){var{icon:n,templateData:t,text:i}=this.props;return de({icon:n,text:i},t)}get restAttributes(){return mn(this.props,h5)}focus(){this.widgetRef.current.focus()}activate(){this.widgetRef.current.activate()}deactivate(){this.widgetRef.current.deactivate()}componentWillUpdate(n,t,i){super.componentWillUpdate(),(this.props.icon!==n.icon||this.props.text!==n.text||this.props.type!==n.type)&&(this.__getterCache.inkRippleConfig=void 0)}render(){var n=this.props;return(e=>{var{children:n,iconPosition:t,iconTemplate:i,template:r,text:o}=e.props,s=!e.props.template&&!n&&""!==o,l="left"===t,h=!e.props.template&&!n&&(e.iconSource||e.props.iconTemplate)&&rn(2,wJ,{source:e.iconSource,position:t,iconTemplate:i});return pr(rn(2,pF,de({accessKey:e.props.accessKey,activeStateEnabled:e.props.activeStateEnabled,aria:e.aria,className:e.props.className,classes:e.cssClasses,disabled:e.props.disabled,focusStateEnabled:e.props.focusStateEnabled,height:e.props.height,hint:e.props.hint,hoverStateEnabled:e.props.hoverStateEnabled,onActive:e.onActive,onClick:e.onWidgetClick,onInactive:e.onInactive,onKeyDown:e.keyDown,rtlEnabled:e.props.rtlEnabled,tabIndex:e.props.tabIndex,visible:e.props.visible,width:e.props.width},e.restAttributes,{children:wn(1,"div","dx-button-content",[e.props.template&&r({data:e.buttonTemplateData}),!e.props.template&&n,l&&h,s&&wn(1,"span","dx-button-text",o,0),!l&&h,e.props.useSubmitBehavior&&wn(64,"input","dx-button-submit-input",null,1,{type:"submit",tabIndex:-1},null,e.submitInputRef),e.props.useInkRipple&&rn(2,VJ,{config:e.inkRippleConfig},null,e.inkRippleRef)],0,null,null,e.contentRef)}),null,e.widgetRef))})({props:de({},n,{template:AH(n.template),iconTemplate:AH(n.iconTemplate)}),contentRef:this.contentRef,submitInputRef:this.submitInputRef,inkRippleRef:this.inkRippleRef,widgetRef:this.widgetRef,onActive:this.onActive,onInactive:this.onInactive,onWidgetClick:this.onWidgetClick,keyDown:this.keyDown,aria:this.aria,cssClasses:this.cssClasses,iconSource:this.iconSource,inkRippleConfig:this.inkRippleConfig,buttonTemplateData:this.buttonTemplateData,restAttributes:this.restAttributes})}}aw.defaultProps=Object.create(Object.prototype,de(Object.getOwnPropertyDescriptors(_5),Object.getOwnPropertyDescriptors(de({},Pl(MH)))));var RH=[];class gF extends lJ{getProps(){var n=super.getProps();return n.onKeyDown=this._wrapKeyDownHandler(n.onKeyDown),n}focus(){var n;return null===(n=this.viewRef)||void 0===n?void 0:n.focus(...arguments)}activate(){var n;return null===(n=this.viewRef)||void 0===n?void 0:n.activate(...arguments)}deactivate(){var n;return null===(n=this.viewRef)||void 0===n?void 0:n.deactivate(...arguments)}_getActionConfigs(){return{onClick:{excludeValidators:["readOnly"]},onSubmit:{}}}get _propsInfo(){return{twoWay:[],allowNull:[],elements:["onSubmit"],templates:["template","iconTemplate"],props:["activeStateEnabled","hoverStateEnabled","icon","iconPosition","onClick","onSubmit","pressed","stylingMode","template","iconTemplate","text","type","useInkRipple","useSubmitBehavior","templateData","className","accessKey","disabled","focusStateEnabled","height","hint","onKeyDown","rtlEnabled","tabIndex","visible","width"]}}get _viewComponent(){return aw}}Dt("dxButton",gF),gF.defaultOptions=function m5(e){RH.push(e),aw.defaultProps=Object.create(Object.prototype,de(Object.getOwnPropertyDescriptors(aw.defaultProps),Object.getOwnPropertyDescriptors(Pl(MH)),Object.getOwnPropertyDescriptors(Pl(RH))))};const Ui=gF;var PH=R.triggerHandler,C5=ut();const FH=Xr({getXhr:function(){return new C5.XMLHttpRequest}});var fF=ut(),Vy="success",_F="error",kH=function(e){var n=se.createElement("script");for(var t in e)n[t]=e[t];return n},BH=function(e){e.parentNode.removeChild(e)},LH=function(e){return se.getHead().appendChild(e)},VH=function(e){var n=kH({text:e});LH(n),BH(n)};function mF(e){return(e.method||"GET").toUpperCase()}var B5=function(e){var n=e.headers||{};return n["Content-Type"]=n["Content-Type"]||function(e){var n;return e.data&&!e.upload&&"GET"!==mF(e)&&(n="application/x-www-form-urlencoded;charset=utf-8"),e.contentType||n}(e),n.Accept=n.Accept||function(e){var n=e.dataType||"*",t="text/javascript, application/javascript, application/ecmascript, application/x-ecmascript",i={"*":"*/*",text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript",jsonp:t,script:t};return function(e,n,t){for(var i in e=e||{},n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}(i,e.accepts),i[n]?i[n]+("*"!==n?", */*; q=0.01":""):i["*"]}(e),!e.crossDomain&&!n["X-Requested-With"]&&(n["X-Requested-With"]="XMLHttpRequest"),n};const V5=Xr({sendRequest:function(e){var l,n=FH.getXhr(),t=new W,i=t.promise(),r=!T(e.async)||e.async,o=e.dataType,s=e.timeout||0;e.crossDomain=function(e){if(!rt())return!0;var n=!1,t=se.createElement("a"),i=se.createElement("a");t.href=fF.location.href;try{i.href=e,i.href=i.href,n=t.protocol+"//"+t.host!=i.protocol+"//"+i.host}catch{n=!0}return n}(e.url);var h="jsonp"===o||"script"===o;void 0===e.cache&&(e.cache=!h);var g=function(e){if("jsonp"===e.dataType){var n=Math.random().toString().replace(/\D/g,""),t=e.jsonpCallback||"dxCallback"+Date.now()+"_"+n,i=e.jsonp||"callback";return e.data=e.data||{},e.data[i]=t,t}}(e),_=B5(e),v=function(e,n){var t=e.data,i="string"==typeof t,r=e.url||fF.location.href;return!i&&!e.cache&&((t=t||{})._=Date.now()),t&&!e.upload&&(i||(t=function(e){var n=[];for(var t in e){var i=e[t];void 0!==i&&(null===i&&(i=""),"function"==typeof i&&(i=i()),n.push(encodeURIComponent(t)+"="+encodeURIComponent(i)))}return n.join("&")}(t)),"GET"===mF(e)?(""!==t&&(r+=(r.indexOf("?")>-1?"&":"?")+t),t=null):n["Content-Type"]&&n["Content-Type"].indexOf("application/x-www-form-urlencoded")>-1&&(t=t.replace(/%20/g,"+"))),{url:r,parameters:t}}(e,_),C=v.url,b=v.parameters;if(g&&(fF[g]=function(M){t.resolve(M,Vy,n)}),e.crossDomain&&h)return function(e){var n=kH({src:e});return new Promise(function(t,i){var r={load:t,error:i},o=function(l){r[l.type](),BH(n)};for(var s in r)se.listen(n,s,o);LH(n)})}(C).then(function(){"jsonp"!==o&&t.resolve(null,Vy,n)},function(){t.reject(n,_F)}),i;if(e.crossDomain&&!("withCredentials"in n))return t.reject(n,_F),i;if(n.open(mF(e),C,r,e.username,e.password),r&&(n.timeout=s,l=function(e,n){return e&&setTimeout(function(){n.customStatus="timeout",n.abort()},e)}(s,n)),n.onreadystatechange=function(M){4===n.readyState&&(clearTimeout(l),function(e){return 200<=e&&e<300}(n.status)?function(e){return 204!==e}(n.status)?function(e,n,t){var i=function(e){return e.responseType&&"text"!==e.responseType||"string"!=typeof e.responseText?e.response:e.responseText}(n);switch(t){case"jsonp":VH(i);break;case"script":VH(i),e.resolve(i,Vy,n);break;case"json":try{e.resolve(JSON.parse(i),Vy,n)}catch(r){e.reject(n,"parsererror",r)}break;default:e.resolve(i,Vy,n)}}(t,n,o):t.resolve(null,"nocontent",n):t.reject(n,n.customStatus||_F))},e.upload&&(n.upload.onprogress=e.upload.onprogress,n.upload.onloadstart=e.upload.onloadstart,n.upload.onabort=e.upload.onabort),e.xhrFields)for(var E in e.xhrFields)n[E]=e.xhrFields[E];for(var w in"arraybuffer"===e.responseType&&(n.responseType=e.responseType),_)Object.prototype.hasOwnProperty.call(_,w)&&T(_[w])&&n.setRequestHeader(w,_[w]);return e.beforeSend&&e.beforeSend(n),n.send(b),i.abort=function(){n.abort()},i}});class NH{constructor(n,t){this.instance=n,this.zone=t,this.subscriptions={},this.events={}}hasEvent(n){return 0!==this.getEmitter(n).observers.length}fireEvent(n,t){let i=this.getEmitter(n);i.observers.length&&((this.subscriptions[n]||[]).length===i.observers.length?i.next(t&&t[0]):this.zone.run(()=>i.next(t&&t[0])))}on(n,t){if("string"==typeof n){let i=this.subscriptions[n]||[],r=this.getEmitter(n).subscribe(t.bind(this.instance)),o=r.unsubscribe.bind(r);i.push({handler:t,unsubscribe:o}),this.subscriptions[n]=i}else{let i=n;Object.keys(i).forEach(r=>this.on(r,i[r]))}}off(n,t){let i=this.subscriptions[n]||[];t?i.some((r,o)=>{if(r.handler===t)return r.unsubscribe(),i.splice(o,1),!0}):(i.forEach(r=>{r.unsubscribe()}),i.splice(0,i.length))}dispose(){}addEmitter(n,t){this.events[n]=t}getEmitter(n){return this.events[n]||(this.events[n]=new u.vpe),this.events[n]}}class N5{constructor(n,t){this.zone=n,this.component=t,this.lockedValueChangeEvent=!1}fireNgEvent(n,t){if(this.lockedValueChangeEvent&&"valueChange"===n)return;let i=this.component[n];i&&i.observers.length&&this.zone.run(()=>{i.next(t&&t[0])})}createEmitters(n){n.forEach(t=>{this.component[t.emit]=new u.vpe})}}class vn{setHost(n){this.host=n}setTemplate(n){this.host.setTemplate(n)}}let ji=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=u.oAB({type:e}),e.\u0275inj=u.cJS({}),e})();const WH="dx-visibility-change-handler";let $H=(()=>{class e{constructor(){this._initialOptions={},this._collectionContainerImpl=new GH(this._setOption.bind(this),this._filterItems.bind(this))}_optionChangedHandler(t){let i=this._fullOptionPath();if(0===t.fullName.indexOf(i)){let o=this[t.fullName.slice(i.length)+"Change"];o&&o.next(t.value)}}_createEventEmitters(t){t.forEach(i=>{this[i.emit]=new u.vpe})}_getOption(t){return this.isLinked?this.instance.option(this._fullOptionPath()+t):this._initialOptions[t]}_setOption(t,i){if(this.isLinked){const r=this._fullOptionPath()+t;this.instance.option(r,i)}else this._initialOptions[t]=i}_addRemovedOption(t){this.instance&&this.removedNestedComponents&&this.removedNestedComponents.push(t)}_deleteRemovedOptions(t){this.instance&&this.removedNestedComponents&&(this.removedNestedComponents=this.removedNestedComponents.filter(i=>!i.startsWith(t)))}_addRecreatedComponent(){this.instance&&this.recreatedNestedComponents&&this.recreatedNestedComponents.push({getOptionPath:()=>this._getOptionPath()})}_getOptionPath(){return this._hostOptionPath()+this._optionPath}setHost(t,i){this._host=t,this._hostOptionPath=i,this.optionChangedHandlers.subscribe(this._optionChangedHandler.bind(this))}setChildren(t,i){return this.resetOptions(t),this._collectionContainerImpl.setChildren(t,i)}_filterItems(t){return t.filter(i=>i!==this)}get instance(){return this._host&&this._host.instance}get resetOptions(){return this._host&&this._host.resetOptions}get isRecreated(){return this._host&&this._host.isRecreated}get removedNestedComponents(){return this._host&&this._host.removedNestedComponents}set removedNestedComponents(t){this._host.removedNestedComponents=t}get recreatedNestedComponents(){return this._host&&this._host.recreatedNestedComponents}set recreatedNestedComponents(t){this._host.recreatedNestedComponents=t}get isLinked(){return!!this.instance&&this._host.isLinked}get optionChangedHandlers(){return this._host&&this._host.optionChangedHandlers}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=u.Xpm({type:e,selectors:[["ng-component"]],decls:0,vars:0,template:function(t,i){},encapsulation:2}),e})();class GH{constructor(n,t){this._setOption=n,this._filterItems=t,this._activatedQueries={}}setChildren(n,t){if(this._filterItems&&(t=this._filterItems(t)),t.length&&(this._activatedQueries[n]=!0),this._activatedQueries[n]){let i=t.map((r,o)=>(r._index=o,r._value));this._setOption(n,i)}}}let ie=(()=>{class e extends $H{setHost(t,i){super.setHost(t,i),this._host[this._optionPath]=this._initialOptions}_fullOptionPath(){return this._getOptionPath()+"."}}return e.\u0275fac=function(){let n;return function(i){return(n||(n=u.n5z(e)))(i||e)}}(),e.\u0275cmp=u.Xpm({type:e,selectors:[["ng-component"]],features:[u.qOj],decls:0,vars:0,template:function(t,i){},encapsulation:2}),e})(),qt=(()=>{class e extends $H{_fullOptionPath(){return`${this._getOptionPath()}[${this._index}].`}get _value(){return this._initialOptions}get isLinked(){return void 0!==this._index&&!!this.instance&&this._host.isLinked}}return e.\u0275fac=function(){let n;return function(i){return(n||(n=u.n5z(e)))(i||e)}}(),e.\u0275cmp=u.Xpm({type:e,selectors:[["ng-component"]],features:[u.qOj],decls:0,vars:0,template:function(t,i){},encapsulation:2}),e})();function Ny(e,n,t,i){void 0===!e.template||!n.nativeElement.hasChildNodes()||![].slice.call(n.nativeElement.childNodes).filter(s=>{if(s.tagName){let l=s.tagName.toLowerCase().substr(0,3);return!("dxi"===l||"dxo"===l)}return"#comment"!==s.nodeName&&s.textContent.replace(/\s/g,"").length}).length||(e.template={render:s=>{let l=n.nativeElement;if(se.setClass(l,"dx-template-wrapper",!0),s.container){let h=function HH(e){return e.get?e.get(0):e}(s.container),g=h.contains(n.nativeElement);t.appendChild(h,n.nativeElement),g||i.body.contains(h)&&function(e){let n=[];x(e).hasClass(WH)||n.push(e),n.push.apply(n,e.querySelectorAll("."+WH));for(let t=0;t<n.length;t++)PH(n[t],"dxshown")}(l)}return l}})}class D{getHost(){return this._host}setHost(n,t){this._host=n,this._optionPath=t||(()=>"")}setNestedOption(n){n.setHost(this._host,this._optionPath)}}let vF,Ti=(()=>{class e{constructor(){this._watchers=[]}getWatchMethod(){return(i,r,o)=>{let s=i();(o=o||{}).skipImmediate||r(s);let l=()=>{let h=i();this._isDifferentValues(s,h,o.deep)&&(r(h),s=h)};return this._watchers.push(l),()=>{let h=this._watchers.indexOf(l);-1!==h&&this._watchers.splice(h,1)}}}_isDifferentValues(t,i,r){let o=this._toComparable(i),s=this._toComparable(t);return r&&o instanceof Object&&s instanceof Object?this._checkObjectsFields(i,t):o!==s}_toComparable(t){return t instanceof Date?t.getTime():t}_checkObjectsFields(t,i){for(let r in t){let o=this._toComparable(t[r]),s=this._toComparable(i[r]),l=!1;if("object"==typeof o&&"object"==typeof s&&(l=Jt(o,s)),o!==s&&!l)return!0}}checkWatchers(){for(let t of this._watchers)t()}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=u.Yz7({token:e,factory:e.\u0275fac}),e})();const CF=()=>(vF||(vF=qI("DX_isPlatformServer")),vF);let zl=(()=>{class e{constructor(t,i,r,o,s,l){this.element=t,this.ngZone=i,this.watcherHelper=o,this.transferState=s,this.platformId=l,this._initialOptions={},this._optionsToUpdate={},this.optionChangedHandlers=new u.vpe,this.isLinked=!0,this.changedOptions={},this.removedNestedComponents=[],this.widgetUpdateLocked=!1,this.templateUpdateRequired=!1,this.templates=[],r.setHost(this),this._collectionContainerImpl=new GH(this._setOption.bind(this)),this.eventHelper=new N5(i,this)}_updateTemplates(){if(this.templates.length&&this.templateUpdateRequired){let t={};this.templates.forEach(i=>{t[i.name]=i}),this.instance.option("integrationOptions.templates",t),this.templates=Object.values(t),this.templateUpdateRequired=!1}}_initEvents(){this.instance.on("optionChanged",t=>{this.changedOptions[t.name]=t.value;const i=t.name===t.fullName?t.value:t.component.option(t.name);this.eventHelper.fireNgEvent(t.name+"Change",[i]),this.optionChangedHandlers.emit(t)})}_initOptions(){this._initialOptions.integrationOptions.watchMethod=this.watcherHelper.getWatchMethod()}_initPlatform(){this.transferState.hasKey(CF())?this._initialOptions.integrationOptions.renderedOnServer=this.transferState.get(CF(),null):Hn(this.platformId)&&this.transferState.set(CF(),!0)}_createEventEmitters(t){const i=this.ngZone;this.eventHelper.createEmitters(t),this._initialOptions.eventsStrategy=r=>{let o=new NH(r,i);return t.filter(s=>s.subscribe).forEach(s=>{o.addEmitter(s.subscribe,this[s.emit])}),o},this._initialOptions.nestedComponentOptions=function(r){return{eventsStrategy:o=>new NH(o,i),nestedComponentOptions:r.option("nestedComponentOptions")}}}_shouldOptionChange(t,i){if(this.changedOptions.hasOwnProperty(t)){const r=this.changedOptions[t];return delete this.changedOptions[t],i!==r}return!0}clearChangedOptions(){this.changedOptions={}}_getOption(t){return this.instance?this.instance.option(t):this._initialOptions[t]}lockWidgetUpdate(){!this.widgetUpdateLocked&&this.instance&&(this.instance.beginUpdate(),this.widgetUpdateLocked=!0)}unlockWidgetUpdate(){this.widgetUpdateLocked&&(this.widgetUpdateLocked=!1,this.instance.endUpdate())}_setOption(t,i){this.lockWidgetUpdate(),this._shouldOptionChange(t,i)&&(this.instance?this.instance.option(t,i):this._initialOptions[t]=i)}_createWidget(t){this._initialOptions.integrationOptions={},this._initPlatform(),this._initOptions(),this._initialOptions.onInitializing=function(){this.beginUpdate()},this.instance=this._createInstance(t,this._initialOptions),this._initEvents(),this._initialOptions={}}_destroyWidget(){if(this.removedNestedComponents=[],this.instance){let t=this.instance.element();PH(t,"dxremove",{_angularIntegration:!0}),this.instance.dispose(),se.removeElement(t)}}ngOnChanges(t){for(let i in t)t[i].currentValue!==this[i]&&(this._optionsToUpdate[i]=t[i].currentValue)}ngOnInit(){this._createWidget(this.element.nativeElement)}ngDoCheck(){this.applyOptions()}ngAfterContentChecked(){this.applyOptions(),this.resetOptions(),this.unlockWidgetUpdate()}ngAfterViewInit(){this._updateTemplates(),this.instance.endUpdate(),this.recreatedNestedComponents=[]}ngAfterViewChecked(){this._updateTemplates()}applyOptions(){Object.keys(this._optionsToUpdate).length&&(this.instance&&this.instance.option(this._optionsToUpdate),this._optionsToUpdate={})}resetOptions(t){this.instance&&(this.removedNestedComponents.filter(i=>!(i&&!this.isRecreated(i)&&t)||i.startsWith(t)).forEach(i=>{this.instance.resetOption(i)}),this.removedNestedComponents=[],this.recreatedNestedComponents=[])}isRecreated(t){return this.recreatedNestedComponents&&this.recreatedNestedComponents.some(i=>i.getOptionPath()===t)}setTemplate(t){this.templates.push(t),this.templateUpdateRequired=!0}setChildren(t,i){return this.resetOptions(t),this._collectionContainerImpl.setChildren(t,i)}}return e.\u0275fac=function(t){return new(t||e)(u.Y36(u.SBq),u.Y36(u.R0b),u.Y36(vn),u.Y36(Ti),u.Y36(ko),u.Y36(u.Lbi))},e.\u0275cmp=u.Xpm({type:e,selectors:[["ng-component"]],features:[u.TTD],decls:0,vars:0,template:function(t,i){},encapsulation:2}),e})();const z5=["mousemove","mouseover","mouseout"],W5=["mouseup","click","mousedown","transitionend","wheel"];let yF,xF=[],UH=function(e){yF||(yF=this.callBase.bind(this)),xF.push(e)};Nr.inject({add:function(e){return UH.call(this,e)}});let jH=(e,n,t)=>{Number(u.q4F.major)<12&&console.warn("Your version of Angular is not supported. Please update your project to version 12 or later. Please refer to the Angular Update Guide for more information: https://update.angular.io"),se.inject({_document:e,listen:function(...r){const o=r[1];return-1!==z5.indexOf(o)?n.runOutsideAngular(()=>this.callBase.apply(this,r)):n.isStable&&-1!==W5.indexOf(o)?n.run(()=>this.callBase.apply(this,r)):this.callBase.apply(this,r)},isElementNode:function(r){return r&&1===r.nodeType},isTextNode:function(r){return r&&3===r.nodeType},isDocument:function(r){return r&&9===r.nodeType}}),FH.inject({getXhr:function(){if(!t)return this.callBase.apply(this);let r=t.build();return"withCredentials"in r||(r.withCredentials=!1),r}});const i=()=>{n.run(()=>{R.set({}),xF.forEach(r=>yF.call(null,r)),xF=[],Nr.fire()})};i(),UH=r=>n.run(()=>r()),jH=i},Wl=(()=>{class e{constructor(t,i,r){jH(t,i,r)}}return e.\u0275fac=function(t){return new(t||e)(u.LFG(Z),u.LFG(u.R0b),u.LFG(Dc,8))},e.\u0275mod=u.oAB({type:e}),e.\u0275inj=u.cJS({}),e})(),ns=(()=>{class e{constructor(t){this._differs=t,this._propertyDiffers={}}setHost(t){this._host=t}setup(t,i){t in i&&this.setupSingle(t,i[t].currentValue)}setupSingle(t,i){if(i&&Array.isArray(i)){if(!this._propertyDiffers[t])try{return this._propertyDiffers[t]=this._differs.find(i).create(null),!0}catch{}}else delete this._propertyDiffers[t];return!1}getChanges(t,i){if(this._propertyDiffers[t])return this._propertyDiffers[t].diff(i)}checkChangedOptions(t,i){return this._host.changedOptions[t]===i}doCheck(t){if(this._propertyDiffers[t]){let i=this._host[t],r=this.checkChangedOptions(t,i);this.getChanges(t,i)&&this._host.instance&&!r&&(this._host.lockWidgetUpdate(),this._host.instance.option(t,i))}}}return e.\u0275fac=function(t){return new(t||e)(u.LFG(u.ZZ4))},e.\u0275prov=u.Yz7({token:e,factory:e.\u0275fac}),e})();const $5=["*"];let KH=(()=>{class e extends zl{constructor(t,i,r,o,s,l,h){super(t,i,r,o,l,h),this._createEventEmitters([{subscribe:"click",emit:"onClick"},{subscribe:"contentReady",emit:"onContentReady"},{subscribe:"disposing",emit:"onDisposing"},{subscribe:"initialized",emit:"onInitialized"},{subscribe:"optionChanged",emit:"onOptionChanged"},{emit:"accessKeyChange"},{emit:"activeStateEnabledChange"},{emit:"disabledChange"},{emit:"elementAttrChange"},{emit:"focusStateEnabledChange"},{emit:"heightChange"},{emit:"hintChange"},{emit:"hoverStateEnabledChange"},{emit:"iconChange"},{emit:"rtlEnabledChange"},{emit:"stylingModeChange"},{emit:"tabIndexChange"},{emit:"templateChange"},{emit:"textChange"},{emit:"typeChange"},{emit:"useSubmitBehaviorChange"},{emit:"validationGroupChange"},{emit:"visibleChange"},{emit:"widthChange"}]),s.setHost(this)}get accessKey(){return this._getOption("accessKey")}set accessKey(t){this._setOption("accessKey",t)}get activeStateEnabled(){return this._getOption("activeStateEnabled")}set activeStateEnabled(t){this._setOption("activeStateEnabled",t)}get disabled(){return this._getOption("disabled")}set disabled(t){this._setOption("disabled",t)}get elementAttr(){return this._getOption("elementAttr")}set elementAttr(t){this._setOption("elementAttr",t)}get focusStateEnabled(){return this._getOption("focusStateEnabled")}set focusStateEnabled(t){this._setOption("focusStateEnabled",t)}get height(){return this._getOption("height")}set height(t){this._setOption("height",t)}get hint(){return this._getOption("hint")}set hint(t){this._setOption("hint",t)}get hoverStateEnabled(){return this._getOption("hoverStateEnabled")}set hoverStateEnabled(t){this._setOption("hoverStateEnabled",t)}get icon(){return this._getOption("icon")}set icon(t){this._setOption("icon",t)}get rtlEnabled(){return this._getOption("rtlEnabled")}set rtlEnabled(t){this._setOption("rtlEnabled",t)}get stylingMode(){return this._getOption("stylingMode")}set stylingMode(t){this._setOption("stylingMode",t)}get tabIndex(){return this._getOption("tabIndex")}set tabIndex(t){this._setOption("tabIndex",t)}get template(){return this._getOption("template")}set template(t){this._setOption("template",t)}get text(){return this._getOption("text")}set text(t){this._setOption("text",t)}get type(){return this._getOption("type")}set type(t){this._setOption("type",t)}get useSubmitBehavior(){return this._getOption("useSubmitBehavior")}set useSubmitBehavior(t){this._setOption("useSubmitBehavior",t)}get validationGroup(){return this._getOption("validationGroup")}set validationGroup(t){this._setOption("validationGroup",t)}get visible(){return this._getOption("visible")}set visible(t){this._setOption("visible",t)}get width(){return this._getOption("width")}set width(t){this._setOption("width",t)}_createInstance(t,i){return new Ui(t,i)}ngOnDestroy(){this._destroyWidget()}}return e.\u0275fac=function(t){return new(t||e)(u.Y36(u.SBq),u.Y36(u.R0b),u.Y36(vn),u.Y36(Ti),u.Y36(D),u.Y36(ko),u.Y36(u.Lbi))},e.\u0275cmp=u.Xpm({type:e,selectors:[["dx-button"]],inputs:{accessKey:"accessKey",activeStateEnabled:"activeStateEnabled",disabled:"disabled",elementAttr:"elementAttr",focusStateEnabled:"focusStateEnabled",height:"height",hint:"hint",hoverStateEnabled:"hoverStateEnabled",icon:"icon",rtlEnabled:"rtlEnabled",stylingMode:"stylingMode",tabIndex:"tabIndex",template:"template",text:"text",type:"type",useSubmitBehavior:"useSubmitBehavior",validationGroup:"validationGroup",visible:"visible",width:"width"},outputs:{onClick:"onClick",onContentReady:"onContentReady",onDisposing:"onDisposing",onInitialized:"onInitialized",onOptionChanged:"onOptionChanged",accessKeyChange:"accessKeyChange",activeStateEnabledChange:"activeStateEnabledChange",disabledChange:"disabledChange",elementAttrChange:"elementAttrChange",focusStateEnabledChange:"focusStateEnabledChange",heightChange:"heightChange",hintChange:"hintChange",hoverStateEnabledChange:"hoverStateEnabledChange",iconChange:"iconChange",rtlEnabledChange:"rtlEnabledChange",stylingModeChange:"stylingModeChange",tabIndexChange:"tabIndexChange",templateChange:"templateChange",textChange:"textChange",typeChange:"typeChange",useSubmitBehaviorChange:"useSubmitBehaviorChange",validationGroupChange:"validationGroupChange",visibleChange:"visibleChange",widthChange:"widthChange"},features:[u._Bn([vn,Ti,D]),u.qOj],ngContentSelectors:$5,decls:1,vars:0,template:function(t,i){1&t&&(u.F$t(),u.Hsn(0))},encapsulation:2}),e})(),bF=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=u.oAB({type:e}),e.\u0275inj=u.cJS({imports:[[Wl,ji],ji]}),e})();var{ios:G5,mac:U5}=$e.real(),j5=G5||U5;const YH=function(e,n){var t=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(e=x(e).get(0),!T(n))return function(e){var n;try{n={start:e.selectionStart,end:e.selectionEnd}}catch{n={start:0,end:0}}return n}(e);!t&&j5&&se.getActiveElement(e)!==e||function(e,n){var t=se.getBody();if(t.contains(e)||t.contains(e.getRootNode().host))try{e.selectionStart=n.start,e.selectionEnd=n.end}catch{}}(e,n)};var qH=kt.inherit({ctor:function(e){this._value=" ",A(this,e)},next:function(e){if(!arguments.length)return this._next;this._next=e},text:U,value:U,rawValue:U,handle:U,_prepareHandlingArgs:function(e,n){var t,i,r;n=n||{};var o=Object.prototype.hasOwnProperty.call(e,"value")?"value":"text";return e[o]=null!==(t=n.str)&&void 0!==t?t:e[o],e.start=null!==(i=n.start)&&void 0!==i?i:e.start,e.length=null!==(r=n.length)&&void 0!==r?r:e.length,e.index=e.index+1,e},reset:U,clear:U,first:function(e){return e=e||0,this.next().first(e+1)},isAccepted:function(){return!1},adjustedCaret:function(e,n,t){return n?this._adjustedForward(e,0,t):this._adjustedBackward(e,0,t)},_adjustedForward:U,_adjustedBackward:U,isValid:U}),J5=qH.inherit({next:U,handle:function(){return 0},text:function(){return""},value:function(){return""},first:function(){return 0},rawValue:function(){return""},adjustedCaret:function(){return 0},isValid:function(){return!0}}),JH=qH.inherit({text:function(){return(" "!==this._value?this._value:this.maskChar)+this.next().text()},value:function(){return this._value+this.next().value()},rawValue:function(){return this._value+this.next().rawValue()},handle:function(e){var n=Object.prototype.hasOwnProperty.call(e,"value")?e.value:e.text;if(!n||!n.length||!e.length)return 0;if(e.start)return this.next().handle(this._prepareHandlingArgs(e,{start:e.start-1}));var t=n[0],i=n.substring(1);return this._tryAcceptChar(t,e),this._accepted()?this.next().handle(this._prepareHandlingArgs(e,{str:i,length:e.length-1}))+1:this.handle(this._prepareHandlingArgs(e,{str:i,length:e.length-1}))},clear:function(e){this._tryAcceptChar(" ",e),this.next().clear(this._prepareHandlingArgs(e))},reset:function(){this._accepted(!1),this.next().reset()},_tryAcceptChar:function(e,n){if(this._accepted(!1),this._isAllowed(e,n)){var t=" "===e?this.maskChar:e;n.fullText=n.fullText.substring(0,n.index)+t+n.fullText.substring(n.index+1),this._accepted(!0),this._value=e}},_accepted:function(e){if(!arguments.length)return!!this._isAccepted;this._isAccepted=!!e},first:function(e){return" "===this._value?e||0:this.callBase(e)},_isAllowed:function(e,n){return" "===e||this._isValid(e,n)},_isValid:function(e,n){var t=this.allowedChars;return t instanceof RegExp?t.test(e):Re(t)?t(e,n.index,n.fullText):Array.isArray(t)?t.includes(e):t===e},isAccepted:function(e){return 0===e?this._accepted():this.next().isAccepted(e-1)},_adjustedForward:function(e,n,t){return n>=e?n:this.next()._adjustedForward(e,n+1,t)||n+1},_adjustedBackward:function(e,n){return n>=e-1?e:this.next()._adjustedBackward(e,n+1)||n+1},isValid:function(e){return this._isValid(this._value,e)&&this.next().isValid(this._prepareHandlingArgs(e))}}),XH=JH.inherit({value:function(){return this.next().value()},handle:function(e){var n=Object.prototype.hasOwnProperty.call(e,"value"),t=n?e.value:e.text;if(!t.length||!e.length)return 0;if(e.start||n)return this.next().handle(this._prepareHandlingArgs(e,{start:e.start&&e.start-1}));var i=t[0],r=t.substring(1);this._tryAcceptChar(i);var o=this._isAllowed(i)?this._prepareHandlingArgs(e,{str:r,length:e.length-1}):e;return this.next().handle(o)+1},clear:function(e){this._accepted(!1),this.next().clear(this._prepareHandlingArgs(e))},_tryAcceptChar:function(e){this._accepted(this._isValid(e))},_isValid:function(e){return e===this.maskChar},first:function(e){return e=e||0,this.next().first(e+1)},_adjustedForward:function(e,n,t){return n>=e&&t===this.maskChar?n:e===n+1&&this._accepted()?e:this.next()._adjustedForward(e,n+1,t)},_adjustedBackward:function(e,n){return n>=e-1?0:this.next()._adjustedBackward(e,n+1)},isValid:function(e){return this.next().isValid(this._prepareHandlingArgs(e))}});function ZH(e,n,t){function i(h){return"string"==typeof h?h.split("."):"number"==typeof h?[h]:h}e=i(e),n=i(n);var r=Math.max(e.length,n.length);isFinite(t)&&(r=Math.min(r,t));for(var o=0;o<r;o++){var s=parseInt(e[o]||0,10),l=parseInt(n[o]||0,10);if(s<l)return-1;if(s>l)return 1}return 0}function QH(e,n,t){e="role"===e||"id"===e?e:"aria-".concat(e),n=T(n)?n.toString():null,t.attr(e,n)}var OF=Ta.inherit({_feedbackHideTimeout:400,_feedbackShowTimeout:30,_supportedKeys:()=>({}),_getDefaultOptions(){return A(this.callBase(),{hoveredElement:null,isActive:!1,disabled:!1,visible:!0,hint:void 0,activeStateEnabled:!1,onContentReady:null,hoverStateEnabled:!1,focusStateEnabled:!1,tabIndex:0,accessKey:void 0,onFocusIn:null,onFocusOut:null,onKeyboardHandled:null,ignoreParentReadOnly:!1,useResizeObserver:!0})},_defaultOptionsRules:function(){return this.callBase().concat([{device:function(){var e=$e.real();return"ios"===e.platform&&ZH(e.version,"13.3")<=0},options:{useResizeObserver:!1}}])},_init(){this.callBase(),this._initContentReadyAction()},_innerWidgetOptionChanged:function(e,n){var t=OF.getOptionsFromContainer(n);e&&e.option(t),this._options.cache(n.name,t)},_bindInnerWidgetOptions(e,n){var t=()=>this._options.silent(n,A({},e.option()));t(),e.on("optionChanged",t)},_getAriaTarget(){return this._focusTarget()},_initContentReadyAction(){this._contentReadyAction=this._createActionByOption("onContentReady",{excludeValidators:["disabled","readOnly"]})},_initMarkup(){var{disabled:e,visible:n}=this.option();this.$element().addClass("dx-widget"),this._toggleDisabledState(e),this._toggleVisibility(n),this._renderHint(),this._isFocusable()&&this._renderFocusTarget(),this.callBase()},_render(){this.callBase(),this._renderContent(),this._renderFocusState(),this._attachFeedbackEvents(),this._attachHoverEvents(),this._toggleIndependentState()},_renderHint(){var{hint:e}=this.option();this.$element().attr("title",e||null)},_renderContent(){Xn(()=>this._disposed?void 0:this._renderContentImpl()).done(()=>this._disposed?void 0:this._fireContentReadyAction())},_renderContentImpl:U,_fireContentReadyAction:ha(function(){return this._contentReadyAction()}),_dispose(){this._contentReadyAction=null,this._detachKeyboardEvents(),this.callBase()},_resetActiveState(){this._toggleActiveState(this._eventBindingTarget(),!1)},_clean(){this._cleanFocusState(),this._resetActiveState(),this.callBase(),this.$element().empty()},_toggleVisibility(e){this.$element().toggleClass("dx-state-invisible",!e)},_renderFocusState(){this._attachKeyboardEvents(),this._isFocusable()&&(this._renderFocusTarget(),this._attachFocusEvents(),this._renderAccessKey())},_renderAccessKey(){var e=this._focusTarget(),{accessKey:n}=this.option();e.attr("accesskey",n)},_isFocusable(){var{focusStateEnabled:e,disabled:n}=this.option();return e&&!n},_eventBindingTarget(){return this.$element()},_focusTarget(){return this._getActiveElement()},_isFocusTarget:function(e){return x(this._focusTarget()).toArray().includes(e)},_findActiveTarget(e){return e.find(this._activeStateUnit).not(".dx-state-disabled")},_getActiveElement(){var e=this._eventBindingTarget();return this._activeStateUnit?this._findActiveTarget(e):e},_renderFocusTarget(){var{tabIndex:e}=this.option();this._focusTarget().attr("tabIndex",e)},_keyboardEventBindingTarget(){return this._eventBindingTarget()},_refreshFocusEvent(){this._detachFocusEvents(),this._attachFocusEvents()},_focusEventTarget(){return this._focusTarget()},_focusInHandler(e){e.isDefaultPrevented()||this._createActionByOption("onFocusIn",{beforeExecute:()=>this._updateFocusState(e,!0),excludeValidators:["readOnly"]})({event:e})},_focusOutHandler(e){e.isDefaultPrevented()||this._createActionByOption("onFocusOut",{beforeExecute:()=>this._updateFocusState(e,!1),excludeValidators:["readOnly","disabled"]})({event:e})},_updateFocusState(e,n){var{target:t}=e;this._isFocusTarget(t)&&this._toggleFocusClass(n,x(t))},_toggleFocusClass(e,n){(n&&n.length?n:this._focusTarget()).toggleClass("dx-state-focused",e)},_hasFocusClass(e){return x(e||this._focusTarget()).hasClass("dx-state-focused")},_isFocused(){return this._hasFocusClass()},_getKeyboardListeners:()=>[],_attachKeyboardEvents(){this._detachKeyboardEvents();var{focusStateEnabled:e,onKeyboardHandled:n}=this.option(),t=this._getKeyboardListeners().length;(e||t||n)&&(this._keyboardListenerId=Ls_on(this._keyboardEventBindingTarget(),this._focusTarget(),o=>this._keyboardHandler(o)))},_keyboardHandler(e,n){if(!n){var{originalEvent:t,keyName:i,which:r}=e,o=this._supportedKeys(t),s=o[i]||o[r];if(void 0!==s&&!s.bind(this)(t,e))return!1}var g=this._getKeyboardListeners(),{onKeyboardHandled:_}=this.option();return g.forEach(v=>v&&v._keyboardHandler(e)),_&&_(e),!0},_refreshFocusState(){this._cleanFocusState(),this._renderFocusState()},_cleanFocusState(){this._focusTarget().removeAttr("tabIndex"),this._toggleFocusClass(!1),this._detachFocusEvents(),this._detachKeyboardEvents()},_detachKeyboardEvents(){Ls_off(this._keyboardListenerId),this._keyboardListenerId=null},_attachHoverEvents(){var{hoverStateEnabled:e}=this.option(),n=this._activeStateUnit,t=this._eventBindingTarget();((e,n)=>{var{selector:t,namespace:i}=n;R.off(e,zn("dxhoverstart",i),t),R.off(e,zn("dxhoverend",i),t)})(t,{selector:n,namespace:"UIFeedback"}),e&&((e,n,t,i)=>{var{selector:r,namespace:o}=i;R.on(e,zn("dxhoverend",o),r,s=>t(s)),R.on(e,zn("dxhoverstart",o),r,s=>g_(n,{element:s.target,event:s}))})(t,new wa(i=>{var{event:r,element:o}=i;this._hoverStartHandler(r),this.option("hoveredElement",x(o))},{excludeValidators:["readOnly"]}),i=>{this.option("hoveredElement",null),this._hoverEndHandler(i)},{selector:n,namespace:"UIFeedback"})},_attachFeedbackEvents(){var{activeStateEnabled:e}=this.option(),n=this._activeStateUnit,t=this._eventBindingTarget();((e,n)=>{var{namespace:t,selector:i}=n;R.off(e,zn("dxactive",t),i),R.off(e,zn("dxinactive",t),i)})(t,{namespace:"UIFeedback",selector:n}),e&&((e,n,t,i)=>{var{selector:r,showTimeout:o,hideTimeout:s,namespace:l}=i;R.on(e,zn("dxactive",l),r,{timeout:o},h=>g_(n,{event:h,element:h.currentTarget})),R.on(e,zn("dxinactive",l),r,{timeout:s},h=>g_(t,{event:h,element:h.currentTarget}))})(t,new wa(i=>{var{event:r,element:o}=i;return this._toggleActiveState(x(o),!0,r)}),new wa(i=>{var{event:r,element:o}=i;return this._toggleActiveState(x(o),!1,r)},{excludeValidators:["disabled","readOnly"]}),{showTimeout:this._feedbackShowTimeout,hideTimeout:this._feedbackHideTimeout,selector:n,namespace:"UIFeedback"})},_detachFocusEvents(){((e,n)=>{var{namespace:t}=n;R.off(e,zn("focusin",t)),R.off(e,zn("focusout",t))})(this._focusEventTarget(),{namespace:"".concat(this.NAME,"Focus")})},_attachFocusEvents(){((e,n,t,i)=>{var{namespace:r}=i;R.on(e,zn("focusin",r),n),R.on(e,zn("focusout",r),t)})(this._focusEventTarget(),n=>this._focusInHandler(n),n=>this._focusOutHandler(n),{namespace:"".concat(this.NAME,"Focus"),isFocusable:(n,t)=>x(t).is(sE)})},_hoverStartHandler:U,_hoverEndHandler:U,_toggleActiveState(e,n){this.option("isActive",n),e.toggleClass("dx-state-active",n)},_updatedHover(){var e=this._options.silent("hoveredElement");this._hover(e,e)},_findHoverTarget(e){return e&&e.closest(this._activeStateUnit||this._eventBindingTarget())},_hover(e,n){var{hoverStateEnabled:t,disabled:i,isActive:r}=this.option();if((n=this._findHoverTarget(n))&&n.toggleClass("dx-state-hover",!1),e&&t&&!i&&!r){var o=this._findHoverTarget(e);o&&o.toggleClass("dx-state-hover",!0)}},_toggleDisabledState(e){this.$element().toggleClass("dx-state-disabled",!!e),this.setAria("disabled",e||void 0)},_toggleIndependentState(){this.$element().toggleClass("dx-state-independent",this.option("ignoreParentReadOnly"))},_setWidgetOption(e,n){if(this[e]){if(ft(n[0]))return void B(n[0],(o,s)=>this._setWidgetOption(e,[o,s]));var t=n[0],i=n[1];1===n.length&&(i=this.option(t));var r=this["".concat(e,"OptionMap")];this[e].option(r?r(t):t,i)}},_optionChanged(e){var{name:n,value:t,previousValue:i}=e;switch(n){case"disabled":this._toggleDisabledState(t),this._updatedHover(),this._refreshFocusState();break;case"hint":this._renderHint();break;case"ignoreParentReadOnly":this._toggleIndependentState();break;case"activeStateEnabled":this._attachFeedbackEvents();break;case"hoverStateEnabled":this._attachHoverEvents(),this._updatedHover();break;case"tabIndex":case"focusStateEnabled":this._refreshFocusState();break;case"onFocusIn":case"onFocusOut":case"useResizeObserver":break;case"accessKey":this._renderAccessKey();break;case"hoveredElement":this._hover(t,i);break;case"isActive":this._updatedHover();break;case"visible":this._toggleVisibility(t),this._isVisibilityChangeSupported()&&this._checkVisibilityChanged(t?"shown":"hiding");break;case"onKeyboardHandled":this._attachKeyboardEvents();break;case"onContentReady":this._initContentReadyAction();break;default:this.callBase(e)}},_isVisible(){var{visible:e}=this.option();return this.callBase()&&e},beginUpdate(){this._ready(!1),this.callBase()},endUpdate(){this.callBase(),this._initialized&&this._ready(!0)},_ready(e){if(0===arguments.length)return this._isReady;this._isReady=e},setAria(){if(ft(arguments.length<=0?void 0:arguments[0])){var e=(arguments.length<=1?void 0:arguments[1])||this._getAriaTarget();B(arguments.length<=0?void 0:arguments[0],(n,t)=>QH(n,t,e))}else QH(arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1],(arguments.length<=2?void 0:arguments[2])||this._getAriaTarget())},isReady(){return this._ready()},repaint(){this._refresh()},focus(){np_trigger(this._focusTarget())},registerKeyHandler(e,n){var t=this._supportedKeys();this._supportedKeys=()=>A(t,{[e]:n})}});OF.getOptionsFromContainer=e=>{var{name:n,fullName:t,value:i}=e,r={};return n===t?r=i:r[t.split(".").pop()]=i,r};const Ki=OF;var DF="dxTranslator",X5=/matrix(3d)?\((.+?)\)/,Z5=/translate(?:3d)?\((.+?)\)/,is=function(e){e=x(e);var n=dw(e);return{left:n.x,top:n.y}};function lw(e){return"string"===Rr(e)&&"%"===e[e.length-1]}function ez(e,n){e.length&&_n(e.get(0),DF,n)}var lz,SF=function(e){e.length&&yf(e.get(0),DF)},Hy=function(e){return e.x=e.x||0,e.y=e.y||0,"translate("+(lw(e.x)?e.x:e.x+"px")+", "+(lw(e.y)?e.y:e.y+"px")+")"},dw=function(e){var n=e.length?_n(e.get(0),DF):null;if(!n){var i=(e.css("transform")||Hy({x:0,y:0})).match(X5),r=i&&i[1];i?(i=i[2].split(","),"3d"===r?i=i.slice(12,15):(i.push(0),i=i.slice(4,7))):i=[0,0,0],ez(e,n={x:parseFloat(i[0]),y:parseFloat(i[1]),z:parseFloat(i[2])})}return n},Mi=function(e,n){e=x(e);var r,t=n.left,i=n.top;void 0===t?(r=dw(e)).y=i||0:void 0===i?(r=dw(e)).x=t||0:ez(e,r={x:t||0,y:i||0,z:0}),e.css({transform:Hy(r)}),(lw(t)||lw(i))&&SF(e)},zy=function(e,n){e=x(e);var t,i={left:0,top:0,transform:"none"};n&&(t=e.css("transition"),i.transition="none"),e.css(i),SF(e),n&&(e.get(0),e.css("transition",t))},tz=/cubic-bezier\((\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\)/,nz={linear:"cubic-bezier(0, 0, 1, 1)",swing:"cubic-bezier(0.445, 0.05, 0.55, 0.95)",ease:"cubic-bezier(0.25, 0.1, 0.25, 1)","ease-in":"cubic-bezier(0.42, 0, 1, 1)","ease-out":"cubic-bezier(0, 0, 0.58, 1)","ease-in-out":"cubic-bezier(0.42, 0, 0.58, 1)"},uw={},tX=function(e){var t,n=(e=nz[e]||e).match(tz);n||(n=nz[t="linear"].match(tz)),n=n.slice(1,5);for(var i=0;i<n.length;i++)n[i]=parseFloat(n[i]);var r=t||"cubicbezier_"+n.join("_").replace(/\./g,"p");return Re(uw[r])||(uw[r]=function(o,s,l,h,g){return h*function(e,n,t,i){var r=3*e,o=3*(t-e)-r,s=1-r-o,l=3*n,h=3*(i-n)-l,g=1-l-h,_=function(C){return C*(r+C*(o+C*s))},v=function(C){return r+C*(2*o+3*C*s)};return function(C){return(b=function(b){for(var M,E=b,w=0;w<14&&(M=_(E)-b,!(Math.abs(M)<.001));)E-=M/v(E),w++;return E}(C))*(l+b*(h+b*g));var b}}(n[0],n[1],n[2],n[3])(s/g)+l}),r},Lu=e=>e??un().rtlEnabled?"right":"left",Zn=e=>Sn(e)?{width:e.outerWidth,height:e.outerHeight}:e.getBoundingClientRect(),iz=ut(),iX=/left|right/,rX=/top|bottom/,rz=/fit|flip|none/,oX=/scale\(.+?\)/,sX=Gt.safari,EF=function(e){var n={h:"center",v:"center"},t=_l(e);return t&&B(t,function(){var i=String(this).toLowerCase();iX.test(i)?n.h=i:rX.test(i)&&(n.v=i)}),n},oz=function(e){return PD(e)},sz=function(e){switch(e){case"center":return.5;case"right":case"bottom":return 1;default:return 0}},wF=function(e){switch(e){case"left":return"right";case"right":return"left";case"top":return"bottom";case"bottom":return"top";default:return e}},IF=function(e,n){var t=0;return e.myLocation<n.min&&(t+=n.min-e.myLocation),e.myLocation>n.max&&(t+=e.myLocation-n.max),t},az=function(e,n,t){return n.myLocation<t.min?"h"===e?"left":"top":n.myLocation>t.max?"h"===e?"right":"bottom":"none"},TF=function(e){e.myLocation=e.atLocation+sz(e.atAlign)*e.atSize-sz(e.myAlign)*e.mySize+e.offset},cw={fit:function(e,n){var t=!1;e.myLocation>n.max&&(e.myLocation=n.max,t=!0),e.myLocation<n.min&&(e.myLocation=n.min,t=!0),e.fit=t},flip:function(e,n){if(e.flip=!1,("center"!==e.myAlign||"center"!==e.atAlign)&&(e.myLocation<n.min||e.myLocation>n.max)){var t=A({},e,{myAlign:wF(e.myAlign),atAlign:wF(e.atAlign),offset:-e.offset});TF(t),t.oversize=IF(t,n),(t.myLocation>=n.min&&t.myLocation<=n.max||e.oversize>t.oversize)&&(e.myLocation=t.myLocation,e.oversize=t.oversize,e.flip=!0)}},flipfit:function(e,n){this.flip(e,n),this.fit(e,n)},none:function(e){e.oversize=0}},dz=function(){var e=x("<div>").css({width:100,height:100,overflow:"scroll",position:"absolute",top:-9999}).appendTo(x("body")),n=e.get(0).offsetWidth-e.get(0).clientWidth;e.remove(),lz=n},lX={h:{location:0,flip:!1,fit:!1,oversize:0},v:{location:0,flip:!1,fit:!1,oversize:0}},uz=function(e,n){var t=x(e),i=t.offset(),r=A(!0,{},lX,{h:{location:i.left},v:{location:i.top}});if(!n)return r;var o=EF(n.my),s=EF(n.at),l=x(n.of).length&&n.of||iz,h=oz(n.offset),g=function(e){var n=_l(e),t=String(n&&n[0]).toLowerCase(),i=String(n&&n[1]).toLowerCase();return rz.test(t)||(t="none"),rz.test(i)||(i=t),{h:t,v:i}}(n.collision),_=n.boundary,v=oz(n.boundaryOffset),C={mySize:wt(t),myAlign:o.h,atAlign:s.h,offset:h.h,collision:g.h,boundaryOffset:v.h},b={mySize:_t(t),myAlign:o.v,atAlign:s.v,offset:h.v,collision:g.v,boundaryOffset:v.v};if(l.preventDefault)C.atLocation=l.pageX,b.atLocation=l.pageY,C.atSize=0,b.atSize=0;else if(l=x(l),Sn(l[0]))C.atLocation=l.scrollLeft(),b.atLocation=l.scrollTop(),"phone"===$e.real().deviceType&&l[0].visualViewport?(C.atLocation=Math.max(C.atLocation,l[0].visualViewport.offsetLeft),b.atLocation=Math.max(b.atLocation,l[0].visualViewport.offsetTop),C.atSize=l[0].visualViewport.width,b.atSize=l[0].visualViewport.height):(C.atSize=l[0].innerWidth>l[0].outerWidth?l[0].innerWidth:Ze(l),b.atSize=l[0].innerHeight>l[0].outerHeight||sX?l[0].innerHeight:gt(l));else if(9===l[0].nodeType)C.atLocation=0,b.atLocation=0,C.atSize=Ze(l),b.atSize=gt(l);else{var E=Zn(l.get(0)),w=hz(l);C.atLocation=w.left,b.atLocation=w.top,C.atSize=Math.max(E.width,wt(l)),b.atSize=Math.max(E.height,_t(l))}TF(C),TF(b);var M=function(){var L=x(iz),G=Ze(L),Q=gt(L),le=L.scrollLeft(),Te=L.scrollTop(),He=se.getDocumentElement(),Ee=_e?He.clientWidth/G:1,ze=_e?He.clientHeight/Q:1;void 0===lz&&dz();var ot=G,ht=Q;if(_&&!Sn(_)){var Xt=x(_),on=Xt.offset();le=on.left,Te=on.top,ot=Ze(Xt),ht=gt(Xt)}return{h:{min:le+C.boundaryOffset,max:le+ot/Ee-C.mySize-C.boundaryOffset},v:{min:Te+b.boundaryOffset,max:Te+ht/ze-b.mySize-b.boundaryOffset}}}();C.oversize=IF(C,M.h),b.oversize=IF(b,M.v),C.collisionSide=az("h",C,M.h),b.collisionSide=az("v",b,M.v),cw[C.collision]&&cw[C.collision](C,M.h),cw[b.collision]&&cw[b.collision](b,M.v);var k=function(L){return n.precise?L:Math.round(L)};return A(!0,r,{h:{location:k(C.myLocation),oversize:k(C.oversize),fit:C.fit,flip:C.flip,collisionSide:C.collisionSide},v:{location:k(b.myLocation),oversize:k(b.oversize),fit:b.fit,flip:b.flip,collisionSide:b.collisionSide},precise:n.precise}),r},cz=function(e,n,t,i){var r=T(e.style)&&!se.isNode(e.style),o=i?t.replace(n,""):t;if(r)ZD(e,o,!1);else{var s=se.createAttribute("style");s.value=o,e.setAttributeNode(s)}},hz=function e(n){var t,i,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n,o=r.get(0);if(!o)return n.offset();var h,s=(null===(t=o.getAttribute)||void 0===t?void 0:t.call(o,"style"))||"",l=null===(i=s.match(oX))||void 0===i?void 0:i[0];return l?(cz(o,l,s,!0),h=e(n,r.parent()),cz(o,l,s,!1)):h=e(n,r.parent()),h},Wy=function(e,n){var t=x(e);if(!n)return t.offset();zy(t,!0);var i=hz(t),r=n.h&&n.v?n:uz(t,n),o=function(s){return n.precise?s:Math.round(s)};return Mi(t,{left:r.h.location-o(i.left),top:r.v.location-o(i.top)}),r};Wy.inverseAlign||(Wy.inverseAlign=wF),Wy.normalizeAlign||(Wy.normalizeAlign=EF);const Ns={calculateScrollbarWidth:dz,calculate:uz,setup:Wy,offset:function(e){return e=x(e).get(0),Sn(e)?null:e&&"pageY"in e&&"pageX"in e?{top:e.pageY,left:e.pageX}:x(e).offset()}};var pz=ut(),$y=fe(Ko,"dxFX"),uX=/^([+-])=(.*)/i,Gy="dxAnimData",MF="dxAnimQueue",Hs="transform",cX={initAnimation:function(e,n){e.css({transitionProperty:"none"}),"string"==typeof n.from?e.addClass(n.from):LF(e,n.from);var t=this,i=new W,r=n.cleanupWhen;n.transitionAnimation={deferred:i,finish:function(){t._finishTransition(e),r?ke(i,r).always(function(){t._cleanup(e,n)}):t._cleanup(e,n),i.resolveWith(e,[n,e])}},this._completeAnimationCallback(e,n).done(function(){n.transitionAnimation.finish()}).fail(function(){i.rejectWith(e,[n,e])}),n.duration||n.transitionAnimation.finish(),e.css("transform")},animate:function(e,n){return this._startAnimation(e,n),n.transitionAnimation.deferred.promise()},_completeAnimationCallback:function(e,n){var l,t=this,i=Date.now()+n.delay,r=new W,o=new W,s=new W,h=Ue()+".dxFX";n.transitionAnimation.cleanup=function(){clearTimeout(l),clearTimeout(g),R.off(e,h),R.off(e,$y)},R.one(e,h,function(){Date.now()-i>=n.duration&&o.reject()}),R.off(e,$y),R.on(e,$y,function(){t.stop(e,n),r.reject()});var g=setTimeout(function(){l=setTimeout(function(){s.reject()},n.duration+n.delay+Uy._simulatedTransitionEndDelay),ke(o,s).fail(function(){r.resolve()}.bind(this))});return r.promise()},_startAnimation:function(e,n){e.css({transitionProperty:"all",transitionDelay:n.delay+"ms",transitionDuration:n.duration+"ms",transitionTimingFunction:n.easing}),"string"==typeof n.to?e[0].className+=" "+n.to:n.to&&LF(e,n.to)},_finishTransition:function(e){e.css("transition","none")},_cleanup:function(e,n){n.transitionAnimation.cleanup(),"string"==typeof n.from&&(e.removeClass(n.from),e.removeClass(n.to))},stop:function(e,n,t){n&&(t?n.transitionAnimation.finish():(ft(n.to)&&B(n.to,function(i){e.css(i,e.css(i))}),this._finishTransition(e),this._cleanup(e,n)))}},gz={initAnimation:function(e,n){LF(e,n.from)},animate:function(e,n){var t=new W,i=this;return n?(B(n.to,function(r){void 0===n.from[r]&&(n.from[r]=i._normalizeValue(e.css(r)))}),n.to[Hs]&&(n.from[Hs]=i._parseTransform(n.from[Hs]),n.to[Hs]=i._parseTransform(n.to[Hs])),n.frameAnimation={to:n.to,from:n.from,currentValue:n.from,easing:tX(n.easing),duration:n.duration,startTime:(new Date).valueOf(),finish:function(){this.currentValue=this.to,this.draw(),a(n.frameAnimation.animationFrameId),t.resolve()},draw:function(){if(n.draw)n.draw(this.currentValue);else{var r=A({},this.currentValue);r[Hs]&&(r[Hs]=Fn(r[Hs],function(o,s){return"translate"===s?Hy(o):"scale"===s?"scale("+o+")":"rotate"===s.substr(0,s.length-1)?s+"("+o+"deg)":void 0}).join(" ")),e.css(r)}}},n.delay?(n.frameAnimation.startTime+=n.delay,n.frameAnimation.delayTimeout=setTimeout(function(){i._startAnimation(e,n)},n.delay)):i._startAnimation(e,n),t.promise()):t.reject().promise()},_startAnimation:function(e,n){R.off(e,$y),R.on(e,$y,function(){n.frameAnimation&&a(n.frameAnimation.animationFrameId)}),this._animationStep(e,n)},_parseTransform:function(e){var n={};return B(e.match(/\w+\d*\w*\([^)]*\)\s*/g),function(t,i){var r=function(e){var n=e.match(Z5);if(n&&n[1])return n=n[1].split(","),{x:parseFloat(n[0]),y:parseFloat(n[1]),z:parseFloat(n[2])}}(i),o=i.match(/scale\((.+?)\)/),s=i.match(/(rotate.)\((.+)deg\)/);r&&(n.translate=r),o&&o[1]&&(n.scale=parseFloat(o[1])),s&&s[1]&&(n[s[1]]=parseFloat(s[2]))}),n},stop:function(e,n,t){var i=n&&n.frameAnimation;i&&(a(i.animationFrameId),clearTimeout(i.delayTimeout),t&&i.finish(),delete n.frameAnimation)},_animationStep:function(e,n){var t=n&&n.frameAnimation;if(t){var i=(new Date).valueOf();if(i>=t.startTime+t.duration)return void t.finish();t.currentValue=this._calcStepValue(t,i-t.startTime),t.draw();var r=this;t.animationFrameId=__(function(){r._animationStep(e,n)})}},_calcStepValue:function(e,n){return function t(i,r){var o=Array.isArray(r)?[]:{};return B(r,function(s,l){if("string"==typeof l&&!1===parseFloat(l))return!0;var h,g,_,v,C,b;o[s]="object"==typeof l?t(i[s],l):(g=n/e.duration,_=n,v=1*i[h=s],C=r[h]-i[h],b=e.duration,function nX(e){return uw[e]}(e.easing)(g,_,v,C,b))}),o}(e.from,e.to)},_normalizeValue:function(e){var n=parseFloat(e);return!1===n?e:n}},hX={initAnimation:function(){},animate:function(){return(new W).resolve().promise()},stop:U,isSynchronous:!0},fz=function(e,n,t,i){B(["from","to"],function(){if(!t(e[this]))throw zt.Error("E0010",n,this,i)})},_z=function(e,n){return fz(e,n,function(t){return ft(t)},"a plain object")},_X={validateConfig:function(e){!function(e,n){fz(e,"css",function(t){return"string"==typeof t},"a string")}(e)},setup:function(){}},mX={top:{my:"bottom center",at:"top center"},bottom:{my:"top center",at:"bottom center"},right:{my:"left center",at:"right center"},left:{my:"right center",at:"left center"}},AF={validateConfig:function(e){_z(e,"slide")},setup:function(e,n){var t=is(e);if("slide"!==n.type){var i="slideIn"===n.type?n.from:n.to;i.position=A({of:pz},mX[n.direction]),BF(e,i)}this._setUpConfig(t,n.from),this._setUpConfig(t,n.to),SF(e)},_setUpConfig:function(e,n){n.left="left"in n?n.left:"+=0",n.top="top"in n?n.top:"+=0",this._initNewPosition(e,n)},_initNewPosition:function(e,n){var t={left:n.left,top:n.top};delete n.left,delete n.top;var i=this._getRelativeValue(t.left);void 0!==i?t.left=i+e.left:n.left=0,void 0!==(i=this._getRelativeValue(t.top))?t.top=i+e.top:n.top=0,n[Hs]=Hy({x:t.left,y:t.top})},_getRelativeValue:function(e){var n;if("string"==typeof e&&(n=uX.exec(e)))return parseInt(n[1]+"1")*n[2]}},RF={setup:function(e,n){var t,i,r=n.from,o=n.to,s="fadeOut"===n.type?1:0,l="fadeOut"===n.type?0:1,h=ft(r)?String(null!==(t=r.opacity)&&void 0!==t?t:s):String(r),g=ft(o)?String(null!==(i=o.opacity)&&void 0!==i?i:l):String(o);switch(n.skipElementInitialStyles||(h=e.css("opacity")),n.type){case"fadeIn":g=1;break;case"fadeOut":g=0}n.from={visibility:"visible",opacity:h},n.to={opacity:g}}},vX={validateConfig:function(e){_z(e,"pop")},setup:function(e,n){var t=n.from,i=n.to,r="opacity"in t?t.opacity:e.css("opacity"),o="opacity"in i?i.opacity:1,s="scale"in t?t.scale:0,l="scale"in i?i.scale:1;n.from={opacity:r};var h=dw(e);n.from[Hs]=this._getCssTransform(h,s),n.to={opacity:o},n.to[Hs]=this._getCssTransform(h,l)},_getCssTransform:function(e,n){return Hy(e)+"scale("+n+")"}},mz={custom:{setup:function(){}},slide:AF,slideIn:AF,slideOut:AF,fade:RF,fadeIn:RF,fadeOut:RF,pop:vX,css:_X},yX={type:"custom",from:{},to:{},duration:400,start:U,complete:U,easing:"ease",delay:0},xX={duration:400,easing:"ease",delay:0};function bX(){var e=this.element,n=this.config;if(BF(e,n.from),BF(e,n.to),this.configurator.setup(e,n),e.data(Gy,this),Uy.off&&(n.duration=0,n.delay=0),this.strategy.initAnimation(e,n),n.start){var t=Ke(e);n.start.apply(this,[t,n])}}var DX=function(){var e=this,n=e.element,t=e.config;return e.isStarted=!0,e.strategy.animate(n,t).done(function(){!function(e){var n=e.element,t=e.config;if(n.removeData(Gy),t.complete){var i=Ke(n);t.complete.apply(this,[i,t])}e.deferred.resolveWith(this,[n,t])}(e)}).fail(function(){e.deferred.rejectWith(this,[n,t])})},SX=function(e){var n=this.element,t=this.config;clearTimeout(this.startTimeout),this.isStarted||this.start(),this.strategy.stop(n,t,e)},PF=fe(Ko,"dxFXStartAnimation"),vz=function(e,n){var i=A(!0,{},"css"===n.type?xX:yX,n),r=function(e){var n=mz[e.type];if(!n)throw zt.Error("E0011",e.type);return n}(i),o=function(e){e=e||{};var n={transition:Be()?cX:gz,frame:gz,noAnimation:hX},t=e.strategy||"transition";return"css"===e.type&&!Be()&&(t="noAnimation"),n[t]}(i),s={element:x(e),config:i,configurator:r,strategy:o,isSynchronous:o.isSynchronous,setup:bX,start:DX,stop:SX,deferred:new W};return Re(r.validateConfig)&&r.validateConfig(i),function(e){R.off(e.element,PF),R.on(e.element,PF,function(){Uy.stop(e.element)}),e.deferred.always(function(){R.off(e.element,PF)})}(s),s};function FF(e){return e.data(MF)||[]}var Cz=function(e){e.removeData(MF)};function hw(e){return!!e.data(Gy)}function kF(e,n){if((n=FF(e)).length){var t=n.shift();0===n.length&&Cz(e),function MX(e){return e.setup(),Uy.off||e.isSynchronous?e.start():e.startTimeout=setTimeout(function(){e.start()}),e.deferred.promise()}(t).done(function(){hw(e)||kF(e)})}}function BF(e,n){if(n&&n.position){var t=x(pz),i=0,r=0,o=Ns.calculate(e,n.position),s=e.offset(),l=e.position();l.top>s.top&&(r=t.scrollTop()),l.left>s.left&&(i=t.scrollLeft()),A(n,{left:o.h.location-s.left+l.left-i,top:o.v.location-s.top+l.top-r}),delete n.position}}function LF(e,n){B(n,function(t,i){try{e.css(t,Re(i)?i():i)}catch{}})}var Uy={off:!1,animationTypes:mz,animate:function(e,n){var t=x(e);if(!t.length)return(new W).resolve().promise();var i=vz(t,n);return function IX(e,n){var t=FF(e);(function TX(e,n){e.data(MF,n)})(e,t),t.push(n),hw(e)||kF(e,t)}(t,i),i.deferred.promise()},createAnimation:vz,isAnimating:hw,stop:function(e,n){var t=x(e),i=FF(t);B(i,function(o,s){s.config.delay=0,s.config.duration=0,s.isSynchronous=!0}),hw(t)||kF(t,i);var r=t.data(Gy);r&&r.stop(n),t.removeData(Gy),Cz(t)},_simulatedTransitionEndDelay:100};const An=Uy;var ap="dxdragstart",Vu="dxdrag",lp="dxdragend",pw="dxdragenter",gw="dxdragleave",VF="dxdrop",fw="dxDragEventsCount",$l=[],C_=[],NF=[],HF={setup:function(e,n){$l.includes(e)||($l.push(e),C_.push([]),NF.push(n||{}))},add:function(e,n){var t=$l.indexOf(e);this.updateEventsCounter(e,n.type,1);var i=n.selector;C_[t].includes(i)||C_[t].push(i)},updateEventsCounter:function(e,n,t){if([pw,gw,VF].indexOf(n)>-1){var i=_n(e,fw)||0;_n(e,fw,Math.max(0,i+t))}},remove:function(e,n){this.updateEventsCounter(e,n.type,-1)},teardown:function(e){if(!_n(e,fw)){var t=$l.indexOf(e);$l.splice(t,1),C_.splice(t,1),NF.splice(t,1),yf(e,fw)}}};Hi(pw,HF),Hi(gw,HF),Hi(VF,HF);var BX=oF.inherit({ctor:function(e){this.callBase(e),this.direction="both"},_init:function(e){this._initEvent=e},_start:function(e){if(e=this._fireEvent(ap,this._initEvent),this._maxLeftOffset=e.maxLeftOffset,this._maxRightOffset=e.maxRightOffset,this._maxTopOffset=e.maxTopOffset,this._maxBottomOffset=e.maxBottomOffset,e.targetElements||null===e.targetElements){var n=function(e){return Array.isArray(e)?e:[e]}(e.targetElements||[]);this._dropTargets=Fn(n,function(t){return x(t).get(0)})}else this._dropTargets=$l},_move:function(e){var n=In(e),t=this._calculateOffset(n);e=this._fireEvent(Vu,e,{offset:t}),this._processDropTargets(e),e._cancelPreventDefault||e.preventDefault()},_calculateOffset:function(e){return{x:this._calculateXOffset(e),y:this._calculateYOffset(e)}},_calculateXOffset:function(e){return"vertical"!==this.direction?this._fitOffset(e.x-this._startEventData.x,this._maxLeftOffset,this._maxRightOffset):0},_calculateYOffset:function(e){return"horizontal"!==this.direction?this._fitOffset(e.y-this._startEventData.y,this._maxTopOffset,this._maxBottomOffset):0},_fitOffset:function(e,n,t){return null!=n&&(e=Math.max(e,-n)),null!=t&&(e=Math.min(e,t)),e},_processDropTargets:function(e){var n=this._findDropTarget(e);n===this._currentDropTarget||(this._fireDropTargetEvent(e,gw),this._currentDropTarget=n,this._fireDropTargetEvent(e,pw))},_fireDropTargetEvent:function(e,n){if(this._currentDropTarget){var t={type:n,originalEvent:e,draggingElement:this._$element.get(0),target:this._currentDropTarget};Al(t)}},_findDropTarget:function(e){var t,n=this;return B($l,function(i,r){if(n._checkDropTargetActive(r)){var o=x(r);B(function(e){var n=$l.indexOf(e.get(0)),t=C_[n].filter(r=>r),i=e.find(t.join(", "));return C_[n].includes(void 0)&&(i=i.add(e)),i}(o),function(s,l){var h=x(l);n._checkDropTarget(function(e){var n=$l.indexOf(e.get(0));return NF[n]}(o),h,x(t),e)&&(t=l)})}}),t},_checkDropTargetActive:function(e){var n=!1;return B(this._dropTargets,function(t,i){return!(n=n||i===e||Ia(i,e))}),n},_checkDropTarget:function(e,n,t,i){if(n.get(0)===x(i.target).get(0))return!1;var o=function(e,n){return e.itemPositionFunc?e.itemPositionFunc(n):n.offset()}(e,n);if(i.pageX<o.left||i.pageY<o.top)return!1;var s=function(e,n){return e.itemSizeFunc?e.itemSizeFunc(n):{width:n.get(0).getBoundingClientRect().width,height:n.get(0).getBoundingClientRect().height}}(e,n);return!(i.pageX>o.left+s.width||i.pageY>o.top+s.height||t.length&&t.closest(n).length||e.checkDropTarget&&!e.checkDropTarget(n,i))&&n},_end:function(e){var n=In(e);this._fireEvent(lp,e,{offset:this._calculateOffset(n)}),this._fireDropTargetEvent(e,VF),delete this._currentDropTarget}});m_({emitter:BX,events:[ap,Vu,lp]});var yz=function(){var e=[];return{add:function(n){e.includes(n)||e.push(n)},remove:function(n){var t=e.indexOf(n);-1!==t&&e.splice(t,1)},fire:function(){var n=e.pop(),t=!!n;return t&&n(),t},hasCallback:function(){return e.length>0}}}(),_w=1500,Gl=[],xz=function(){var n=Gl.length,t=(n?Gl[n-1]:arguments.length>0&&void 0!==arguments[0]?arguments[0]:_w)+1;return Gl.push(t),t},zF=e=>{var n=Gl.indexOf(e);n>=0&&Gl.splice(n,1)},WF="dx-swatch-";const bz_getSwatchContainer=e=>{var t=x(e).closest('[class^="'.concat(WF,'"], [class*=" ').concat(WF,'"]')),i=ks();if(!t.length)return i;var r=new RegExp("(\\s|^)(".concat(WF,".*?)(\\s|$)")),o=t[0].className.match(r)[2],s=i.children("."+o);return s.length||(s=x("<div>").addClass(o).appendTo(i)),s};var HX=ut(),Oz={top:{my:"top center",at:"top center"},bottom:{my:"bottom center",at:"bottom center"},right:{my:"right center",at:"right center"},left:{my:"left center",at:"left center"},center:{my:"center",at:"center"},"right bottom":{my:"right bottom",at:"right bottom"},"right top":{my:"right top",at:"right top"},"left bottom":{my:"left bottom",at:"left bottom"},"left top":{my:"left top",at:"left top"}},Dz={h:0,v:0};class Sz{constructor(n){var{position:t,container:i,visualContainer:r,$root:o,$content:s,$wrapper:l,onPositioned:h,onVisualPositionChanged:g,restorePosition:_,_fixWrapperPosition:v}=n;this._props={position:t,container:i,visualContainer:r,restorePosition:_,onPositioned:h,onVisualPositionChanged:g,_fixWrapperPosition:v},this._$root=o,this._$content=s,this._$wrapper=l,this._$markupContainer=void 0,this._$visualContainer=void 0,this._shouldRenderContentInitialPosition=!0,this._visualPosition=void 0,this._initialPosition=void 0,this._previousVisualPosition=void 0,this.updateContainer(i),this.updatePosition(t),this.updateVisualContainer(r)}get $container(){return this.updateContainer(),this._$markupContainer}get $visualContainer(){return this._$visualContainer}get position(){return this._position}set fixWrapperPosition(n){this._props._fixWrapperPosition=n,this.styleWrapperPosition()}set restorePosition(n){this._props.restorePosition=n}restorePositionOnNextRender(n){this._shouldRenderContentInitialPosition=n||!this._visualPosition}openingHandled(){this.restorePositionOnNextRender(this._props.restorePosition)}updatePosition(n){this._props.position=n,this._position=this._normalizePosition(n),this.updateVisualContainer()}updateContainer(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._props.container;this._props.container=n,this._$markupContainer=n?x(n):bz_getSwatchContainer(this._$root),this.updateVisualContainer(this._props.visualContainer)}updateVisualContainer(){this._props.visualContainer=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._props.visualContainer,this._$visualContainer=this._getVisualContainer()}detectVisualPositionChange(n){this._updateVisualPositionValue(),this._raisePositionedEvents(n)}positionContent(){this._shouldRenderContentInitialPosition?this._renderContentInitialPosition():(Mi(this._$content,this._visualPosition),this.detectVisualPositionChange())}positionWrapper(){this._$visualContainer&&Ns.setup(this._$wrapper,{my:"top left",at:"top left",of:this._$visualContainer})}styleWrapperPosition(){var n=Sn(this.$visualContainer.get(0))||this._props._fixWrapperPosition;this._$wrapper.css("position",n?"fixed":"absolute")}_updateVisualPositionValue(){this._previousVisualPosition=this._visualPosition,this._visualPosition=is(this._$content)}_renderContentInitialPosition(){this._renderBoundaryOffset(),zy(this._$content);var n=this._$wrapper.css("overflow");this._$wrapper.css("overflow","hidden");var t=Ns.setup(this._$content,this._position);this._$wrapper.css("overflow",n),this._initialPosition=t,this.detectVisualPositionChange()}_raisePositionedEvents(n){var t=this._previousVisualPosition,i=this._visualPosition;(t?.top!==i.top||t?.left!==i.left)&&this._props.onVisualPositionChanged({previousPosition:t,position:i,event:n}),this._props.onPositioned({position:this._initialPosition})}_renderBoundaryOffset(){var n,t=null!==(n=this._position)&&void 0!==n?n:{boundaryOffset:Dz};this._$content.css("margin","".concat(t.v,"px ").concat(t.h,"px"))}_getVisualContainer(){var n,t,i=this._props.container,r=this._props.visualContainer,o=function(e){return!(!e||!e.preventDefault)}(null===(n=this._props.position)||void 0===n?void 0:n.of)?this._props.position.of.target:null===(t=this._props.position)||void 0===t?void 0:t.of;return x(r||i||o||HX)}_normalizePosition(n){var t={boundaryOffset:Dz};return T(n)?A(!0,{},t,this._positionToObject(n)):t}_positionToObject(n){return je(n)?A({},Oz[n]):n}}var zX=Nr.add,y_=ut(),Ez=Xh,wz="dx-inner-overlay",$F="dx-state-invisible",GF=[],UF="dx-prevent-safari-scrolling";zX(()=>{R.subscribeGlobal(se.getDocument(),Rt.down,e=>{for(var n=GF.length-1;n>=0;n--)if(!GF[n]._proxiedDocumentDownHandler(e))return})});var mw=Ki.inherit({_supportedKeys:function(){return A(this.callBase(),{escape:function(){this.hide()}})},_getDefaultOptions:function(){return A(this.callBase(),{activeStateEnabled:!1,visible:!1,deferRendering:!0,shading:!0,shadingColor:"",wrapperAttr:{},position:A({},Oz.center),width:"80vw",minWidth:null,maxWidth:null,height:"80vh",minHeight:null,maxHeight:null,animation:{show:{type:"pop",duration:300,from:{scale:.55}},hide:{type:"pop",duration:300,from:{opacity:1,scale:1},to:{opacity:0,scale:.55}}},closeOnOutsideClick:!1,hideOnOutsideClick:!1,copyRootClassesToWrapper:!1,_ignoreCopyRootClassesToWrapperDeprecation:!1,_ignoreElementAttrDeprecation:!1,_ignorePreventScrollEventsDeprecation:!1,onShowing:null,onShown:null,onHiding:null,onHidden:null,contentTemplate:"content",innerOverlay:!1,restorePosition:!0,container:void 0,visualContainer:void 0,hideTopOverlayHandler:()=>{this.hide()},hideOnParentScroll:!1,preventScrollEvents:!0,onPositioned:null,propagateOutsideClick:!1,ignoreChildEvents:!0,_checkParentVisibility:!0,_fixWrapperPosition:!1})},_defaultOptionsRules:function(){return this.callBase().concat([{device:function(){return!rt()},options:{width:null,height:null,animation:null,_checkParentVisibility:!1}}])},_setOptionsByReference:function(){this.callBase(),A(this._optionsByReference,{animation:!0})},$wrapper:function(){return this._$wrapper},_eventBindingTarget:function(){return this._$content},_setDeprecatedOptions(){this.callBase(),A(this._deprecatedOptions,{closeOnOutsideClick:{since:"22.1",alias:"hideOnOutsideClick"}})},ctor:function(e,n){this.callBase(e,n),n&&(n.copyRootClassesToWrapper&&!n._ignoreCopyRootClassesToWrapperDeprecation&&this._logDeprecatedOptionWarning("copyRootClassesToWrapper",{since:"21.2",message:'Use the "wrapperAttr" option instead'}),n.elementAttr&&!n._ignoreElementAttrDeprecation&&this._logDeprecatedOptionWarning("elementAttr",{since:"21.2",message:'Use the "wrapperAttr" option instead'}),"preventScrollEvents"in n&&!n._ignorePreventScrollEventsDeprecation&&this._logDeprecatedPreventScrollEventsInfo())},_logDeprecatedPreventScrollEventsInfo(){this._logDeprecatedOptionWarning("preventScrollEvents",{since:"23.1",message:"If you enable this option, end-users may experience scrolling issues."})},_init:function(){this.callBase(),this._initActions(),this._initHideOnOutsideClickHandler(),this._initTabTerminatorHandler(),this._customWrapperClass=null,this._$wrapper=x("<div>").addClass("dx-overlay-wrapper"),this._$content=x("<div>").addClass("dx-overlay-content"),this._initInnerOverlayClass();var e=this.$element();this.option("copyRootClassesToWrapper")&&this._$wrapper.addClass(e.attr("class")),e.addClass("dx-overlay"),this._$wrapper.attr("data-bind","dxControlsDescendantBindings: true"),this._toggleViewPortSubscription(!0),this._initHideTopOverlayHandler(this.option("hideTopOverlayHandler")),this._parentsScrollSubscriptionInfo={handler:n=>{this._hideOnParentsScrollHandler(n)}},this.warnPositionAsFunction()},warnPositionAsFunction(){Re(this.option("position"))&&zt.log("W0018")},_initInnerOverlayClass:function(){this._$content.toggleClass(wz,this.option("innerOverlay"))},_initHideTopOverlayHandler:function(e){this._hideTopOverlayHandler=e},_getActionsList:function(){return["onShowing","onShown","onHiding","onHidden","onPositioned","onVisualPositionChanged"]},_initActions:function(){this._actions={};var e=this._getActionsList();B(e,(n,t)=>{this._actions[t]=this._createActionByOption(t,{excludeValidators:["disabled","readOnly"]})||U})},_initHideOnOutsideClickHandler:function(){var e=this;this._proxiedDocumentDownHandler=function(){return e._documentDownHandler(...arguments)}},_initMarkup(){this.callBase(),this._renderWrapperAttributes(),this._initPositionController()},_documentDownHandler:function(e){this._showAnimationProcessing&&this._stopAnimation();var n=x(y_.document).is(e.target)||Ia(y_.document,e.target),t=x(e.target).closest(".".concat(wz)).length;return n&&!t&&!(this._$content.is(e.target)||Ia(this._$content.get(0),e.target))&&this._shouldHideOnOutsideClick(e)&&this._outsideClickHandler(e),this.option("propagateOutsideClick")},_shouldHideOnOutsideClick:function(e){var{hideOnOutsideClick:n}=this.option();return Re(n)?n(e):n},_outsideClickHandler(e){this.option("shading")&&e.preventDefault(),this.hide()},_getAnonymousTemplateName:function(){return"content"},_initTemplates:function(){this._templateManager.addDefaultTemplates({content:new Bs}),this.callBase()},_isTopOverlay:function(){for(var e=this._overlayStack(),n=e.length-1;n>=0;n--){var t=e[n]._findTabbableBounds();if(t.first||t.last)return e[n]===this}return!1},_overlayStack:function(){return GF},_zIndexInitValue:function(){return mw.baseZIndex()},_toggleViewPortSubscription:function(e){var n=this;Ez.remove(this._viewPortChangeHandle),e&&(this._viewPortChangeHandle=function(){n._viewPortChangeHandler(...arguments)},Ez.add(this._viewPortChangeHandle))},_viewPortChangeHandler:function(){this._positionController.updateContainer(this.option("container")),this._refresh()},_renderWrapperAttributes(){var{wrapperAttr:e}=this.option(),n=A({},e),t=n.class;delete n.class,this.$wrapper().attr(n).removeClass(this._customWrapperClass).addClass(t),this._customWrapperClass=t},_renderVisibilityAnimate:function(e){return this._stopAnimation(),e?this._show():this._hide()},_getAnimationConfig:function(){return this._getOptionValue("animation",this)},_toggleBodyScroll:U,_animateShowing:function(){var e,n,t,i=this,r=null!==(e=this._getAnimationConfig())&&void 0!==e?e:{},o=this._normalizeAnimation(r.show,"to"),s=null!==(n=o?.start)&&void 0!==n?n:U,l=null!==(t=o?.complete)&&void 0!==t?t:U;this._animate(o,function(){if(!i._isAnimationPaused){i.option("focusStateEnabled")&&R.trigger(i._focusTarget(),"focus");for(var h=arguments.length,g=new Array(h),_=0;_<h;_++)g[_]=arguments[_];l.call(i,...g),i._showAnimationProcessing=!1,i._isHidden=!1,i._actions.onShown(),i._toggleSafariScrolling(),i._showingDeferred.resolve()}},function(){if(!i._isAnimationPaused){for(var h=arguments.length,g=new Array(h),_=0;_<h;_++)g[_]=arguments[_];s.call(i,...g),i._showAnimationProcessing=!0}})},_processShowingHidingCancel:function(e,n,t){hu(e)?e.then(i=>{i?t():n()}).catch(()=>n()):e?t():n()},_show:function(){if(this._showingDeferred=new W,this._parentHidden=this._isParentHidden(),this._showingDeferred.done(()=>{delete this._parentHidden}),this._parentHidden)return this._isHidden=!0,this._showingDeferred.resolve();if(this._currentVisible)return(new W).resolve().promise();if(this._currentVisible=!0,this._isHidingActionCanceled)delete this._isHidingActionCanceled,this._showingDeferred.reject();else{var e=()=>{this._toggleBodyScroll(this.option("enableBodyScroll")),this._stopAnimation(),this._toggleVisibility(!0),this._$content.css("visibility","hidden"),this._$content.toggleClass($F,!1),this._updateZIndexStackPosition(!0),this._positionController.openingHandled(),this._renderContent();var n={cancel:!1};this._actions.onShowing(n),this._processShowingHidingCancel(n.cancel,()=>{this._$content.css("visibility",""),this._renderVisibility(!0),this._animateShowing()},()=>{this._toggleVisibility(!1),this._$content.css("visibility",""),this._$content.toggleClass($F,!0),this._isShowingActionCanceled=!0,this._moveFromContainer(),this.option("visible",!1),this._showingDeferred.resolve()})};this.option("templatesRenderAsynchronously")?(this._stopShowTimer(),this._asyncShowTimeout=setTimeout(e)):e()}return this._showingDeferred.promise()},_normalizeAnimation:function(e,n){return e&&(e=A({type:"slide",skipElementInitialStyles:!0},e),qe(e[n])&&A(e[n],{position:this._positionController.position})),e},_animateHiding:function(){var e,n,t,i=this,r=null!==(e=this._getAnimationConfig())&&void 0!==e?e:{},o=this._normalizeAnimation(r.hide,"from"),s=null!==(n=o?.start)&&void 0!==n?n:U,l=null!==(t=o?.complete)&&void 0!==t?t:U;this._animate(o,function(){var h;i._$content.css("pointerEvents",""),i._renderVisibility(!1);for(var g=arguments.length,_=new Array(g),v=0;v<g;v++)_[v]=arguments[v];l.call(i,..._),i._hideAnimationProcessing=!1,null===(h=i._actions)||void 0===h||h.onHidden(),i._hidingDeferred.resolve()},function(){i._$content.css("pointerEvents","none");for(var h=arguments.length,g=new Array(h),_=0;_<h;_++)g[_]=arguments[_];s.call(i,...g),i._hideAnimationProcessing=!0})},_hide:function(){if(!this._currentVisible)return(new W).resolve().promise();this._currentVisible=!1,this._hidingDeferred=new W;var e={cancel:!1};return this._isShowingActionCanceled?(delete this._isShowingActionCanceled,this._hidingDeferred.reject()):(this._actions.onHiding(e),this._toggleSafariScrolling(),this._toggleBodyScroll(!0),this._processShowingHidingCancel(e.cancel,()=>{this._forceFocusLost(),this._toggleShading(!1),this._toggleSubscriptions(!1),this._stopShowTimer(),this._animateHiding()},()=>{this._isHidingActionCanceled=!0,this.option("visible",!0),this._hidingDeferred.resolve()})),this._hidingDeferred.promise()},_forceFocusLost:function(){var e=se.getActiveElement();this._$content.find(e).length&&Qh()},_animate:function(e,n,t){e?An.animate(this._$content,A({},e,{start:t=t||e.start||U,complete:n})):n()},_stopAnimation:function(){An.stop(this._$content,!0)},_renderVisibility:function(e){e&&this._isParentHidden()||(this._currentVisible=e,this._stopAnimation(),e||mP(this._$content),e?(this._checkContainerExists(),this._moveToContainer(),this._renderGeometry(),Fu(this._$content),Qo(this._$content)):(this._toggleVisibility(e),this._$content.toggleClass($F,!e),this._updateZIndexStackPosition(e),this._moveFromContainer()),this._toggleShading(e),this._toggleSubscriptions(e))},_updateZIndexStackPosition:function(e){var n=this._overlayStack(),t=n.indexOf(this);e?(-1===t&&(this._zIndex=xz(this._zIndexInitValue()),n.push(this)),this._$wrapper.css("zIndex",this._zIndex),this._$content.css("zIndex",this._zIndex)):-1!==t&&(n.splice(t,1),zF(this._zIndex))},_toggleShading:function(e){this._$wrapper.toggleClass("dx-overlay-shader",e&&this.option("shading")),this._$wrapper.css("backgroundColor",this.option("shading")?this.option("shadingColor"):""),this._toggleTabTerminator(e&&this.option("shading"))},_initTabTerminatorHandler:function(){var e=this;this._proxiedTabTerminatorHandler=function(){e._tabKeyHandler(...arguments)}},_toggleTabTerminator:function(e){var n=fe("keydown",this.NAME);e?R.on(se.getDocument(),n,this._proxiedTabTerminatorHandler):R.off(se.getDocument(),n,this._proxiedTabTerminatorHandler)},_findTabbableBounds:function(){for(var e=this._$wrapper.find("*"),n=e.length-1,t={first:null,last:null},i=0;i<=n&&(!t.first&&e.eq(i).is(aE)&&(t.first=e.eq(i)),!t.last&&e.eq(n-i).is(aE)&&(t.last=e.eq(n-i)),!t.first||!t.last);i++);return t},_tabKeyHandler:function(e){if("tab"===xn(e)&&this._isTopOverlay()){var n=this._findTabbableBounds(),t=n.first,i=n.last,r=!e.shiftKey&&e.target===i.get(0),o=e.shiftKey&&e.target===t.get(0),s=0===n.length,l=!Ia(this._$wrapper.get(0),e.target);if(r||o||s||l){e.preventDefault();var h=e.shiftKey?i:t;R.trigger(h,"focusin"),R.trigger(h,"focus")}}},_toggleSubscriptions:function(e){rt()&&(this._toggleHideTopOverlayCallback(e),this._toggleHideOnParentsScrollSubscription(e))},_toggleHideTopOverlayCallback:function(e){this._hideTopOverlayHandler&&(e?yz.add(this._hideTopOverlayHandler):yz.remove(this._hideTopOverlayHandler))},_toggleHideOnParentsScrollSubscription:function(e){var n,t=fe("scroll",this.NAME),{prevTargets:i,handler:r}=null!==(n=this._parentsScrollSubscriptionInfo)&&void 0!==n?n:{};R.off(i,t,r);var o=this.option("hideOnParentScroll");if(e&&o){var s=this._hideOnParentScrollTarget().parents();"desktop"===$e.real().deviceType&&(s=s.add(y_)),R.on(s,t,r),this._parentsScrollSubscriptionInfo.prevTargets=s}},_hideOnParentsScrollHandler:function(e){var n=!1,t=this.option("hideOnParentScroll");Re(t)&&(n=t(e)),!n&&!this._showAnimationProcessing&&this.hide()},_hideOnParentScrollTarget:function(){return this._$wrapper},_render:function(){this.callBase(),this._appendContentToElement(),this._renderVisibilityAnimate(this.option("visible"))},_appendContentToElement:function(){this._$content.parent().is(this.$element())||this._$content.appendTo(this.$element())},_renderContent:function(){var e=!this._currentVisible&&this.option("deferRendering");this.option("visible")&&this._isParentHidden()?this._isHidden=!0:this._contentAlreadyRendered||e||(this._contentAlreadyRendered=!0,this._appendContentToElement(),this.callBase())},_isParentHidden:function(){if(!this.option("_checkParentVisibility"))return!1;if(void 0!==this._parentHidden)return this._parentHidden;var e=this.$element().parent();if(e.is(":visible"))return!1;var n=!1;return e.add(e.parents()).each(function(){if("none"===x(this).css("display"))return n=!0,!1}),n||!se.getBody().contains(e.get(0))},_renderContentImpl:function(){var e=new W,n=this.option("contentTemplate"),t=this._getTemplate(n),i=this._templateManager.anonymousTemplateName===n;return t&&t.render({container:Ke(this.$content()),noModel:!0,transclude:i,onRendered:()=>{e.resolve(),this.option("templatesRenderAsynchronously")&&this._dimensionChanged()}}),this._toggleWrapperScrollEventsSubscription(this.option("preventScrollEvents")),e.done(()=>{this.option("visible")&&this._moveToContainer()}),e.promise()},_getPositionControllerConfig(){var{container:e,visualContainer:n,_fixWrapperPosition:t,restorePosition:i}=this.option();return{container:e,visualContainer:n,$root:this.$element(),$content:this._$content,$wrapper:this._$wrapper,onPositioned:this._actions.onPositioned,onVisualPositionChanged:this._actions.onVisualPositionChanged,restorePosition:i,_fixWrapperPosition:t}},_initPositionController(){this._positionController=new Sz(this._getPositionControllerConfig())},_toggleWrapperScrollEventsSubscription:function(e){var n=fe(Vu,this.NAME);R.off(this._$wrapper,n),e&&R.on(this._$wrapper,n,{validate:function(){return!0},getDirection:function(){return"both"},_toggleGestureCover:function(t){t||this._toggleGestureCoverImpl(t)},_clearSelection:U,isNative:!0},t=>{var i=t.originalEvent.originalEvent,{type:r}=i||{},o="wheel"===r,s="mousemove"===r,l=o&&!Un(t);t._cancelPreventDefault=!0,i&&!1!==t.cancelable&&(!s&&!o||l)&&t.preventDefault()})},_moveFromContainer:function(){this._$content.appendTo(this.$element()),this._$wrapper.detach()},_checkContainerExists(){var e=this._positionController.$container;void 0!==e&&(e.length>0||It.log("W1021",this.NAME))},_moveToContainer:function(){this._$wrapper.appendTo(this._positionController.$container),this._$content.appendTo(this._$wrapper)},_renderGeometry:function(e){var{visible:n}=this.option();n&&rt()&&(this._stopAnimation(),this._renderGeometryImpl())},_renderGeometryImpl:function(){this._positionController.updatePosition(this._getOptionValue("position")),this._renderWrapper(),this._renderDimensions(),this._renderPosition()},_renderPosition(){this._positionController.positionContent()},_isAllWindowCovered:function(){return Sn(this._positionController.$visualContainer.get(0))&&this.option("shading")},_toggleSafariScrolling:function(){var e=this.option("visible"),n=x(se.getBody()),t="ios"===$e.real().platform&&Gt.safari,i=this._isAllWindowCovered(),r=n.hasClass(UF);t&&(!r||e&&i&&!this._disposed?!r&&e&&i&&(this._cachedBodyScrollTop=y_.pageYOffset,n.addClass(UF)):(n.removeClass(UF),y_.scrollTo(0,this._cachedBodyScrollTop),this._cachedBodyScrollTop=void 0))},_renderWrapper:function(){this._positionController.styleWrapperPosition(),this._renderWrapperDimensions(),this._positionController.positionWrapper()},_renderWrapperDimensions:function(){var e=this._positionController.$visualContainer,n=se.getDocumentElement(),t=Sn(e.get(0)),i=t?n.clientWidth:wt(e),r=t?y_.innerHeight:_t(e);this._$wrapper.css({width:i,height:r})},_renderDimensions:function(){var e=this._$content.get(0);this._$content.css({minWidth:this._getOptionValue("minWidth",e),maxWidth:this._getOptionValue("maxWidth",e),minHeight:this._getOptionValue("minHeight",e),maxHeight:this._getOptionValue("maxHeight",e),width:this._getOptionValue("width",e),height:this._getOptionValue("height",e)})},_focusTarget:function(){return this._$content},_attachKeyboardEvents:function(){this._keyboardListenerId=Ls_on(this._$content,null,e=>this._keyboardHandler(e))},_keyboardHandler:function(e){(x(e.originalEvent.target).is(this._$content)||!this.option("ignoreChildEvents"))&&this.callBase(...arguments)},_isVisible:function(){return this.option("visible")},_visibilityChanged:function(e){e?this.option("visible")&&this._renderVisibilityAnimate(e):this._renderVisibilityAnimate(e)},_dimensionChanged:function(){this._renderGeometry()},_clean:function(){var e=this.option();!this._contentAlreadyRendered&&!e.isRenovated&&this.$content().empty(),this._renderVisibility(!1),this._stopShowTimer(),this._cleanFocusState()},_stopShowTimer(){this._asyncShowTimeout&&clearTimeout(this._asyncShowTimeout),this._asyncShowTimeout=null},_dispose:function(){An.stop(this._$content,!1),clearTimeout(this._deferShowTimer),this._toggleViewPortSubscription(!1),this._toggleSubscriptions(!1),this._updateZIndexStackPosition(!1),this._toggleTabTerminator(!1),this._actions=null,this._parentsScrollSubscriptionInfo=null,this.callBase(),this._toggleSafariScrolling(),this.option("visible")&&zF(this._zIndex),this._$wrapper.remove(),this._$content.remove()},_toggleRTLDirection:function(e){this._$content.toggleClass("dx-rtl",e)},_optionChanged:function(e){var{value:n,name:t}=e;if(this._getActionsList().includes(t))this._initActions();else switch(t){case"animation":case"closeOnOutsideClick":case"hideOnOutsideClick":case"propagateOutsideClick":break;case"shading":this._toggleShading(this.option("visible")),this._toggleSafariScrolling();break;case"shadingColor":this._toggleShading(this.option("visible"));break;case"width":case"height":case"minWidth":case"maxWidth":case"minHeight":case"maxHeight":this._renderGeometry();break;case"position":this._positionController.updatePosition(this.option("position")),this._positionController.restorePositionOnNextRender(!0),this._renderGeometry(),this._toggleSafariScrolling();break;case"visible":this._renderVisibilityAnimate(n).done(()=>{var i;return null===(i=this._animateDeferred)||void 0===i?void 0:i.resolveWith(this)}).fail(()=>{var i;return null===(i=this._animateDeferred)||void 0===i?void 0:i.reject()});break;case"container":this._positionController.updateContainer(n),this._invalidate(),this._toggleSafariScrolling();break;case"visualContainer":this._positionController.updateVisualContainer(n),this._renderWrapper(),this._toggleSafariScrolling();break;case"innerOverlay":this._initInnerOverlayClass();break;case"deferRendering":case"contentTemplate":this._contentAlreadyRendered=!1,this._clean(),this._invalidate();break;case"hideTopOverlayHandler":this._toggleHideTopOverlayCallback(!1),this._initHideTopOverlayHandler(n),this._toggleHideTopOverlayCallback(this.option("visible"));break;case"hideOnParentScroll":this._toggleHideOnParentsScrollSubscription(this.option("visible"));break;case"rtlEnabled":this._contentAlreadyRendered=!1,this.callBase(e);break;case"_fixWrapperPosition":this._positionController.fixWrapperPosition=n;break;case"wrapperAttr":this._renderWrapperAttributes();break;case"restorePosition":this._positionController.restorePosition=n;break;case"preventScrollEvents":this._logDeprecatedPreventScrollEventsInfo(),this._toggleWrapperScrollEventsSubscription(n);break;default:this.callBase(e)}},toggle:function(e){e=void 0===e?!this.option("visible"):e;var n=new W;if(e===this.option("visible"))return n.resolveWith(this,[e]).promise();var t=new W;return this._animateDeferred=t,this.option("visible",e),t.promise().done(()=>{delete this._animateDeferred,n.resolveWith(this,[this.option("visible")])}).fail(()=>{delete this._animateDeferred,n.reject()}),n.promise()},$content:function(){return this._$content},show:function(){return this.toggle(!0)},hide:function(){return this.toggle(!1)},content:function(){return Ke(this._$content)},repaint:function(){this._contentAlreadyRendered?(this._positionController.restorePositionOnNextRender(!0),this._renderGeometry({forceStopAnimation:!0}),Qo(this._$content)):this.callBase()}});mw.baseZIndex=e=>(e=>_w=Cn(e,_w))(e),Dt("dxOverlay",mw);const Nu=mw;var vw="dx-invalid-message",Iz=Nu.inherit({_getDefaultOptions(){return A(this.callBase(),{integrationOptions:{},templatesRenderAsynchronously:!1,shading:!1,width:"auto",height:"auto",hideOnOutsideClick:!1,animation:null,visible:!0,propagateOutsideClick:!0,_checkParentVisibility:!1,rtlEnabled:!1,contentTemplate:this._renderInnerHtml,maxWidth:"100%",container:this.$element(),target:void 0,mode:"auto",validationErrors:void 0,preventScrollEvents:!1,positionSide:"top",boundary:void 0,offset:{h:0,v:0},contentId:void 0})},_init(){this.callBase(),this.updateMaxWidth(),this._updatePosition()},_initMarkup(){this.callBase(),this._ensureMessageNotEmpty(),this._updatePositionByTarget(),this._toggleModeClass(),this._updateContentId()},_updatePositionByTarget:function(){var{target:e}=this.option();this.option("position.of",e)},_ensureMessageNotEmpty:function(){this._textMarkup=this._getTextMarkup();var e=this.option("visible")&&this._textMarkup;this._toggleVisibilityClasses(e)},_toggleVisibilityClasses:function(e){e?(this.$element().addClass(vw),this.$wrapper().addClass(vw)):(this.$element().removeClass(vw),this.$wrapper().removeClass(vw))},_updateContentId(){var{container:e,contentId:n}=this.option(),t=n??x(e).attr("aria-describedby");this.$content().addClass("dx-invalid-message-content").attr("id",t)},_renderInnerHtml(e){var n=e&&x(e);n?.html(this._textMarkup)},_getTextMarkup(){var e,n=null!==(e=this.option("validationErrors"))&&void 0!==e?e:[],t="";return n.forEach(i=>{var r;t+=(t?"<br />":"")+SD(null!==(r=i?.message)&&void 0!==r?r:"")}),t},_toggleModeClass(){var e=this.option("mode");this.$wrapper().toggleClass("dx-invalid-message-auto","auto"===e).toggleClass("dx-invalid-message-always","always"===e)},updateMaxWidth(){var e=this.option("target"),n=wt(e),t="100%";n&&(t=Math.max(n,100)),this.option({maxWidth:t})},_getPositionsArray:function(e,n){switch(e){case"top":return["".concat(n," bottom"),"".concat(n," top")];case"left":return["right","left"];case"right":return["left","right"];default:return["".concat(n," top"),"".concat(n," bottom")]}},_updatePosition:function(){var{positionSide:e,rtlEnabled:n,offset:t,boundary:i}=this.option(),r=Lu(n),o=this._getPositionsArray(e,r),s=de({},t);this.$element().addClass("dx-invalid-message-".concat(e)),n&&"left"!==e&&"right"!==e&&(s.h=-s.h),"top"===e&&(s.v=-s.v),"left"===e&&(s.h=-s.h),this.option("position",{offset:s,boundary:i,my:o[0],at:o[1],collision:"none flip"})},_optionChanged(e){var{name:n,value:t,previousValue:i}=e;switch(n){case"target":this._updatePositionByTarget(),this.updateMaxWidth(),this.callBase(e);break;case"boundary":this.option("position.boundary",t);break;case"mode":this._toggleModeClass(t);break;case"rtlEnabled":case"offset":case"positionSide":this.$element().removeClass("dx-invalid-message-".concat(i)),this._updatePosition();break;case"container":this._updateContentId(),this.callBase(e);break;case"contentId":this._updateContentId();break;case"validationErrors":this._ensureMessageNotEmpty(),this._renderInnerHtml(this.$content());break;default:this.callBase(e)}}});Dt("dxValidationMessage",Iz);const Tz=Iz;var Mz="dx-invalid-message-auto",Az="dx-validation-target",Rz="invalid",r8=["outlined","filled","underlined"],Pz={validationMessageMode:"mode",validationMessagePosition:"positionSide",validationMessageOffset:"offset",validationBoundary:"boundary"},jF=Ki.inherit({ctor:function(){this.showValidationMessageTimeout=null,this.validationRequest=Et(),this.callBase.apply(this,arguments)},_createElement:function(e){this.callBase(e);var n=this.$element();n&&_n(n[0],Az,this)},_initOptions:function(e){this.callBase.apply(this,arguments),this.option(ln.initValidationOptions(e))},_init:function(){this.callBase(),this._options.cache("validationTooltipOptions",this.option("validationTooltipOptions")),this.$element().addClass("dx-show-invalid-badge")},_getDefaultOptions:function(){return A(this.callBase(),{value:null,name:"",onValueChanged:null,readOnly:!1,isValid:!0,validationError:null,validationErrors:null,validationStatus:"valid",validationMessageMode:"auto",validationMessagePosition:"bottom",validationBoundary:void 0,validationMessageOffset:{h:0,v:0},validationTooltipOptions:{},_showValidationMessage:!0})},_attachKeyboardEvents:function(){this.option("readOnly")||this.callBase()},_setOptionsByReference:function(){this.callBase(),A(this._optionsByReference,{validationError:!0})},_createValueChangeAction:function(){this._valueChangeAction=this._createActionByOption("onValueChanged",{excludeValidators:["disabled","readOnly"]})},_suppressValueChangeAction:function(){this._valueChangeActionSuppressed=!0},_resumeValueChangeAction:function(){this._valueChangeActionSuppressed=!1},_initMarkup:function(){var e;this._toggleReadOnlyState(),this._setSubmitElementName(this.option("name")),this.callBase(),this._renderValidationState(),null===(e=this.option("_onMarkupRendered"))||void 0===e||e()},_raiseValueChangeAction:function(e,n){this._valueChangeAction||this._createValueChangeAction(),this._valueChangeAction(this._valueChangeArgs(e,n))},_valueChangeArgs:function(e,n){return{value:e,previousValue:n,event:this._valueChangeEventInstance}},_saveValueChangeEvent:function(e){this._valueChangeEventInstance=e},_focusInHandler:function(e){var n="auto"===this.option("validationMessageMode");if(this._canValueBeChangedByClick()&&n){var t,i=null===(t=this._validationMessage)||void 0===t?void 0:t.$wrapper();i?.removeClass(Mz),clearTimeout(this.showValidationMessageTimeout),this.showValidationMessageTimeout=setTimeout(()=>i?.addClass(Mz),150)}return this.callBase(e)},_canValueBeChangedByClick:function(){return!1},_getStylingModePrefix:function(){return"dx-editor-"},_renderStylingMode:function(){var e=this.option("stylingMode"),n=this._getStylingModePrefix(),t=r8.map(s=>n+s);t.forEach(s=>this.$element().removeClass(s));var i=n+e;if(-1===t.indexOf(i)){var r=this._getDefaultOptions().stylingMode,o=this._convertRulesToOptions(this._defaultOptionsRules()).stylingMode;i=n+(o||r)}this.$element().addClass(i)},_getValidationErrors:function(){var e=this.option("validationErrors");return!e&&this.option("validationError")&&(e=[this.option("validationError")]),e},_disposeValidationMessage:function(){this._$validationMessage&&(this._$validationMessage.remove(),this.setAria("describedby",null),this._$validationMessage=void 0,this._validationMessage=void 0)},_toggleValidationClasses:function(e){this.$element().toggleClass("dx-invalid",e),this.setAria(Rz,e||void 0)},_renderValidationState:function(){var e=this.option("isValid")&&this.option("validationStatus")!==Rz,n=this._getValidationErrors(),t=this.$element();if(this._toggleValidationClasses(!e),rt()&&!1!==this.option("_showValidationMessage")&&(this._disposeValidationMessage(),!e&&n)){var{validationMessageMode:i,validationMessageOffset:r,validationBoundary:o,rtlEnabled:s}=this.option();this._$validationMessage=x("<div>").appendTo(t);var l="dx-".concat(new En);this.setAria("describedby",l),this._validationMessage=new Tz(this._$validationMessage,A({validationErrors:n,rtlEnabled:s,target:this._getValidationMessageTarget(),visualContainer:t,mode:i,positionSide:this._getValidationMessagePosition(),offset:r,boundary:o,contentId:l},this._options.cache("validationTooltipOptions"))),this._bindInnerWidgetOptions(this._validationMessage,"validationTooltipOptions")}},_getValidationMessagePosition:function(){return this.option("validationMessagePosition")},_getValidationMessageTarget:function(){return this.$element()},_toggleReadOnlyState:function(){var e=this.option("readOnly");this._toggleBackspaceHandler(e),this.$element().toggleClass("dx-state-readonly",!!e),this.setAria("readonly",e||void 0)},_toggleBackspaceHandler:function(e){var n=this._keyboardEventBindingTarget(),t=fe("keydown","editorReadOnly");R.off(n,t),e&&R.on(n,t,i=>{"backspace"===xn(i)&&i.preventDefault()})},_dispose:function(){_n(this.$element()[0],Az,null),clearTimeout(this.showValidationMessageTimeout),this._disposeValidationMessage(),this.callBase()},_setSubmitElementName:function(e){var n=this._getSubmitElement();n&&(e.length>0?n.attr("name",e):n.removeAttr("name"))},_getSubmitElement:function(){return null},_setValidationMessageOption:function(e){var n,{name:t,value:i}=e;null===(n=this._validationMessage)||void 0===n||n.option(Pz[t]?Pz[t]:t,i)},_hasActiveElement:U,_optionChanged:function(e){var n;switch(e.name){case"onValueChanged":this._createValueChangeAction();break;case"readOnly":this._toggleReadOnlyState(),this._refreshFocusState();break;case"value":e.value!=e.previousValue&&this.validationRequest.fire({value:e.value,editor:this}),this._valueChangeActionSuppressed||(this._raiseValueChangeAction(e.value,e.previousValue),this._saveValueChangeEvent(void 0));break;case"width":this.callBase(e),null===(n=this._validationMessage)||void 0===n||n.updateMaxWidth();break;case"name":this._setSubmitElementName(e.value);break;case"isValid":case"validationError":case"validationErrors":case"validationStatus":this.option(ln.synchronizeValidationOptions(e,this.option())),this._renderValidationState();break;case"validationBoundary":case"validationMessageMode":case"validationMessagePosition":case"validationMessageOffset":this._setValidationMessageOption(e);break;case"rtlEnabled":this._setValidationMessageOption(e),this.callBase(e);break;case"validationTooltipOptions":this._innerWidgetOptionChanged(this._validationMessage,e);break;case"_showValidationMessage":break;default:this.callBase(e)}},blur:function(){this._hasActiveElement()&&Qh()},reset:function(){var e=this._getDefaultOptions();this.option("value",e.value)}});jF.isEditor=e=>e instanceof jF;const Ul=jF;class Cw{constructor(n,t,i){this.instance=null,this.$container=null,this.$placeMarker=null,this.editor=t,this.name=n,this.options=i||{}}_addPlaceMarker(n){this.$placeMarker=x("<div>").appendTo(n)}_addToContainer(n){var{$placeMarker:t,$container:i}=this;t?t.replaceWith(n):n.appendTo(i)}_attachEvents(){throw"Not implemented"}_create(){throw"Not implemented"}_isRendered(){return!!this.instance}_isVisible(){var{editor:n,options:t}=this;return t.visible||!n.option("readOnly")}_isDisabled(){throw"Not implemented"}_shouldRender(){return this._isVisible()&&!this._isRendered()}dispose(){var{instance:n,$placeMarker:t}=this;n&&(n.dispose?n.dispose():n.remove(),this.instance=null),t&&t.remove()}render(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.$container;if(this.$container=n,this._isVisible()){var{instance:t,$element:i}=this._create();this.instance=t,this._attachEvents(t,i)}else this._addPlaceMarker(n)}update(){return this._shouldRender()&&this.render(),!!this.instance}}var o8=Rt.down;class c8 extends Cw{_create(){var n=x("<span>").addClass("dx-clear-button-area").append(x("<span>").addClass("dx-icon").addClass("dx-icon-clear"));return this._addToContainer(n),this.update(!0),{instance:n,$element:n}}_isVisible(){var{editor:n}=this;return n._isClearButtonVisible()}_attachEvents(n,t){var{editor:i}=this,r=i.NAME;R.on(t,fe(o8,r),o=>{o.preventDefault(),"mouse"!==o.pointerType&&i._clearValueHandler(o)}),R.on(t,fe(Kt,r),o=>i._clearValueHandler(o))}_legacyRender(n,t){n.toggleClass("dx-show-clear-button",t)}update(){!(arguments.length>0&&void 0!==arguments[0]&&arguments[0])&&super.update();var{editor:t,instance:i}=this,r=t.$element(),o=this._isVisible();i&&i.toggleClass("dx-state-invisible",!o),this._legacyRender(r,o)}}var Fz="dx-custom-button-hovered";class h8 extends Cw{_attachEvents(n,t){var{editor:i}=this;R.on(t,tw,()=>{i.$element().addClass(Fz)}),R.on(t,Py,()=>{i.$element().removeClass(Fz)}),R.on(t,Kt,r=>{r.stopPropagation()})}_create(){var{editor:n}=this,t=x("<div>");return this._addToContainer(t),{$element:t,instance:n._createComponent(t,Ui,A({},this.options,{ignoreParentReadOnly:!0,disabled:this._isDisabled(),integrationOptions:this._prepareIntegrationOptions(n)}))}}_prepareIntegrationOptions(n){return A({},n.option("integrationOptions"),{skipTemplates:["content"]})}update(){var n=super.update();return this.instance&&this.instance.option("disabled",this._isDisabled()),n}_isVisible(){var{editor:n}=this;return n.option("visible")}_isDisabled(){return void 0!==this.options.disabled?this.instance?this.instance.option("disabled"):this.options.disabled:this.editor.option("readOnly")}}function kz(e,n){if(-1!==e.indexOf(n))throw It.Error("E1055",n);e.push(n)}class _8{constructor(n,t){this.buttons=[],this.defaultButtonsInfo=t,this.editor=n}_compileButtonInfo(n){var t=[];return n.map(i=>{var r="string"==typeof i;r||function g8(e){(()=>{if(!e||"object"!=typeof e||Array.isArray(e))throw It.Error("E1053")})(),(()=>{if(!("name"in e))throw It.Error("E1054")})(),(()=>{var{name:n}=e;if("string"!=typeof n)throw It.Error("E1055")})(),(()=>{var{location:n}=e;"location"in e&&"after"!==n&&"before"!==n&&(e.location="after")})()}(i);var o=r||function f8(e,n){return!!n.find(t=>t.name===e)}(i.name,this.defaultButtonsInfo);if(o){var s=this.defaultButtonsInfo.find(h=>{var{name:g}=h;return g===i||g===i.name});if(!s)throw It.Error("E1056",this.editor.NAME,i);return kz(t,i),s}var{name:l}=i;return kz(t,l),A(i,{Ctor:h8})})}_createButton(n){var{Ctor:t,options:i,name:r}=n,o=new t(r,this.editor,i);return this.buttons.push(o),o}_renderButtons(n,t,i){var r=null;return(n?this._compileButtonInfo(n):this.defaultButtonsInfo).forEach(s=>{var{location:l="after"}=s;l===i&&this._createButton(s).render((r=r||x("<div>").addClass("dx-texteditor-buttons-container"),"before"===i?t.prepend(r):t.append(r),r))}),r}clean(){this.buttons.forEach(n=>n.dispose()),this.buttons=[]}getButton(n){var t=this.buttons.find(i=>{var{name:r}=i;return r===n});return t&&t.instance}renderAfterButtons(n,t){return this._renderButtons(n,t,"after")}renderBeforeButtons(n,t){return this._renderButtons(n,t,"before")}updateButtons(n){this.buttons.forEach(t=>{(!n||-1!==n.indexOf(t.name))&&t.update()})}}var m8=Ch(),Bz="dx-loadindicator-segment",Lz=Ki.inherit({_getDefaultOptions:function(){return A(this.callBase(),{indicatorSrc:"",activeStateEnabled:!1,hoverStateEnabled:!1,_animatingSegmentCount:1,_animatingSegmentInner:!1})},_defaultOptionsRules:function(){var e=es();return this.callBase().concat([{device:function(){return"android"===$e.real().platform&&!/chrome/i.test(m8.userAgent)},options:{viaImage:!0}},{device:function(){return Wn(e)},options:{_animatingSegmentCount:2,_animatingSegmentInner:!0}},{device:function(){return QP(e)},options:{_animatingSegmentCount:7}}])},_useTemplates:function(){return!1},_init:function(){this.callBase(),this.$element().addClass("dx-loadindicator")},_initMarkup:function(){this.callBase(),this._renderWrapper(),this._renderIndicatorContent(),this._renderMarkup()},_renderWrapper:function(){this._$wrapper=x("<div>").addClass("dx-loadindicator-wrapper"),this.$element().append(this._$wrapper)},_renderIndicatorContent:function(){this._$content=x("<div>").addClass("dx-loadindicator-content"),this._$wrapper.append(this._$content)},_renderMarkup:function(){!dt()||this.option("viaImage")||this.option("indicatorSrc")?this._renderMarkupForImage():this._renderMarkupForAnimation()},_renderMarkupForAnimation:function(){var e=this.option("_animatingSegmentInner");this._$indicator=x("<div>").addClass("dx-loadindicator-icon"),this._$content.append(this._$indicator);for(var n=this.option("_animatingSegmentCount");n>=0;--n){var t=x("<div>").addClass(Bz).addClass(Bz+n);e&&t.append(x("<div>").addClass("dx-loadindicator-segment-inner")),this._$indicator.append(t)}},_renderMarkupForImage:function(){var e=this.option("indicatorSrc");this._$wrapper.addClass("dx-loadindicator-image"),e&&this._$wrapper.css("backgroundImage","url("+e+")")},_renderDimensions:function(){this.callBase(),this._updateContentSizeForAnimation()},_updateContentSizeForAnimation:function(){if(this._$indicator){var e=this.option("width"),n=this.option("height");if(e||n){e=Ze(this.$element()),n=gt(this.$element());var t=Math.min(n,e);this._$wrapper.css({height:t,width:t,fontSize:t})}}},_clean:function(){this.callBase(),this._removeMarkupForAnimation(),this._removeMarkupForImage()},_removeMarkupForAnimation:function(){this._$indicator&&(this._$indicator.remove(),delete this._$indicator)},_removeMarkupForImage:function(){this._$wrapper.css("backgroundImage","none")},_optionChanged:function(e){switch(e.name){case"_animatingSegmentCount":case"_animatingSegmentInner":case"indicatorSrc":this._invalidate();break;default:this.callBase(e)}}});Dt("dxLoadIndicator",Lz);const Do=Lz;var Vz="dx-texteditor-label",Nz="dx-texteditor-with-label",Hz="dx-texteditor-with-floating-label",zz="dx-texteditor-with-before-buttons",Wz=ut(),I8={observe:U,unobserve:U,disconnect:U};const dp=new class T8{constructor(){if(!rt()||!Wz.ResizeObserver)return I8;this._callbacksMap=new Map,this._observer=new Wz.ResizeObserver(n=>{n.forEach(t=>{var i;null===(i=this._callbacksMap.get(t.target))||void 0===i||i(t)})})}observe(n,t){this._callbacksMap.set(n,t),this._observer.observe(n)}unobserve(n){this._callbacksMap.delete(n),this._observer.unobserve(n)}disconnect(){this._callbacksMap.clear(),this._observer.disconnect()}};var $z="dx-texteditor-input",P8="."+$z,Gz="dx-placeholder",Uz="dx-validation-pending",yw=["KeyDown","KeyPress","KeyUp","Change","Cut","Copy","Paste","Input"],H8=["tab","enter","shift","control","alt","escape","pageUp","pageDown","end","home","leftArrow","upArrow","rightArrow","downArrow"];function jz(e){if(T(e)&&!Array.isArray(e))throw It.Error("E1053")}var W8=Ul.inherit({ctor:function(e,n){n&&jz(n.buttons),this._buttonCollection=new _8(this,this._getDefaultButtons()),this._$beforeButtonsContainer=null,this._$afterButtonsContainer=null,this._labelContainerElement=null,this.callBase.apply(this,arguments)},_getDefaultOptions:function(){return A(this.callBase(),{buttons:void 0,value:"",spellcheck:!1,showClearButton:!1,valueChangeEvent:"change",placeholder:"",inputAttr:{},onFocusIn:null,onFocusOut:null,onKeyDown:null,onKeyUp:null,onChange:null,onInput:null,onCut:null,onCopy:null,onPaste:null,onEnterKey:null,mode:"text",hoverStateEnabled:!0,focusStateEnabled:!0,text:void 0,displayValueFormatter:function(e){return T(e)&&!1!==e?e:""},stylingMode:un().editorStylingMode||"outlined",showValidationMark:!0,label:"",labelMode:"static",labelMark:""})},_defaultOptionsRules:function(){return this.callBase().concat([{device:function(){return Wn(es())},options:{stylingMode:un().editorStylingMode||"filled",labelMode:"floating"}}])},_getDefaultButtons:function(){return[{name:"clear",Ctor:c8}]},_isClearButtonVisible:function(){return this.option("showClearButton")&&!this.option("readOnly")},_input:function(){return this.$element().find(P8).first()},_isFocused:function(){return xa(this._input())||this.callBase()},_inputWrapper:function(){return this.$element()},_buttonsContainer:function(){return this._inputWrapper().find(".dx-texteditor-buttons-container").eq(0)},_isControlKey:function(e){return-1!==H8.indexOf(e)},_renderStylingMode:function(){this.callBase(),this._updateButtonsStyling(this.option("stylingMode"))},_initMarkup:function(){this.$element().addClass("dx-texteditor"),this._renderInput(),this._renderStylingMode(),this._renderInputType(),this._renderPlaceholder(),this._renderProps(),this.callBase(),this._renderValue(),this._renderLabel()},_render:function(){this.callBase(),this._refreshValueChangeEvent(),this._renderEvents(),this._renderEnterKeyAction(),this._renderEmptinessEvent()},_renderInput:function(){this._$buttonsContainer=this._$textEditorContainer=x("<div>").addClass("dx-texteditor-container").appendTo(this.$element()),this._$textEditorInputContainer=x("<div>").addClass("dx-texteditor-input-container").appendTo(this._$textEditorContainer),this._$textEditorInputContainer.append(this._createInput()),this._renderButtonContainers()},_getInputContainer(){return this._$textEditorInputContainer},_renderPendingIndicator:function(){this.$element().addClass(Uz);var e=this._getInputContainer(),n=x("<div>").addClass("dx-pending-indicator").appendTo(e);this._pendingIndicator=this._createComponent(n,Do)},_disposePendingIndicator:function(){this._pendingIndicator&&(this._pendingIndicator.dispose(),this._pendingIndicator.$element().remove(),this._pendingIndicator=null,this.$element().removeClass(Uz))},_renderValidationState:function(){this.callBase();var e="pending"===this.option("validationStatus"),n=this.$element();e?(!this._pendingIndicator&&this._renderPendingIndicator(),this._showValidMark=!1):("invalid"===this.option("validationStatus")&&(this._showValidMark=!1),!this._showValidMark&&!0===this.option("showValidationMark")&&(this._showValidMark="valid"===this.option("validationStatus")&&!!this._pendingIndicator),this._disposePendingIndicator()),n.toggleClass("dx-valid",!!this._showValidMark)},_renderButtonContainers:function(){var e=this.option("buttons");this._$beforeButtonsContainer=this._buttonCollection.renderBeforeButtons(e,this._$buttonsContainer),this._$afterButtonsContainer=this._buttonCollection.renderAfterButtons(e,this._$buttonsContainer)},_cleanButtonContainers:function(){var e,n;null===(e=this._$beforeButtonsContainer)||void 0===e||e.remove(),null===(n=this._$afterButtonsContainer)||void 0===n||n.remove(),this._buttonCollection.clean()},_clean(){this._buttonCollection.clean(),this._disposePendingIndicator(),this._unobserveLabelContainerResize(),this._$beforeButtonsContainer=null,this._$afterButtonsContainer=null,this._$textEditorContainer=null,this._$buttonsContainer=null,this.callBase()},_createInput:function(){var e=x("<input>");return this._applyInputAttributes(e,this.option("inputAttr")),e},_setSubmitElementName:function(e){var n=this.option("inputAttr.name");return this.callBase(e||n||"")},_applyInputAttributes:function(e,n){var t=A(this._getDefaultAttributes(),n);e.attr(t).addClass($z).css("minHeight",this.option("height")?"0":"")},_getDefaultAttributes:function(){var e={autocomplete:"off"},{ios:n,mac:t}=$e.real();return(n||t)&&(e.placeholder=" "),e},_updateButtons:function(e){this._buttonCollection.updateButtons(e)},_updateButtonsStyling:function(e){B(this.option("buttons"),(n,t)=>{var{options:i,name:r}=t;if(i&&!i.stylingMode&&this.option("visible")){var o=this.getButton(r);o.option&&o.option("stylingMode","underlined"===e?"text":"contained")}})},_renderValue:function(){return this._renderInputValue().promise()},_renderInputValue:function(e){var n;e=null!==(n=e)&&void 0!==n?n:this.option("value");var t=this.option("text"),i=this.option("displayValue"),r=this.option("displayValueFormatter");return void 0!==i&&null!==e?t=r(i):T(t)||(t=r(e)),this.option("text",t),this._input().val()!==(T(t)?t:"")?this._renderDisplayText(t):this._toggleEmptinessEventHandler(),(new W).resolve()},_renderDisplayText:function(e){this._input().val(e),this._toggleEmptinessEventHandler()},_isValueValid:function(){if(this._input().length){var e=this._input().get(0).validity;if(e)return e.valid}return!0},_toggleEmptiness:function(e){this.$element().toggleClass("dx-texteditor-empty",e),this._togglePlaceholder(e)},_togglePlaceholder:function(e){this.$element().find(".".concat(Gz)).eq(0).toggleClass("dx-state-invisible",!e)},_renderProps:function(){this._toggleReadOnlyState(),this._toggleSpellcheckState(),this._toggleTabIndex()},_toggleDisabledState:function(e){this.callBase.apply(this,arguments),this._input().prop("disabled",e)},_toggleTabIndex:function(){var e=this._input(),n=this.option("disabled"),t=this.option("focusStateEnabled");n||!t?e.attr("tabIndex",-1):e.removeAttr("tabIndex")},_toggleReadOnlyState:function(){this._input().prop("readOnly",this._readOnlyPropValue()),this.callBase()},_readOnlyPropValue:function(){return this.option("readOnly")},_toggleSpellcheckState:function(){this._input().prop("spellcheck",this.option("spellcheck"))},_unobserveLabelContainerResize:function(){this._labelContainerElement&&(dp.unobserve(this._labelContainerElement),this._labelContainerElement=null)},_getLabelContainer:function(){return this._input()},_getLabelContainerWidth:function(){return Ze(this._getLabelContainer())},_getLabelBeforeWidth:function(){return(this._$beforeButtonsContainer&&Ze(this._$beforeButtonsContainer))??0},_updateLabelWidth:function(){this._label.updateBeforeWidth(this._getLabelBeforeWidth()),this._label.updateMaxWidth(this._getLabelContainerWidth())},_getFieldElement(){return this._getLabelContainer()},_setFieldAria(){var e,i=[this._label.getId(),null===(e=this._$placeholder)||void 0===e?void 0:e.attr("id")].filter(Boolean).join(" ");this.setAria({labelledby:i||void 0},this._getFieldElement())},_renderLabel:function(){this._unobserveLabelContainerResize(),this._labelContainerElement=x(this._getLabelContainer()).get(0);var{label:e,labelMode:n,labelMark:t}=this.option(),i={$editor:this.$element(),text:e,mark:t,mode:n,containsButtonsBefore:!!this._$beforeButtonsContainer,containerWidth:this._getLabelContainerWidth(),beforeWidth:this._getLabelBeforeWidth()};this._label=new class w8{constructor(n){var{$editor:t,text:i,mode:r,mark:o,containsButtonsBefore:s,containerWidth:l,beforeWidth:h}=n;this._props={$editor:t,text:i,mode:r,mark:o,containsButtonsBefore:s,containerWidth:l,beforeWidth:h},this._id="".concat(Vz,"-").concat(new En),this._render(),this._toggleMarkupVisibility()}_isVisible(){return!!this._props.text&&"hidden"!==this._props.mode}_render(){this._$before=x("<div>").addClass("dx-label-before"),this._$labelSpan=x("<span>"),this._$label=x("<div>").addClass("dx-label").append(this._$labelSpan),this._$after=x("<div>").addClass("dx-label-after"),this._$root=x("<div>").addClass(Vz).attr("id",this._id).append(this._$before).append(this._$label).append(this._$after),this._updateMark(),this._updateText(),this._updateBeforeWidth(),this._updateMaxWidth()}_toggleMarkupVisibility(){var n=this._isVisible();this._updateEditorBeforeButtonsClass(n),this._updateEditorLabelClass(n),n?this._$root.appendTo(this._props.$editor):this._$root.detach()}_updateEditorLabelClass(n){this._props.$editor.removeClass(Hz).removeClass(Nz),n&&this._props.$editor.addClass("floating"===this._props.mode?Hz:Nz)}_updateEditorBeforeButtonsClass(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._isVisible();this._props.$editor.removeClass(zz),n&&this._props.$editor.addClass(this._props.containsButtonsBefore?zz:"")}_updateMark(){this._$labelSpan.attr("data-mark",this._props.mark)}_updateText(){this._$labelSpan.text(this._props.text)}_updateBeforeWidth(){this._$before.css({width:this._props.beforeWidth})}_updateMaxWidth(){this._$label.css({maxWidth:this._props.containerWidth})}$element(){return this._$root}isVisible(){return this._isVisible()}getId(){if(this._isVisible())return this._id}updateMode(n){this._props.mode=n,this._toggleMarkupVisibility()}updateText(n){this._props.text=n,this._updateText(),this._toggleMarkupVisibility()}updateMark(n){this._props.mark=n,this._updateMark()}updateContainsButtonsBefore(n){this._props.containsButtonsBefore=n,this._updateEditorBeforeButtonsClass()}updateBeforeWidth(n){this._props.beforeWidth=n,this._updateBeforeWidth()}updateMaxWidth(n){this._props.containerWidth=n,this._updateMaxWidth()}}(i),this._setFieldAria(),this._labelContainerElement&&dp.observe(this._labelContainerElement,this._updateLabelWidth.bind(this))},_renderPlaceholder:function(){this._renderPlaceholderMarkup(),this._attachPlaceholderEvents()},_renderPlaceholderMarkup:function(){this._$placeholder&&(this._$placeholder.remove(),this._$placeholder=null);var e=this._input(),n=this.option("placeholder"),t={id:n?"dx-".concat(new En):void 0,"data-dx_placeholder":n},i=this._$placeholder=x("<div>").attr(t);i.insertAfter(e),i.addClass(Gz)},_attachPlaceholderEvents:function(){var e=fe(Rt.up,this.NAME);R.on(this._$placeholder,e,()=>{R.trigger(this._input(),"focus")}),this._toggleEmptinessEventHandler()},_placeholder:function(){return this._$placeholder||x()},_clearValueHandler:function(e){var n=this._input();e.stopPropagation(),this._saveValueChangeEvent(e),this._clearValue(),!this._isFocused()&&R.trigger(n,"focus"),R.trigger(n,"input")},_clearValue:function(){this.reset()},_renderEvents:function(){var e=this._input();B(yw,(n,t)=>{if(this.hasActionSubscription("on"+t)){var i=this._createActionByOption("on"+t,{excludeValidators:["readOnly"]});R.on(e,fe(t.toLowerCase(),this.NAME),r=>{this._disposed||i({event:r})})}})},_refreshEvents:function(){var e=this._input();B(yw,(n,t)=>{R.off(e,fe(t.toLowerCase(),this.NAME))}),this._renderEvents()},_keyPressHandler:function(){this.option("text",this._input().val())},_keyDownHandler:function(e){var n=this._input(),t=e.ctrlKey&&"enter"===xn(e),i=n.val()!==this.option("value");t&&i&&R.trigger(n,"change")},_getValueChangeEventOptionName:function(){return"valueChangeEvent"},_renderValueChangeEvent:function(){var e=fe(this._renderValueEventName(),"".concat(this.NAME,"TextChange")),n=fe(this.option(this._getValueChangeEventOptionName()),"".concat(this.NAME,"ValueChange")),t=fe("keydown","".concat(this.NAME,"TextChange")),i=this._input();R.on(i,e,this._keyPressHandler.bind(this)),R.on(i,n,this._valueChangeEventHandler.bind(this)),R.on(i,t,this._keyDownHandler.bind(this))},_cleanValueChangeEvent:function(){var e=".".concat(this.NAME,"ValueChange"),n=".".concat(this.NAME,"TextChange");R.off(this._input(),e),R.off(this._input(),n)},_refreshValueChangeEvent:function(){this._cleanValueChangeEvent(),this._renderValueChangeEvent()},_renderValueEventName:function(){return"input change keypress"},_focusTarget:function(){return this._input()},_focusEventTarget:function(){return this.element()},_isInput:function(e){return e===this._input().get(0)},_preventNestedFocusEvent:function(e){if(e.isDefaultPrevented())return!0;var n=this._isNestedTarget(e.relatedTarget);return"focusin"===e.type?n=n&&this._isNestedTarget(e.target)&&!this._isInput(e.target):n||this._toggleFocusClass(!1,this.$element()),n&&e.preventDefault(),n},_isNestedTarget:function(e){return!!this.$element().find(e).length},_focusClassTarget:function(){return this.$element()},_focusInHandler:function(e){this._preventNestedFocusEvent(e),this.callBase.apply(this,arguments)},_focusOutHandler:function(e){this._preventNestedFocusEvent(e),this.callBase.apply(this,arguments)},_toggleFocusClass:function(e,n){this.callBase(e,this._focusClassTarget(n))},_hasFocusClass:function(e){return this.callBase(x(e||this.$element()))},_renderEmptinessEvent:function(){var e=this._input();R.on(e,"input blur",this._toggleEmptinessEventHandler.bind(this))},_toggleEmptinessEventHandler:function(){var e=this._input().val(),n=(""===e||null===e)&&this._isValueValid();this._toggleEmptiness(n)},_valueChangeEventHandler:function(e,n){this.option("readOnly")||(this._saveValueChangeEvent(e),this.option("value",arguments.length>1?n:this._input().val()),this._saveValueChangeEvent(void 0))},_renderEnterKeyAction:function(){this._enterKeyAction=this._createActionByOption("onEnterKey",{excludeValidators:["readOnly"]}),R.off(this._input(),"keyup.onEnterKey.dxTextEditor"),R.on(this._input(),"keyup.onEnterKey.dxTextEditor",this._enterKeyHandlerUp.bind(this))},_enterKeyHandlerUp:function(e){this._disposed||"enter"===xn(e)&&this._enterKeyAction({event:e})},_updateValue:function(){this._options.silent("text",null),this._renderValue()},_dispose:function(){this._enterKeyAction=void 0,this.callBase()},_getSubmitElement:function(){return this._input()},_hasActiveElement:function(){return this._input().is(se.getActiveElement(this._input()[0]))},_optionChanged:function(e){var{name:n,fullName:t,value:i}=e,r=n.replace("on","");if(yw.includes(r))this._refreshEvents();else switch(n){case"valueChangeEvent":this._refreshValueChangeEvent(),this._refreshFocusEvent(),this._refreshEvents();break;case"onValueChanged":this._createValueChangeAction();break;case"focusStateEnabled":this.callBase(e),this._toggleTabIndex();break;case"spellcheck":this._toggleSpellcheckState();break;case"mode":this._renderInputType();break;case"onEnterKey":this._renderEnterKeyAction();break;case"placeholder":this._renderPlaceholder(),this._setFieldAria();break;case"label":this._label.updateText(i),this._setFieldAria();break;case"labelMark":this._label.updateMark(i);break;case"labelMode":this._label.updateMode(i),this._setFieldAria();break;case"width":this.callBase(e),this._label.updateMaxWidth(this._getLabelContainerWidth());break;case"readOnly":case"disabled":this._updateButtons(),this.callBase(e);break;case"showClearButton":this._updateButtons(["clear"]);break;case"text":case"showValidationMark":break;case"value":this._updateValue(),this.callBase(e);break;case"inputAttr":this._applyInputAttributes(this._input(),this.option(n));break;case"stylingMode":this._renderStylingMode(),this._updateLabelWidth();break;case"buttons":t===n&&jz(i),this._cleanButtonContainers(),this._renderButtonContainers(),this._updateButtonsStyling(this.option("stylingMode")),this._updateLabelWidth(),this._label.updateContainsButtonsBefore(!!this._$beforeButtonsContainer);break;case"visible":this.callBase(e),i&&this.option("buttons")&&(this._cleanButtonContainers(),this._renderButtonContainers(),this._updateButtonsStyling(this.option("stylingMode")));break;case"displayValueFormatter":this._invalidate();break;default:this.callBase(e)}},_renderInputType:function(){this._setInputType(this.option("mode"))},_setInputType:function(e){var n=this._input();"search"===e&&(e="text");try{n.prop("type",e)}catch{n.prop("type","text")}},getButton(e){return this._buttonCollection.getButton(e)},focus:function(){R.trigger(this._input(),"focus")},reset:function(){this._showValidMark&&(this._showValidMark=!1,this._renderValidationState());var e=this._getDefaultOptions();this.option("value")===e.value?(this._options.silent("text",""),this._renderValue()):this.option("value",e.value)},on:function(e,n){var t=this.callBase(e,n),i=e.charAt(0).toUpperCase()+e.substr(1);return yw.indexOf(i)>=0&&this._refreshEvents(),t}});const $8=W8;var KF="dxMask",U8=["deleteContentBackward","deleteSoftLineBackward","deleteContent","deleteHardLineBackward"],j8=["historyUndo","historyRedo"],K8=["focusIn","focusOut","input","paste","cut","drop","beforeInput"];function Y8(e){return" ".repeat(e)}class q8{constructor(n){this.editor=n}_editorOption(){return this.editor.option(...arguments)}_editorInput(){return this.editor._input()}_editorCaret(n){if(!n)return this.editor._caret();this.editor._caret(n)}_attachChangeEventHandler(){if(this._editorOption("valueChangeEvent").split(" ").includes("change")){var n=this._editorInput(),t=fe("blur beforedeactivate",KF);R.on(n,t,i=>{this.editor._changeHandler(i)})}}_beforeInputHandler(){this._previousText=this._editorOption("text"),this._prevCaret=this._editorCaret()}_inputHandler(n){var{originalEvent:t}=n;if(t){var{inputType:i}=t;if(j8.includes(i))this._handleHistoryInputEvent();else if(U8.includes(i))this._handleBackwardDeleteInputEvent();else{var r=this._editorCaret();if(!r.end)return;this._clearSelectedText(),this._autoFillHandler(t),this._editorCaret(r),this._handleInsertTextInputEvent(t.data)}this._editorOption("text")===this._previousText&&n.stopImmediatePropagation()}}_handleHistoryInputEvent(){var n=this._editorCaret();this._updateEditorMask({start:n.start,length:n.end-n.start,text:""}),this._editorCaret(this._prevCaret)}_handleBackwardDeleteInputEvent(){this._clearSelectedText();var n=this._editorCaret();this.editor.setForwardDirection(),this.editor._adjustCaret(),this._editorCaret().start!==n.start&&(this.editor.setBackwardDirection(),this.editor._adjustCaret())}_clearSelectedText(){var n,t,i=(null===(n=this._prevCaret)||void 0===n?void 0:n.end)-(null===(t=this._prevCaret)||void 0===t?void 0:t.start)||1,r=this._editorCaret();this._isAutoFill()||(this.editor.setBackwardDirection(),this._updateEditorMask({start:r.start,length:i,text:Y8(i)}))}_handleInsertTextInputEvent(n){var t,i,r=n??"";this.editor.setForwardDirection(),this._updateEditorMask({start:null!==(t=null===(i=this._prevCaret)||void 0===i?void 0:i.start)&&void 0!==t?t:0,length:r.length||1,text:r})||this._editorCaret(this._prevCaret)}_updateEditorMask(n){var t=n.text.length,i=this.editor._handleChain(n);if(this.editor._displayMask(),this.editor.isForwardDirection()){var{start:r,end:o}=this._editorCaret(),s=i-t;i>1&&1===t&&this._editorCaret({start:r+s,end:o+s}),this.editor._adjustCaret()}return!!i}_focusInHandler(){if(this.editor._showMaskPlaceholder(),this.editor.setForwardDirection(),!this.editor._isValueEmpty()&&this._editorOption("isValid"))this.editor._adjustCaret();else{var n=this.editor._maskRulesChain.first();this._caretTimeout=setTimeout(()=>{this._editorCaret({start:n,end:n})},0)}}_focusOutHandler(n){this.editor._changeHandler(n),"onFocus"===this._editorOption("showMaskMode")&&this.editor._isValueEmpty()&&(this._editorOption("text",""),this.editor._renderDisplayText(""))}_delHandler(n){var{editor:t}=this;t._maskKeyHandler(n,()=>{t._hasSelection()||t._handleKey(" ")})}_cutHandler(n){var t=this._editorCaret(),i=this._editorInput().val().substring(t.start,t.end);this.editor._maskKeyHandler(n,()=>yy(n,i))}_dropHandler(){this._clearDragTimer(),this._dragTimer=setTimeout(()=>{var n=this.editor._convertToValue(this._editorInput().val());this._editorOption("value",n)})}_pasteHandler(n){var{editor:t}=this;if(!this._editorOption("disabled")){var i=this._editorCaret();t._maskKeyHandler(n,()=>{var r=yy(n),o=t._maskRulesChain.text().substring(i.end),s=t._handleChain({text:r,start:i.start,length:r.length}),l=i.start+s;t._handleChain({text:o,start:l,length:o.length}),t._caret({start:l,end:l})})}}_autoFillHandler(n){var{editor:t}=this,i=this._editorInput().val();this._inputHandlerTimer=setTimeout(()=>{this._isAutoFill()&&(t._maskKeyHandler(n,()=>{t._handleChain({text:i,start:0,length:i.length})}),t._validateMask())})}_isAutoFill(){var n=this._editorInput();if(Gt.webkit){var t,i=n.get(0);return null!==(t=i?.matches(":-webkit-autofill"))&&void 0!==t&&t}return!1}_clearDragTimer(){clearTimeout(this._dragTimer)}getHandler(n){return t=>{var i;null===(i=this["_".concat(n,"Handler")])||void 0===i||i.call(this,t)}}attachEvents(){var n=this._editorInput();K8.forEach(t=>{var i=fe(t.toLowerCase(),KF);R.on(n,i,this.getHandler(t))}),this._attachChangeEventHandler()}detachEvents(){R.off(this._editorInput(),".".concat(KF))}clean(){this._clearDragTimer(),clearTimeout(this._caretTimeout),clearTimeout(this._inputHandlerTimer)}}var J8=function(){return{}},xw=YH,qz="dx-texteditor-masked",YF="forward",Q8={0:/[0-9]/,9:/[0-9\s]/,"#":/[-+0-9\s]/,L:function(e){return bw(e)},l:function(e){return bw(e)||Xz(e)},C:/\S/,c:/./,A:function(e){return bw(e)||Jz(e)},a:function(e){return bw(e)||Jz(e)||Xz(e)}};function Jz(e){return/[0-9]/.test(e)}function bw(e){var n=e.charCodeAt();return 64<n&&n<91||96<n&&n<123||n>127}function Xz(e){return" "===e}var e9=$8.inherit({_getDefaultOptions:function(){return A(this.callBase(),{mask:"",maskChar:"_",maskRules:{},maskInvalidMessage:J.format("validation-mask"),useMaskedValue:!1,showMaskMode:"always"})},_supportedKeys:function(){var e=this,n={del:e._maskStrategy.getHandler("del"),enter:e._changeHandler},t=e.callBase();return B(n,function(i,r){var o=t[i];t[i]=function(s){e.option("mask")&&r.call(e,s),o&&o(s)}}),t},_getSubmitElement:function(){return this.option("mask")?this._$hiddenElement:this.callBase()},_init:function(){this.callBase(),this._initMaskStrategy()},_initMaskStrategy:function(){this._maskStrategy=new q8(this)},_initMarkup:function(){this._renderHiddenElement(),this.callBase()},_attachMouseWheelEventHandlers:function(){if(this._onMouseWheel!==U){var n=this._input(),t=fe(My,this.NAME),i=this._createAction(function(r){var{event:o}=r;xa(n)&&!Un(o)&&(this._onMouseWheel(o),o.preventDefault(),o.stopPropagation())}.bind(this));R.off(n,t),R.on(n,t,function(r){i({event:r})})}},_onMouseWheel:U,_render:function(){this._renderMask(),this.callBase(),this._attachMouseWheelEventHandlers()},_renderHiddenElement:function(){this.option("mask")&&(this._$hiddenElement=x("<input>").attr("type","hidden").appendTo(this._inputWrapper()))},_removeHiddenElement:function(){this._$hiddenElement&&this._$hiddenElement.remove()},_renderMask:function(){this.$element().removeClass(qz),this._maskRulesChain=null,this._maskStrategy.detachEvents(),this.option("mask")&&(this.$element().addClass(qz),this._maskStrategy.attachEvents(),this._parseMask(),this._renderMaskedValue())},_suppressCaretChanging:function(e,n){xw=J8;try{e.apply(this,n)}finally{xw=YH}},_changeHandler:function(e){var n=this._input(),t=n.val();if(t!==this._changedValue){this._changedValue=t;var i=Ml(e,{type:"change"});R.trigger(n,i)}},_parseMask:function(){this._maskRules=A({},Q8,this.option("maskRules")),this._maskRulesChain=this._parseMaskRule(0)},_parseMaskRule:function(e){var n=this.option("mask");if(e>=n.length)return new J5;var t=n[e],i="\\"===t,r=i?new XH({maskChar:n[e+1]}):this._getMaskRule(t);return r.next(this._parseMaskRule(e+1+i)),r},_getMaskRule:function(e){var n;return B(this._maskRules,function(t,i){if(t===e)return n={pattern:t,allowedChars:i},!1}),T(n)?new JH(A({maskChar:this.option("maskChar")},n)):new XH({maskChar:e})},_renderMaskedValue:function(){if(this._maskRulesChain){var e=this.option("value")||"";this._maskRulesChain.clear(this._normalizeChainArguments());var n={length:e.length};n[this._isMaskedValueMode()?"text":"value"]=e,this._handleChain(n),this._displayMask()}},_replaceSelectedText:function(e,n,t){return void 0===t?e:e.slice(0,n.start)+t+e.slice(n.end)},_isMaskedValueMode:function(){return this.option("useMaskedValue")},_displayMask:function(e){e=e||this._caret(),this._renderValue(),this._caret(e)},_isValueEmpty:function(){return af(this._value)},_shouldShowMask:function(){return"onFocus"!==this.option("showMaskMode")||xa(this._input())||!this._isValueEmpty()},_showMaskPlaceholder:function(){if(this._shouldShowMask()){var e=this._maskRulesChain.text();this.option("text",e),"onFocus"===this.option("showMaskMode")&&this._renderDisplayText(e)}},_renderValue:function(){if(this._maskRulesChain&&(this._showMaskPlaceholder(),this._$hiddenElement)){var e=this._maskRulesChain.value(),n=af(e)?"":this._getPreparedValue();this._$hiddenElement.val(n)}return this.callBase()},_getPreparedValue:function(){return this._convertToValue().replace(/\s+$/,"")},_valueChangeEventHandler:function(e){this._maskRulesChain?(this._saveValueChangeEvent(e),this.option("value",this._getPreparedValue())):this.callBase.apply(this,arguments)},_isControlKeyFired:function(e){return this._isControlKey(xn(e))||Un(e)},_handleChain:function(e){var n=this._maskRulesChain.handle(this._normalizeChainArguments(e));return this._value=this._maskRulesChain.value(),this._textValue=this._maskRulesChain.text(),n},_normalizeChainArguments:function(e){return(e=e||{}).index=0,e.fullText=this._maskRulesChain.text(),e},_convertToValue:function(e){return this._isMaskedValueMode()?this._replaceMaskCharWithEmpty(e||this._textValue||""):e||this._value||""},_replaceMaskCharWithEmpty:function(e){return e.replace(new RegExp(this.option("maskChar"),"g")," ")},_maskKeyHandler:function(e,n){if(!this.option("readOnly")){this.setForwardDirection(),e.preventDefault(),this._handleSelection();var t=this._input().val(),i=()=>{t!==this._input().val()&&R.trigger(this._input(),"input")},r=n();r?r.then(i):(this.setForwardDirection(),this._adjustCaret(),this._displayMask(),this._maskRulesChain.reset(),i())}},_handleKey:function(e,n){this._direction(n||YF),this._adjustCaret(e),this._handleKeyChain(e),this._moveCaret()},_handleSelection:function(){if(this._hasSelection()){var e=this._caret(),n=new Array(e.end-e.start+1).join(" ");this._handleKeyChain(n)}},_handleKeyChain:function(e){var n=this._caret(),t=this.isForwardDirection()?n.start:n.start-1,i=this.isForwardDirection()?n.end:n.end-1;this._handleChain({text:e,start:t,length:t===i?1:i-t})},_tryMoveCaretBackward:function(){this.setBackwardDirection();var e=this._caret().start;return this._adjustCaret(),!e||e!==this._caret().start},_adjustCaret:function(e){var n=this._caret().start,t=this.isForwardDirection(),i=this._maskRulesChain.adjustedCaret(n,t,e);this._caret({start:i,end:i})},_moveCaret:function(){var e=this._caret().start,n=e+(this.isForwardDirection()?0:-1),t=this._maskRulesChain.isAccepted(n)?e+(this.isForwardDirection()?1:-1):e;this._caret({start:t,end:t})},_caret:function(e,n){var t=this._input();if(t.length){if(!arguments.length)return xw(t);xw(t,e,n)}},_hasSelection:function(){var e=this._caret();return e.start!==e.end},_direction:function(e){if(!arguments.length)return this._typingDirection;this._typingDirection=e},setForwardDirection:function(){this._direction(YF)},setBackwardDirection:function(){this._direction("backward")},isForwardDirection:function(){return this._direction()===YF},_clean:function(){this._maskStrategy&&this._maskStrategy.clean(),this.callBase()},_validateMask:function(){if(this._maskRulesChain){var e=af(this.option("value"))||this._maskRulesChain.isValid(this._normalizeChainArguments());this.option({isValid:e,validationError:e?null:{editorSpecific:!0,message:this.option("maskInvalidMessage")}})}},_updateHiddenElement:function(){this._removeHiddenElement(),this.option("mask")&&(this._input().removeAttr("name"),this._renderHiddenElement()),this._setSubmitElementName(this.option("name"))},_updateMaskOption:function(){this._updateHiddenElement(),this._renderMask(),this._validateMask()},_processEmptyMask:function(e){if(!e){var n=this.option("value");this.option({text:n,isValid:!0}),this.validationRequest.fire({value:n,editor:this}),this._renderValue()}},_optionChanged:function(e){switch(e.name){case"mask":this._updateMaskOption(),this._processEmptyMask(e.value);break;case"maskChar":case"maskRules":case"useMaskedValue":this._updateMaskOption();break;case"value":this._renderMaskedValue(),this._validateMask(),this.callBase(e),this._changedValue=this._input().val();break;case"maskInvalidMessage":break;case"showMaskMode":this.option("text",""),this._renderValue();break;default:this.callBase(e)}}});const Zz=e9;Dt("dxTextEditor",Zz);const Qz=Zz;var t9=ut(),n9=["backspace","tab","enter","pageUp","pageDown","end","home","leftArrow","rightArrow","downArrow","upArrow","del"],eW="dx-searchbox",tW=Qz.inherit({ctor:function(e,n){n&&(this._showClearButton=n.showClearButton),this.callBase.apply(this,arguments)},_getDefaultOptions:function(){return A(this.callBase(),{value:"",mode:"text",maxLength:null})},_initMarkup:function(){this.$element().addClass("dx-textbox"),this.callBase(),this.setAria("role","textbox")},_renderInputType:function(){this.callBase(),this._renderSearchMode()},_useTemplates:function(){return!1},_renderProps:function(){this.callBase(),this._toggleMaxLengthProp()},_toggleMaxLengthProp:function(){var e=this._getMaxLength();e&&e>0?this._input().attr("maxLength",e):this._input().removeAttr("maxLength")},_renderSearchMode:function(){var e=this._$element;"search"===this.option("mode")?(e.addClass(eW),this._renderSearchIcon(),void 0===this._showClearButton&&(this._showClearButton=this.option("showClearButton"),this.option("showClearButton",!0))):(e.removeClass(eW),this._$searchIcon&&this._$searchIcon.remove(),this.option("showClearButton",void 0===this._showClearButton?this.option("showClearButton"):this._showClearButton),delete this._showClearButton)},_renderSearchIcon:function(){var e=x("<div>").addClass("dx-icon").addClass("dx-icon-search");e.prependTo(this._input().parent()),this._$searchIcon=e},_getLabelContainerWidth:function(){if(this._$searchIcon){var e=this._input().parent();return Ze(e)-this._getLabelBeforeWidth()}return this.callBase()},_getLabelBeforeWidth:function(){var e=this.callBase();return this._$searchIcon&&(e+=wt(this._$searchIcon)),e},_optionChanged:function(e){switch(e.name){case"maxLength":this._toggleMaxLengthProp();break;case"mode":this.callBase(e),this._updateLabelWidth();break;case"mask":this.callBase(e),this._toggleMaxLengthProp();break;default:this.callBase(e)}},_onKeyDownCutOffHandler:function(e){var n=this._getMaxLength();if(!n||e.ctrlKey||this._hasSelection())return!0;var t=x(e.target),i=xn(e);return this._cutOffExtraChar(t),t.val().length<n||n9.includes(i)||""!==t9.getSelection().toString()},_onChangeCutOffHandler:function(e){var n=x(e.target);this.option("maxLength")&&this._cutOffExtraChar(n)},_cutOffExtraChar:function(e){var n=this._getMaxLength(),t=e.val();n&&t.length>n&&e.val(t.substr(0,n))},_getMaxLength:function(){return this.option("mask")?null:this.option("maxLength")}});Dt("dxTextBox",tW);const jy=tW;let Hu=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=u.oAB({type:e}),e.\u0275inj=u.cJS({}),e})(),zu=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=u.oAB({type:e}),e.\u0275inj=u.cJS({}),e})(),Wu=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=u.oAB({type:e}),e.\u0275inj=u.cJS({}),e})(),d9=(()=>{class e extends qt{get disabled(){return this._getOption("disabled")}set disabled(t){this._setOption("disabled",t)}get html(){return this._getOption("html")}set html(t){this._setOption("html",t)}get icon(){return this._getOption("icon")}set icon(t){this._setOption("icon",t)}get template(){return this._getOption("template")}set template(t){this._setOption("template",t)}get text(){return this._getOption("text")}set text(t){this._setOption("text",t)}get title(){return this._getOption("title")}set title(t){this._setOption("title",t)}get titleTemplate(){return this._getOption("titleTemplate")}set titleTemplate(t){this._setOption("titleTemplate",t)}get visible(){return this._getOption("visible")}set visible(t){this._setOption("visible",t)}get onClick(){return this._getOption("onClick")}set onClick(t){this._setOption("onClick",t)}get stylingMode(){return this._getOption("stylingMode")}set stylingMode(t){this._setOption("stylingMode",t)}get type(){return this._getOption("type")}set type(t){this._setOption("type",t)}get baseSize(){return this._getOption("baseSize")}set baseSize(t){this._setOption("baseSize",t)}get box(){return this._getOption("box")}set box(t){this._setOption("box",t)}get ratio(){return this._getOption("ratio")}set ratio(t){this._setOption("ratio",t)}get shrink(){return this._getOption("shrink")}set shrink(t){this._setOption("shrink",t)}get elementAttr(){return this._getOption("elementAttr")}set elementAttr(t){this._setOption("elementAttr",t)}get hint(){return this._getOption("hint")}set hint(t){this._setOption("hint",t)}get beginGroup(){return this._getOption("beginGroup")}set beginGroup(t){this._setOption("beginGroup",t)}get closeMenuOnClick(){return this._getOption("closeMenuOnClick")}set closeMenuOnClick(t){this._setOption("closeMenuOnClick",t)}get items(){return this._getOption("items")}set items(t){this._setOption("items",t)}get selectable(){return this._getOption("selectable")}set selectable(t){this._setOption("selectable",t)}get selected(){return this._getOption("selected")}set selected(t){this._setOption("selected",t)}get colSpan(){return this._getOption("colSpan")}set colSpan(t){this._setOption("colSpan",t)}get cssClass(){return this._getOption("cssClass")}set cssClass(t){this._setOption("cssClass",t)}get dataField(){return this._getOption("dataField")}set dataField(t){this._setOption("dataField",t)}get editorOptions(){return this._getOption("editorOptions")}set editorOptions(t){this._setOption("editorOptions",t)}get editorType(){return this._getOption("editorType")}set editorType(t){this._setOption("editorType",t)}get helpText(){return this._getOption("helpText")}set helpText(t){this._setOption("helpText",t)}get isRequired(){return this._getOption("isRequired")}set isRequired(t){this._setOption("isRequired",t)}get itemType(){return this._getOption("itemType")}set itemType(t){this._setOption("itemType",t)}get label(){return this._getOption("label")}set label(t){this._setOption("label",t)}get name(){return this._getOption("name")}set name(t){this._setOption("name",t)}get validationRules(){return this._getOption("validationRules")}set validationRules(t){this._setOption("validationRules",t)}get visibleIndex(){return this._getOption("visibleIndex")}set visibleIndex(t){this._setOption("visibleIndex",t)}get alignItemLabels(){return this._getOption("alignItemLabels")}set alignItemLabels(t){this._setOption("alignItemLabels",t)}get caption(){return this._getOption("caption")}set caption(t){this._setOption("caption",t)}get colCount(){return this._getOption("colCount")}set colCount(t){this._setOption("colCount",t)}get colCountByScreen(){return this._getOption("colCountByScreen")}set colCountByScreen(t){this._setOption("colCountByScreen",t)}get tabPanelOptions(){return this._getOption("tabPanelOptions")}set tabPanelOptions(t){this._setOption("tabPanelOptions",t)}get tabs(){return this._getOption("tabs")}set tabs(t){this._setOption("tabs",t)}get badge(){return this._getOption("badge")}set badge(t){this._setOption("badge",t)}get tabTemplate(){return this._getOption("tabTemplate")}set tabTemplate(t){this._setOption("tabTemplate",t)}get buttonOptions(){return this._getOption("buttonOptions")}set buttonOptions(t){this._setOption("buttonOptions",t)}get horizontalAlignment(){return this._getOption("horizontalAlignment")}set horizontalAlignment(t){this._setOption("horizontalAlignment",t)}get verticalAlignment(){return this._getOption("verticalAlignment")}set verticalAlignment(t){this._setOption("verticalAlignment",t)}get locateInMenu(){return this._getOption("locateInMenu")}set locateInMenu(t){this._setOption("locateInMenu",t)}get location(){return this._getOption("location")}set location(t){this._setOption("location",t)}get menuItemTemplate(){return this._getOption("menuItemTemplate")}set menuItemTemplate(t){this._setOption("menuItemTemplate",t)}get options(){return this._getOption("options")}set options(t){this._setOption("options",t)}get showText(){return this._getOption("showText")}set showText(t){this._setOption("showText",t)}get widget(){return this._getOption("widget")}set widget(t){this._setOption("widget",t)}get height(){return this._getOption("height")}set height(t){this._setOption("height",t)}get width(){return this._getOption("width")}set width(t){this._setOption("width",t)}get imageAlt(){return this._getOption("imageAlt")}set imageAlt(t){this._setOption("imageAlt",t)}get imageSrc(){return this._getOption("imageSrc")}set imageSrc(t){this._setOption("imageSrc",t)}get acceptedValues(){return this._getOption("acceptedValues")}set acceptedValues(t){this._setOption("acceptedValues",t)}get formatName(){return this._getOption("formatName")}set formatName(t){this._setOption("formatName",t)}get formatValues(){return this._getOption("formatValues")}set formatValues(t){this._setOption("formatValues",t)}get key(){return this._getOption("key")}set key(t){this._setOption("key",t)}get showChevron(){return this._getOption("showChevron")}set showChevron(t){this._setOption("showChevron",t)}get linkAttr(){return this._getOption("linkAttr")}set linkAttr(t){this._setOption("linkAttr",t)}get url(){return this._getOption("url")}set url(t){this._setOption("url",t)}get heightRatio(){return this._getOption("heightRatio")}set heightRatio(t){this._setOption("heightRatio",t)}get widthRatio(){return this._getOption("widthRatio")}set widthRatio(t){this._setOption("widthRatio",t)}get expanded(){return this._getOption("expanded")}set expanded(t){this._setOption("expanded",t)}get hasItems(){return this._getOption("hasItems")}set hasItems(t){this._setOption("hasItems",t)}get id(){return this._getOption("id")}set id(t){this._setOption("id",t)}get parentId(){return this._getOption("parentId")}set parentId(t){this._setOption("parentId",t)}}return e.\u0275fac=function(){let n;return function(i){return(n||(n=u.n5z(e)))(i||e)}}(),e.\u0275cmp=u.Xpm({type:e,selectors:[["ng-component"]],features:[u.qOj],decls:0,vars:0,template:function(t,i){},encapsulation:2}),e})(),QF=(()=>{class e extends qt{constructor(t,i){super(),t.setNestedOption(this),i.setHost(this,this._fullOptionPath.bind(this))}get message(){return this._getOption("message")}set message(t){this._setOption("message",t)}get trim(){return this._getOption("trim")}set trim(t){this._setOption("trim",t)}get type(){return this._getOption("type")}set type(t){this._setOption("type",t)}get ignoreEmptyValue(){return this._getOption("ignoreEmptyValue")}set ignoreEmptyValue(t){this._setOption("ignoreEmptyValue",t)}get max(){return this._getOption("max")}set max(t){this._setOption("max",t)}get min(){return this._getOption("min")}set min(t){this._setOption("min",t)}get reevaluate(){return this._getOption("reevaluate")}set reevaluate(t){this._setOption("reevaluate",t)}get validationCallback(){return this._getOption("validationCallback")}set validationCallback(t){this._setOption("validationCallback",t)}get comparisonTarget(){return this._getOption("comparisonTarget")}set comparisonTarget(t){this._setOption("comparisonTarget",t)}get comparisonType(){return this._getOption("comparisonType")}set comparisonType(t){this._setOption("comparisonType",t)}get pattern(){return this._getOption("pattern")}set pattern(t){this._setOption("pattern",t)}get _optionPath(){return"validationRules"}ngOnDestroy(){this._deleteRemovedOptions(this._fullOptionPath())}}return e.\u0275fac=function(t){return new(t||e)(u.Y36(D,5),u.Y36(D,1))},e.\u0275cmp=u.Xpm({type:e,selectors:[["dxi-validation-rule"]],inputs:{message:"message",trim:"trim",type:"type",ignoreEmptyValue:"ignoreEmptyValue",max:"max",min:"min",reevaluate:"reevaluate",validationCallback:"validationCallback",comparisonTarget:"comparisonTarget",comparisonType:"comparisonType",pattern:"pattern"},features:[u._Bn([D]),u.qOj],decls:0,vars:0,template:function(t,i){},styles:[""]}),e})(),iW=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=u.oAB({type:e}),e.\u0275inj=u.cJS({}),e})(),u9=(()=>{class e extends qt{get alignItemLabels(){return this._getOption("alignItemLabels")}set alignItemLabels(t){this._setOption("alignItemLabels",t)}get badge(){return this._getOption("badge")}set badge(t){this._setOption("badge",t)}get colCount(){return this._getOption("colCount")}set colCount(t){this._setOption("colCount",t)}get colCountByScreen(){return this._getOption("colCountByScreen")}set colCountByScreen(t){this._setOption("colCountByScreen",t)}get disabled(){return this._getOption("disabled")}set disabled(t){this._setOption("disabled",t)}get icon(){return this._getOption("icon")}set icon(t){this._setOption("icon",t)}get items(){return this._getOption("items")}set items(t){this._setOption("items",t)}get tabTemplate(){return this._getOption("tabTemplate")}set tabTemplate(t){this._setOption("tabTemplate",t)}get template(){return this._getOption("template")}set template(t){this._setOption("template",t)}get title(){return this._getOption("title")}set title(t){this._setOption("title",t)}get commands(){return this._getOption("commands")}set commands(t){this._setOption("commands",t)}get groups(){return this._getOption("groups")}set groups(t){this._setOption("groups",t)}get name(){return this._getOption("name")}set name(t){this._setOption("name",t)}}return e.\u0275fac=function(){let n;return function(i){return(n||(n=u.n5z(e)))(i||e)}}(),e.\u0275cmp=u.Xpm({type:e,selectors:[["ng-component"]],features:[u.qOj],decls:0,vars:0,template:function(t,i){},encapsulation:2}),e})(),c9=(()=>{class e extends qt{get icon(){return this._getOption("icon")}set icon(t){this._setOption("icon",t)}get items(){return this._getOption("items")}set items(t){this._setOption("items",t)}get location(){return this._getOption("location")}set location(t){this._setOption("location",t)}get name(){return this._getOption("name")}set name(t){this._setOption("name",t)}get text(){return this._getOption("text")}set text(t){this._setOption("text",t)}}return e.\u0275fac=function(){let n;return function(i){return(n||(n=u.n5z(e)))(i||e)}}(),e.\u0275cmp=u.Xpm({type:e,selectors:[["ng-component"]],features:[u.qOj],decls:0,vars:0,template:function(t,i){},encapsulation:2}),e})(),x_=(()=>{class e extends c9{constructor(t,i){super(),t.setNestedOption(this),i.setHost(this,this._fullOptionPath.bind(this))}get _optionPath(){return"commands"}get itemsChildren(){return this._getOption("items")}set itemsChildren(t){this.setChildren("items",t)}ngOnDestroy(){this._deleteRemovedOptions(this._fullOptionPath())}}return e.\u0275fac=function(t){return new(t||e)(u.Y36(D,5),u.Y36(D,1))},e.\u0275cmp=u.Xpm({type:e,selectors:[["dxi-command"]],contentQueries:function(t,i,r){if(1&t&&u.Suo(r,So,4),2&t){let o;u.iGM(o=u.CRH())&&(i.itemsChildren=o)}},inputs:{icon:"icon",items:"items",location:"location",name:"name",text:"text"},features:[u._Bn([D]),u.qOj],decls:0,vars:0,template:function(t,i){},styles:[""]}),e})(),rW=(()=>{class e extends qt{constructor(t,i){super(),t.setNestedOption(this),i.setHost(this,this._fullOptionPath.bind(this))}get commands(){return this._getOption("commands")}set commands(t){this._setOption("commands",t)}get title(){return this._getOption("title")}set title(t){this._setOption("title",t)}get category(){return this._getOption("category")}set category(t){this._setOption("category",t)}get displayMode(){return this._getOption("displayMode")}set displayMode(t){this._setOption("displayMode",t)}get expanded(){return this._getOption("expanded")}set expanded(t){this._setOption("expanded",t)}get shapes(){return this._getOption("shapes")}set shapes(t){this._setOption("shapes",t)}get _optionPath(){return"groups"}get commandsChildren(){return this._getOption("commands")}set commandsChildren(t){this.setChildren("commands",t)}ngOnDestroy(){this._deleteRemovedOptions(this._fullOptionPath())}}return e.\u0275fac=function(t){return new(t||e)(u.Y36(D,5),u.Y36(D,1))},e.\u0275cmp=u.Xpm({type:e,selectors:[["dxi-group"]],contentQueries:function(t,i,r){if(1&t&&u.Suo(r,x_,4),2&t){let o;u.iGM(o=u.CRH())&&(i.commandsChildren=o)}},inputs:{commands:"commands",title:"title",category:"category",displayMode:"displayMode",expanded:"expanded",shapes:"shapes"},features:[u._Bn([D]),u.qOj],decls:0,vars:0,template:function(t,i){},styles:[""]}),e})();const h9=["*"];let ek=(()=>{class e extends u9{constructor(t,i,r,o,s,l){super(),this.renderer=r,this.document=o,this.element=l,t.setNestedOption(this),i.setHost(this,this._fullOptionPath.bind(this)),s.setHost(this)}get _optionPath(){return"tabs"}get itemsChildren(){return this._getOption("items")}set itemsChildren(t){this.setChildren("items",t)}get commandsChildren(){return this._getOption("commands")}set commandsChildren(t){this.setChildren("commands",t)}get groupsChildren(){return this._getOption("groups")}set groupsChildren(t){this.setChildren("groups",t)}setTemplate(t){this.template=t}ngAfterViewInit(){Ny(this,this.element,this.renderer,this.document)}ngOnDestroy(){this._deleteRemovedOptions(this._fullOptionPath())}}return e.\u0275fac=function(t){return new(t||e)(u.Y36(D,5),u.Y36(D,1),u.Y36(u.Qsj),u.Y36(Z),u.Y36(vn,1),u.Y36(u.SBq))},e.\u0275cmp=u.Xpm({type:e,selectors:[["dxi-tab"]],contentQueries:function(t,i,r){if(1&t&&(u.Suo(r,So,4),u.Suo(r,x_,4),u.Suo(r,rW,4)),2&t){let o;u.iGM(o=u.CRH())&&(i.itemsChildren=o),u.iGM(o=u.CRH())&&(i.commandsChildren=o),u.iGM(o=u.CRH())&&(i.groupsChildren=o)}},inputs:{alignItemLabels:"alignItemLabels",badge:"badge",colCount:"colCount",colCountByScreen:"colCountByScreen",disabled:"disabled",icon:"icon",items:"items",tabTemplate:"tabTemplate",template:"template",title:"title",commands:"commands",groups:"groups",name:"name"},features:[u._Bn([D,vn]),u.qOj],ngContentSelectors:h9,decls:1,vars:0,template:function(t,i){1&t&&(u.F$t(),u.Hsn(0))},styles:["[_nghost-%COMP%] { display: block; }"]}),e})(),oW=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=u.oAB({type:e}),e.\u0275inj=u.cJS({}),e})(),tk=(()=>{class e extends qt{constructor(t,i){super(),t.setNestedOption(this),i.setHost(this,this._fullOptionPath.bind(this))}get lat(){return this._getOption("lat")}set lat(t){this._setOption("lat",t)}get lng(){return this._getOption("lng")}set lng(t){this._setOption("lng",t)}get col(){return this._getOption("col")}set col(t){this._setOption("col",t)}get colspan(){return this._getOption("colspan")}set colspan(t){this._setOption("colspan",t)}get row(){return this._getOption("row")}set row(t){this._setOption("row",t)}get rowspan(){return this._getOption("rowspan")}set rowspan(t){this._setOption("rowspan",t)}get screen(){return this._getOption("screen")}set screen(t){this._setOption("screen",t)}get _optionPath(){return"location"}ngOnDestroy(){this._deleteRemovedOptions(this._fullOptionPath())}}return e.\u0275fac=function(t){return new(t||e)(u.Y36(D,5),u.Y36(D,1))},e.\u0275cmp=u.Xpm({type:e,selectors:[["dxi-location"]],inputs:{lat:"lat",lng:"lng",col:"col",colspan:"colspan",row:"row",rowspan:"rowspan",screen:"screen"},features:[u._Bn([D]),u.qOj],decls:0,vars:0,template:function(t,i){},styles:[""]}),e})();const p9=["*"];let So=(()=>{class e extends d9{constructor(t,i,r,o,s,l){super(),this.renderer=r,this.document=o,this.element=l,t.setNestedOption(this),i.setHost(this,this._fullOptionPath.bind(this)),s.setHost(this)}get _optionPath(){return"items"}get itemsChildren(){return this._getOption("items")}set itemsChildren(t){this.setChildren("items",t)}get validationRulesChildren(){return this._getOption("validationRules")}set validationRulesChildren(t){this.setChildren("validationRules",t)}get tabsChildren(){return this._getOption("tabs")}set tabsChildren(t){this.setChildren("tabs",t)}get locationChildren(){return this._getOption("location")}set locationChildren(t){this.setChildren("location",t)}setTemplate(t){this.template=t}ngAfterViewInit(){Ny(this,this.element,this.renderer,this.document)}ngOnDestroy(){this._deleteRemovedOptions(this._fullOptionPath())}}return e.\u0275fac=function(t){return new(t||e)(u.Y36(D,5),u.Y36(D,1),u.Y36(u.Qsj),u.Y36(Z),u.Y36(vn,1),u.Y36(u.SBq))},e.\u0275cmp=u.Xpm({type:e,selectors:[["dxi-item"]],contentQueries:function(t,i,r){if(1&t&&(u.Suo(r,e,4),u.Suo(r,QF,4),u.Suo(r,ek,4),u.Suo(r,tk,4)),2&t){let o;u.iGM(o=u.CRH())&&(i.itemsChildren=o),u.iGM(o=u.CRH())&&(i.validationRulesChildren=o),u.iGM(o=u.CRH())&&(i.tabsChildren=o),u.iGM(o=u.CRH())&&(i.locationChildren=o)}},inputs:{disabled:"disabled",html:"html",icon:"icon",template:"template",text:"text",title:"title",titleTemplate:"titleTemplate",visible:"visible",onClick:"onClick",stylingMode:"stylingMode",type:"type",baseSize:"baseSize",box:"box",ratio:"ratio",shrink:"shrink",elementAttr:"elementAttr",hint:"hint",beginGroup:"beginGroup",closeMenuOnClick:"closeMenuOnClick",items:"items",selectable:"selectable",selected:"selected",colSpan:"colSpan",cssClass:"cssClass",dataField:"dataField",editorOptions:"editorOptions",editorType:"editorType",helpText:"helpText",isRequired:"isRequired",itemType:"itemType",label:"label",name:"name",validationRules:"validationRules",visibleIndex:"visibleIndex",alignItemLabels:"alignItemLabels",caption:"caption",colCount:"colCount",colCountByScreen:"colCountByScreen",tabPanelOptions:"tabPanelOptions",tabs:"tabs",badge:"badge",tabTemplate:"tabTemplate",buttonOptions:"buttonOptions",horizontalAlignment:"horizontalAlignment",verticalAlignment:"verticalAlignment",locateInMenu:"locateInMenu",location:"location",menuItemTemplate:"menuItemTemplate",options:"options",showText:"showText",widget:"widget",height:"height",width:"width",imageAlt:"imageAlt",imageSrc:"imageSrc",acceptedValues:"acceptedValues",formatName:"formatName",formatValues:"formatValues",key:"key",showChevron:"showChevron",linkAttr:"linkAttr",url:"url",heightRatio:"heightRatio",widthRatio:"widthRatio",expanded:"expanded",hasItems:"hasItems",id:"id",parentId:"parentId"},features:[u._Bn([D,vn]),u.qOj],ngContentSelectors:p9,decls:1,vars:0,template:function(t,i){1&t&&(u.F$t(),u.Hsn(0))},styles:["[_nghost-%COMP%] { display: block; }"]}),e})(),up=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=u.oAB({type:e}),e.\u0275inj=u.cJS({}),e})(),sW=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=u.oAB({type:e}),e.\u0275inj=u.cJS({}),e})(),g9=(()=>{class e extends qt{get location(){return this._getOption("location")}set location(t){this._setOption("location",t)}get name(){return this._getOption("name")}set name(t){this._setOption("name",t)}get options(){return this._getOption("options")}set options(t){this._setOption("options",t)}get cssClass(){return this._getOption("cssClass")}set cssClass(t){this._setOption("cssClass",t)}get disabled(){return this._getOption("disabled")}set disabled(t){this._setOption("disabled",t)}get hint(){return this._getOption("hint")}set hint(t){this._setOption("hint",t)}get icon(){return this._getOption("icon")}set icon(t){this._setOption("icon",t)}get onClick(){return this._getOption("onClick")}set onClick(t){this._setOption("onClick",t)}get template(){return this._getOption("template")}set template(t){this._setOption("template",t)}get text(){return this._getOption("text")}set text(t){this._setOption("text",t)}get visible(){return this._getOption("visible")}set visible(t){this._setOption("visible",t)}}return e.\u0275fac=function(){let n;return function(i){return(n||(n=u.n5z(e)))(i||e)}}(),e.\u0275cmp=u.Xpm({type:e,selectors:[["ng-component"]],features:[u.qOj],decls:0,vars:0,template:function(t,i){},encapsulation:2}),e})(),Yy=(()=>{class e extends g9{constructor(t,i){super(),t.setNestedOption(this),i.setHost(this,this._fullOptionPath.bind(this))}get _optionPath(){return"buttons"}ngOnDestroy(){this._deleteRemovedOptions(this._fullOptionPath())}}return e.\u0275fac=function(t){return new(t||e)(u.Y36(D,5),u.Y36(D,1))},e.\u0275cmp=u.Xpm({type:e,selectors:[["dxi-button"]],inputs:{location:"location",name:"name",options:"options",cssClass:"cssClass",disabled:"disabled",hint:"hint",icon:"icon",onClick:"onClick",template:"template",text:"text",visible:"visible"},features:[u._Bn([D]),u.qOj],decls:0,vars:0,template:function(t,i){},styles:[""]}),e})(),$u=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=u.oAB({type:e}),e.\u0275inj=u.cJS({}),e})(),lW=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=u.oAB({type:e}),e.\u0275inj=u.cJS({}),e})(),_9=(()=>{class e extends qt{get data(){return this._getOption("data")}set data(t){this._setOption("data",t)}get insertAfterKey(){return this._getOption("insertAfterKey")}set insertAfterKey(t){this._setOption("insertAfterKey",t)}get insertBeforeKey(){return this._getOption("insertBeforeKey")}set insertBeforeKey(t){this._setOption("insertBeforeKey",t)}get key(){return this._getOption("key")}set key(t){this._setOption("key",t)}get type(){return this._getOption("type")}set type(t){this._setOption("type",t)}}return e.\u0275fac=function(){let n;return function(i){return(n||(n=u.n5z(e)))(i||e)}}(),e.\u0275cmp=u.Xpm({type:e,selectors:[["ng-component"]],features:[u.qOj],decls:0,vars:0,template:function(t,i){},encapsulation:2}),e})(),m9=(()=>{class e extends _9{constructor(t,i){super(),t.setNestedOption(this),i.setHost(this,this._fullOptionPath.bind(this))}get _optionPath(){return"changes"}ngOnDestroy(){this._deleteRemovedOptions(this._fullOptionPath())}}return e.\u0275fac=function(t){return new(t||e)(u.Y36(D,5),u.Y36(D,1))},e.\u0275cmp=u.Xpm({type:e,selectors:[["dxi-change"]],inputs:{data:"data",insertAfterKey:"insertAfterKey",insertBeforeKey:"insertBeforeKey",key:"key",type:"type"},features:[u._Bn([D]),u.qOj],decls:0,vars:0,template:function(t,i){},styles:[""]}),e})(),dW=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=u.oAB({type:e}),e.\u0275inj=u.cJS({}),e})(),uW=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=u.oAB({type:e}),e.\u0275inj=u.cJS({}),e})(),Gu=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=u.oAB({type:e}),e.\u0275inj=u.cJS({}),e})(),cW=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=u.oAB({type:e}),e.\u0275inj=u.cJS({}),e})(),y9=(()=>{class e extends qt{get alignment(){return this._getOption("alignment")}set alignment(t){this._setOption("alignment",t)}get allowEditing(){return this._getOption("allowEditing")}set allowEditing(t){this._setOption("allowEditing",t)}get allowExporting(){return this._getOption("allowExporting")}set allowExporting(t){this._setOption("allowExporting",t)}get allowFiltering(){return this._getOption("allowFiltering")}set allowFiltering(t){this._setOption("allowFiltering",t)}get allowFixing(){return this._getOption("allowFixing")}set allowFixing(t){this._setOption("allowFixing",t)}get allowGrouping(){return this._getOption("allowGrouping")}set allowGrouping(t){this._setOption("allowGrouping",t)}get allowHeaderFiltering(){return this._getOption("allowHeaderFiltering")}set allowHeaderFiltering(t){this._setOption("allowHeaderFiltering",t)}get allowHiding(){return this._getOption("allowHiding")}set allowHiding(t){this._setOption("allowHiding",t)}get allowReordering(){return this._getOption("allowReordering")}set allowReordering(t){this._setOption("allowReordering",t)}get allowResizing(){return this._getOption("allowResizing")}set allowResizing(t){this._setOption("allowResizing",t)}get allowSearch(){return this._getOption("allowSearch")}set allowSearch(t){this._setOption("allowSearch",t)}get allowSorting(){return this._getOption("allowSorting")}set allowSorting(t){this._setOption("allowSorting",t)}get autoExpandGroup(){return this._getOption("autoExpandGroup")}set autoExpandGroup(t){this._setOption("autoExpandGroup",t)}get buttons(){return this._getOption("buttons")}set buttons(t){this._setOption("buttons",t)}get calculateCellValue(){return this._getOption("calculateCellValue")}set calculateCellValue(t){this._setOption("calculateCellValue",t)}get calculateDisplayValue(){return this._getOption("calculateDisplayValue")}set calculateDisplayValue(t){this._setOption("calculateDisplayValue",t)}get calculateFilterExpression(){return this._getOption("calculateFilterExpression")}set calculateFilterExpression(t){this._setOption("calculateFilterExpression",t)}get calculateGroupValue(){return this._getOption("calculateGroupValue")}set calculateGroupValue(t){this._setOption("calculateGroupValue",t)}get calculateSortValue(){return this._getOption("calculateSortValue")}set calculateSortValue(t){this._setOption("calculateSortValue",t)}get caption(){return this._getOption("caption")}set caption(t){this._setOption("caption",t)}get cellTemplate(){return this._getOption("cellTemplate")}set cellTemplate(t){this._setOption("cellTemplate",t)}get columns(){return this._getOption("columns")}set columns(t){this._setOption("columns",t)}get cssClass(){return this._getOption("cssClass")}set cssClass(t){this._setOption("cssClass",t)}get customizeText(){return this._getOption("customizeText")}set customizeText(t){this._setOption("customizeText",t)}get dataField(){return this._getOption("dataField")}set dataField(t){this._setOption("dataField",t)}get dataType(){return this._getOption("dataType")}set dataType(t){this._setOption("dataType",t)}get editCellTemplate(){return this._getOption("editCellTemplate")}set editCellTemplate(t){this._setOption("editCellTemplate",t)}get editorOptions(){return this._getOption("editorOptions")}set editorOptions(t){this._setOption("editorOptions",t)}get encodeHtml(){return this._getOption("encodeHtml")}set encodeHtml(t){this._setOption("encodeHtml",t)}get falseText(){return this._getOption("falseText")}set falseText(t){this._setOption("falseText",t)}get filterOperations(){return this._getOption("filterOperations")}set filterOperations(t){this._setOption("filterOperations",t)}get filterType(){return this._getOption("filterType")}set filterType(t){this._setOption("filterType",t)}get filterValue(){return this._getOption("filterValue")}set filterValue(t){this._setOption("filterValue",t)}get filterValues(){return this._getOption("filterValues")}set filterValues(t){this._setOption("filterValues",t)}get fixed(){return this._getOption("fixed")}set fixed(t){this._setOption("fixed",t)}get fixedPosition(){return this._getOption("fixedPosition")}set fixedPosition(t){this._setOption("fixedPosition",t)}get format(){return this._getOption("format")}set format(t){this._setOption("format",t)}get formItem(){return this._getOption("formItem")}set formItem(t){this._setOption("formItem",t)}get groupCellTemplate(){return this._getOption("groupCellTemplate")}set groupCellTemplate(t){this._setOption("groupCellTemplate",t)}get groupIndex(){return this._getOption("groupIndex")}set groupIndex(t){this._setOption("groupIndex",t)}get headerCellTemplate(){return this._getOption("headerCellTemplate")}set headerCellTemplate(t){this._setOption("headerCellTemplate",t)}get headerFilter(){return this._getOption("headerFilter")}set headerFilter(t){this._setOption("headerFilter",t)}get hidingPriority(){return this._getOption("hidingPriority")}set hidingPriority(t){this._setOption("hidingPriority",t)}get isBand(){return this._getOption("isBand")}set isBand(t){this._setOption("isBand",t)}get lookup(){return this._getOption("lookup")}set lookup(t){this._setOption("lookup",t)}get minWidth(){return this._getOption("minWidth")}set minWidth(t){this._setOption("minWidth",t)}get name(){return this._getOption("name")}set name(t){this._setOption("name",t)}get ownerBand(){return this._getOption("ownerBand")}set ownerBand(t){this._setOption("ownerBand",t)}get renderAsync(){return this._getOption("renderAsync")}set renderAsync(t){this._setOption("renderAsync",t)}get selectedFilterOperation(){return this._getOption("selectedFilterOperation")}set selectedFilterOperation(t){this._setOption("selectedFilterOperation",t)}get setCellValue(){return this._getOption("setCellValue")}set setCellValue(t){this._setOption("setCellValue",t)}get showEditorAlways(){return this._getOption("showEditorAlways")}set showEditorAlways(t){this._setOption("showEditorAlways",t)}get showInColumnChooser(){return this._getOption("showInColumnChooser")}set showInColumnChooser(t){this._setOption("showInColumnChooser",t)}get showWhenGrouped(){return this._getOption("showWhenGrouped")}set showWhenGrouped(t){this._setOption("showWhenGrouped",t)}get sortIndex(){return this._getOption("sortIndex")}set sortIndex(t){this._setOption("sortIndex",t)}get sortingMethod(){return this._getOption("sortingMethod")}set sortingMethod(t){this._setOption("sortingMethod",t)}get sortOrder(){return this._getOption("sortOrder")}set sortOrder(t){this._setOption("sortOrder",t)}get trueText(){return this._getOption("trueText")}set trueText(t){this._setOption("trueText",t)}get type(){return this._getOption("type")}set type(t){this._setOption("type",t)}get validationRules(){return this._getOption("validationRules")}set validationRules(t){this._setOption("validationRules",t)}get visible(){return this._getOption("visible")}set visible(t){this._setOption("visible",t)}get visibleIndex(){return this._getOption("visibleIndex")}set visibleIndex(t){this._setOption("visibleIndex",t)}get width(){return this._getOption("width")}set width(t){this._setOption("width",t)}}return e.\u0275fac=function(){let n;return function(i){return(n||(n=u.n5z(e)))(i||e)}}(),e.\u0275cmp=u.Xpm({type:e,selectors:[["ng-component"]],features:[u.qOj],decls:0,vars:0,template:function(t,i){},encapsulation:2}),e})(),cp=(()=>{class e extends y9{constructor(t,i){super(),this._createEventEmitters([{emit:"filterValueChange"},{emit:"filterValuesChange"},{emit:"groupIndexChange"},{emit:"selectedFilterOperationChange"},{emit:"sortIndexChange"},{emit:"sortOrderChange"},{emit:"visibleChange"},{emit:"visibleIndexChange"}]),t.setNestedOption(this),i.setHost(this,this._fullOptionPath.bind(this))}get _optionPath(){return"columns"}get buttonsChildren(){return this._getOption("buttons")}set buttonsChildren(t){this.setChildren("buttons",t)}get columnsChildren(){return this._getOption("columns")}set columnsChildren(t){this.setChildren("columns",t)}get validationRulesChildren(){return this._getOption("validationRules")}set validationRulesChildren(t){this.setChildren("validationRules",t)}ngOnDestroy(){this._deleteRemovedOptions(this._fullOptionPath())}}return e.\u0275fac=function(t){return new(t||e)(u.Y36(D,5),u.Y36(D,1))},e.\u0275cmp=u.Xpm({type:e,selectors:[["dxi-column"]],contentQueries:function(t,i,r){if(1&t&&(u.Suo(r,Yy,4),u.Suo(r,e,4),u.Suo(r,QF,4)),2&t){let o;u.iGM(o=u.CRH())&&(i.buttonsChildren=o),u.iGM(o=u.CRH())&&(i.columnsChildren=o),u.iGM(o=u.CRH())&&(i.validationRulesChildren=o)}},inputs:{alignment:"alignment",allowEditing:"allowEditing",allowExporting:"allowExporting",allowFiltering:"allowFiltering",allowFixing:"allowFixing",allowGrouping:"allowGrouping",allowHeaderFiltering:"allowHeaderFiltering",allowHiding:"allowHiding",allowReordering:"allowReordering",allowResizing:"allowResizing",allowSearch:"allowSearch",allowSorting:"allowSorting",autoExpandGroup:"autoExpandGroup",buttons:"buttons",calculateCellValue:"calculateCellValue",calculateDisplayValue:"calculateDisplayValue",calculateFilterExpression:"calculateFilterExpression",calculateGroupValue:"calculateGroupValue",calculateSortValue:"calculateSortValue",caption:"caption",cellTemplate:"cellTemplate",columns:"columns",cssClass:"cssClass",customizeText:"customizeText",dataField:"dataField",dataType:"dataType",editCellTemplate:"editCellTemplate",editorOptions:"editorOptions",encodeHtml:"encodeHtml",falseText:"falseText",filterOperations:"filterOperations",filterType:"filterType",filterValue:"filterValue",filterValues:"filterValues",fixed:"fixed",fixedPosition:"fixedPosition",format:"format",formItem:"formItem",groupCellTemplate:"groupCellTemplate",groupIndex:"groupIndex",headerCellTemplate:"headerCellTemplate",headerFilter:"headerFilter",hidingPriority:"hidingPriority",isBand:"isBand",lookup:"lookup",minWidth:"minWidth",name:"name",ownerBand:"ownerBand",renderAsync:"renderAsync",selectedFilterOperation:"selectedFilterOperation",setCellValue:"setCellValue",showEditorAlways:"showEditorAlways",showInColumnChooser:"showInColumnChooser",showWhenGrouped:"showWhenGrouped",sortIndex:"sortIndex",sortingMethod:"sortingMethod",sortOrder:"sortOrder",trueText:"trueText",type:"type",validationRules:"validationRules",visible:"visible",visibleIndex:"visibleIndex",width:"width"},outputs:{filterValueChange:"filterValueChange",filterValuesChange:"filterValuesChange",groupIndexChange:"groupIndexChange",selectedFilterOperationChange:"selectedFilterOperationChange",sortIndexChange:"sortIndexChange",sortOrderChange:"sortOrderChange",visibleChange:"visibleChange",visibleIndexChange:"visibleIndexChange"},features:[u._Bn([D]),u.qOj],decls:0,vars:0,template:function(t,i){},styles:[""]}),e})(),Ow=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=u.oAB({type:e}),e.\u0275inj=u.cJS({}),e})(),hW=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=u.oAB({type:e}),e.\u0275inj=u.cJS({}),e})(),pW=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=u.oAB({type:e}),e.\u0275inj=u.cJS({}),e})(),gW=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=u.oAB({type:e}),e.\u0275inj=u.cJS({}),e})(),_W=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=u.oAB({type:e}),e.\u0275inj=u.cJS({}),e})();const T9=["*"];let Dw=(()=>{class e extends qt{constructor(t,i,r,o,s,l){super(),this.renderer=r,this.document=o,this.element=l,t.setNestedOption(this),i.setHost(this,this._fullOptionPath.bind(this)),s.setHost(this)}get cssClass(){return this._getOption("cssClass")}set cssClass(t){this._setOption("cssClass",t)}get disabled(){return this._getOption("disabled")}set disabled(t){this._setOption("disabled",t)}get html(){return this._getOption("html")}set html(t){this._setOption("html",t)}get locateInMenu(){return this._getOption("locateInMenu")}set locateInMenu(t){this._setOption("locateInMenu",t)}get location(){return this._getOption("location")}set location(t){this._setOption("location",t)}get menuItemTemplate(){return this._getOption("menuItemTemplate")}set menuItemTemplate(t){this._setOption("menuItemTemplate",t)}get options(){return this._getOption("options")}set options(t){this._setOption("options",t)}get showText(){return this._getOption("showText")}set showText(t){this._setOption("showText",t)}get template(){return this._getOption("template")}set template(t){this._setOption("template",t)}get text(){return this._getOption("text")}set text(t){this._setOption("text",t)}get toolbar(){return this._getOption("toolbar")}set toolbar(t){this._setOption("toolbar",t)}get visible(){return this._getOption("visible")}set visible(t){this._setOption("visible",t)}get widget(){return this._getOption("widget")}set widget(t){this._setOption("widget",t)}get _optionPath(){return"toolbarItems"}setTemplate(t){this.template=t}ngAfterViewInit(){Ny(this,this.element,this.renderer,this.document)}ngOnDestroy(){this._deleteRemovedOptions(this._fullOptionPath())}}return e.\u0275fac=function(t){return new(t||e)(u.Y36(D,5),u.Y36(D,1),u.Y36(u.Qsj),u.Y36(Z),u.Y36(vn,1),u.Y36(u.SBq))},e.\u0275cmp=u.Xpm({type:e,selectors:[["dxi-toolbar-item"]],inputs:{cssClass:"cssClass",disabled:"disabled",html:"html",locateInMenu:"locateInMenu",location:"location",menuItemTemplate:"menuItemTemplate",options:"options",showText:"showText",template:"template",text:"text",toolbar:"toolbar",visible:"visible",widget:"widget"},features:[u._Bn([D,vn]),u.qOj],ngContentSelectors:T9,decls:1,vars:0,template:function(t,i){1&t&&(u.F$t(),u.Hsn(0))},styles:["[_nghost-%COMP%] { display: block; }"]}),e})(),b_=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=u.oAB({type:e}),e.\u0275inj=u.cJS({}),e})(),mW=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=u.oAB({type:e}),e.\u0275inj=u.cJS({}),e})(),ik=(()=>{class e extends ie{constructor(t,i){super(),this._createEventEmitters([{emit:"changesChange"},{emit:"editColumnNameChange"},{emit:"editRowKeyChange"}]),t.setNestedOption(this),i.setHost(this,this._fullOptionPath.bind(this))}get allowAdding(){return this._getOption("allowAdding")}set allowAdding(t){this._setOption("allowAdding",t)}get allowDeleting(){return this._getOption("allowDeleting")}set allowDeleting(t){this._setOption("allowDeleting",t)}get allowUpdating(){return this._getOption("allowUpdating")}set allowUpdating(t){this._setOption("allowUpdating",t)}get changes(){return this._getOption("changes")}set changes(t){this._setOption("changes",t)}get confirmDelete(){return this._getOption("confirmDelete")}set confirmDelete(t){this._setOption("confirmDelete",t)}get editColumnName(){return this._getOption("editColumnName")}set editColumnName(t){this._setOption("editColumnName",t)}get editRowKey(){return this._getOption("editRowKey")}set editRowKey(t){this._setOption("editRowKey",t)}get form(){return this._getOption("form")}set form(t){this._setOption("form",t)}get mode(){return this._getOption("mode")}set mode(t){this._setOption("mode",t)}get newRowPosition(){return this._getOption("newRowPosition")}set newRowPosition(t){this._setOption("newRowPosition",t)}get popup(){return this._getOption("popup")}set popup(t){this._setOption("popup",t)}get refreshMode(){return this._getOption("refreshMode")}set refreshMode(t){this._setOption("refreshMode",t)}get selectTextOnEditStart(){return this._getOption("selectTextOnEditStart")}set selectTextOnEditStart(t){this._setOption("selectTextOnEditStart",t)}get startEditAction(){return this._getOption("startEditAction")}set startEditAction(t){this._setOption("startEditAction",t)}get texts(){return this._getOption("texts")}set texts(t){this._setOption("texts",t)}get useIcons(){return this._getOption("useIcons")}set useIcons(t){this._setOption("useIcons",t)}get allowAddShape(){return this._getOption("allowAddShape")}set allowAddShape(t){this._setOption("allowAddShape",t)}get allowChangeConnection(){return this._getOption("allowChangeConnection")}set allowChangeConnection(t){this._setOption("allowChangeConnection",t)}get allowChangeConnectorPoints(){return this._getOption("allowChangeConnectorPoints")}set allowChangeConnectorPoints(t){this._setOption("allowChangeConnectorPoints",t)}get allowChangeConnectorText(){return this._getOption("allowChangeConnectorText")}set allowChangeConnectorText(t){this._setOption("allowChangeConnectorText",t)}get allowChangeShapeText(){return this._getOption("allowChangeShapeText")}set allowChangeShapeText(t){this._setOption("allowChangeShapeText",t)}get allowDeleteConnector(){return this._getOption("allowDeleteConnector")}set allowDeleteConnector(t){this._setOption("allowDeleteConnector",t)}get allowDeleteShape(){return this._getOption("allowDeleteShape")}set allowDeleteShape(t){this._setOption("allowDeleteShape",t)}get allowMoveShape(){return this._getOption("allowMoveShape")}set allowMoveShape(t){this._setOption("allowMoveShape",t)}get allowResizeShape(){return this._getOption("allowResizeShape")}set allowResizeShape(t){this._setOption("allowResizeShape",t)}get allowDependencyAdding(){return this._getOption("allowDependencyAdding")}set allowDependencyAdding(t){this._setOption("allowDependencyAdding",t)}get allowDependencyDeleting(){return this._getOption("allowDependencyDeleting")}set allowDependencyDeleting(t){this._setOption("allowDependencyDeleting",t)}get allowResourceAdding(){return this._getOption("allowResourceAdding")}set allowResourceAdding(t){this._setOption("allowResourceAdding",t)}get allowResourceDeleting(){return this._getOption("allowResourceDeleting")}set allowResourceDeleting(t){this._setOption("allowResourceDeleting",t)}get allowResourceUpdating(){return this._getOption("allowResourceUpdating")}set allowResourceUpdating(t){this._setOption("allowResourceUpdating",t)}get allowTaskAdding(){return this._getOption("allowTaskAdding")}set allowTaskAdding(t){this._setOption("allowTaskAdding",t)}get allowTaskDeleting(){return this._getOption("allowTaskDeleting")}set allowTaskDeleting(t){this._setOption("allowTaskDeleting",t)}get allowTaskResourceUpdating(){return this._getOption("allowTaskResourceUpdating")}set allowTaskResourceUpdating(t){this._setOption("allowTaskResourceUpdating",t)}get allowTaskUpdating(){return this._getOption("allowTaskUpdating")}set allowTaskUpdating(t){this._setOption("allowTaskUpdating",t)}get enabled(){return this._getOption("enabled")}set enabled(t){this._setOption("enabled",t)}get allowDragging(){return this._getOption("allowDragging")}set allowDragging(t){this._setOption("allowDragging",t)}get allowResizing(){return this._getOption("allowResizing")}set allowResizing(t){this._setOption("allowResizing",t)}get allowTimeZoneEditing(){return this._getOption("allowTimeZoneEditing")}set allowTimeZoneEditing(t){this._setOption("allowTimeZoneEditing",t)}get _optionPath(){return"editing"}get changesChildren(){return this._getOption("changes")}set changesChildren(t){this.setChildren("changes",t)}ngOnInit(){this._addRecreatedComponent()}ngOnDestroy(){this._addRemovedOption(this._getOptionPath())}}return e.\u0275fac=function(t){return new(t||e)(u.Y36(D,5),u.Y36(D,1))},e.\u0275cmp=u.Xpm({type:e,selectors:[["dxo-editing"]],contentQueries:function(t,i,r){if(1&t&&u.Suo(r,m9,4),2&t){let o;u.iGM(o=u.CRH())&&(i.changesChildren=o)}},inputs:{allowAdding:"allowAdding",allowDeleting:"allowDeleting",allowUpdating:"allowUpdating",changes:"changes",confirmDelete:"confirmDelete",editColumnName:"editColumnName",editRowKey:"editRowKey",form:"form",mode:"mode",newRowPosition:"newRowPosition",popup:"popup",refreshMode:"refreshMode",selectTextOnEditStart:"selectTextOnEditStart",startEditAction:"startEditAction",texts:"texts",useIcons:"useIcons",allowAddShape:"allowAddShape",allowChangeConnection:"allowChangeConnection",allowChangeConnectorPoints:"allowChangeConnectorPoints",allowChangeConnectorText:"allowChangeConnectorText",allowChangeShapeText:"allowChangeShapeText",allowDeleteConnector:"allowDeleteConnector",allowDeleteShape:"allowDeleteShape",allowMoveShape:"allowMoveShape",allowResizeShape:"allowResizeShape",allowDependencyAdding:"allowDependencyAdding",allowDependencyDeleting:"allowDependencyDeleting",allowResourceAdding:"allowResourceAdding",allowResourceDeleting:"allowResourceDeleting",allowResourceUpdating:"allowResourceUpdating",allowTaskAdding:"allowTaskAdding",allowTaskDeleting:"allowTaskDeleting",allowTaskResourceUpdating:"allowTaskResourceUpdating",allowTaskUpdating:"allowTaskUpdating",enabled:"enabled",allowDragging:"allowDragging",allowResizing:"allowResizing",allowTimeZoneEditing:"allowTimeZoneEditing"},outputs:{changesChange:"changesChange",editColumnNameChange:"editColumnNameChange",editRowKeyChange:"editRowKeyChange"},features:[u._Bn([D]),u.qOj],decls:0,vars:0,template:function(t,i){},styles:[""]}),e})(),rk=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=u.oAB({type:e}),e.\u0275inj=u.cJS({}),e})(),vW=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=u.oAB({type:e}),e.\u0275inj=u.cJS({}),e})(),CW=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=u.oAB({type:e}),e.\u0275inj=u.cJS({}),e})(),yW=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=u.oAB({type:e}),e.\u0275inj=u.cJS({}),e})(),xW=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=u.oAB({type:e}),e.\u0275inj=u.cJS({}),e})(),bW=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=u.oAB({type:e}),e.\u0275inj=u.cJS({}),e})(),OW=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=u.oAB({type:e}),e.\u0275inj=u.cJS({}),e})(),DW=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=u.oAB({type:e}),e.\u0275inj=u.cJS({}),e})(),L9=(()=>{class e extends ie{get accessKey(){return this._getOption("accessKey")}set accessKey(t){this._setOption("accessKey",t)}get activeStateEnabled(){return this._getOption("activeStateEnabled")}set activeStateEnabled(t){this._setOption("activeStateEnabled",t)}get alignItemLabels(){return this._getOption("alignItemLabels")}set alignItemLabels(t){this._setOption("alignItemLabels",t)}get alignItemLabelsInAllGroups(){return this._getOption("alignItemLabelsInAllGroups")}set alignItemLabelsInAllGroups(t){this._setOption("alignItemLabelsInAllGroups",t)}get colCount(){return this._getOption("colCount")}set colCount(t){this._setOption("colCount",t)}get colCountByScreen(){return this._getOption("colCountByScreen")}set colCountByScreen(t){this._setOption("colCountByScreen",t)}get customizeItem(){return this._getOption("customizeItem")}set customizeItem(t){this._setOption("customizeItem",t)}get disabled(){return this._getOption("disabled")}set disabled(t){this._setOption("disabled",t)}get elementAttr(){return this._getOption("elementAttr")}set elementAttr(t){this._setOption("elementAttr",t)}get focusStateEnabled(){return this._getOption("focusStateEnabled")}set focusStateEnabled(t){this._setOption("focusStateEnabled",t)}get formData(){return this._getOption("formData")}set formData(t){this._setOption("formData",t)}get height(){return this._getOption("height")}set height(t){this._setOption("height",t)}get hint(){return this._getOption("hint")}set hint(t){this._setOption("hint",t)}get hoverStateEnabled(){return this._getOption("hoverStateEnabled")}set hoverStateEnabled(t){this._setOption("hoverStateEnabled",t)}get items(){return this._getOption("items")}set items(t){this._setOption("items",t)}get labelLocation(){return this._getOption("labelLocation")}set labelLocation(t){this._setOption("labelLocation",t)}get labelMode(){return this._getOption("labelMode")}set labelMode(t){this._setOption("labelMode",t)}get minColWidth(){return this._getOption("minColWidth")}set minColWidth(t){this._setOption("minColWidth",t)}get onContentReady(){return this._getOption("onContentReady")}set onContentReady(t){this._setOption("onContentReady",t)}get onDisposing(){return this._getOption("onDisposing")}set onDisposing(t){this._setOption("onDisposing",t)}get onEditorEnterKey(){return this._getOption("onEditorEnterKey")}set onEditorEnterKey(t){this._setOption("onEditorEnterKey",t)}get onFieldDataChanged(){return this._getOption("onFieldDataChanged")}set onFieldDataChanged(t){this._setOption("onFieldDataChanged",t)}get onInitialized(){return this._getOption("onInitialized")}set onInitialized(t){this._setOption("onInitialized",t)}get onOptionChanged(){return this._getOption("onOptionChanged")}set onOptionChanged(t){this._setOption("onOptionChanged",t)}get optionalMark(){return this._getOption("optionalMark")}set optionalMark(t){this._setOption("optionalMark",t)}get readOnly(){return this._getOption("readOnly")}set readOnly(t){this._setOption("readOnly",t)}get requiredMark(){return this._getOption("requiredMark")}set requiredMark(t){this._setOption("requiredMark",t)}get requiredMessage(){return this._getOption("requiredMessage")}set requiredMessage(t){this._setOption("requiredMessage",t)}get rtlEnabled(){return this._getOption("rtlEnabled")}set rtlEnabled(t){this._setOption("rtlEnabled",t)}get screenByWidth(){return this._getOption("screenByWidth")}set screenByWidth(t){this._setOption("screenByWidth",t)}get scrollingEnabled(){return this._getOption("scrollingEnabled")}set scrollingEnabled(t){this._setOption("scrollingEnabled",t)}get showColonAfterLabel(){return this._getOption("showColonAfterLabel")}set showColonAfterLabel(t){this._setOption("showColonAfterLabel",t)}get showOptionalMark(){return this._getOption("showOptionalMark")}set showOptionalMark(t){this._setOption("showOptionalMark",t)}get showRequiredMark(){return this._getOption("showRequiredMark")}set showRequiredMark(t){this._setOption("showRequiredMark",t)}get showValidationSummary(){return this._getOption("showValidationSummary")}set showValidationSummary(t){this._setOption("showValidationSummary",t)}get tabIndex(){return this._getOption("tabIndex")}set tabIndex(t){this._setOption("tabIndex",t)}get validationGroup(){return this._getOption("validationGroup")}set validationGroup(t){this._setOption("validationGroup",t)}get visible(){return this._getOption("visible")}set visible(t){this._setOption("visible",t)}get width(){return this._getOption("width")}set width(t){this._setOption("width",t)}}return e.\u0275fac=function(){let n;return function(i){return(n||(n=u.n5z(e)))(i||e)}}(),e.\u0275cmp=u.Xpm({type:e,selectors:[["ng-component"]],features:[u.qOj],decls:0,vars:0,template:function(t,i){},encapsulation:2}),e})(),SW=(()=>{class e extends L9{constructor(t,i){super(),this._createEventEmitters([{emit:"formDataChange"}]),t.setNestedOption(this),i.setHost(this,this._fullOptionPath.bind(this))}get _optionPath(){return"form"}get itemsChildren(){return this._getOption("items")}set itemsChildren(t){this.setChildren("items",t)}ngOnInit(){this._addRecreatedComponent()}ngOnDestroy(){this._addRemovedOption(this._getOptionPath())}}return e.\u0275fac=function(t){return new(t||e)(u.Y36(D,5),u.Y36(D,1))},e.\u0275cmp=u.Xpm({type:e,selectors:[["dxo-form"]],contentQueries:function(t,i,r){if(1&t&&u.Suo(r,So,4),2&t){let o;u.iGM(o=u.CRH())&&(i.itemsChildren=o)}},inputs:{accessKey:"accessKey",activeStateEnabled:"activeStateEnabled",alignItemLabels:"alignItemLabels",alignItemLabelsInAllGroups:"alignItemLabelsInAllGroups",colCount:"colCount",colCountByScreen:"colCountByScreen",customizeItem:"customizeItem",disabled:"disabled",elementAttr:"elementAttr",focusStateEnabled:"focusStateEnabled",formData:"formData",height:"height",hint:"hint",hoverStateEnabled:"hoverStateEnabled",items:"items",labelLocation:"labelLocation",labelMode:"labelMode",minColWidth:"minColWidth",onContentReady:"onContentReady",onDisposing:"onDisposing",onEditorEnterKey:"onEditorEnterKey",onFieldDataChanged:"onFieldDataChanged",onInitialized:"onInitialized",onOptionChanged:"onOptionChanged",optionalMark:"optionalMark",readOnly:"readOnly",requiredMark:"requiredMark",requiredMessage:"requiredMessage",rtlEnabled:"rtlEnabled",screenByWidth:"screenByWidth",scrollingEnabled:"scrollingEnabled",showColonAfterLabel:"showColonAfterLabel",showOptionalMark:"showOptionalMark",showRequiredMark:"showRequiredMark",showValidationSummary:"showValidationSummary",tabIndex:"tabIndex",validationGroup:"validationGroup",visible:"visible",width:"width"},outputs:{formDataChange:"formDataChange"},features:[u._Bn([D]),u.qOj],decls:0,vars:0,template:function(t,i){},styles:[""]}),e})(),ok=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=u.oAB({type:e}),e.\u0275inj=u.cJS({}),e})(),Sw=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=u.oAB({type:e}),e.\u0275inj=u.cJS({}),e})(),Uu=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=u.oAB({type:e}),e.\u0275inj=u.cJS({}),e})(),wW=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=u.oAB({type:e}),e.\u0275inj=u.cJS({}),e})(),IW=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=u.oAB({type:e}),e.\u0275inj=u.cJS({}),e})(),TW=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=u.oAB({type:e}),e.\u0275inj=u.cJS({}),e})(),MW=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=u.oAB({type:e}),e.\u0275inj=u.cJS({}),e})(),AW=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=u.oAB({type:e}),e.\u0275inj=u.cJS({}),e})(),ju=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=u.oAB({type:e}),e.\u0275inj=u.cJS({}),e})(),RW=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=u.oAB({type:e}),e.\u0275inj=u.cJS({}),e})(),PW=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=u.oAB({type:e}),e.\u0275inj=u.cJS({}),e})(),FW=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=u.oAB({type:e}),e.\u0275inj=u.cJS({}),e})(),kW=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=u.oAB({type:e}),e.\u0275inj=u.cJS({}),e})(),BW=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=u.oAB({type:e}),e.\u0275inj=u.cJS({}),e})(),Ku=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=u.oAB({type:e}),e.\u0275inj=u.cJS({}),e})(),Yu=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=u.oAB({type:e}),e.\u0275inj=u.cJS({}),e})(),LW=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=u.oAB({type:e}),e.\u0275inj=u.cJS({}),e})(),O_=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=u.oAB({type:e}),e.\u0275inj=u.cJS({}),e})(),VW=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=u.oAB({type:e}),e.\u0275inj=u.cJS({}),e})(),Ew=(()=>{class e extends ie{constructor(t,i){super(),this._createEventEmitters([{emit:"pageIndexChange"},{emit:"pageSizeChange"}]),t.setNestedOption(this),i.setHost(this,this._fullOptionPath.bind(this))}get enabled(){return this._getOption("enabled")}set enabled(t){this._setOption("enabled",t)}get pageIndex(){return this._getOption("pageIndex")}set pageIndex(t){this._setOption("pageIndex",t)}get pageSize(){return this._getOption("pageSize")}set pageSize(t){this._setOption("pageSize",t)}get _optionPath(){return"paging"}ngOnInit(){this._addRecreatedComponent()}ngOnDestroy(){this._addRemovedOption(this._getOptionPath())}}return e.\u0275fac=function(t){return new(t||e)(u.Y36(D,5),u.Y36(D,1))},e.\u0275cmp=u.Xpm({type:e,selectors:[["dxo-paging"]],inputs:{enabled:"enabled",pageIndex:"pageIndex",pageSize:"pageSize"},outputs:{pageIndexChange:"pageIndexChange",pageSizeChange:"pageSizeChange"},features:[u._Bn([D]),u.qOj],decls:0,vars:0,template:function(t,i){},styles:[""]}),e})(),ww=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=u.oAB({type:e}),e.\u0275inj=u.cJS({}),e})(),NW=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=u.oAB({type:e}),e.\u0275inj=u.cJS({}),e})(),qu=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=u.oAB({type:e}),e.\u0275inj=u.cJS({}),e})(),HW=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=u.oAB({type:e}),e.\u0275inj=u.cJS({}),e})(),zW=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=u.oAB({type:e}),e.\u0275inj=u.cJS({}),e})(),WW=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=u.oAB({type:e}),e.\u0275inj=u.cJS({}),e})(),$W=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=u.oAB({type:e}),e.\u0275inj=u.cJS({}),e})(),GW=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=u.oAB({type:e}),e.\u0275inj=u.cJS({}),e})(),UW=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=u.oAB({type:e}),e.\u0275inj=u.cJS({}),e})(),Ju=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=u.oAB({type:e}),e.\u0275inj=u.cJS({}),e})(),Q9=(()=>{class e extends qt{constructor(t,i){super(),t.setNestedOption(this),i.setHost(this,this._fullOptionPath.bind(this))}get groupColumn(){return this._getOption("groupColumn")}set groupColumn(t){this._setOption("groupColumn",t)}get sortOrder(){return this._getOption("sortOrder")}set sortOrder(t){this._setOption("sortOrder",t)}get summaryItem(){return this._getOption("summaryItem")}set summaryItem(t){this._setOption("summaryItem",t)}get _optionPath(){return"sortByGroupSummaryInfo"}ngOnDestroy(){this._deleteRemovedOptions(this._fullOptionPath())}}return e.\u0275fac=function(t){return new(t||e)(u.Y36(D,5),u.Y36(D,1))},e.\u0275cmp=u.Xpm({type:e,selectors:[["dxi-sort-by-group-summary-info"]],inputs:{groupColumn:"groupColumn",sortOrder:"sortOrder",summaryItem:"summaryItem"},features:[u._Bn([D]),u.qOj],decls:0,vars:0,template:function(t,i){},styles:[""]}),e})(),jW=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=u.oAB({type:e}),e.\u0275inj=u.cJS({}),e})(),KW=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=u.oAB({type:e}),e.\u0275inj=u.cJS({}),e})(),YW=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=u.oAB({type:e}),e.\u0275inj=u.cJS({}),e})(),JW=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=u.oAB({type:e}),e.\u0275inj=u.cJS({}),e})(),XW=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=u.oAB({type:e}),e.\u0275inj=u.cJS({}),e})(),ZW=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=u.oAB({type:e}),e.\u0275inj=u.cJS({}),e})(),QW=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=u.oAB({type:e}),e.\u0275inj=u.cJS({}),e})(),Xu=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=u.oAB({type:e}),e.\u0275inj=u.cJS({}),e})(),e$=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=u.oAB({type:e}),e.\u0275inj=u.cJS({}),e})(),t$=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=u.oAB({type:e}),e.\u0275inj=u.cJS({}),e})();const dZ={provide:fi,useExisting:(0,u.Gpc)(()=>qy),multi:!0};let qy=(()=>{class e extends zl{constructor(t,i,r,o,s,l,h,g){super(t,i,r,o,h,g),this._watcherHelper=o,this._idh=s,this.touched=_=>{},this._createEventEmitters([{subscribe:"change",emit:"onChange"},{subscribe:"contentReady",emit:"onContentReady"},{subscribe:"copy",emit:"onCopy"},{subscribe:"cut",emit:"onCut"},{subscribe:"disposing",emit:"onDisposing"},{subscribe:"enterKey",emit:"onEnterKey"},{subscribe:"focusIn",emit:"onFocusIn"},{subscribe:"focusOut",emit:"onFocusOut"},{subscribe:"initialized",emit:"onInitialized"},{subscribe:"input",emit:"onInput"},{subscribe:"keyDown",emit:"onKeyDown"},{subscribe:"keyUp",emit:"onKeyUp"},{subscribe:"optionChanged",emit:"onOptionChanged"},{subscribe:"paste",emit:"onPaste"},{subscribe:"valueChanged",emit:"onValueChanged"},{emit:"accessKeyChange"},{emit:"activeStateEnabledChange"},{emit:"buttonsChange"},{emit:"disabledChange"},{emit:"elementAttrChange"},{emit:"focusStateEnabledChange"},{emit:"heightChange"},{emit:"hintChange"},{emit:"hoverStateEnabledChange"},{emit:"inputAttrChange"},{emit:"isValidChange"},{emit:"labelChange"},{emit:"labelModeChange"},{emit:"maskChange"},{emit:"maskCharChange"},{emit:"maskInvalidMessageChange"},{emit:"maskRulesChange"},{emit:"maxLengthChange"},{emit:"modeChange"},{emit:"nameChange"},{emit:"placeholderChange"},{emit:"readOnlyChange"},{emit:"rtlEnabledChange"},{emit:"showClearButtonChange"},{emit:"showMaskModeChange"},{emit:"spellcheckChange"},{emit:"stylingModeChange"},{emit:"tabIndexChange"},{emit:"textChange"},{emit:"useMaskedValueChange"},{emit:"validationErrorChange"},{emit:"validationErrorsChange"},{emit:"validationMessageModeChange"},{emit:"validationMessagePositionChange"},{emit:"validationStatusChange"},{emit:"valueChange"},{emit:"valueChangeEventChange"},{emit:"visibleChange"},{emit:"widthChange"},{emit:"onBlur"}]),this._idh.setHost(this),l.setHost(this)}get accessKey(){return this._getOption("accessKey")}set accessKey(t){this._setOption("accessKey",t)}get activeStateEnabled(){return this._getOption("activeStateEnabled")}set activeStateEnabled(t){this._setOption("activeStateEnabled",t)}get buttons(){return this._getOption("buttons")}set buttons(t){this._setOption("buttons",t)}get disabled(){return this._getOption("disabled")}set disabled(t){this._setOption("disabled",t)}get elementAttr(){return this._getOption("elementAttr")}set elementAttr(t){this._setOption("elementAttr",t)}get focusStateEnabled(){return this._getOption("focusStateEnabled")}set focusStateEnabled(t){this._setOption("focusStateEnabled",t)}get height(){return this._getOption("height")}set height(t){this._setOption("height",t)}get hint(){return this._getOption("hint")}set hint(t){this._setOption("hint",t)}get hoverStateEnabled(){return this._getOption("hoverStateEnabled")}set hoverStateEnabled(t){this._setOption("hoverStateEnabled",t)}get inputAttr(){return this._getOption("inputAttr")}set inputAttr(t){this._setOption("inputAttr",t)}get isValid(){return this._getOption("isValid")}set isValid(t){this._setOption("isValid",t)}get label(){return this._getOption("label")}set label(t){this._setOption("label",t)}get labelMode(){return this._getOption("labelMode")}set labelMode(t){this._setOption("labelMode",t)}get mask(){return this._getOption("mask")}set mask(t){this._setOption("mask",t)}get maskChar(){return this._getOption("maskChar")}set maskChar(t){this._setOption("maskChar",t)}get maskInvalidMessage(){return this._getOption("maskInvalidMessage")}set maskInvalidMessage(t){this._setOption("maskInvalidMessage",t)}get maskRules(){return this._getOption("maskRules")}set maskRules(t){this._setOption("maskRules",t)}get maxLength(){return this._getOption("maxLength")}set maxLength(t){this._setOption("maxLength",t)}get mode(){return this._getOption("mode")}set mode(t){this._setOption("mode",t)}get name(){return this._getOption("name")}set name(t){this._setOption("name",t)}get placeholder(){return this._getOption("placeholder")}set placeholder(t){this._setOption("placeholder",t)}get readOnly(){return this._getOption("readOnly")}set readOnly(t){this._setOption("readOnly",t)}get rtlEnabled(){return this._getOption("rtlEnabled")}set rtlEnabled(t){this._setOption("rtlEnabled",t)}get showClearButton(){return this._getOption("showClearButton")}set showClearButton(t){this._setOption("showClearButton",t)}get showMaskMode(){return this._getOption("showMaskMode")}set showMaskMode(t){this._setOption("showMaskMode",t)}get spellcheck(){return this._getOption("spellcheck")}set spellcheck(t){this._setOption("spellcheck",t)}get stylingMode(){return this._getOption("stylingMode")}set stylingMode(t){this._setOption("stylingMode",t)}get tabIndex(){return this._getOption("tabIndex")}set tabIndex(t){this._setOption("tabIndex",t)}get text(){return this._getOption("text")}set text(t){this._setOption("text",t)}get useMaskedValue(){return this._getOption("useMaskedValue")}set useMaskedValue(t){this._setOption("useMaskedValue",t)}get validationError(){return this._getOption("validationError")}set validationError(t){this._setOption("validationError",t)}get validationErrors(){return this._getOption("validationErrors")}set validationErrors(t){this._setOption("validationErrors",t)}get validationMessageMode(){return this._getOption("validationMessageMode")}set validationMessageMode(t){this._setOption("validationMessageMode",t)}get validationMessagePosition(){return this._getOption("validationMessagePosition")}set validationMessagePosition(t){this._setOption("validationMessagePosition",t)}get validationStatus(){return this._getOption("validationStatus")}set validationStatus(t){this._setOption("validationStatus",t)}get value(){return this._getOption("value")}set value(t){this._setOption("value",t)}get valueChangeEvent(){return this._getOption("valueChangeEvent")}set valueChangeEvent(t){this._setOption("valueChangeEvent",t)}get visible(){return this._getOption("visible")}set visible(t){this._setOption("visible",t)}get width(){return this._getOption("width")}set width(t){this._setOption("width",t)}change(t){}get buttonsChildren(){return this._getOption("buttons")}set buttonsChildren(t){this.setChildren("buttons",t)}_createInstance(t,i){return new jy(t,i)}writeValue(t){this.eventHelper.lockedValueChangeEvent=!0,this.value=t,this.eventHelper.lockedValueChangeEvent=!1}setDisabledState(t){this.disabled=t}registerOnChange(t){this.change=t}registerOnTouched(t){this.touched=t}_createWidget(t){super._createWidget(t),this.instance.on("focusOut",i=>{this.eventHelper.fireNgEvent("onBlur",[i])})}ngOnDestroy(){this._destroyWidget()}ngOnChanges(t){super.ngOnChanges(t),this.setupChanges("buttons",t),this.setupChanges("validationErrors",t)}setupChanges(t,i){t in this._optionsToUpdate||this._idh.setup(t,i)}ngDoCheck(){this._idh.doCheck("buttons"),this._idh.doCheck("validationErrors"),this._watcherHelper.checkWatchers(),super.ngDoCheck(),super.clearChangedOptions()}_setOption(t,i){let r=this._idh.setupSingle(t,i),o=null!==this._idh.getChanges(t,i);(r||o)&&super._setOption(t,i)}}return e.\u0275fac=function(t){return new(t||e)(u.Y36(u.SBq),u.Y36(u.R0b),u.Y36(vn),u.Y36(Ti),u.Y36(ns),u.Y36(D),u.Y36(ko),u.Y36(u.Lbi))},e.\u0275cmp=u.Xpm({type:e,selectors:[["dx-text-box"]],contentQueries:function(t,i,r){if(1&t&&u.Suo(r,Yy,4),2&t){let o;u.iGM(o=u.CRH())&&(i.buttonsChildren=o)}},hostBindings:function(t,i){1&t&&u.NdJ("valueChange",function(o){return i.change(o)})("onBlur",function(o){return i.touched(o)})},inputs:{accessKey:"accessKey",activeStateEnabled:"activeStateEnabled",buttons:"buttons",disabled:"disabled",elementAttr:"elementAttr",focusStateEnabled:"focusStateEnabled",height:"height",hint:"hint",hoverStateEnabled:"hoverStateEnabled",inputAttr:"inputAttr",isValid:"isValid",label:"label",labelMode:"labelMode",mask:"mask",maskChar:"maskChar",maskInvalidMessage:"maskInvalidMessage",maskRules:"maskRules",maxLength:"maxLength",mode:"mode",name:"name",placeholder:"placeholder",readOnly:"readOnly",rtlEnabled:"rtlEnabled",showClearButton:"showClearButton",showMaskMode:"showMaskMode",spellcheck:"spellcheck",stylingMode:"stylingMode",tabIndex:"tabIndex",text:"text",useMaskedValue:"useMaskedValue",validationError:"validationError",validationErrors:"validationErrors",validationMessageMode:"validationMessageMode",validationMessagePosition:"validationMessagePosition",validationStatus:"validationStatus",value:"value",valueChangeEvent:"valueChangeEvent",visible:"visible",width:"width"},outputs:{onChange:"onChange",onContentReady:"onContentReady",onCopy:"onCopy",onCut:"onCut",onDisposing:"onDisposing",onEnterKey:"onEnterKey",onFocusIn:"onFocusIn",onFocusOut:"onFocusOut",onInitialized:"onInitialized",onInput:"onInput",onKeyDown:"onKeyDown",onKeyUp:"onKeyUp",onOptionChanged:"onOptionChanged",onPaste:"onPaste",onValueChanged:"onValueChanged",accessKeyChange:"accessKeyChange",activeStateEnabledChange:"activeStateEnabledChange",buttonsChange:"buttonsChange",disabledChange:"disabledChange",elementAttrChange:"elementAttrChange",focusStateEnabledChange:"focusStateEnabledChange",heightChange:"heightChange",hintChange:"hintChange",hoverStateEnabledChange:"hoverStateEnabledChange",inputAttrChange:"inputAttrChange",isValidChange:"isValidChange",labelChange:"labelChange",labelModeChange:"labelModeChange",maskChange:"maskChange",maskCharChange:"maskCharChange",maskInvalidMessageChange:"maskInvalidMessageChange",maskRulesChange:"maskRulesChange",maxLengthChange:"maxLengthChange",modeChange:"modeChange",nameChange:"nameChange",placeholderChange:"placeholderChange",readOnlyChange:"readOnlyChange",rtlEnabledChange:"rtlEnabledChange",showClearButtonChange:"showClearButtonChange",showMaskModeChange:"showMaskModeChange",spellcheckChange:"spellcheckChange",stylingModeChange:"stylingModeChange",tabIndexChange:"tabIndexChange",textChange:"textChange",useMaskedValueChange:"useMaskedValueChange",validationErrorChange:"validationErrorChange",validationErrorsChange:"validationErrorsChange",validationMessageModeChange:"validationMessageModeChange",validationMessagePositionChange:"validationMessagePositionChange",validationStatusChange:"validationStatusChange",valueChange:"valueChange",valueChangeEventChange:"valueChangeEventChange",visibleChange:"visibleChange",widthChange:"widthChange",onBlur:"onBlur"},features:[u._Bn([vn,Ti,dZ,D,ns]),u.qOj,u.TTD],decls:0,vars:0,template:function(t,i){},encapsulation:2}),e})(),Iw=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=u.oAB({type:e}),e.\u0275inj=u.cJS({imports:[[$u,O_,Wl,ji],$u,O_,ji]}),e})();class pZ extends Cw{constructor(n,t,i){super(n,t,i),this.currentTemplate=null}_attachEvents(n){var{editor:t}=this;n.option("onClick",i=>{var r;(null!==(r=t._shouldCallOpenHandler)&&void 0!==r&&r.call(t)||!t.option("openOnFieldClick"))&&t._openHandler(i)}),R.on(n.$element(),"mousedown",i=>{t.$element().is(".dx-state-focused")&&i.preventDefault()})}_create(){var{editor:n}=this,t=x("<div>"),i=this._getOptions();this._addToContainer(t);var r=n._createComponent(t,Ui,A({},i,{elementAttr:{"aria-label":J.format("dxDropDownEditor-selectLabel")}}));return this._legacyRender(n.$element(),t,i.visible),{$element:t,instance:r}}_getOptions(){var{editor:n}=this,t=this._isVisible(),r={focusStateEnabled:!1,hoverStateEnabled:!1,activeStateEnabled:!1,useInkRipple:!1,disabled:n.option("readOnly"),visible:t};return this._addTemplate(r),r}_isVisible(){var{editor:n}=this;return super._isVisible()&&n.option("showDropDownButton")}_legacyRender(n,t,i){n.toggleClass("dx-dropdowneditor-button-visible",i),t&&t.removeClass("dx-button").addClass("dx-dropdowneditor-button")}_isSameTemplate(){return this.editor.option("dropDownButtonTemplate")===this.currentTemplate}_addTemplate(n){this._isSameTemplate()||(n.template=this.editor._getTemplateByOption("dropDownButtonTemplate"),this.currentTemplate=this.editor.option("dropDownButtonTemplate"))}update(){if(super.update()){var{editor:t,instance:i}=this,r=t.$element(),o=this._getOptions();i?.option(o),this._legacyRender(r,i?.$element(),o.visible)}}}var Mw="dxResizable",Aw="dx-resizable-handle",Rw="dx-resizable-handle-corner",bZ=fe(ap,Mw),OZ=fe(Vu,Mw),DZ=fe(lp,Mw),SZ={left:"borderLeftWidth",top:"borderTopWidth",right:"borderRightWidth",bottom:"borderBottomWidth"},n$=Ta.inherit({_getDefaultOptions:function(){return A(this.callBase(),{handles:"all",step:"1",stepPrecision:"simple",area:void 0,minWidth:30,maxWidth:1/0,minHeight:30,maxHeight:1/0,onResizeStart:null,onResize:null,onResizeEnd:null,roundStepValue:!0,keepAspectRatio:!0})},_init:function(){this.callBase(),this.$element().addClass("dx-resizable")},_initMarkup:function(){this.callBase(),this._renderHandles()},_render:function(){this.callBase(),this._renderActions()},_renderActions:function(){this._resizeStartAction=this._createActionByOption("onResizeStart"),this._resizeEndAction=this._createActionByOption("onResizeEnd"),this._resizeAction=this._createActionByOption("onResize")},_renderHandles:function(){this._handles=[];var e=this.option("handles");if("none"!==e&&e){var n="all"===e?["top","bottom","left","right"]:e.split(" "),t={};B(n,(i,r)=>{t[r]=!0,this._renderHandle(r)}),t.bottom&&t.right&&this._renderHandle("corner-bottom-right"),t.bottom&&t.left&&this._renderHandle("corner-bottom-left"),t.top&&t.right&&this._renderHandle("corner-top-right"),t.top&&t.left&&this._renderHandle("corner-top-left"),this._attachEventHandlers()}},_renderHandle:function(e){var n=x("<div>").addClass(Aw).addClass(Aw+"-"+e).appendTo(this.$element());this._handles.push(n)},_attachEventHandlers:function(){if(!this.option("disabled")){var e={};e[bZ]=this._dragStartHandler.bind(this),e[OZ]=this._dragHandler.bind(this),e[DZ]=this._dragEndHandler.bind(this),this._handles.forEach(n=>{R.on(n,e,{direction:"both",immediate:!0})})}},_detachEventHandlers:function(){this._handles.forEach(e=>{R.off(e)})},_toggleEventHandlers:function(e){e?this._attachEventHandlers():this._detachEventHandlers()},_getElementSize:function(){var e=this.$element();return"border-box"===e.css("boxSizing")?{width:wt(e),height:_t(e)}:{width:Ze(e),height:gt(e)}},_dragStartHandler:function(e){var n=this.$element();n.is(".dx-state-disabled, .dx-state-disabled *")?e.cancel=!0:(this._toggleResizingClass(!0),this._movingSides=this._getMovingSides(e),this._elementLocation=is(n),this._elementSize=this._getElementSize(),this._renderDragOffsets(e),this._resizeStartAction({event:e,width:this._elementSize.width,height:this._elementSize.height,handles:this._movingSides}),e.targetElements=null)},_toggleResizingClass:function(e){this.$element().toggleClass("dx-resizable-resizing",e)},_renderDragOffsets:function(e){var n=this._getArea();if(n){var t=x(e.target).closest("."+Aw),i=wt(t),r=_t(t),o=t.offset(),s=n.offset,l=this._getAreaScrollOffset();e.maxLeftOffset=this._leftMaxOffset=o.left-s.left-l.scrollX,e.maxRightOffset=this._rightMaxOffset=s.left+n.width-o.left-i+l.scrollX,e.maxTopOffset=this._topMaxOffset=o.top-s.top-l.scrollY,e.maxBottomOffset=this._bottomMaxOffset=s.top+n.height-o.top-r+l.scrollY}},_getBorderWidth:function(e,n){if(Sn(e.get(0)))return 0;var t=e.css(SZ[n]);return parseInt(t)||0},_proportionate:function(e,n){var t=this._elementSize;return n*("x"===e?t.width/t.height:t.height/t.width)},_getProportionalDelta:function(e){var{x:n,y:t}=e,i=this._proportionate("y",n);if(i>=t)return{x:n,y:i};var r=this._proportionate("x",t);return r>=n?{x:r,y:t}:{x:0,y:0}},_getDirectionName:function(e){var n=this._movingSides;return"x"===e?n.left?"left":"right":n.top?"top":"bottom"},_fitIntoArea:function(e,n){var t,i=this._getDirectionName(e);return Math.min(n,null!==(t=this["_".concat(i,"MaxOffset")])&&void 0!==t?t:1/0)},_fitDeltaProportionally:function(e){var n=de({},e),t=this._elementSize,{minWidth:i,minHeight:r,maxWidth:o,maxHeight:s}=this.option(),l=()=>t.width+n.x,h=()=>t.height+n.y,g=E=>n[E]===this._fitIntoArea(E,n[E]),_=()=>va(l(),i,o)&&g("x"),v=()=>va(h(),r,s)&&g("y");if(!_()){var C=this._fitIntoArea("x",cn(l(),i,o)-t.width);n={x:C,y:this._proportionate("y",C)}}if(!v()){var b=this._fitIntoArea("y",cn(h(),r,s)-t.height);n={x:this._proportionate("x",b),y:b}}return _()&&v()?n:{x:0,y:0}},_fitDelta:function(e){var{x:n,y:t}=e,i=this._elementSize,{minWidth:r,minHeight:o,maxWidth:s,maxHeight:l}=this.option();return{x:cn(i.width+n,r,s)-i.width,y:cn(i.height+t,o,l)-i.height}},_getDeltaByOffset:function(e){var n=this._movingSides,t=this._isCornerHandler(n)&&this.option("keepAspectRatio"),i={x:e.x*(n.left?-1:1),y:e.y*(n.top?-1:1)};if(t){var r=this._getProportionalDelta(i);i=this._fitDeltaProportionally(r)}else{var s=this._fitDelta(i);i=this._roundByStep(s)}return i},_updatePosition:function(e,n){var{width:t,height:i}=n,r=this._elementLocation,o=this._movingSides,s=this.$element(),l=this._getElementSize();Mi(s,{top:r.top+(o.top?e.y*(o.top?-1:1)-((l.height||i)-i):0),left:r.left+(o.left?e.x*(o.left?-1:1)-((l.width||t)-t):0)})},_dragHandler:function(e){var n=this._getOffset(e),t=this._getDeltaByOffset(n),i=this._updateDimensions(t);this._updatePosition(t,i),this._triggerResizeAction(e,i)},_updateDimensions:function(e){var n=g=>"px"===g.substring(g.length-2),t="strict"===this.option("stepPrecision"),i=this._elementSize,r=i.width+e.x,o=i.height+e.y,s=this.$element().get(0).style,l=e.x||t||n(s.width),h=e.y||t||n(s.height);return l&&this.option({width:r}),h&&this.option({height:o}),{width:l?r:i.width,height:h?o:i.height}},_triggerResizeAction:function(e,n){var{width:t,height:i}=n;this._resizeAction({event:e,width:this.option("width")||t,height:this.option("height")||i,handles:this._movingSides}),Qo(this.$element())},_isCornerHandler:e=>0===Object.values(e).reduce((n,t)=>n^t,0),_getOffset:function(e){var n=e.offset,t=this._movingSides;return!t.left&&!t.right&&(n.x=0),!t.top&&!t.bottom&&(n.y=0),n},_roundByStep:function(e){return"strict"===this.option("stepPrecision")?this._roundStrict(e):this._roundNotStrict(e)},_getSteps:function(){return PD(this.option("step"),!this.option("roundStepValue"))},_roundNotStrict:function(e){var n=this._getSteps();return{x:e.x-e.x%n.h,y:e.y-e.y%n.v}},_roundStrict:function(e){var n=this._movingSides,t={x:e.x*(n.left?-1:1),y:e.y*(n.top?-1:1)},i=this._getSteps(),r=this._elementLocation,o=this._elementSize,h=((n.left?r.left:r.left+o.width)+t.x)%i.h,g=((n.top?r.top:r.top+o.height)+t.y)%i.v,_=Math.sign||(k=>0==(k=+k)||isNaN(k)?k:k>0?1:-1),v=(k,L)=>(1+.2*_(L))%1*k,C=(k,L)=>Math.abs(k)<.2*L,b=t.x-h,E=t.y-g;h>v(i.h,t.x)&&(b+=i.h),g>v(i.v,t.y)&&(E+=i.v);var w=!n.left&&!n.right||C(t.x,i.h)?0:b,M=!n.top&&!n.bottom||C(t.y,i.v)?0:E;return{x:w*(n.left?-1:1),y:M*(n.top?-1:1)}},_getMovingSides:function(e){var n=x(e.target),t=n.hasClass(Rw+"-top-left"),i=n.hasClass(Rw+"-top-right"),r=n.hasClass(Rw+"-bottom-left"),o=n.hasClass(Rw+"-bottom-right");return{top:n.hasClass("dx-resizable-handle-top")||t||i,left:n.hasClass("dx-resizable-handle-left")||t||r,bottom:n.hasClass("dx-resizable-handle-bottom")||r||o,right:n.hasClass("dx-resizable-handle-right")||i||o}},_getArea:function(){var e=this.option("area");return Re(e)&&(e=e.call(this)),ft(e)?this._getAreaFromObject(e):this._getAreaFromElement(e)},_getAreaScrollOffset:function(){var e=this.option("area"),t={scrollY:0,scrollX:0};if(!Re(e)&&!ft(e)){var i=x(e)[0];Sn(i)&&(t.scrollX=i.pageXOffset,t.scrollY=i.pageYOffset)}return t},_getAreaFromObject:function(e){var n={width:e.right-e.left,height:e.bottom-e.top,offset:{left:e.left,top:e.top}};return this._correctAreaGeometry(n),n},_getAreaFromElement:function(e){var t,n=x(e);return n.length&&(t={width:gC(n),height:Tf(n),offset:A({top:0,left:0},Sn(n[0])?{}:n.offset())},this._correctAreaGeometry(t,n)),t},_correctAreaGeometry:function(e,n){var t=n?this._getBorderWidth(n,"left"):0,i=n?this._getBorderWidth(n,"top"):0;e.offset.left+=t+this._getBorderWidth(this.$element(),"left"),e.offset.top+=i+this._getBorderWidth(this.$element(),"top"),e.width-=wt(this.$element())-gC(this.$element()),e.height-=_t(this.$element())-Tf(this.$element())},_dragEndHandler:function(e){var n=this.$element();this._resizeEndAction({event:e,width:wt(n),height:_t(n),handles:this._movingSides}),this._toggleResizingClass(!1)},_renderWidth:function(e){this.option("width",cn(e,this.option("minWidth"),this.option("maxWidth")))},_renderHeight:function(e){this.option("height",cn(e,this.option("minHeight"),this.option("maxHeight")))},_optionChanged:function(e){switch(e.name){case"disabled":this._toggleEventHandlers(!e.value),this.callBase(e);break;case"handles":this._invalidate();break;case"minWidth":case"maxWidth":rt()&&this._renderWidth(wt(this.$element()));break;case"minHeight":case"maxHeight":rt()&&this._renderHeight(_t(this.$element()));break;case"onResize":case"onResizeStart":case"onResizeEnd":this._renderActions();break;case"area":case"stepPrecision":case"step":case"roundStepValue":case"keepAspectRatio":break;default:this.callBase(e)}},_clean:function(){this.$element().find("."+Aw).remove()},_useTemplates:function(){return!1}});Dt(Mw,n$);const EZ=n$;var wZ=Nr.add,i$="DEVEXTREME_XHR_ERROR_UNLOAD",jl=function(e){return Array.isArray(e)||(e=[e]),Fn(e,function(n){var t={selector:Re(n)||"string"==typeof n?n:n.getter||n.field||n.selector,desc:!(!n.desc&&"d"!==String(n.dir).charAt(0).toLowerCase())};return n.compare&&(t.compare=n.compare),t})},TZ=function(){var n,e={timeout:"Network connection timeout",error:"Unspecified network error",parsererror:"Unexpected server response"};return wZ(function(){var t=ut();se.listen(t,"beforeunload",function(){n=!0})}),function(t,i){return n?i$:t.status<400?e[r=i]||r:t.statusText;var r}}(),sk={count:{seed:0,step:function(e){return 1+e}},sum:{seed:0,step:function(e,n){return e+n}},min:{step:function(e,n){return n<e?n:e}},max:{step:function(e,n){return n>e?n:e}},avg:{seed:[0,0],step:function(e,n){return[e[0]+n,e[1]+1]},finalize:function(e){return e[1]?e[0]/e[1]:NaN}}},MZ=function(){var n,e=0;return{obtain:function(){0===e&&(n=new W),e++},release:function(){--e<1&&n.resolve()},promise:function(){return(0===e?(new W).resolve():n).promise()},reset:function(){e=0,n&&n.resolve()}}}(),Jy=function(e,n,t){if(Array.isArray(e)){for(var r,i=Fn(n,function(s,l){return l}),o=0;o<i.length;o++)if(!Jt(n[r=i[o]],t[r],{strict:!1}))return!1;return!0}return Jt(n,t,{strict:!1})},D_=function(){var e=new W;return e.resolve.apply(e,arguments).promise()},r$=function(){var e=new W;return e.reject.apply(e,arguments).promise()};var si=Vv(zt.ERROR_MESSAGES,{E4000:"[DevExpress.data]: {0}",E4001:"Unknown aggregating function is detected: '{0}'",E4002:"Unsupported OData protocol version is used",E4003:"Unknown filter operation is used: {0}",E4004:"The thenby() method is called before the sortby() method",E4005:"Store requires a key expression for this operation",E4006:"ArrayStore 'data' option must be an array",E4007:"Compound keys cannot be auto-generated",E4008:"Attempt to insert an item with a duplicated key",E4009:"Data item cannot be found",E4010:"CustomStore does not support creating queries",E4011:"Custom Store method is not implemented or is not a function: {0}",E4012:"Custom Store method returns an invalid value: {0}",E4013:"Local Store requires the 'name' configuration option is specified",E4014:"Unknown data type is specified for ODataStore: {0}",E4015:"Unknown entity name or alias is used: {0}",E4016:"The compileSetter(expr) method is called with 'self' passed as a parameter",E4017:"Keys cannot be modified",E4018:"The server has returned a non-numeric value in a response to an item count request",E4019:"Mixing of group operators inside a single group of filter expression is not allowed",E4020:"Unknown store type is detected: {0}",E4021:"The server response does not provide the totalCount value",E4022:"The server response does not provide the groupCount value",E4023:"Could not parse the following XML: {0}",E4024:"String function {0} cannot be used with the data field {1} of type {2}.",W4000:"Data returned from the server has an incorrect structure",W4001:'The {0} field is listed in both "keyType" and "fieldTypes". The value of "fieldTypes" is used.',W4002:"Data loading has failed for some cells due to the following error: {0}"}),ak=function(e){var n;null===(n=null)||void 0===n||n(e)};function s$(e,n,t,i){var o;if(i){for(var s=0;s<n.length;s++)if(o=s$(e,n[s].items||n[s].collapsedItems||[]||[],t,i-1))return o}else if(hp(e,n,t)>=0)return n}function HZ(e,n,t,i){return i?s$(e,n,t,i)||[]:n}function a$(e,n,t){e._dataByKeyMap&&(e._dataByKeyMap[JSON.stringify(n)]=t,e._dataByKeyMapLength+=t?1:-1)}function l$(e,n,t){t=t||new WeakMap;var i=e?Object.create(Object.getPrototypeOf(e)):{};e&&t.set(e,i);var r=de({},e);for(var o in Ei(i,r,!0,!0),r){var s=r[o],l=n?.[o];qe(s)&&!ft(s)&&qe(l)&&!t.has(s)&&(i[o]=l$(s,l,t))}for(var h in i){var g=i[h];qe(g)&&t.has(g)&&(i[h]=t.get(g))}return i}function Zu(e,n){var t=l$(e,n);return Ei(t,n,!0,!0)}function Qu(e){var{keyInfo:n,data:t,changes:i,groupCount:r,useInsertIndex:o,immutable:s,disableCache:l,logError:h,skipCopying:g}=e,_=!0===s?[...t]:t;return i.forEach(v=>{var C="insert"===v.type?_:HZ(n,_,v.key,r);switch(!l&&function zZ(e,n){if(e.key()&&(!n._dataByKeyMap||n._dataByKeyMapLength!==n.length)){for(var t={},i=n.length,r=0;r<i;r++)t[JSON.stringify(e.keyOf(n[r]))]=n[r];n._dataByKeyMap=t,n._dataByKeyMapLength=i}}(n,C),v.type){case"update":lk(n,C,v.key,v.data,!0,s,h);break;case"insert":dk(n,C,v.data,o&&T(v.index)?v.index:-1,!0,h,g);break;case"remove":d$(n,C,v.key,!0,h)}}),_}function Pw(e,n,t){return e?n&&si.log(t):r$(si.Error(t))}function lk(e,n,t,i,r,o,s){var l,h=e.key();if(h){if(function NZ(e,n){for(var i="string"==typeof n?n.split():n.slice();i.length;)if(i.shift()in e)return!0;return!1}(i,h)&&!Jy(h,t,e.keyOf(i)))return Pw(r,s,"E4017");if(l=function WZ(e,n){if(e._dataByKeyMap)return e._dataByKeyMap[JSON.stringify(n)]}(n,t),!l){var g=hp(e,n,t);if(g<0)return Pw(r,s,"E4009");if(l=n[g],!0===o&&T(l)){var _=Zu(l,i);return n[g]=_,!r&&D_(_,t)}}}else l=t;if(Ei(l,i,!0),!r)return un().useLegacyStoreResult?D_(t,i):D_(l,t)}function dk(e,n,t,i,r,o,s){var l,h=e.key(),g=ft(t)&&!s?A({},t):t;if(h){if(void 0===(l=e.keyOf(g))||"object"==typeof l&&Pr(l)){if(Array.isArray(h))throw si.Error("E4007");l=g[h]=String(new En)}else if(void 0!==n[hp(e,n,l)])return Pw(r,o,"E4008")}else l=g;if(i>=0?n.splice(i,0,g):n.push(g),a$(n,l,g),!r)return D_(un().useLegacyStoreResult?t:g,l)}function d$(e,n,t,i,r){var o=hp(e,n,t);return o>-1&&(n.splice(o,1),a$(n,t,null)),i?o<0?Pw(i,r,"E4009"):void 0:D_(t)}function hp(e,n,t){var i=e.key();if(!function $Z(e,n){return!e._dataByKeyMap||e._dataByKeyMap[JSON.stringify(n)]}(n,t))return-1;for(var r=0,o=n.length;r<o;r++)if(Jy(i,e.keyOf(n[r]),t))return r;return-1}var Xy=kt.inherit({toArray:function(){var e=[];for(this.reset();this.next();)e.push(this.current());return e},countable:function(){return!1}}),uk=Xy.inherit({ctor:function(e){this.array=e,this.index=-1},next:function(){return this.index+1<this.array.length&&(this.index++,!0)},current:function(){return this.array[this.index]},reset:function(){this.index=-1},toArray:function(){return this.array.slice(0)},countable:function(){return!0},count:function(){return this.array.length}}),Fw=Xy.inherit({ctor:function(e){this.iter=e},next:function(){return this.iter.next()},current:function(){return this.iter.current()},reset:function(){return this.iter.reset()}}),ck=Fw.inherit({ctor:function(e,n){this.callBase(e),this.index=-1,this.mapper=n},current:function(){return this.mapper(this.callBase(),this.index)},next:function(){var e=this.callBase();return e&&this.index++,e}}),hk=Xy.inherit({ctor:function(e,n,t,i){this.langParams=e.langParams,e instanceof ck||((e=new ck(e,this._wrap)).langParams=this.langParams),this.iter=e,this.rules=[{getter:n,desc:t,compare:i,langParams:this.langParams}]},thenBy:function(e,n,t){var i=new hk(this.sortedIter||this.iter,e,n,t);return this.sortedIter||(i.rules=this.rules.concat(i.rules)),i},next:function(){return this._ensureSorted(),this.sortedIter.next()},current:function(){return this._ensureSorted(),this.sortedIter.current()},reset:function(){delete this.sortedIter},countable:function(){return this.sortedIter||this.iter.countable()},count:function(){return this.sortedIter?this.sortedIter.count():this.iter.count()},_ensureSorted:function(){var e=this;e.sortedIter||(B(e.rules,function(){this.getter=Yt(this.getter)}),e.sortedIter=new ck(new uk(this.iter.toArray().sort(function(n,t){return e._compare(n,t)})),e._unwrap))},_wrap:function(e,n){return{index:n,value:e}},_unwrap:function(e){return e.value},_getDefaultCompare:e=>(n,t)=>function(e,n,t){return je(e)&&je(n)&&(null!=t&&t.locale||null!=t&&t.collatorOptions)?new Intl.Collator(t?.locale||void 0,t?.collatorOptions||void 0).compare(e,n):(e=wi(e,!1,t),n=wi(n,!1,t),null===e&&null!==n?-1:null!==e&&null===n||void 0===e&&void 0!==n?1:void 0!==e&&void 0===n||e<n?-1:e>n?1:0)}(n,t,e),_compare:function(e,n){var t=e.index,i=n.index;if((e=e.value)===(n=n.value))return t-i;for(var r=0,o=this.rules.length;r<o;r++){var s=this.rules[r],l=s.getter(e),h=s.getter(n),_=(s.compare||this._getDefaultCompare(s.langParams))(l,h);if(_)return s.desc?-_:_}return t-i}}),pk=function(){var e={},n=r=>wi(r,!1,e),t=function(r){var o;return T(r)?null!==(o=e)&&void 0!==o&&o.locale?r.toLocaleString(e.locale):r.toString():""};function i(r,o,s){return function(l){l=n(r(l));var g,h=""===(g=o)||0===g||!1===g?l===o:l==o;return s&&(h=!h),h}}return function(r,o){return e=o||{},Re(r)?r:function(e){var n=e[0],t=e[1];return!!(Array.isArray(n)||Re(n)&&(Array.isArray(t)||Re(t)||function(e){return"and"===e||"or"===e}(t)))}(r)?(l=[],h=!1,g=!1,B(r,function(){if(Array.isArray(this)||Re(this)){if(l.length>1&&h!==g)throw new si.Error("E4019");l.push(pk(this,e)),h=g,g=!0}else g=function AZ(e){return/^(and|&&|&)$/i.test(e)}(this)}),function(_){for(var v=h,C=0;C<l.length;C++)if(l[C](_)!==h){v=!h;break}return v}):function(e){return"!"===e[0]&&Array.isArray(e[1])}(r)?function(s){var l=s[0],h=pk(s[1],e);if("!"===l)return function(g){return!h(g)};throw si.Error("E4003",l)}(r):function(s){s=function(e){return[e[0],e.length<3?"=":String(e[1]).toLowerCase(),e.length<2||e[e.length-1]]}(s);var l=Yt(s[0]),h=s[1],g=s[2];g=n(g);var _=(v,C)=>(v=n(l(v)),(null!=g&&null!=v||g===v)&&C(v,g));switch(h.toLowerCase()){case"=":return i(l,g);case"<>":return i(l,g,!0);case">":return v=>_(v,(C,b)=>C>b);case"<":return v=>_(v,(C,b)=>C<b);case">=":return v=>_(v,(C,b)=>C>=b);case"<=":return v=>_(v,(C,b)=>C<=b);case"startswith":return function(v){return 0===n(t(l(v))).indexOf(g)};case"endswith":return function(v){var C=n(t(l(v))),b=t(g);if(C.length<b.length)return!1;var E=C.lastIndexOf(g);return-1!==E&&E===C.length-g.length};case"contains":return function(v){return n(t(l(v))).indexOf(g)>-1};case"notcontains":return function(v){return-1===n(t(l(v))).indexOf(g)}}throw si.Error("E4003",h)}(r);var l,h,g}}(),UZ=Fw.inherit({ctor:function(e,n){this.callBase(e),this.langParams=e.langParams,this.criteria=pk(n,this.langParams)},next:function(){for(;this.iter.next();)if(this.criteria(this.current()))return!0;return!1}}),jZ=Xy.inherit({ctor:function(e,n){this.iter=e,this.getter=n},next:function(){return this._ensureGrouped(),this.groupedIter.next()},current:function(){return this._ensureGrouped(),this.groupedIter.current()},reset:function(){delete this.groupedIter},countable:function(){return!!this.groupedIter},count:function(){return this.groupedIter.count()},_ensureGrouped:function(){if(!this.groupedIter){var e={},n=[],t=this.iter,i=Yt(this.getter);for(t.reset();t.next();){var r=t.current(),o=i(r);o in e?e[o].push(r):(e[o]=[r],n.push(o))}this.groupedIter=new uk(Fn(n,function(s){return{key:s,items:e[s]}}))}}}),KZ=Fw.inherit({ctor:function(e,n){this.callBase(e),this.getter=Yt(n)},current:function(){return this.getter(this.callBase())},countable:function(){return this.iter.countable()},count:function(){return this.iter.count()}}),YZ=Fw.inherit({ctor:function(e,n,t){this.callBase(e),this.skip=Math.max(0,n),this.take=Math.max(0,t),this.pos=0},next:function(){if(this.pos>=this.skip+this.take)return!1;for(;this.pos<this.skip&&this.iter.next();)this.pos++;return this.pos++,this.iter.next()},reset:function(){this.callBase(),this.pos=0},countable:function(){return this.iter.countable()},count:function(){return Math.min(this.iter.count()-this.skip,this.take)}});const kw=function e(n,t){t=t||{},n instanceof Xy||(n=new uk(n)),t.langParams&&(n.langParams=t.langParams);var i=function(g){var _=t.errorHandler;_&&_(g),ak(g)},r=function(g){var _=(new W).fail(i),C=g.step,b=g.finalize;try{n.reset();for(var E=("seed"in g?g.seed:n.next()?n.current():NaN);n.next();)E=C(E,n.current());_.resolve(b?b(E):E)}catch(w){_.reject(w)}return _.promise()},o=function(g){return r(sk[g])},s=function(g){return!Re(g)&&!Array.isArray(g)&&(g=[].slice.call(arguments)),h(new KZ(n,g))},l=function(g){return s(Yt(g))};function h(g){return e(g,t)}return{toArray:function(){return n.toArray()},enumerate:function(){var g=(new W).fail(i);try{g.resolve(n.toArray())}catch(_){g.reject(_)}return g.promise()},setLangParams(g){n.langParams=g},sortBy:function(g,_,v){return h(new hk(n,g,_,v))},thenBy:function(g,_,v){if(n instanceof hk)return h(n.thenBy(g,_,v));throw si.Error("E4004")},filter:function(g){return Array.isArray(g)||(g=[].slice.call(arguments)),h(new UZ(n,g))},slice:function(g,_){return void 0===_&&(_=Number.MAX_VALUE),h(new YZ(n,g,_))},select:s,groupBy:function(g){return h(new jZ(n,g))},aggregate:function(g,_,v){return r(arguments.length<2?{step:arguments[0]}:{seed:g,step:_,finalize:v})},count:function(){if(n.countable()){var g=(new W).fail(i);try{g.resolve(n.count())}catch(_){g.reject(_)}return g.promise()}return o("count")},sum:function(g){return g?l(g).sum():o("sum")},min:function(g){return g?l(g).min():o("min")},max:function(g){return g?l(g).max():o("max")},avg:function(g){return g?l(g).avg():o("avg")}}};function gk(e,n){return e=e.groupBy(n[0].selector),n.length>1&&(e=e.select(function(t){return A({},t,{items:gk(kw(t.items),n.slice(1)).toArray()})})),e}function u$(e,n){var t=[];return B(e,function(i,r){Ii(n,function(s){return r.selector===s.selector}).length<1&&t.push(r)}),t.concat(n)}const Kl={multiLevelGroup:gk,arrangeSortingInfo:u$,queryByOptions:function JZ(e,n,t){var i,o,s,r=(n=n||{}).filter;if(null!==(i=n)&&void 0!==i&&i.langParams&&(null===(o=(s=e).setLangParams)||void 0===o||o.call(s,n.langParams)),r&&(e=e.filter(r)),t)return e;var l=n.sort,h=n.select,g=n.group,_=n.skip,v=n.take;return g&&((g=jl(g)).keepInitialKeyOrder=!!n.group.keepInitialKeyOrder),(l||g)&&(l=jl(l||[]),g&&!g.keepInitialKeyOrder&&(l=u$(g,l)),B(l,function(C){e=e[C?"thenBy":"sortBy"](this.selector,this.desc,this.compare)})),h&&(e=e.select(h)),g&&(e=gk(e,g)),(v||_)&&(e=e.slice(_||0,v)),e}};var Zy=kt.abstract,c$=Kl.queryByOptions,fk={},S_=kt.inherit({_langParams:{},ctor:function(e){var n=this;e=e||{},this._eventsStrategy=new qo(this),B(["onLoaded","onLoading","onInserted","onInserting","onUpdated","onUpdating","onPush","onRemoved","onRemoving","onModified","onModifying"],function(t,i){i in e&&n.on(i.slice(2).toLowerCase(),e[i])}),this._key=e.key,this._errorHandler=e.errorHandler,this._useDefaultSearch=!0},_clearCache:U,_customLoadOptions:function(){return null},key:function(){return this._key},keyOf:function(e){return this._keyGetter||(this._keyGetter=Yt(this.key())),this._keyGetter(e)},_requireKey:function(){if(!this.key())throw si.Error("E4005")},load:function(e){var n=this;return this._eventsStrategy.fireEvent("loading",[e=e||{}]),this._withLock(this._loadImpl(e)).done(function(t){n._eventsStrategy.fireEvent("loaded",[t,e])})},_loadImpl:function(e){return Pr(this._langParams)||((e=e||{})._langParams=de({},this._langParams,e._langParams)),c$(this.createQuery(e),e).enumerate()},_withLock:function(e){var n=new W;return e.done(function(){var t=this,i=arguments;MZ.promise().done(function(){n.resolveWith(t,i)})}).fail(function(){n.rejectWith(this,arguments)}),n},createQuery:Zy,totalCount:function(e){return this._totalCountImpl(e)},_totalCountImpl:function(e){return c$(this.createQuery(e),e,!0).count()},byKey:function(e,n){return this._addFailHandlers(this._withLock(this._byKeyImpl(e,n)))},_byKeyImpl:Zy,insert:function(e){var n=this;return n._eventsStrategy.fireEvent("modifying"),n._eventsStrategy.fireEvent("inserting",[e]),n._addFailHandlers(n._insertImpl(e).done(function(t,i){n._eventsStrategy.fireEvent("inserted",[t,i]),n._eventsStrategy.fireEvent("modified")}))},_insertImpl:Zy,update:function(e,n){var t=this;return t._eventsStrategy.fireEvent("modifying"),t._eventsStrategy.fireEvent("updating",[e,n]),t._addFailHandlers(t._updateImpl(e,n).done(function(){t._eventsStrategy.fireEvent("updated",[e,n]),t._eventsStrategy.fireEvent("modified")}))},_updateImpl:Zy,push:function(e){var n={changes:e,waitFor:[]};this._eventsStrategy.fireEvent("beforePush",[n]),ke(...n.waitFor).done(()=>{this._pushImpl(e),this._eventsStrategy.fireEvent("push",[e])})},_pushImpl:U,remove:function(e){var n=this;return n._eventsStrategy.fireEvent("modifying"),n._eventsStrategy.fireEvent("removing",[e]),n._addFailHandlers(n._removeImpl(e).done(function(t){n._eventsStrategy.fireEvent("removed",[t]),n._eventsStrategy.fireEvent("modified")}))},_removeImpl:Zy,_addFailHandlers:function(e){return e.fail(this._errorHandler).fail(ak)},on(e,n){return this._eventsStrategy.on(e,n),this},off(e,n){return this._eventsStrategy.off(e,n),this}});S_.create=function(e,n){if(!(e in fk))throw si.Error("E4020",e);return new fk[e](n)},S_.registerClass=function(e,n){return n&&(fk[n]=e),e},S_.inherit=function(e){return function(n,t){var i=e.apply(this,[n]);return S_.registerClass(i,t),i}}(S_.inherit);const Qy=S_;var h$="totalCount",_k="load";function E_(e){return e&&Re(e.then)}function pp(e){return(new W).resolve(e).promise()}function ex(e,n){if(!Re(n))throw si.Error("E4011",e)}function m$(e){throw si.Error("E4012",e)}function gp(e){return function(t){var i;(i=t instanceof Error?t:new Error(function n(t){var i=t[0];return i&&i.getResponseHeader?TZ(i,t[1]):null}(arguments)||t&&String(t)||"Unknown error")).message!==i$&&e.reject(i)}}function v$(e,n){var i,t=e._loadFunc;return ex(_k,t),i=t.apply(e,[n]),Array.isArray(i)?i=pp(i):null==i?i=pp([]):E_(i)||m$(_k),Gn(i)}function C$(e,n,t,i){if(n.__rawData)i(n.__rawData);else{var r=n.__rawDataPromise||v$(n,t);n._cacheRawData&&(n.__rawDataPromise=r),r.always(function(){delete n.__rawDataPromise}).done(function(o){n._cacheRawData&&(n.__rawData=o),i(o)}).fail(gp(e))}}function y$(e,n,t,i){var r={};"userData"in(t=t||{})&&(r.userData=t.userData),C$(e,n,r,function(o){var l,h,_,v,s=kw(o,{errorHandler:n._errorHandler}),g=[];i||((l=Kl.queryByOptions(s,t))===s?_=o.slice(0):g.push(l.enumerate().done(function(C){_=C}))),(t.requireTotalCount||i)&&((h=Kl.queryByOptions(s,t,!0))===s?v=o.length:g.push(h.count().done(function(C){v=C}))),ke.apply(x,g).done(function(){i?e.resolve(v):t.requireTotalCount?e.resolve(_,{totalCount:v}):e.resolve(_)}).fail(function(C){e.reject(C)})})}var e7=Qy.inherit({ctor:function(e){this.callBase(e=e||{}),this._useDefaultSearch=!!e.useDefaultSearch||"raw"===e.loadMode,this._loadMode=e.loadMode,this._cacheRawData=!1!==e.cacheRawData,this._loadFunc=e[_k],this._totalCountFunc=e[h$],this._byKeyFunc=e.byKey,this._insertFunc=e.insert,this._updateFunc=e.update,this._removeFunc=e.remove},_clearCache(){delete this.__rawData},createQuery:function(){throw si.Error("E4010")},clearRawDataCache:function(){this._clearCache()},_totalCountImpl:function(e){var n=new W;return"raw"!==this._loadMode||this._totalCountFunc?(function XZ(e,n){var i,t=e._totalCountFunc;if(!Re(t))throw si.Error("E4021");return E_(i=t.apply(e,[n]))||(i=Number(i),isFinite(i)||m$(h$),i=pp(i)),Gn(i)}(this,e).done(function(t){n.resolve(Number(t))}).fail(gp(n)),n=this._addFailHandlers(n)):y$(n,this,e,!0),n.promise()},_pushImpl:function(e){this.__rawData&&Qu({keyInfo:this,data:this.__rawData,changes:e})},_loadImpl:function(e){var n=new W;return"raw"===this._loadMode?y$(n,this,e,!1):(v$(this,e).done(function(t,i){n.resolve(t,i)}).fail(gp(n)),n=this._addFailHandlers(n)),n.promise()},_byKeyImpl:function(e,n){var t=new W;return this._byKeyViaLoad()?(this._requireKey(),function QZ(e,n,t){C$(e,n,{},function(i){for(var o,r=n.key(),s=0,l=i.length;s<l;s++)if(o=i[s],Jy(r,n.keyOf(i[s]),t))return void e.resolve(o);e.reject(si.Error("E4009"))})}(t,this,e)):function ZZ(e,n,t){var r,i=e._byKeyFunc;return ex("byKey",i),E_(r=i.apply(e,[n,t]))||(r=pp(r)),Gn(r)}(this,e,n).done(function(i){t.resolve(i)}).fail(gp(t)),t.promise()},_byKeyViaLoad:function(){return"raw"===this._loadMode&&!this._byKeyFunc},_insertImpl:function(e){var i,n=this,t=n._insertFunc,r=new W;return ex("insert",t),E_(i=t.apply(n,[e]))||(i=pp(i)),Gn(i).done(function(o){un().useLegacyStoreResult?r.resolve(e,o):r.resolve(o||e,n.keyOf(o))}).fail(gp(r)),r.promise()},_updateImpl:function(e,n){var i,t=this._updateFunc,r=new W;return ex("update",t),E_(i=t.apply(this,[e,n]))||(i=pp(i)),Gn(i).done(function(o){un().useLegacyStoreResult?r.resolve(e,n):r.resolve(o||n,e)}).fail(gp(r)),r.promise()},_removeImpl:function(e){var t,n=this._removeFunc,i=new W;return ex("remove",n),E_(t=n.apply(this,[e]))||(t=pp()),Gn(t).done(function(){i.resolve(e)}).fail(gp(i)),i.promise()}});const Bw=e7;function x$(e){var n=[],t=!1;function i(){for(;n.length;){t=!0;var o=n.shift()();if(void 0!==o){if(o.then)return void ke(o).always(i);throw zt.Error("E0015")}}t=!1}return{add:function(r,o){e?(n[0]&&o&&o(n[0]),n=[r]):n.push(r),t||i()},busy:function(){return t}}}x$();const t7={};var i7={array:kw,remote:function e(n,t,i){i=i||[],t=t||{};var r=function(l,h){return{name:l,args:h}},o=function(l){var g,_,v,C,b,k,L,h=new W,E=function(k){var L=t.errorHandler;L&&L(k),ak(k),h.reject(k)};function w(k){switch(k.name){case"sortBy":return b=[k.args],!0;case"thenBy":if(!b)throw si.Error("E4004");return b.push(k.args),!0}return!1}try{Re(g=t.adapter)||(g=t7[g]),_=g(t),v=[].concat(i).concat(l);var M=_.optimize;for(M&&M(v);v.length;){if(!w(C=v[0])){if(b){v.unshift(r("multiSort",[b])),b=null;continue}if("enumerate"!==String(C.name)&&(!_[C.name]||!1===_[C.name].apply(_,C.args)))break}v.shift()}L=[],(k=v[0])&&"multiSort"===k.name&&(v.shift(),B(k.args[0],function(){L.push(r(L.length?"thenBy":"sortBy",this))})),v=L.concat(v),_.exec(n).done(function(k,L){if(v.length){var G=kw(k,{errorHandler:t.errorHandler});B(v,function(){G=G[this.name].apply(G,this.args)}),G.done(h.resolve).fail(h.reject)}else h.resolve(k,L)}).fail(E)}catch(k){E(k)}return h.promise()},s={};return B(["sortBy","thenBy","filter","slice","select","groupBy"],function(){var l=String(this);s[l]=function(){return e(n,t,i.concat(r(l,arguments)))}}),B(["count","min","max","sum","avg","aggregate","enumerate"],function(){var l=String(this);s[l]=function(){return o.call(this,r(l,arguments))}}),s}};const zr=function(){var e=Array.isArray(arguments[0])?"array":"remote";return i7[e].apply(this,arguments)};var o7=Qy.inherit({ctor:function(e){e=Array.isArray(e)?{data:e}:e||{},this.callBase(e);var n=e.data;if(n&&!Array.isArray(n))throw si.Error("E4006");this._array=n||[]},createQuery:function(){return zr(this._array,{errorHandler:this._errorHandler})},_byKeyImpl:function(e){var n=hp(this,this._array,e);return-1===n?r$(si.Error("E4009")):D_(this._array[n])},_insertImpl:function(e){return dk(this,this._array,e)},_pushImpl:function(e){Qu({keyInfo:this,data:this._array,changes:e})},_updateImpl:function(e,n){return lk(this,this._array,e,n)},_removeImpl:function(e){return d$(this,this._array,e)},clear:function(){this._eventsStrategy.fireEvent("modifying"),this._array=[],this._eventsStrategy.fireEvent("modified")}},"array");const tx=o7;var s7=["items"],b$="canceled",O$=e=>"pending"===e.state(),D$=e=>{switch(e.length){case 0:return;case 1:return e[0]}return[].slice.call(e)},S$=(e,n,t)=>Array.isArray(e)?n?((e,n,t)=>Fn(e,i=>de({},mn(i,s7),{items:S$(i.items,n-1,t)})))(e,n,t):Fn(e,t):e,E$=(e,n)=>{var t;return null!==(t=e)&&void 0!==t&&t.data&&(n=e,e=e.data),Array.isArray(e)||(e=[e]),{data:e,extra:n}},d7=e=>{var n={};return B(["useDefaultSearch","key","load","loadMode","cacheRawData","byKey","lookup","totalCount","insert","update","remove"],function(){n[this]=e[this],delete e[this]}),new Bw(n)},c7=(e,n)=>new Bw({load:()=>V5.sendRequest({url:e,dataType:"json"}),loadMode:n?.fromUrlLoadMode}),w_=(e,n)=>{var t;return"string"==typeof e&&(e={paginate:!1,store:c7(e,n)}),void 0===e&&(e=[]),void 0===(e=Array.isArray(e)||e instanceof Qy?{store:e}:A({},e)).store&&(e.store=[]),t=e.store,"load"in e?t=d7(e):Array.isArray(t)?t=new tx(t):ft(t)&&(t=(e=>{var n=e.type;return delete e.type,Qy.create(n,e)})(A({},t))),e.store=t,e};class h7{constructor(){this._counter=-1,this._deferreds={}}add(n){return this._counter++,this._deferreds[this._counter]=n,this._counter}remove(n){return delete this._deferreds[n]}cancel(n){return n in this._deferreds&&(this._deferreds[n].reject(b$),!0)}cancelAll(){for(;this._counter>-1;)this.cancel(this._counter),this._counter--}}var Yl=kt.inherit({ctor(e){var n;if(e=w_(e),this._eventsStrategy=new qo(this,{syncStrategy:!0}),this._store=e.store,this._changedTime=0,0!==e.pushAggregationTimeout){var r,o,s=function VZ(e,n){var t=[],i=function LZ(e,n){var t;return function(){return t||(t=setTimeout(()=>{t=void 0,e.call(this)},Re(n)?n():n)),t}}(function(){e.call(this,t),t=[]},n);return function(r){return Array.isArray(r)&&t.push(...r),i.call(this,t)}}(l=>{r.resolve(),ke(...o).done(()=>this._onPush(l)),o=void 0,r=void 0},void 0===e.pushAggregationTimeout?()=>5*this._changedTime:e.pushAggregationTimeout);this._onPushHandler=l=>{this._aggregationTimeoutId=s(l.changes),r||(r=new W),o=l.waitFor,l.waitFor.push(r.promise())},this._store.on("beforePush",this._onPushHandler)}else this._onPushHandler=l=>this._onPush(l),this._store.on("push",this._onPushHandler);this._storeLoadOptions=this._extractLoadOptions(e),this._mapFunc=e.map,this._postProcessFunc=e.postProcess,this._pageIndex=void 0!==e.pageIndex?e.pageIndex:0,this._pageSize=void 0!==e.pageSize?e.pageSize:20,this._loadingCount=0,this._loadQueue=this._createLoadQueue(),this._searchValue="searchValue"in e?e.searchValue:null,this._searchOperation=e.searchOperation||"contains",this._searchExpr=e.searchExpr,this._paginate=e.paginate,this._reshapeOnPush=null!==(n=e.reshapeOnPush)&&void 0!==n&&n,B(["onChanged","onLoadError","onLoadingChanged","onCustomizeLoadResult","onCustomizeStoreLoadOptions"],(l,h)=>{h in e&&this.on(h.substr(2,1).toLowerCase()+h.substr(3),e[h])}),this._operationManager=new h7,this._init()},_init(){this._items=[],this._userData={},this._totalCount=-1,this._isLoaded=!1,T(this._paginate)||(this._paginate=!this.group()),this._isLastPage=!this._paginate},dispose(){var e;this._store.off("beforePush",this._onPushHandler),this._store.off("push",this._onPushHandler),this._eventsStrategy.dispose(),clearTimeout(this._aggregationTimeoutId),null===(e=this._delayedLoadTask)||void 0===e||e.abort(),this._operationManager.cancelAll(),delete this._store,delete this._items,delete this._delayedLoadTask,this._disposed=!0},_extractLoadOptions(e){var n={},t=["sort","filter","langParams","select","group","requireTotalCount"],i=this._store._customLoadOptions();return i&&(t=t.concat(i)),B(t,function(){n[this]=e[this]}),n},loadOptions(){return this._storeLoadOptions},items(){return this._items},pageIndex(e){if(!Vt(e))return this._pageIndex;this._pageIndex=e,this._isLastPage=!this._paginate},paginate(e){if(!dh(e))return this._paginate;this._paginate!==e&&(this._paginate=e,this.pageIndex(0))},pageSize(e){if(!Vt(e))return this._pageSize;this._pageSize=e},isLastPage(){return this._isLastPage},generateStoreLoadOptionAccessor(e){return n=>{var t=D$(n);if(void 0===t)return this._storeLoadOptions[e];this._storeLoadOptions[e]=t}},sort(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];return this.generateStoreLoadOptionAccessor("sort")(n)},filter(){var e=D$(arguments);if(void 0===e)return this._storeLoadOptions.filter;this._storeLoadOptions.filter=e,this.pageIndex(0)},group(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];return this.generateStoreLoadOptionAccessor("group")(n)},select(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];return this.generateStoreLoadOptionAccessor("select")(n)},requireTotalCount(e){if(!dh(e))return this._storeLoadOptions.requireTotalCount;this._storeLoadOptions.requireTotalCount=e},searchValue(e){if(arguments.length<1)return this._searchValue;this._searchValue=e,this.pageIndex(0)},searchOperation(e){if(!je(e))return this._searchOperation;this._searchOperation=e,this.pageIndex(0)},searchExpr(e){var n=arguments.length;if(0===n)return this._searchExpr;n>1&&(e=[].slice.call(arguments)),this._searchExpr=e,this.pageIndex(0)},store(){return this._store},key(){var e;return null===(e=this._store)||void 0===e?void 0:e.key()},totalCount(){return this._totalCount},isLoaded(){return this._isLoaded},isLoading(){return this._loadingCount>0},beginLoading(){this._changeLoadingCount(1)},endLoading(){this._changeLoadingCount(-1)},_createLoadQueue:()=>x$(),_changeLoadingCount(e){var n=this.isLoading();this._loadingCount+=e;var t=this.isLoading();n^t&&this._eventsStrategy.fireEvent("loadingChanged",[t])},_scheduleLoadCallbacks(e){this.beginLoading(),e.always(()=>{this.endLoading()})},_scheduleFailCallbacks(e){var n=this;e.fail(function(){for(var t=arguments.length,i=new Array(t),r=0;r<t;r++)i[r]=arguments[r];i[0]!==b$&&n._eventsStrategy.fireEvent("loadError",i)})},_fireChanged(e){var n=new Date;this._eventsStrategy.fireEvent("changed",e),this._changedTime=new Date-n},_scheduleChangedCallbacks(e){e.done(()=>this._fireChanged())},loadSingle(e,n){var t=new W,i=this.key(),r=this._store,o=this._createStoreLoadOptions();return this._scheduleFailCallbacks(t),arguments.length<2&&(n=e,e=i),delete o.skip,delete o.group,delete o.refresh,delete o.pageIndex,delete o.searchString,(e===i||r instanceof Bw&&!r._byKeyViaLoad()?r.byKey(n,o):(o.take=1,o.filter=o.filter?[o.filter,[e,n]]:[e,n],r.load(o))).fail(t.reject).done(s=>{var l=Array.isArray(s)&&!s.length;!T(s)||l?t.reject(new si.Error("E4009")):(Array.isArray(s)||(s=[s]),t.resolve(this._applyMapFunction(s)[0]))}),t.promise()},load(){var e=new W,n=()=>{if(!this._disposed&&O$(e))return this._loadFromStore(t,e)};this._scheduleLoadCallbacks(e),this._scheduleFailCallbacks(e),this._scheduleChangedCallbacks(e);var t=this._createLoadOperation(e);return this._eventsStrategy.fireEvent("customizeStoreLoadOptions",[t]),this._loadQueue.add(()=>("number"==typeof t.delay?this._delayedLoadTask=$v(n,t.delay):n(),e.promise())),e.promise({operationId:t.operationId})},_onPush(e){if(this._reshapeOnPush)this.load();else{var n={changes:e};this._eventsStrategy.fireEvent("changing",[n]);var t=this.group(),i=this.items(),r=0,o=this.paginate()||t?e.filter(s=>"update"===s.type):e;t&&(r=Array.isArray(t)?t.length:1),this._mapFunc&&o.forEach(s=>{"insert"===s.type&&(s.data=this._mapFunc(s.data))}),n.postProcessChanges&&(o=n.postProcessChanges(o)),Qu({keyInfo:this.store(),data:i,changes:o,groupCount:r,useInsertIndex:!0}),this._fireChanged([{changes:e}])}},_createLoadOperation(e){var n=this._operationManager.add(e),t=this._createStoreLoadOptions();return this._store&&!Pr(t?.langParams)&&(this._store._langParams=de({},this._store._langParams,t.langParams)),e.always(()=>this._operationManager.remove(n)),{operationId:n,storeLoadOptions:t}},reload(){return this.store()._clearCache(),this._init(),this.load()},cancel(e){return this._operationManager.cancel(e)},cancelAll(){return this._operationManager.cancelAll()},_addSearchOptions(e){this._disposed||(this.store()._useDefaultSearch?this._addSearchFilter(e):(e.searchOperation=this._searchOperation,e.searchValue=this._searchValue,e.searchExpr=this._searchExpr))},_createStoreLoadOptions(){var e=A({},this._storeLoadOptions);return this._addSearchOptions(e),this._paginate&&this._pageSize&&(e.skip=this._pageIndex*this._pageSize,e.take=this._pageSize),e.userData=this._userData,e},_addSearchFilter(e){var n=this._searchValue,t=this._searchOperation,i=this._searchExpr,r=[];n&&(i||(i="this"),Array.isArray(i)||(i=[i]),B(i,function(o,s){r.length&&r.push("or"),r.push([s,t,n])}),e.filter=e.filter?[r,e.filter]:r)},_loadFromStore(e,n){var t=(i,r)=>{if(!this._disposed&&O$(n)){var o=A(E$(i,r),e);this._eventsStrategy.fireEvent("customizeLoadResult",[o]),ke(o.data).done(s=>{o.data=s,this._processStoreLoadResult(o,n)}).fail(n.reject)}};return e.data?(new W).resolve(e.data).done(t):this.store().load(e.storeLoadOptions).done(t).fail(n.reject)},_processStoreLoadResult(e,n){var t=e.data,i=e.extra,r=e.storeLoadOptions,o=()=>(this._isLoaded=!0,this._totalCount=isFinite(i.totalCount)?i.totalCount:-1,n.resolve(t,i));this._disposed||(t=this._applyPostProcessFunction(this._applyMapFunction(t)),qe(i)||(i={}),this._items=t,(!t.length||!this._paginate||this._pageSize&&t.length<this._pageSize)&&(this._isLastPage=!0),r.requireTotalCount&&!isFinite(i.totalCount)?this.store().totalCount(r).done(function(s){i.totalCount=s,o()}).fail(n.reject):o())},_applyMapFunction(e){return this._mapFunc?((e,n,t)=>{var i=t?jl(t).length:0;return S$(e,i,n)})(e,this._mapFunc,this.group()):e},_applyPostProcessFunction(e){return this._postProcessFunc?this._postProcessFunc(e):e},on(e,n){return this._eventsStrategy.on(e,n),this},off(e,n){return this._eventsStrategy.off(e,n),this}}),p7={load:()=>W().reject(),loadSingle:()=>W().reject(),loadFromStore:()=>W().reject(),loadNextPage:()=>W().reject(),loadOptions:U,userData:U,cancel:U,cancelAll:U,filter:U,addSearchFilter:U,group:U,paginate:U,pageSize:U,pageIndex:U,resetDataSourcePageIndex:U,totalCount:U,isLastPage:U,isLoading:U,isLoaded:U,searchValue:U,searchOperation:U,searchExpr:U,select:U,key:U,keyOf:U,store:U,items:U,applyMapFunction:U,getDataSource:U,reload:U,on:U,off:U};var w$="_dataSourceOptions",I$="_dataSourceChangedHandler",T$="_dataSourceLoadErrorHandler",M$="_dataSourceLoadingChangedHandler",A$="_dataSourceFromUrlLoadMode",R$="_getSpecificDataSourceOption",P$="_normalizeDataSource",_7={postCtor:function(){this.on("disposing",function(){this._disposeDataSource()}.bind(this))},_refreshDataSource:function(){this._initDataSource(),this._loadDataSource()},_initDataSource:function(){var n,t,e=R$ in this?this[R$]():this.option("dataSource");this._disposeDataSource(),e&&(e instanceof Yl?(this._isSharedDataSource=!0,this._dataSource=e):(n=w$ in this?this[w$]():{},t=this._dataSourceType?this._dataSourceType():Yl,e=w_(e,{fromUrlLoadMode:A$ in this&&this[A$]()}),this._dataSource=new t(A(!0,{},n,e))),P$ in this&&(this._dataSource=this[P$](this._dataSource)),this._addDataSourceHandlers(),this._initDataController())},_initDataController:function(){var e,n=null===(e=this.option)||void 0===e?void 0:e.call(this,"_dataController");this._dataController=n||new class g7{constructor(n){if(!n)return p7;this._dataSource=n}load(){return this._dataSource.load()}loadSingle(n,t){return arguments.length<2&&(t=n,n=this.key()),this._dataSource.loadSingle(n,t)}loadFromStore(n){return this.store().load(n)}loadNextPage(){return this.pageIndex(1+this.pageIndex()),this.load()}loadOptions(){return this._dataSource.loadOptions()}userData(){return this._dataSource._userData}cancel(n){this._dataSource.cancel(n)}cancelAll(){this._dataSource.cancelAll()}filter(n){return this._dataSource.filter(n)}addSearchFilter(n){this._dataSource._addSearchFilter(n)}group(n){return this._dataSource.group(n)}paginate(){return this._dataSource.paginate()}pageSize(){return this._dataSource._pageSize}pageIndex(n){return this._dataSource.pageIndex(n)}resetDataSourcePageIndex(){this.pageIndex()&&(this.pageIndex(0),this.load())}totalCount(){return this._dataSource.totalCount()}isLastPage(){return this._dataSource.isLastPage()||!this._dataSource._pageSize}isLoading(){return this._dataSource.isLoading()}isLoaded(){return this._dataSource.isLoaded()}searchValue(n){return arguments.length?this._dataSource.searchValue(n):this._dataSource.searchValue()}searchOperation(n){return this._dataSource.searchOperation(n)}searchExpr(n){return arguments.length?this._dataSource.searchExpr(n):this._dataSource.searchExpr()}select(){return this._dataSource.select(...arguments)}key(){return this._dataSource.key()}keyOf(n){return this.store().keyOf(n)}store(){return this._dataSource.store()}items(){return this._dataSource.items()}applyMapFunction(n){return this._dataSource._applyMapFunction(n)}getDataSource(){return this._dataSource||null}reload(){return this._dataSource.reload()}on(n,t){this._dataSource.on(n,t)}off(n,t){this._dataSource.off(n,t)}}(this._dataSource)},_addDataSourceHandlers:function(){I$ in this&&this._addDataSourceChangeHandler(),T$ in this&&this._addDataSourceLoadErrorHandler(),M$ in this&&this._addDataSourceLoadingChangedHandler(),this._addReadyWatcher()},_addReadyWatcher:function(){this._dataSource.on("loadingChanged",function(e){this._ready&&this._ready(!e)}.bind(this))},_addDataSourceChangeHandler:function(){var e=this._dataSource;this._proxiedDataSourceChangedHandler=function(n){this[I$](e.items(),n)}.bind(this),e.on("changed",this._proxiedDataSourceChangedHandler)},_addDataSourceLoadErrorHandler:function(){this._proxiedDataSourceLoadErrorHandler=this[T$].bind(this),this._dataSource.on("loadError",this._proxiedDataSourceLoadErrorHandler)},_addDataSourceLoadingChangedHandler:function(){this._proxiedDataSourceLoadingChangedHandler=this[M$].bind(this),this._dataSource.on("loadingChanged",this._proxiedDataSourceLoadingChangedHandler)},_loadDataSource:function(){var e=this._dataSource;e&&(e.isLoaded()?this._proxiedDataSourceChangedHandler&&this._proxiedDataSourceChangedHandler():e.load())},_loadSingle:function(e,n){return e="this"===e?this._dataSource.key()||"this":e,this._dataSource.loadSingle(e,n)},_isLastPage:function(){return!this._dataSource||this._dataSource.isLastPage()||!this._dataSource._pageSize},_isDataSourceLoading:function(){return this._dataSource&&this._dataSource.isLoading()},_disposeDataSource:function(){this._dataSource&&(this._isSharedDataSource?(delete this._isSharedDataSource,this._proxiedDataSourceChangedHandler&&this._dataSource.off("changed",this._proxiedDataSourceChangedHandler),this._proxiedDataSourceLoadErrorHandler&&this._dataSource.off("loadError",this._proxiedDataSourceLoadErrorHandler),this._proxiedDataSourceLoadingChangedHandler&&this._dataSource.off("loadingChanged",this._proxiedDataSourceLoadingChangedHandler)):this._dataSource.dispose(),delete this._dataSource,delete this._proxiedDataSourceChangedHandler,delete this._proxiedDataSourceLoadErrorHandler,delete this._proxiedDataSourceLoadingChangedHandler)},getDataSource:function(){return this._dataSource||null}};const Lw=_7;var F$=kt.inherit({ctor:function(e,n,t){this._$element=e,this._options=n,this._rawData=t,pS(e,this,this._dispose),this._render()},_render:function(){var e=x("<div>").addClass("dx-item-content-placeholder");this._$element.append(e),this._watchers=[],this._renderWatchers()},_renderWatchers:function(){this._startWatcher("disabled",this._renderDisabled.bind(this)),this._startWatcher("visible",this._renderVisible.bind(this))},_startWatcher:function(e,n){var t=this._rawData,i=this._options.fieldGetter(e),r=function(e,n,t){var r,i=function(o){r!==o&&(t(o,r),r=o)};return{dispose:e(n,i),force:function(){i(n())}}}(this._options.watchMethod(),function(){return i(t)},function(o,s){this._dirty=!0,n(o,s)}.bind(this));this._watchers.push(r)},setDataField:function(){if(this._dirty=!1,B(this._watchers,function(e,n){n.force()}),this._dirty)return!0},_renderDisabled:function(e,n){this._$element.toggleClass("dx-state-disabled",!!e),this._$element.attr("aria-disabled",!!e),this._updateOwnerFocus(e)},_updateOwnerFocus:function(e){var n=this._options.owner;n&&e&&n._resetItemFocus(this._$element)},_renderVisible:function(e,n){this._$element.toggleClass("dx-state-invisible",void 0!==e&&!e)},_dispose:function(){B(this._watchers,function(e,n){n.dispose()})}});F$.getInstance=function(e){return gS(e,this)};const I_=F$;var k$=Math.abs,mk="dxhold",b7=ZE.inherit({start:function(e){this._startEventData=In(e),this._startTimer(e)},_startTimer:function(e){var n="timeout"in this?this.timeout:750;this._holdTimer=setTimeout(function(){this._requestAccept(e),this._fireEvent(mk,e,{target:e.target}),this._forgetAccept()}.bind(this),n)},move:function(e){this._touchWasMoved(e)&&this._cancel(e)},_touchWasMoved:function(e){var n=Au(this._startEventData,In(e));return k$(n.x)>5||k$(n.y)>5},end:function(){this._stopTimer()},_stopTimer:function(){clearTimeout(this._holdTimer)},cancel:function(){this._stopTimer()},dispose:function(){this._stopTimer()}});m_({emitter:b7,bubble:!0,events:[mk]});const ec_name=mk;var vk="dxContexMenu",O7=fe("contextmenu",vk),D7=fe(ec_name,vk),Ck="dxcontextmenu",S7=kt.inherit({setup:function(e){var n=x(e);R.on(n,O7,this._contextMenuHandler.bind(this)),(_e||$e.isSimulator())&&R.on(n,D7,this._holdHandler.bind(this))},_holdHandler:function(e){ba(e)&&!$e.isSimulator()||this._fireContextMenu(e)},_contextMenuHandler:function(e){this._fireContextMenu(e)},_fireContextMenu:function(e){return Al({type:Ck,originalEvent:e})},teardown:function(e){R.off(e,"."+vk)}});Hi(Ck,new S7);var L$=Ck;class fp extends Hr{constructor(n,t,i,r){super(),this._render=n,this._fields=t,this._fieldsMap=r||{},this._watchMethod=i}_renderCore(n){var t=x(n.container),i=function(e,n,t,i,r){var o,l,s=(l=e,n(()=>l,function(l){var h,g,_,v,C,b,E,w;o&&o(),cu(l)?r(l):(h=l,g=n,v=i,C=r,b={},E=(_=t).slice(),w=_.map(function(M){var k=v[M];return g(k?()=>k(h):()=>h[M],function(L){if(b[M]=L,E.length){var G=E.indexOf(M);G>=0&&E.splice(G,1)}E.length||C(b)})}),o=function(){w.forEach(M=>M())})}));return function(){o&&o(),s&&s()}}(n.model,this._watchMethod,this._fields,this._fieldsMap,r=>{t.empty(),this._render(t,r,n.model)});return R.on(t,Ko,i),t.contents()}}var Vw="dx-item",V$="-content",N$="dx-item-content-placeholder",H$="dx-template-wrapper",k7=/^([^.]+\[\d+\]\.)+([\w.]+)$/,xk="down",U$=Ki.inherit({_activeStateUnit:"."+Vw,_supportedKeys:function(){var e=function(n,t){Un(t)||(t.preventDefault(),t.stopPropagation(),this._moveFocus(n,t))};return A(this.callBase(),{space:function(n){n.preventDefault(),this._enterKeyHandler(n)},enter:this._enterKeyHandler,leftArrow:e.bind(this,"left"),rightArrow:e.bind(this,"right"),upArrow:e.bind(this,"up"),downArrow:e.bind(this,xk),pageUp:e.bind(this,"up"),pageDown:e.bind(this,xk),home:e.bind(this,"first"),end:e.bind(this,"last")})},_enterKeyHandler:function(e){var n=x(this.option("focusedElement"));if(n.length){var t=this._getItemData(n);null!=t&&t.onClick&&this._itemEventHandlerByHandler(n,t.onClick,{event:e}),this._itemClickHandler(A({},e,{target:n.get(0),currentTarget:n.get(0)}))}},_getDefaultOptions:function(){return A(this.callBase(),{selectOnFocus:!1,loopItemFocus:!0,items:[],itemTemplate:"item",onItemRendered:null,onItemClick:null,onItemHold:null,itemHoldTimeout:750,onItemContextMenu:null,onFocusedItemChanged:null,noDataText:J.format("dxCollectionWidget-noDataText"),encodeNoDataText:!1,dataSource:null,_dataController:null,_itemAttributes:{},itemTemplateProperty:"template",focusOnSelectedItem:!0,focusedElement:null,displayExpr:void 0,disabledExpr:function(e){return e?e.disabled:void 0},visibleExpr:function(e){return e?e.visible:void 0}})},_init:function(){this._compileDisplayGetter(),this._initDataController(),this.callBase(),this._cleanRenderedItems(),this._refreshDataSource()},_compileDisplayGetter:function(){var e=this.option("displayExpr");this._displayGetter=e?Yt(this.option("displayExpr")):void 0},_initTemplates:function(){this._initItemsFromMarkup(),this._initDefaultItemTemplate(),this.callBase()},_getAnonymousTemplateName:function(){return"item"},_initDefaultItemTemplate:function(){var e=this._getFieldsMap();this._templateManager.addDefaultTemplates({item:new fp(function(n,t){ft(t)?this._prepareDefaultItemTemplate(t,n):(e&&Re(e.text)&&(t=e.text(t)),n.text(String(Cn(t,""))))}.bind(this),this._getBindableFields(),this.option("integrationOptions.watchMethod"),e)})},_getBindableFields:function(){return["text","html"]},_getFieldsMap:function(){if(this._displayGetter)return{text:this._displayGetter}},_prepareDefaultItemTemplate:function(e,n){T(e.text)&&n.text(e.text),T(e.html)&&n.html(e.html)},_initItemsFromMarkup:function(){var e=Dy(this.$element(),"dxItem");if(e.length&&!this.option("items").length){var n=e.map(t=>{var{element:i,options:r}=t;return/\S/.test(i.innerHTML)&&!r.template?r.template=this._prepareItemTemplate(i):x(i).remove(),r});this.option("items",n)}},_prepareItemTemplate:function(e){var n="tmpl-"+new En,t=x(e).detach().clone().removeAttr("data-options").addClass(H$);return this._saveTemplate(n,t),n},_dataSourceOptions:function(){return{paginate:!1}},_cleanRenderedItems:function(){this._renderedItemsCount=0},_focusTarget:function(){return this.$element()},_focusInHandler:function(e){if(this.callBase.apply(this,arguments),this._isFocusTarget(e.target)){var n=x(this.option("focusedElement"));if(n.length)this._setFocusedItem(n);else{var t=this._getActiveItem();t.length&&this.option("focusedElement",Ke(t))}}},_focusOutHandler:function(){this.callBase.apply(this,arguments);var e=x(this.option("focusedElement"));this._updateFocusedItemState(e,!1)},_findActiveTarget(e){return e.find(this._activeStateUnit)},_getActiveItem:function(e){var n=x(this.option("focusedElement"));if(n.length)return n;var t=this.option("focusOnSelectedItem")?this.option("selectedIndex"):0,i=this._getActiveElement();return t<0&&(t=e?i.length-1:0),i.eq(t)},_moveFocus:function(e){var t,n=this._getAvailableItems();switch(e){case"pageup":case"up":t=this._prevItem(n);break;case"pagedown":case xk:t=this._nextItem(n);break;case"right":t=this.option("rtlEnabled")?this._prevItem(n):this._nextItem(n);break;case"left":t=this.option("rtlEnabled")?this._nextItem(n):this._prevItem(n);break;case"first":t=n.first();break;case"last":t=n.last();break;default:return!1}0!==t.length&&this.option("focusedElement",Ke(t))},_getVisibleItems:function(e){return(e=e||this._itemElements()).filter(":visible")},_getAvailableItems:function(e){return this._getVisibleItems(e)},_prevItem:function(e){var n=this._getActiveItem(),t=e.index(n),i=e.last(),r=x(e[t-1]),o=this.option("loopItemFocus");return 0===r.length&&o&&(r=i),r},_nextItem:function(e){var n=this._getActiveItem(!0),t=e.index(n),i=e.first(),r=x(e[t+1]),o=this.option("loopItemFocus");return 0===r.length&&o&&(r=i),r},_selectFocusedItem:function(e){this.selectItem(e)},_updateFocusedItemState:function(e,n,t){var i=x(e);i.length&&(this._refreshActiveDescendant(),this._refreshItemId(i,t),this._toggleFocusClass(n,i)),this._updateParentActiveDescendant()},_refreshActiveDescendant:function(e){this.setAria("activedescendant",T(this.option("focusedElement"))?this.getFocusedItemId():null,e)},_refreshItemId:function(e,n){!n&&this.option("focusedElement")?this.setAria("id",this.getFocusedItemId(),e):this.setAria("id",null,e)},_isDisabled:e=>e&&"true"===x(e).attr("aria-disabled"),_setFocusedItem:function(e){if(e&&e.length){this._updateFocusedItemState(e,!0),this.onFocusedItemChanged(this.getFocusedItemId());var{selectOnFocus:n}=this.option(),t=this._isDisabled(e);n&&!t&&this._selectFocusedItem(e)}},_findItemElementByItem:function(e){var n=x(),t=this;return this.itemElements().each(function(){var i=x(this);if(i.data(t._itemDataKey())===e)return n=i,!1}),n},_getIndexByItem:function(e){return this.option("items").indexOf(e)},_itemOptionChanged:function(e,n,t,i){var r=this._findItemElementByItem(e);r.length&&(this.constructor.ItemClass.getInstance(r).setDataField(n,t)||this._refreshItem(r,e),"disabled"===n&&t&&this._resetItemFocus(r))},_resetItemFocus(e){e.is(this.option("focusedElement"))&&this.option("focusedElement",null)},_refreshItem:function(e){var n=this._getItemData(e),t=e.data(this._itemIndexKey());this._renderItem(this._renderedItemsCount+t,n,null,e)},_updateParentActiveDescendant:U,_optionChanged:function(e){if("items"===e.name){var n=e.fullName.match(k7);if(n&&n.length){var t=n[n.length-1],i=e.fullName.replace("."+t,""),r=this.option(i);return void this._itemOptionChanged(r,t,e.value,e.previousValue)}}switch(e.name){case"items":case"_itemAttributes":case"itemTemplateProperty":case"useItemTextAsTitle":this._cleanRenderedItems(),this._invalidate();break;case"dataSource":this._refreshDataSource(),this._renderEmptyMessage();break;case"noDataText":case"encodeNoDataText":this._renderEmptyMessage();break;case"itemTemplate":case"visibleExpr":case"disabledExpr":this._invalidate();break;case"onItemRendered":this._createItemRenderAction();break;case"onItemClick":case"selectOnFocus":case"loopItemFocus":case"focusOnSelectedItem":break;case"onItemHold":case"itemHoldTimeout":this._attachHoldEvent();break;case"onItemContextMenu":this._attachContextMenuEvent();break;case"onFocusedItemChanged":this.onFocusedItemChanged=this._createActionByOption("onFocusedItemChanged");break;case"focusedElement":this._updateFocusedItemState(e.previousValue,!1,!0),this._setFocusedItem(x(e.value));break;case"displayExpr":this._compileDisplayGetter(),this._initDefaultItemTemplate(),this._invalidate();break;default:this.callBase(e)}},_invalidate:function(){return this.option("focusedElement",null),this.callBase.apply(this,arguments)},_loadNextPage:function(){return this._expectNextPageLoading(),this._dataController.loadNextPage()},_expectNextPageLoading:function(){this._startIndexForAppendedItems=0},_expectLastItemLoading:function(){this._startIndexForAppendedItems=-1},_forgetNextPageLoading:function(){this._startIndexForAppendedItems=null},_dataSourceChangedHandler:function(e){var n=this.option("items");this._initialized&&n&&this._shouldAppendItems()?(this._renderedItemsCount=n.length,(!this._isLastPage()||-1!==this._startIndexForAppendedItems)&&(this.option().items=n.concat(e.slice(this._startIndexForAppendedItems))),this._forgetNextPageLoading(),this._refreshContent()):this.option("items",e.slice())},_refreshContent:function(){this._prepareContent(),this._renderContent()},_dataSourceLoadErrorHandler:function(){this._forgetNextPageLoading(),this.option("items",this.option("items"))},_shouldAppendItems:function(){return null!=this._startIndexForAppendedItems&&this._allowDynamicItemsAppend()},_allowDynamicItemsAppend:function(){return!1},_clean:function(){this._cleanFocusState(),this._cleanItemContainer(),this._inkRipple&&delete this._inkRipple,this._resetActiveState()},_cleanItemContainer:function(){x(this._itemContainer()).empty()},_dispose:function(){this.callBase(),clearTimeout(this._itemFocusTimeout)},_refresh:function(){this._cleanRenderedItems(),this.callBase.apply(this,arguments)},_itemContainer:function(){return this.$element()},_itemClass:function(){return Vw},_itemContentClass:function(){return this._itemClass()+V$},_selectedItemClass:function(){return"dx-item-selected"},_itemResponseWaitClass:function(){return"dx-item-response-wait"},_itemSelector:function(){return"."+this._itemClass()},_itemDataKey:function(){return"dxItemData"},_itemIndexKey:function(){return"dxItemIndex"},_itemElements:function(){return this._itemContainer().find(this._itemSelector())},_initMarkup:function(){this.callBase(),this.onFocusedItemChanged=this._createActionByOption("onFocusedItemChanged"),this.$element().addClass("dx-collection"),this._prepareContent()},_prepareContent:ha(function(){this._renderContentImpl()}),_renderContent:function(){this._fireContentReadyAction()},_render:function(){this.callBase(),this._attachClickEvent(),this._attachHoldEvent(),this._attachContextMenuEvent()},_getPointerEvent:()=>Rt.down,_attachClickEvent(){var e=this._itemSelector(),n=this._getPointerEvent(),t=fe(Kt,this.NAME),i=fe(n,this.NAME),r=new wa(o=>{var{event:s}=o;this._itemPointerDownHandler(s)});R.off(this._itemContainer(),t,e),R.off(this._itemContainer(),i,e),R.on(this._itemContainer(),t,e,o=>this._itemClickHandler(o)),R.on(this._itemContainer(),i,e,o=>{r.execute({element:x(o.target),event:o})})},_itemClickHandler:function(e,n,t){this._itemDXEventHandler(e,"onItemClick",n,t)},_itemPointerDownHandler:function(e){this.option("focusStateEnabled")&&(this._itemFocusHandler=function(){if(clearTimeout(this._itemFocusTimeout),this._itemFocusHandler=null,!e.isDefaultPrevented()){var n=x(e.target),t=n.closest(this._itemElements()),i=this._closestFocusable(n);t.length&&this._isFocusTarget(i?.get(0))&&this.option("focusedElement",Ke(t))}}.bind(this),this._itemFocusTimeout=setTimeout(this._forcePointerDownFocus.bind(this)))},_closestFocusable:function(e){if(e.is(sE))return e;for(e=e.parent();e.length&&!se.isDocument(e.get(0))&&!se.isDocumentFragment(e.get(0));){if(e.is(sE))return e;e=e.parent()}},_forcePointerDownFocus:function(){this._itemFocusHandler&&this._itemFocusHandler()},_updateFocusState:function(){this.callBase.apply(this,arguments),this._forcePointerDownFocus()},_attachHoldEvent:function(){var e=this._itemContainer(),n=this._itemSelector(),t=fe(ec_name,this.NAME);R.off(e,t,n),R.on(e,t,n,{timeout:this._getHoldTimeout()},this._itemHoldHandler.bind(this))},_getHoldTimeout:function(){return this.option("itemHoldTimeout")},_shouldFireHoldEvent:function(){return this.hasActionSubscription("onItemHold")},_itemHoldHandler:function(e){this._shouldFireHoldEvent()?this._itemDXEventHandler(e,"onItemHold"):e.cancel=!0},_attachContextMenuEvent:function(){var e=this._itemContainer(),n=this._itemSelector(),t=fe(L$,this.NAME);R.off(e,t,n),R.on(e,t,n,this._itemContextMenuHandler.bind(this))},_shouldFireContextMenuEvent:function(){return this.hasActionSubscription("onItemContextMenu")},_itemContextMenuHandler:function(e){this._shouldFireContextMenuEvent()?this._itemDXEventHandler(e,"onItemContextMenu"):e.cancel=!0},_renderContentImpl:function(){var e=this.option("items")||[];this._renderItems(this._renderedItemsCount?e.slice(this._renderedItemsCount):e)},_renderItems:function(e){e.length&&B(e,function(n,t){this._renderItem(this._renderedItemsCount+n,t)}.bind(this)),this._renderEmptyMessage()},_renderItem:function(e,n,t,i){var r,o=null!==(r=e?.item)&&void 0!==r?r:e;t=t||this._itemContainer();var s=this._renderItemFrame(o,n,t,i);this._setElementData(s,n,o),s.attr(this.option("_itemAttributes")),this._attachItemClickEvent(n,s);var l=this._getItemContent(s),h=this._renderItemContent({index:o,itemData:n,container:Ke(l),contentClass:this._itemContentClass(),defaultTemplateName:this.option("itemTemplate")}),g=this;return ke(h).done(function(_){g._postprocessRenderItem({itemElement:s,itemContent:_,itemData:n,itemIndex:o}),g._executeItemRenderAction(e,n,Ke(s))}),s},_getItemContent:function(e){var n=e.find("."+N$);return n.removeClass(N$),n},_attachItemClickEvent:function(e,n){!e||!e.onClick||R.on(n,Kt,function(t){this._itemEventHandlerByHandler(n,e.onClick,{event:t})}.bind(this))},_renderItemContent:function(e){var n=this._getItemTemplateName(e),t=this._getTemplate(n);this._addItemContentClasses(e);var i=x(this._createItemByTemplate(t,e));return i.hasClass(H$)?this._renderItemContentByNode(e,i):e.container},_renderItemContentByNode:function(e,n){return x(e.container).replaceWith(n),e.container=Ke(n),this._addItemContentClasses(e),n},_addItemContentClasses:function(e){var n=[Vw+V$,e.contentClass];x(e.container).addClass(n.join(" "))},_appendItemToContainer:function(e,n,t){n.appendTo(e)},_renderItemFrame:function(e,n,t,i){var r=x("<div>");if(new this.constructor.ItemClass(r,this._itemOptions(),n||{}),i&&i.length?i.replaceWith(r):this._appendItemToContainer.call(this,t,r,e),this.option("useItemTextAsTitle")){var o=this._displayGetter?this._displayGetter(n):n;r.attr("title",o)}return r},_itemOptions:function(){var e=this;return{watchMethod:function(){return e.option("integrationOptions.watchMethod")},owner:e,fieldGetter:function(n){var t=e.option(n+"Expr");return Yt(t)}}},_postprocessRenderItem:U,_executeItemRenderAction:function(e,n,t){this._getItemRenderAction()({itemElement:t,itemIndex:e,itemData:n})},_setElementData:function(e,n,t){e.addClass([Vw,this._itemClass()].join(" ")).data(this._itemDataKey(),n).data(this._itemIndexKey(),t)},_createItemRenderAction:function(){return this._itemRenderAction=this._createActionByOption("onItemRendered",{element:this.element(),excludeValidators:["disabled","readOnly"],category:"rendering"})},_getItemRenderAction:function(){return this._itemRenderAction||this._createItemRenderAction()},_getItemTemplateName:function(e){var n=e.itemData,t=e.templateProperty||this.option("itemTemplateProperty");return n&&n[t]||e.defaultTemplateName},_createItemByTemplate:function(e,n){return e.render({model:n.itemData,container:n.container,index:n.index,onRendered:this._onItemTemplateRendered(e,n)})},_onItemTemplateRendered:function(){return U},_emptyMessageContainer:function(){return this._itemContainer()},_renderEmptyMessage:function(e){e=e||this.option("items");var n=this.option("noDataText"),t=!n||e&&e.length||this._dataController.isLoading();t&&this._$noData&&(this._$noData.remove(),this._$noData=null,this.setAria("label",void 0)),t||(this._$noData=this._$noData||x("<div>").addClass("dx-empty-message"),this._$noData.appendTo(this._emptyMessageContainer()),this.option("encodeNoDataText")?this._$noData.text(n):this._$noData.html(n)),this.$element().toggleClass("dx-empty-collection",!t)},_itemDXEventHandler:function(e,n,t,i){this._itemEventHandler(e.target,n,A(t,{event:e}),i)},_itemEventHandler:function(e,n,t,i){var r=this._createActionByOption(n,A({validatingTargetName:"itemElement"},i));return this._itemEventHandlerImpl(e,r,t)},_itemEventHandlerByHandler:function(e,n,t,i){var r=this._createAction(n,A({validatingTargetName:"itemElement"},i));return this._itemEventHandlerImpl(e,r,t)},_itemEventHandlerImpl:function(e,n,t){var i=this._closestItemElement(x(e)),r=A({},t);return n(A(t,this._extendActionArgs(i),r))},_extendActionArgs:function(e){return{itemElement:Ke(e),itemIndex:this._itemElements().index(e),itemData:this._getItemData(e)}},_closestItemElement:function(e){return x(e).closest(this._itemSelector())},_getItemData:function(e){return x(e).data(this._itemDataKey())},_getSummaryItemsWidth:function(e,n){var t=0;return e&&B(e,function(i,r){t+=wt(r,n||!1)}),t},getFocusedItemId:function(){return this._focusedItemId||(this._focusedItemId="dx-"+new En),this._focusedItemId},itemElements:function(){return this._itemElements()},itemsContainer:function(){return this._itemContainer()}}).include(Lw);U$.ItemClass=I_;const N7=U$;var no=kt.abstract,H7=kt.inherit({ctor:function(e){this._collectionWidget=e},getIndexByItemData:no,getItemDataByIndex:no,getKeysByItems:no,getItemsByKeys:no,itemsGetter:no,getKeyByIndex:function(e){var n=this._denormalizeItemIndex(e);return this.getKeysByItems([this.getItemDataByIndex(n)])[0]},_equalKeys:function(e,n){return this._collectionWidget._isKeySpecified()?Jt(e,n):e===n},beginCache:function(){this._cache={}},endCache:function(){this._cache=null},getIndexByKey:no,getNormalizedIndex:function(e){return this._isNormalizedItemIndex(e)?e:this._isItemIndex(e)?this._normalizeItemIndex(e):this._isNode(e)?this._getNormalizedItemIndex(e):this._normalizeItemIndex(this.getIndexByItemData(e))},getIndex:function(e){return this._isNormalizedItemIndex(e)?this._denormalizeItemIndex(e):this._isItemIndex(e)?e:this._isNode(e)?this._denormalizeItemIndex(this._getNormalizedItemIndex(e)):this.getIndexByItemData(e)},getItemElement:function(e){if(this._isNormalizedItemIndex(e))return this._getItemByNormalizedIndex(e);if(this._isItemIndex(e))return this._getItemByNormalizedIndex(this._normalizeItemIndex(e));if(this._isNode(e))return x(e);var n=this._normalizeItemIndex(this.getIndexByItemData(e));return this._getItemByNormalizedIndex(n)},_isNode:e=>se.isNode(e&&Fr(e)?e.get(0):e),deleteItemAtIndex:no,itemPlacementFunc:function(e,n){return this._itemsFromSameParent(e,n)&&e<n?"after":"before"},moveItemAtIndexToIndex:no,_isNormalizedItemIndex:function(e){return"number"==typeof e&&Math.round(e)===e},_isItemIndex:no,_getNormalizedItemIndex:no,_normalizeItemIndex:no,_denormalizeItemIndex:no,_getItemByNormalizedIndex:no,_itemsFromSameParent:no}),z7=H7.inherit({_getPlainItems:function(){return this._collectionWidget.option("items")||[]},getIndexByItemData:function(e){var n=this._collectionWidget.keyOf.bind(this._collectionWidget);return n?this.getIndexByKey(n(e)):this._getPlainItems().indexOf(e)},getItemDataByIndex:function(e){return this._getPlainItems()[e]},deleteItemAtIndex:function(e){this._getPlainItems().splice(e,1)},itemsGetter:function(){return this._getPlainItems()},getKeysByItems:function(e){var n=this._collectionWidget.keyOf.bind(this._collectionWidget),t=e;if(n){t=[];for(var i=0;i<e.length;i++)t.push(n(e[i]))}return t},getIndexByKey:function(e){var n=this._cache,t=n&&n.keys||this.getKeysByItems(this._getPlainItems());if(n&&!n.keys&&(n.keys=t),"object"!=typeof e)return t.indexOf(e);for(var i=0,r=t.length;i<r;i++)if(this._equalKeys(e,t[i]))return i;return-1},getItemsByKeys:function(e,n){return(n||e).slice()},moveItemAtIndexToIndex:function(e,n){var t=this._getPlainItems(),i=t[e];t.splice(e,1),t.splice(n,0,i)},_isItemIndex:function(e){return"number"==typeof e&&Math.round(e)===e},_getNormalizedItemIndex:function(e){return this._collectionWidget._itemElements().index(e)},_normalizeItemIndex:function(e){return e},_denormalizeItemIndex:function(e){return e},_getItemByNormalizedIndex:function(e){return e>-1?this._collectionWidget._itemElements().eq(e):null},_itemsFromSameParent:function(){return!0}});const bk=z7;class j${constructor(n){this.options=n,this._setOption("disabledItemKeys",[]),this._clearItemKeys()}_clearItemKeys(){this._setOption("addedItemKeys",[]),this._setOption("removedItemKeys",[]),this._setOption("removedItems",[]),this._setOption("addedItems",[])}validate(){}_setOption(n,t){this.options[n]=t}onSelectionChanged(){var n=this.options.addedItemKeys,t=this.options.removedItemKeys,i=this.options.addedItems,r=this.options.removedItems,o=this.options.selectedItems,s=this.options.selectedItemKeys,l=this.options.onSelectionChanged||U;this._clearItemKeys(),l({selectedItems:o,selectedItemKeys:s,addedItemKeys:n,removedItemKeys:t,addedItems:i,removedItems:r})}equalKeys(n,t){return this.options.equalByReference&&qe(n)&&qe(t)?n===t:Jt(n,t)}getSelectableItems(n){return n.filter(function(t){return!(null!=t&&t.disabled)})}_clearSelection(n,t,i,r){return n=n||[],n=Array.isArray(n)?n:[n],this.validate(),this.selectedItemKeys(n,t,i,r)}_removeTemplateProperty(n){return Array.isArray(n)?n.map(t=>this._removeTemplateProperty(t)):(qe(n)&&delete n.template,n)}_loadFilteredData(n,t,i,r){var o=encodeURI(JSON.stringify(this._removeTemplateProperty(n))).length,s=this.options.maxFilterLengthInRequest&&o>this.options.maxFilterLengthInRequest,l=new W,h={filter:s?void 0:n,select:s?this.options.dataFields():i||this.options.dataFields()};return n&&0===n.length?l.resolve([]):this.options.load(h).done(function(g){var _=ft(g)?g.data:g;t&&!r?_=_.filter(t):s&&(_=zr(_).filter(n).toArray()),l.resolve(_)}).fail(l.reject.bind(l)),l}updateSelectedItemKeyHash(n){for(var t=0;t<n.length;t++){var i=cr(n[t]);qe(i)||(this.options.keyHashIndices[i]=this.options.keyHashIndices[i]||[],this.options.keyHashIndices[i].push(t))}}_isAnyItemSelected(n){for(var t=0;t<n.length;t++)if(this.options.isItemSelected(n[t]))return;return!1}_getFullSelectAllState(){var n=this.options.plainItems(),t=this.options.filter(),i=this.options.ignoreDisabledItems?this.options.selectedItems:this.options.selectedItems.filter(s=>!(null!=s&&s.disabled));t&&(i=zr(i).filter(t).toArray());var r=i.length,o=n.length-this.getSelectableItems(n).length;return r?r>=this.options.totalCount()-o||void 0:this._isAnyItemSelected(n)}_getVisibleSelectAllState(){for(var n=this.getSelectableItems(this.options.plainItems()),t=!1,i=!1,r=0;r<n.length;r++){var o=n[r],s=this.options.getItemData(o),l=this.options.keyOf(s);this.options.isSelectableItem(o)&&(this.isItemKeySelected(l)?t=!0:i=!0)}return!!t&&(!i||void 0)}}class W7 extends j${getSelectedItems(){return this._loadFilteredData(this.options.selectionFilter)}getSelectedItemKeys(){var n=new W,t=this,i=this.options.key(),r=je(i)?[i]:i;return this._loadFilteredData(this.options.selectionFilter,null,r).done(function(o){var s=o.map(function(l){return t.options.keyOf(l)});n.resolve(s)}).fail(n.reject),n.promise()}selectedItemKeys(n,t,i,r){if(r){var o=this.options.filter();!o||JSON.stringify(o)===JSON.stringify(this.options.selectionFilter)&&i?this._setOption("selectionFilter",i?[]:null):this._addSelectionFilter(i,o,r)}else{t||this._setOption("selectionFilter",[]);for(var l=0;l<n.length;l++)i?this.removeSelectedItem(n[l]):this.addSelectedItem(n[l],r,!t)}return this.onSelectionChanged(),(new W).resolve()}setSelectedItems(n){this._setOption("selectionFilter",null);for(var t=0;t<n.length;t++)this.addSelectedItem(n[t])}isItemDataSelected(n){return this.isItemKeySelected(n)}isItemKeySelected(n){var t=this.options.selectionFilter;return!t||!!zr([n]).filter(t).toArray().length}_getKeyExpr(){var n=this.options.key();return Array.isArray(n)&&1===n.length?n[0]:n}_normalizeKey(n){var t=this.options.key();return Array.isArray(t)&&1===t.length?n[t[0]]:n}_getFilterByKey(n){var t=this._getKeyExpr(),i=[t,"=",this._normalizeKey(n)];if(Array.isArray(t)){i=[];for(var r=0;r<t.length;r++)i.push([t[r],"=",n[t[r]]]),r!==t.length-1&&i.push("and")}return i}addSelectedItem(n,t,i){var r=this._getFilterByKey(n);this._addSelectionFilter(!1,r,t,i)}removeSelectedItem(n){var t=this._getFilterByKey(n);this._addSelectionFilter(!0,t)}validate(){var n=this.options.key;if(n&&void 0===n())throw It.Error("E1042","Deferred selection")}_findSubFilter(n,t){if(!n)return-1;for(var i=JSON.stringify(t),r=0;r<n.length;r++){var o=n[r];if(o&&JSON.stringify(o)===i)return r}return-1}_isLastSubFilter(n,t){return!(!n||!t||this._findSubFilter(n,t)!==n.length-1&&0!==this._findSubFilter([n],t))}_addFilterOperator(n,t){return n.length>1&&je(n[1])&&n[1]!==t&&(n=[n]),n.length&&n.push(t),n}_denormalizeFilter(n){return n&&je(n[0])&&(n=[n]),n}_isOnlyNegativeFiltersLeft(n){return n.every((t,i)=>i%2==0?Array.isArray(t)&&"!"===t[0]:"and"===t)}_addSelectionFilter(n,t,i,r){var o,s=n?["!",t]:t,l=n?"and":"or",h=!0,g=this.options.selectionFilter||[];if(null!==(o=g=this._denormalizeFilter(g))&&void 0!==o&&o.length&&!r){var _=this._removeSameFilter(g,t,n,i),v=this._removeSameFilter(g,t,!n);n&&(-1!==_||-1!==v)&&this._isOnlyNegativeFiltersLeft(g)&&(g=[]);var b=this._isKeyFilter(t)&&this._hasKeyFiltersOnlyStartingFromIndex(g,v);h=t.length&&!b}h&&(g=this._addFilterOperator(g,l)).push(s),g=this._normalizeFilter(g),this._setOption("selectionFilter",n||g.length?g:null)}_normalizeFilter(n){return n&&1===n.length&&(n=n[0]),n}_removeFilterByIndex(n,t,i){var r=n[1];n.splice(t>0?t-1:t,2),i&&"and"===r&&n.splice(0,n.length)}_isSimpleKeyFilter(n,t){return 3===n.length&&n[0]===t&&"="===n[1]}_isKeyFilter(n){if(2===n.length&&"!"===n[0])return this._isKeyFilter(n[1]);var t=this._getKeyExpr();if(Array.isArray(t)){if(n.length!==2*t.length-1)return!1;for(var i=0;i<t.length;i++)if(i>0&&"and"!==n[2*i-1]||!this._isSimpleKeyFilter(n[2*i],t[i]))return!1;return!0}return this._isSimpleKeyFilter(n,t)}_hasKeyFiltersOnlyStartingFromIndex(n,t){if(t>=0){for(var i=t;i<n.length;i++)if("string"!=typeof n[i]&&!this._isKeyFilter(n[i]))return!1;return!0}return!1}_removeSameFilter(n,t,i,r){if(t=i?["!",t]:t,JSON.stringify(t)===JSON.stringify(n))return n.splice(0,n.length),0;var o=this._findSubFilter(n,t);if(o>=0)return this._removeFilterByIndex(n,o,r),o;for(var s=0;s<n.length;s++)if(Array.isArray(n[s])&&n[s].length>2){var l=this._removeSameFilter(n[s],t,!1,r);if(l>=0)return n[s].length?1===n[s].length&&(n[s]=n[s][0]):this._removeFilterByIndex(n,s,r),l}return-1}getSelectAllState(){var n=this.options.filter(),t=this.options.selectionFilter;if(!t)return!0;if(!t.length)return!1;if(n&&n.length){if(t=this._denormalizeFilter(t),this._isLastSubFilter(t,n))return!0;if(this._isLastSubFilter(t,["!",n]))return!1}}loadSelectedItemsWithFilter(){var n=this.options.filter(),t=this.options.selectionFilter;return this._loadFilteredData(n?[n,"and",t]:t)}}var Nw=function(e,n){var t=n(e);if(qe(t))try{return JSON.stringify(t)}catch{return t}return t},$7=function(e,n,t,i){return n[t[Nw(e,i)]]},K$=function(e,n,t,i){var r={},o={},s=0,l=0,h=[];e.forEach(function(L,G){var Q=Nw(L,t);r[Q]=G}),n.forEach(function(L,G){var Q=Nw(L,t);o[Q]=G});for(var g=Math.max(e.length,n.length),_=0;_<g+s;_++){var v=n[_],C=_-s+l,b=e[C];if(!v||b&&!$7(b,n,o,t))b&&(h.push({type:"remove",key:t(b),index:_,oldItem:b}),l++,_--);else{var w=Nw(v,t),M=r[w],k=e[M];if(k){if(M!==C)return;i(k,v)||h.push({type:"update",data:v,key:t(v),index:_,oldItem:k})}else s++,h.push({type:"insert",data:v,index:_})}}return h},Y$=function(e,n){this.getLocalFilter=function(s,l,h,g){return r.bind(this,l=void 0===l?Jt:l,s,h,g)},this.getExpr=function(s){var l;if(s)return e.forEach(function(h,g){var _;l=l||[],g>0&&l.push(n?"and":"or"),_=je(s)?o(s,h):function(v,C){for(var b=[],E=0,w=v.length;E<w;E++){var M=v[E],L=o(M,C&&C[M]);if(!L)break;E>0&&b.push(n?"or":"and"),b.push(L)}return b}(s,h),l.push(_)}),l&&1===l.length&&(l=l[0]),l},this.getCombinedFilter=function(s,l){var h=arguments.length>2&&void 0!==arguments[2]&&arguments[2],g=this.getExpr(s),_=g;return(h||n)&&l&&(g?((_=[]).push(g),_.push(l)):_=l),_};var t,i=function(s,l,h){return Array.isArray(h)?s.map(g=>l(g)):s};function r(s,l,h,g,_){var C,b,v=l(_);if(!h&&(C=cr(v),!qe(C)))return function(w,M){if(!t){t={};for(var k=i(e,w,M),L=0;L<k.length;L++)t[cr(k[L])]=!0}return t}(l,g)[C]?!n:!!n;for(b=0;b<e.length;b++)if(s(e[b],v))return!n;return!!n}function o(s,l){if(void 0!==l)return[s,n?"<>":"=",l]}};class U7 extends j${constructor(n){super(n),this._initSelectedItemKeyHash()}_initSelectedItemKeyHash(){this._setOption("keyHashIndices",this.options.equalByReference?null:{})}getSelectedItemKeys(){return this.options.selectedItemKeys.slice(0)}getSelectedItems(){return this.options.selectedItems.slice(0)}_preserveSelectionUpdate(n,t){var r,o,s,i=this.options.keyOf;if(i){var l=t&&n.length>1&&!this.options.equalByReference;for(l&&(r={}),s=0;s<n.length;s++){var h=n[s],g=i(h);t?(o=this.removeSelectedItem(g,r,h?.disabled),r&&o>=0&&(r[o]=!0)):this.addSelectedItem(g,h)}l&&this._batchRemoveSelectedItems(r)}}_batchRemoveSelectedItems(n){var t=this.options.selectedItemKeys.slice(0),i=this.options.selectedItems.slice(0);this.options.selectedItemKeys.length=0,this.options.selectedItems.length=0;for(var r=0;r<t.length;r++)n[r]||(this.options.selectedItemKeys.push(t[r]),this.options.selectedItems.push(i[r]));this._initSelectedItemKeyHash(),this.updateSelectedItemKeyHash(this.options.selectedItemKeys)}_loadSelectedItemsCore(n,t,i,r){var o=arguments.length>4&&void 0!==arguments[4]&&arguments[4],s=new W,l=this.options.key();if(!n.length&&!i)return s.resolve([]),s;if(i&&t&&!r)return s.resolve(this.getSelectedItems()),s;var h=new Y$(n,i),g=h.getCombinedFilter(l,r,o),_=[];if(t){var v=this.options.selectedItems;_=g&&n.length!==v.length?zr(v).filter(g).toArray():v.slice(0)}var C=_.length?_:this.options.plainItems(!0).filter(this.options.isSelectableItem).map(this.options.getItemData),b=h.getLocalFilter(this.options.keyOf,this.equalKeys.bind(this),this.options.equalByReference,l);return C=C.filter(b),_.length||!i&&C.length===n.length?s.resolve(C):s=this._loadFilteredData(g,b,null,i),s}_replaceSelectionUpdate(n){var t=[],i=this.options.keyOf;if(i){for(var r=0;r<n.length;r++){var s=i(n[r]);t.push(s)}this.setSelectedItems(t,n)}}_warnOnIncorrectKeys(n){for(var t=this.options.allowNullValue,i=0;i<n.length;i++){var r=n[i];(!t||null!==r)&&!this.isItemKeySelected(r)&&It.log("W1002",r)}}_isMultiSelectEnabled(){var n=this.options.mode;return"all"===n||"multiple"===n}_requestInProgress(){var n;return"pending"===(null===(n=this._lastLoadDeferred)||void 0===n?void 0:n.state())}_concatRequestsItems(n,t,i,r){var o,s=t?n:[];return o=r||LE(n,this.options.selectedItemKeys),{addedItems:i.added.concat(o),removedItems:i.removed.concat(s),keys:n}}_collectLastRequestData(n,t,i,r){var o=t&&i,s={added:[],removed:[]},l=this._isMultiSelectEnabled(),h=l?this._lastRequestData:{};return l&&(this._shouldMergeWithLastRequest&&(o?(this._lastLoadDeferred.reject(),h={}):function(e,n){if(e.length!==n.length)return!1;for(var t=0;t<n.length;t++)if(e[t]!==n[t])return!1;return!0}(n,this.options.selectedItemKeys)||(s.added=h.addedItems,s.removed=h.removedItems,t||this._lastLoadDeferred.reject())),h=this._concatRequestsItems(n,t,s,this._shouldMergeWithLastRequest?void 0:r)),h}_updateKeysByLastRequestData(n,t,i){var o,s,r=n;return this._isMultiSelectEnabled()&&this._shouldMergeWithLastRequest&&!t&&!i&&(r=function(e){return[...new Set(e)]}(r=LE(n.concat(null===(o=this._lastRequestData)||void 0===o?void 0:o.addedItems),null===(s=this._lastRequestData)||void 0===s?void 0:s.removedItems))),r}_loadSelectedItems(n,t,i,r){var o=arguments.length>4&&void 0!==arguments[4]&&arguments[4],s=this,l=new W,h=s.options.filter();return this._shouldMergeWithLastRequest=this._requestInProgress(),this._lastRequestData=this._collectLastRequestData(n,t,i,r),ke(s._lastLoadDeferred).always(function(){var g=s._updateKeysByLastRequestData(n,t,i);s._shouldMergeWithLastRequest=!1,s._loadSelectedItemsCore(g,t,i,h,o).done(l.resolve).fail(l.reject)}),s._lastLoadDeferred=l,l}selectedItemKeys(n,t,i,r,o){var l=this,h=l._loadSelectedItems(n,i,r,o,arguments.length>5&&void 0!==arguments[5]&&arguments[5]);return h.done(function(g){t?l._preserveSelectionUpdate(g,i):l._replaceSelectionUpdate(g),l.onSelectionChanged()}),h}addSelectedItem(n,t){if(T(t)&&!this.options.ignoreDisabledItems&&t.disabled)-1===this.options.disabledItemKeys.indexOf(n)&&this.options.disabledItemKeys.push(n);else{var i=this._getKeyHash(n);-1===this._indexOfSelectedItemKey(i)&&(!qe(i)&&this.options.keyHashIndices&&(this.options.keyHashIndices[i]=[this.options.selectedItemKeys.length]),this.options.selectedItemKeys.push(n),this.options.addedItemKeys.push(n),this.options.addedItems.push(t),this.options.selectedItems.push(t))}}_getSelectedIndexByKey(n,t){for(var i=this.options.selectedItemKeys,r=0;r<i.length;r++)if((!t||!t[r])&&this.equalKeys(i[r],n))return r;return-1}_getSelectedIndexByHash(n,t){var i=this.options.keyHashIndices[n];return i&&i.length>1&&t&&(i=i.filter(function(r){return!t[r]})),i&&i[0]>=0?i[0]:-1}_indexOfSelectedItemKey(n,t){return this.options.equalByReference?this.options.selectedItemKeys.indexOf(n):qe(n)?this._getSelectedIndexByKey(n,t):this._getSelectedIndexByHash(n,t)}_shiftSelectedKeyIndices(n){for(var t=n;t<this.options.selectedItemKeys.length;t++){var r=cr(this.options.selectedItemKeys[t]),o=this.options.keyHashIndices[r];if(o)for(var s=0;s<o.length;s++)o[s]>n&&o[s]--}}removeSelectedItem(n,t,i){if(this.options.ignoreDisabledItems||!i){var r=this._getKeyHash(n),o=!!t,s=this._indexOfSelectedItemKey(r,t);if(s<0||(this.options.removedItemKeys.push(n),this.options.removedItems.push(this.options.selectedItems[s]),o)||(this.options.selectedItemKeys.splice(s,1),this.options.selectedItems.splice(s,1),qe(r)||!this.options.keyHashIndices))return s;var l=this.options.keyHashIndices[r];return l&&(l.shift(),l.length||delete this.options.keyHashIndices[r],this._shiftSelectedKeyIndices(s)),s}}_updateAddedItemKeys(n,t){for(var i=0;i<n.length;i++)this.isItemKeySelected(n[i])||(this.options.addedItemKeys.push(n[i]),this.options.addedItems.push(t[i]))}_updateRemovedItemKeys(n,t,i){for(var r=0;r<t.length;r++)this.isItemKeySelected(t[r])||(this.options.removedItemKeys.push(t[r]),this.options.removedItems.push(i[r]))}_isItemSelectionInProgress(n,t){var r;return!!(t&&this._lastRequestData&&this._requestInProgress())&&(null!==(r=this._lastRequestData.addedItems)&&void 0!==r?r:[]).includes(n)}_getKeyHash(n){return this.options.equalByReference?n:cr(n)}setSelectedItems(n,t){this._updateAddedItemKeys(n,t);var i=this.options.selectedItemKeys,r=this.options.selectedItems;this.options.equalByReference||(this._initSelectedItemKeyHash(),this.updateSelectedItemKeyHash(n)),this._setOption("selectedItemKeys",n),this._setOption("selectedItems",t),this._updateRemovedItemKeys(n,i,r)}isItemDataSelected(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=this.options.keyOf(n);return this.isItemKeySelected(i,t)}isItemKeySelected(n){var i=this._isItemSelectionInProgress(n,(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).checkPending);if(!i){var r=this._getKeyHash(n);i=-1!==this._indexOfSelectedItemKey(r)}return i}getSelectAllState(n){return n?this._getVisibleSelectAllState():this._getFullSelectAllState()}loadSelectedItemsWithFilter(){var n=this.options.key(),t=this.getSelectedItemKeys(),i=this.options.filter();if(!t.length)return W().resolve([]);var o=new Y$(t).getCombinedFilter(n,i,!0);return this._loadFilteredData(o)}}class q${constructor(n){this.options=A(this._getDefaultOptions(),n,{selectedItemKeys:n.selectedKeys||[]}),this._selectionStrategy=this.options.deferred?new W7(this.options):new U7(this.options),this._focusedItemIndex=-1,this.options.equalByReference||this._selectionStrategy.updateSelectedItemKeyHash(this.options.selectedItemKeys)}_getDefaultOptions(){return{allowNullValue:!1,deferred:!1,equalByReference:!1,mode:"multiple",selectedItems:[],selectionFilter:[],maxFilterLengthInRequest:0,onSelectionChanged:U,key:U,keyOf:function(n){return n},load:function(){return(new W).resolve([])},totalCount:function(){return-1},isSelectableItem:function(){return!0},isItemSelected:function(){return!1},getItemData:function(n){return n},dataFields:U,filter:U}}validate(){this._selectionStrategy.validate()}getSelectedItemKeys(){return this._selectionStrategy.getSelectedItemKeys()}getSelectedItems(){return this._selectionStrategy.getSelectedItems()}selectionFilter(n){if(void 0===n)return this.options.selectionFilter;var t=this.options.selectionFilter!==n&&JSON.stringify(this.options.selectionFilter)!==JSON.stringify(n);this.options.selectionFilter=n,t&&this.onSelectionChanged()}setSelection(n,t){return this.selectedItemKeys(n,!1,!1,!1,t)}select(n){return this.selectedItemKeys(n,!0)}deselect(n){return this.selectedItemKeys(n,!0,!0)}selectedItemKeys(n,t,i,r,o){var s;return n=null!==(s=n)&&void 0!==s?s:[],n=Array.isArray(n)?n:[n],this.validate(),this._selectionStrategy.selectedItemKeys(n,t,i,r,o)}clearSelection(){return this.selectedItemKeys([])}_addSelectedItem(n,t){this._selectionStrategy.addSelectedItem(t,n)}_removeSelectedItem(n){this._selectionStrategy.removeSelectedItem(n)}_setSelectedItems(n,t){this._selectionStrategy.setSelectedItems(n,t)}onSelectionChanged(){this._selectionStrategy.onSelectionChanged()}changeItemSelection(n,t,i){var r,o,s,g,v,l=this.options.plainItems(),h=l[n],C=!1,b=!1,E=G=>G>=0&&!l.filter(Q=>Q.loadIndex===G).length;if((null===(r=(o=this.options).allowLoadByRange)||void 0===r?void 0:r.call(o))&&T(h)&&(v=h.loadIndex-n,n=h.loadIndex,C=E(this._focusedItemIndex),T(this._shiftFocusedItemIndex)&&(b=E(this._shiftFocusedItemIndex))),!this.isSelectable()||!this.isDataItem(h))return!1;var w=this.options.getItemData(h),M=this.options.keyOf(w);if((t=t||{}).shift&&"multiple"===this.options.mode&&this._focusedItemIndex>=0)C||b?(s=n!==this._shiftFocusedItemIndex||this._focusedItemIndex!==this._shiftFocusedItemIndex)&&(g=this.changeItemSelectionWhenShiftKeyInVirtualPaging(n)):s=this.changeItemSelectionWhenShiftKeyPressed(n,l,v);else if(t.control){if(this._resetItemSelectionWhenShiftKeyPressed(),!i){var k=this._selectionStrategy.isItemDataSelected(w);"single"===this.options.mode&&this.clearSelectedItems(),k?this._removeSelectedItem(M):this._addSelectedItem(w,M)}s=!0}else{this._resetItemSelectionWhenShiftKeyPressed();var L=this._selectionStrategy.equalKeys(this.options.selectedItemKeys[0],M);(1!==this.options.selectedItemKeys.length||!L)&&(this._setSelectedItems([M],[w]),s=!0)}return s?(ke(g).done(()=>{this._focusedItemIndex=n,!i&&this.onSelectionChanged()}),!0):void 0}isDataItem(n){return this.options.isSelectableItem(n)}isSelectable(){return"single"===this.options.mode||"multiple"===this.options.mode}isItemDataSelected(n){return this._selectionStrategy.isItemDataSelected(n,{checkPending:!0})}isItemSelected(n,t){return this._selectionStrategy.isItemKeySelected(n,t)}_resetItemSelectionWhenShiftKeyPressed(){delete this._shiftFocusedItemIndex}_resetFocusedItemIndex(){this._focusedItemIndex=-1}changeItemSelectionWhenShiftKeyInVirtualPaging(n){var t=this.options.getLoadOptions(n,this._focusedItemIndex,this._shiftFocusedItemIndex),i=new W,r=t.skip;return this.options.load(t).done(o=>{this.changeItemSelectionWhenShiftKeyPressed(n,o,r),i.resolve()}),i.promise()}changeItemSelectionWhenShiftKeyPressed(n,t,i){var o,b,E,M,r=!1,s=T(i),l=s?this._focusedItemIndex-i:this._focusedItemIndex,h=this.options.keyOf,g=t[l],_=this.options.getItemData(g),v=h(_),C=g&&this.isItemDataSelected(_);if(T(this._shiftFocusedItemIndex)||(this._shiftFocusedItemIndex=this._focusedItemIndex),this._shiftFocusedItemIndex!==this._focusedItemIndex)for(o=this._focusedItemIndex<this._shiftFocusedItemIndex?1:-1,M=s?this._shiftFocusedItemIndex-i:this._shiftFocusedItemIndex,l=s?this._focusedItemIndex-i:this._focusedItemIndex;l!==M;l+=o)(s||this.isDataItem(t[l]))&&(E=h(this.options.getItemData(t[l])),this._removeSelectedItem(E),r=!0);if(n!==this._shiftFocusedItemIndex)for(o=n<this._shiftFocusedItemIndex?1:-1,M=s?this._shiftFocusedItemIndex-i:this._shiftFocusedItemIndex,l=s?n-i:n;l!==M;l+=o)(s||this.isDataItem(t[l]))&&(E=h(b=this.options.getItemData(t[l])),this._addSelectedItem(b,E),r=!0);return(s||this.isDataItem(g))&&!C&&(this._addSelectedItem(_,v),r=!0),r}clearSelectedItems(){this._setSelectedItems([],[])}selectAll(n){return this._resetFocusedItemIndex(),n?this._onePageSelectAll(!1):this.selectedItemKeys([],!0,!1,!0)}deselectAll(n){return this._resetFocusedItemIndex(),n?this._onePageSelectAll(!0):this.selectedItemKeys([],!0,!0,!0)}_onePageSelectAll(n){for(var t=this._selectionStrategy.getSelectableItems(this.options.plainItems()),i=0;i<t.length;i++){var r=t[i];if(this.isDataItem(r)){var o=this.options.getItemData(r),s=this.options.keyOf(o),l=this.isItemSelected(s);!l&&!n&&this._addSelectedItem(o,s),l&&n&&this._removeSelectedItem(s)}}return this.onSelectionChanged(),(new W).resolve()}getSelectAllState(n){return this._selectionStrategy.getSelectAllState(n)}loadSelectedItemsWithFilter(){return this._selectionStrategy.loadSelectedItemsWithFilter()}}var Ok="dxItemDeleting",zs=function(e){return-1!==e},j7=N7.inherit({_setOptionsByReference:function(){this.callBase(),A(this._optionsByReference,{selectedItem:!0})},_getDefaultOptions:function(){return A(this.callBase(),{selectionMode:"none",selectionRequired:!1,selectByClick:!0,selectedItems:[],selectedItemKeys:[],maxFilterLengthInRequest:1500,keyExpr:null,selectedIndex:-1,selectedItem:null,onSelectionChanged:null,onItemReordered:null,onItemDeleting:null,onItemDeleted:null})},ctor:function(e,n){this._userOptions=n||{},this.callBase(e,n)},_init:function(){this._initEditStrategy(),this.callBase(),this._initKeyGetter(),this._initSelectionModule()},_initKeyGetter:function(){this._keyGetter=Yt(this.option("keyExpr"))},_getKeysByItems:function(e){return this._editStrategy.getKeysByItems(e)},_getItemsByKeys:function(e,n){return this._editStrategy.getItemsByKeys(e,n)},_getKeyByIndex:function(e){return this._editStrategy.getKeyByIndex(e)},_getIndexByKey:function(e){return this._editStrategy.getIndexByKey(e)},_getIndexByItemData:function(e){return this._editStrategy.getIndexByItemData(e)},_isKeySpecified:function(){return!!this._dataController.key()},_getCombinedFilter:function(){return this._dataController.filter()},key:function(){return this.option("keyExpr")?this.option("keyExpr"):this._dataController.key()},keyOf:function(e){var n=e;return this.option("keyExpr")?n=this._keyGetter(e):this._dataController.store()&&(n=this._dataController.keyOf(e)),n},_nullValueSelectionSupported:function(){return!1},_initSelectionModule:function(){var e=this,n=e._editStrategy.itemsGetter;this._selection=new q$({allowNullValue:this._nullValueSelectionSupported(),mode:this.option("selectionMode"),maxFilterLengthInRequest:this.option("maxFilterLengthInRequest"),equalByReference:!this._isKeySpecified(),onSelectionChanged:function(t){(t.addedItemKeys.length||t.removedItemKeys.length)&&(e.option("selectedItems",e._getItemsByKeys(t.selectedItemKeys,t.selectedItems)),e._updateSelectedItems(t))},filter:e._getCombinedFilter.bind(e),totalCount:function(){var t=e.option("items"),i=e._dataController.totalCount();return i>=0?i:e._getItemsCount(t)},key:e.key.bind(e),keyOf:e.keyOf.bind(e),load:function(t){var i,r=e._dataController;return t.customQueryParams=null===(i=r.loadOptions())||void 0===i?void 0:i.customQueryParams,t.userData=r.userData(),r.store()?r.loadFromStore(t).done(function(o){if(!e._disposed){var s=E$(o).data;r.applyMapFunction(s)}}):(new W).resolve(this.plainItems())},dataFields:function(){return e._dataController.select()},plainItems:n.bind(e._editStrategy)})},_getItemsCount:function(e){return e.reduce((n,t)=>n+(t.items?this._getItemsCount(t.items):1),0)},_initEditStrategy:function(){this._editStrategy=new bk(this)},_getSelectedItemIndices:function(e){var n=this,t=[];return e=e||this._selection.getSelectedItemKeys(),n._editStrategy.beginCache(),B(e,function(i,r){var o=n._getIndexByKey(r);zs(o)&&t.push(o)}),n._editStrategy.endCache(),t},_initMarkup:function(){this._rendering=!0,this._dataController.isLoading()||this._syncSelectionOptions().done(()=>this._normalizeSelectedItems()),this.callBase()},_render:function(){this.callBase(),this._rendering=!1},_fireContentReadyAction:function(){this._rendering=!1,this._rendered=!0,this.callBase.apply(this,arguments)},_syncSelectionOptions:function(e){var n,t,i,r;switch(e=e||this._chooseSelectOption()){case"selectedIndex":n=this._editStrategy.getItemDataByIndex(this.option("selectedIndex")),T(n)?(this._setOptionWithoutOptionChange("selectedItems",[n]),this._setOptionWithoutOptionChange("selectedItem",n),this._setOptionWithoutOptionChange("selectedItemKeys",this._editStrategy.getKeysByItems([n]))):(this._setOptionWithoutOptionChange("selectedItems",[]),this._setOptionWithoutOptionChange("selectedItemKeys",[]),this._setOptionWithoutOptionChange("selectedItem",null));break;case"selectedItems":if(t=(r=this.option("selectedItems")||[]).length?this._editStrategy.getIndexByItemData(r[0]):-1,this.option("selectionRequired")&&!zs(t))return this._syncSelectionOptions("selectedIndex");this._setOptionWithoutOptionChange("selectedItem",r[0]),this._setOptionWithoutOptionChange("selectedIndex",t),this._setOptionWithoutOptionChange("selectedItemKeys",this._editStrategy.getKeysByItems(r));break;case"selectedItem":if(n=this.option("selectedItem"),t=this._editStrategy.getIndexByItemData(n),this.option("selectionRequired")&&!zs(t))return this._syncSelectionOptions("selectedIndex");T(n)?(this._setOptionWithoutOptionChange("selectedItems",[n]),this._setOptionWithoutOptionChange("selectedIndex",t),this._setOptionWithoutOptionChange("selectedItemKeys",this._editStrategy.getKeysByItems([n]))):(this._setOptionWithoutOptionChange("selectedItems",[]),this._setOptionWithoutOptionChange("selectedItemKeys",[]),this._setOptionWithoutOptionChange("selectedIndex",-1));break;case"selectedItemKeys":if(i=this.option("selectedItemKeys"),this.option("selectionRequired")){var o=this._getIndexByKey(i[0]);if(!zs(o))return this._syncSelectionOptions("selectedIndex")}return this._selection.setSelection(i)}return(new W).resolve().promise()},_chooseSelectOption:function(){var e="selectedIndex",n=function(t){var i=this.option(t);return T(i)&&i.length||t in this._userOptions}.bind(this);return n("selectedItems")?e="selectedItems":n("selectedItem")?e="selectedItem":n("selectedItemKeys")&&(e="selectedItemKeys"),e},_compareKeys:function(e,n){if(e.length!==n.length)return!1;for(var t=0;t<n.length;t++)if(e[t]!==n[t])return!1;return!0},_normalizeSelectedItems:function(){if("none"===this.option("selectionMode"))this._setOptionWithoutOptionChange("selectedItems",[]),this._syncSelectionOptions("selectedItems");else if("single"===this.option("selectionMode")){var e=this.option("selectedItems");if(e.length>1||!e.length&&this.option("selectionRequired")&&this.option("items")&&this.option("items").length){var n=this._selection.getSelectedItems(),t=void 0===e[0]?n[0]:e[0];return void 0===t&&(t=this._editStrategy.itemsGetter()[0]),this.option("grouped")&&t&&t.items&&(t.items=[t.items[0]]),this._selection.setSelection(this._getKeysByItems([t])),this._setOptionWithoutOptionChange("selectedItems",[t]),this._syncSelectionOptions("selectedItems")}this._selection.setSelection(this._getKeysByItems(e))}else{var i=this._getKeysByItems(this.option("selectedItems")),r=this._selection.getSelectedItemKeys();this._compareKeys(r,i)||this._selection.setSelection(i)}return(new W).resolve().promise()},_itemClickHandler:function(e){var n=(new W).resolve(),t=this.callBase;this._createAction(function(i){var r;n=null!==(r=this._itemSelectHandler(i.event))&&void 0!==r?r:n}.bind(this),{validatingTargetName:"itemElement"})({itemElement:x(e.currentTarget),event:e}),n.always(()=>{t.apply(this,arguments)})},_itemSelectHandler:function(e){var n,t;if(this.option("selectByClick"))return this.isItemSelected(e.currentTarget)?this.unselectItem(e.currentTarget):t=this.selectItem(e.currentTarget),null===(n=t)||void 0===n?void 0:n.promise()},_selectedItemElement:function(e){return this._itemElements().eq(e)},_postprocessRenderItem:function(e){if("none"!==this.option("selectionMode")){var n=x(e.itemElement),t=this._editStrategy.getNormalizedIndex(n),i=this._isItemSelected(t);this._processSelectableItem(n,i)}},_processSelectableItem:function(e,n){e.toggleClass(this._selectedItemClass(),n),this._setAriaSelectionAttribute(e,String(n))},_updateSelectedItems:function(e){var n=this,t=e.addedItemKeys,i=e.removedItemKeys;if(n._rendered&&(t.length||i.length)){var r=n._selectionChangePromise;if(!n._rendering){var s,o=[],l=[];n._editStrategy.beginCache();for(var h=0;h<t.length;h++)s=n._getIndexByKey(t[h]),o.push(s),n._addSelection(s);for(var g=0;g<i.length;g++)s=n._getIndexByKey(i[g]),l.push(s),n._removeSelection(s);n._editStrategy.endCache(),n._updateSelection(o,l)}ke(r).done(function(){n._fireSelectionChangeEvent(e.addedItems,e.removedItems)})}},_fireSelectionChangeEvent:function(e,n){this._createActionByOption("onSelectionChanged",{excludeValidators:["disabled","readOnly"]})({addedItems:e,removedItems:n})},_updateSelection:U,_setAriaSelectionAttribute:function(e,n){this.setAria("selected",n,e)},_removeSelection:function(e){var n=this._editStrategy.getItemElement(e);zs(e)&&(this._processSelectableItem(n,!1),R.triggerHandler(n,"stateChanged",!1))},_addSelection:function(e){var n=this._editStrategy.getItemElement(e);zs(e)&&(this._processSelectableItem(n,!0),R.triggerHandler(n,"stateChanged",!0))},_isItemSelected:function(e){var n=this._getKeyByIndex(e);return this._selection.isItemSelected(n,{checkPending:!0})},_optionChanged:function(e){switch(e.name){case"selectionMode":this._invalidate();break;case"dataSource":(!e.value||Array.isArray(e.value)&&!e.value.length)&&this.option("selectedItemKeys",[]),this.callBase(e);break;case"selectedIndex":case"selectedItem":case"selectedItems":case"selectedItemKeys":this._syncSelectionOptions(e.name).done(()=>this._normalizeSelectedItems());break;case"keyExpr":this._initKeyGetter();break;case"selectionRequired":this._normalizeSelectedItems();break;case"selectByClick":case"onSelectionChanged":case"onItemDeleting":case"onItemDeleted":case"onItemReordered":case"maxFilterLengthInRequest":break;default:this.callBase(e)}},_clearSelectedItems:function(){this._setOptionWithoutOptionChange("selectedItems",[]),this._syncSelectionOptions("selectedItems")},_waitDeletingPrepare:function(e){if(e.data(Ok))return(new W).resolve().promise();e.data(Ok,!0);var n=new W,t={cancel:!1},i=this._itemEventHandler(e,"onItemDeleting",t,{excludeValidators:["disabled","readOnly"]});return ke(i).always(function(r){var o=!i,s=!o&&"resolved"===i.state(),h=o||s&&!arguments.length||s&&r;ke(Gn(t.cancel)).always(function(){e.data(Ok,!1)}).done(function(g){h&&!g?n.resolve():n.reject()}).fail(n.reject)}.bind(this)),n.promise()},_deleteItemFromDS:function(e){var n=this._dataController,t=new W,i=this.option("disabled"),r=n.store();if(!r)return(new W).resolve().promise();if(!r.remove)throw It.Error("E1011");return this.option("disabled",!0),r.remove(n.keyOf(this._getItemData(e))).done(function(o){void 0!==o?t.resolve():t.reject()}).fail(function(){t.reject()}),t.always(function(){this.option("disabled",i)}.bind(this)),t},_tryRefreshLastPage:function(){var e=new W;return this._isLastPage()||this.option("grouped")?e.resolve():this._refreshLastPage().done(function(){e.resolve()}),e.promise()},_refreshLastPage:function(){return this._expectLastItemLoading(),this._dataController.load()},_updateSelectionAfterDelete:function(e){var n=this._getKeyByIndex(e);this._selection.deselect([n])},_updateIndicesAfterIndex:function(e){for(var n=this._itemElements(),t=e+1;t<n.length;t++)x(n[t]).data(this._itemIndexKey(),t-1)},_simulateOptionChange:function(e){var n=this.option(e);n instanceof Yl||this._optionChangedAction({name:e,fullName:e,value:n})},isItemSelected:function(e){return this._isItemSelected(this._editStrategy.getNormalizedIndex(e))},selectItem:function(e){if("none"!==this.option("selectionMode")){var n=this._editStrategy.getNormalizedIndex(e);if(zs(n)){var t=this._getKeyByIndex(n);if(!this._selection.isItemSelected(t)){if("single"===this.option("selectionMode"))return this._selection.setSelection([t]);var i=this.option("selectedItemKeys")||[];return this._selection.setSelection([...i,t],[t])}}}},unselectItem:function(e){var n=this._editStrategy.getNormalizedIndex(e);if(zs(n)){var t=this._selection.getSelectedItemKeys();if(!(this.option("selectionRequired")&&t.length<=1)){var i=this._getKeyByIndex(n);this._selection.isItemSelected(i,{checkPending:!0})&&this._selection.deselect([i])}}},_deleteItemElementByIndex:function(e){this._updateSelectionAfterDelete(e),this._updateIndicesAfterIndex(e),this._editStrategy.deleteItemAtIndex(e)},_afterItemElementDeleted:function(e,n){var t=this._dataController.getDataSource()?"dataSource":"items";this._simulateOptionChange(t),this._itemEventHandler(e,"onItemDeleted",n,{beforeExecute:function(){e.remove()},excludeValidators:["disabled","readOnly"]}),this._renderEmptyMessage()},deleteItem:function(e){var n=this,t=new W,i=this._editStrategy.getItemElement(e),r=this._editStrategy.getNormalizedIndex(e),o=this._itemResponseWaitClass();return zs(r)?this._waitDeletingPrepare(i).done(function(){i.addClass(o);var s=n._extendActionArgs(i);n._deleteItemFromDS(i).done(function(){n._deleteItemElementByIndex(r),n._afterItemElementDeleted(i,s),n._tryRefreshLastPage().done(function(){t.resolveWith(n)})}).fail(function(){i.removeClass(o),t.rejectWith(n)})}).fail(function(){t.rejectWith(n)}):t.rejectWith(n),t.promise()},reorderItem:function(e,n){var t=new W,i=this,r=this._editStrategy,o=r.getItemElement(e),s=r.getItemElement(n),l=r.getNormalizedIndex(e),h=r.getNormalizedIndex(n),g=this._dataController.getDataSource()?"dataSource":"items";return zs(l)&&zs(h)&&l!==h?t.resolveWith(this):t.rejectWith(this),t.promise().done(function(){s[r.itemPlacementFunc(l,h)](o),r.moveItemAtIndexToIndex(l,h),this._updateIndicesAfterIndex(l),i.option("selectedItems",i._getItemsByKeys(i._selection.getSelectedItemKeys(),i._selection.getSelectedItems())),"items"===g&&i._simulateOptionChange(g),i._itemEventHandler(o,"onItemReordered",{fromIndex:r.getIndex(l),toIndex:r.getIndex(h)},{excludeValidators:["disabled","readOnly"]})})}});const _p=j7;var K7=_p.inherit({_initMarkup(){this._deferredItems=[],this.callBase()},_renderItemContent(e){var n=new W,t=new W;this._deferredItems[e.index]=t;var i=this.callBase.call(this,e);return t.done(()=>{n.resolve(i)}),n.promise()},_onItemTemplateRendered:function(e,n){return()=>{this._deferredItems[n.index].resolve()}},_postProcessRenderItems:U,_renderItemsAsync(){var e=new W;return ke.apply(this,this._deferredItems).done(()=>{this._postProcessRenderItems(),e.resolve()}),e.promise()},_clean(){this.callBase(),this._deferredItems=[]}});const Y7=K7;var J$="dx-toolbar",Dk="dx-toolbar-before",X$="dx-toolbar-after",nx="dx-toolbar-label",Z$="dx-toolbar-compact";class eG extends Y7{_getSynchronizableOptionsForCreateComponent(){return super._getSynchronizableOptionsForCreateComponent().filter(n=>"disabled"!==n)}_initTemplates(){super._initTemplates();var n=new fp(function(t,i,r){if(ft(i)){var h,g,_,v,C,{text:o,html:s,widget:l}=i;if(o&&t.text(o).wrapInner("<div>"),s&&t.html(s),"dxDropDownButton"===l&&(i.options=null!==(h=i.options)&&void 0!==h?h:{},T(i.options.stylingMode)||(i.options.stylingMode=this.option("useFlatButtons")?"text":"contained")),"dxButton"===l)this.option("useFlatButtons")&&(i.options=null!==(g=i.options)&&void 0!==g?g:{},i.options.stylingMode=null!==(_=i.options.stylingMode)&&void 0!==_?_:"text"),this.option("useDefaultButtons")&&(i.options=null!==(v=i.options)&&void 0!==v?v:{},i.options.type=null!==(C=i.options.type)&&void 0!==C?C:"default")}else t.text(String(i));this._getTemplate("dx-polymorph-widget").render({container:t,model:r,parent:this})}.bind(this),["text","html","widget","options"],this.option("integrationOptions.watchMethod"));this._templateManager.addDefaultTemplates({item:n,menuItem:n})}_getDefaultOptions(){return A(super._getDefaultOptions(),{renderAs:"topToolbar",grouped:!1,useFlatButtons:!1,useDefaultButtons:!1})}_defaultOptionsRules(){return super._defaultOptionsRules().concat([{device:function(){return Wn()},options:{useFlatButtons:!0}}])}_itemContainer(){return this._$toolbarItemsContainer.find([".".concat(Dk),".".concat("dx-toolbar-center"),".".concat(X$)].join(","))}_itemClass(){return"dx-toolbar-item"}_itemDataKey(){return"dxToolbarItemDataKey"}_dimensionChanged(){this._disposed||(this._arrangeItems(),this._applyCompactMode())}_initMarkup(){this._renderToolbar(),this._renderSections(),super._initMarkup()}_render(){super._render(),this._renderItemsAsync(),this._updateDimensionsInMaterial()}_postProcessRenderItems(){this._arrangeItems()}_renderToolbar(){this.$element().addClass(J$),this._$toolbarItemsContainer=x("<div>").addClass("dx-toolbar-items-container").appendTo(this.$element()),this.setAria("role","toolbar")}_renderSections(){var n=this._$toolbarItemsContainer;B(["before","center","after"],(t,i)=>{var r="dx-toolbar-".concat(i);n.find(".".concat(r)).length||(this["_$".concat(i,"Section")]=x("<div>").addClass(r).appendTo(n))})}_arrangeItems(n){var t;n=null!==(t=n)&&void 0!==t?t:Ze(this.$element()),this._$centerSection.css({margin:"0 auto",float:"none"});var i=Zn(this._$beforeSection.get(0)),r=Zn(this._$afterSection.get(0));this._alignCenterSection(i,r,n);var o=this._$toolbarItemsContainer.find(".".concat(nx)).eq(0),s=o.parent();if(o.length){var l=i.width?i.width:o.position().left,h=s.hasClass(Dk)?0:l,g=s.hasClass(X$)?0:r.width,_=0;s.children().not(".".concat(nx)).each(function(){_+=wt(this)});var C=Math.max(n-_-h-g,0);if(s.hasClass(Dk))this._alignSection(this._$beforeSection,C);else{var b=wt(o)-Ze(o);o.css("maxWidth",C-b)}}}_alignCenterSection(n,t,i){this._alignSection(this._$centerSection,i-n.width-t.width);var r=this.option("rtlEnabled"),o=r?t:n,s=r?n:t,l=Zn(this._$centerSection.get(0));(o.right>l.left||l.right>s.left)&&this._$centerSection.css({marginLeft:o.width,marginRight:s.width,float:o.width>s.width?"none":"right"})}_alignSection(n,t){var r=n.find(".".concat(nx)).toArray();t-=this._getCurrentLabelsPaddings(r);var o=this._getCurrentLabelsWidth(r),s=Math.abs(o-t);t<o?(r=r.reverse(),this._alignSectionLabels(r,s,!1)):this._alignSectionLabels(r,s,!0)}_alignSectionLabels(n,t,i){for(var r=function(_){return Zn(_).width},o=0;o<n.length;o++){var s=x(n[o]),l=Math.ceil(r(n[o]));i&&s.css("maxWidth","inherit");var g=Math.ceil(i?r(n[o]):l);if(!(g<t)){s.css("maxWidth",i?l+t:l-t);break}t-=g,s.css("maxWidth",i?g:0)}}_applyCompactMode(){var n=this.$element();n.removeClass(Z$),this.option("compactMode")&&this._getSummaryItemsWidth(this.itemElements(),!0)>Ze(n)&&n.addClass(Z$)}_getCurrentLabelsWidth(n){var t=0;return n.forEach(function(i,r){t+=wt(i)}),t}_getCurrentLabelsPaddings(n){var t=0;return n.forEach(function(i,r){t+=wt(i)-Ze(i)}),t}_renderItem(n,t,i,r){var o,s,l=null!==(o=t.location)&&void 0!==o?o:"center",h=i??this["_$".concat(l,"Section")],g=!!(null!==(s=t.text)&&void 0!==s?s:t.html),_=super._renderItem(n,t,h,r);return _.toggleClass("dx-toolbar-button",!g).toggleClass(nx,g).addClass(t.cssClass),_}_renderGroupedItems(){B(this.option("items"),(n,t)=>{var i,r=t.items,o=x("<div>").addClass("dx-toolbar-group"),s=null!==(i=t.location)&&void 0!==i?i:"center";!r||!r.length||(B(r,(l,h)=>{this._renderItem(l,h,o,null)}),this._$toolbarItemsContainer.find(".dx-toolbar-".concat(s)).append(o))})}_renderItems(n){this.option("grouped")&&n.length&&n[0].items?this._renderGroupedItems():super._renderItems(n)}_getToolbarItems(){var n;return null!==(n=this.option("items"))&&void 0!==n?n:[]}_renderContentImpl(){var n=this._getToolbarItems();this.$element().toggleClass("dx-toolbar-mini",0===n.length),this._renderItems(this._renderedItemsCount?n.slice(this._renderedItemsCount):n),this._applyCompactMode()}_renderEmptyMessage(){}_clean(){this._$toolbarItemsContainer.children().empty(),this.$element().empty(),delete this._$beforeSection,delete this._$centerSection,delete this._$afterSection}_visibilityChanged(n){n&&this._arrangeItems()}_isVisible(){return Ze(this.$element())>0&&gt(this.$element())>0}_getIndexByItem(n){return this._getToolbarItems().indexOf(n)}_itemOptionChanged(n,t,i){super._itemOptionChanged.apply(this,[n,t,i]),this._arrangeItems()}_optionChanged(n){var{name:t}=n;switch(t){case"width":super._optionChanged.apply(this,arguments),this._dimensionChanged();break;case"renderAs":case"useFlatButtons":case"useDefaultButtons":this._invalidate();break;case"compactMode":this._applyCompactMode();break;case"grouped":break;default:super._optionChanged.apply(this,arguments)}}_dispose(){super._dispose(),clearTimeout(this._waitParentAnimationTimeout)}_updateDimensionsInMaterial(){Wn()&&Promise.all([(()=>new Promise(n=>{var t=()=>{var r=!0;return this.$element().parents().each((o,s)=>{if(An.isAnimating(x(s)))return r=!1,!1}),r&&n(),r},i=()=>{clearTimeout(this._waitParentAnimationTimeout),this._waitParentAnimationTimeout=setTimeout(()=>t()||i(),15)};i()}))(),(()=>{var n=this.$element().find(".".concat(nx)),t=[];return n.each((i,r)=>{var o=x(r).text(),s=x(r).css("fontWeight");t.push(pH(o,s))}),Promise.all(t)})()]).then(()=>{this._dimensionChanged()})}}Dt("dxToolbarBase",eG);const oQ=eG;var sQ=["fullScreen","forceApplyBindings","dragOutsideBoundary","dragAndResizeArea","outsideDragFactor"],Sk=ut();class aQ extends Sz{constructor(n){var{fullScreen:t,forceApplyBindings:i,dragOutsideBoundary:r,dragAndResizeArea:o,outsideDragFactor:s}=n;super(mn(n,sQ)),this._props=de({},this._props,{fullScreen:t,forceApplyBindings:i,dragOutsideBoundary:r,dragAndResizeArea:o,outsideDragFactor:s}),this._$dragResizeContainer=void 0,this._updateDragResizeContainer()}set fullScreen(n){this._props.fullScreen=n,n?this._fullScreenEnabled():this._fullScreenDisabled()}get $dragResizeContainer(){return this._$dragResizeContainer}get outsideDragFactor(){return this._props.dragOutsideBoundary?1:this._props.outsideDragFactor}set dragAndResizeArea(n){this._props.dragAndResizeArea=n,this._updateDragResizeContainer()}set dragOutsideBoundary(n){this._props.dragOutsideBoundary=n,this._updateDragResizeContainer()}set outsideDragFactor(n){this._props.outsideDragFactor=n}updateContainer(n){super.updateContainer(n),this._updateDragResizeContainer()}dragHandled(){this.restorePositionOnNextRender(!1)}resizeHandled(){this.restorePositionOnNextRender(!1)}positionContent(){var n,t;this._props.fullScreen?(Mi(this._$content,{top:0,left:0}),this.detectVisualPositionChange()):(null===(n=(t=this._props).forceApplyBindings)||void 0===n||n.call(t),super.positionContent())}_updateDragResizeContainer(){this._$dragResizeContainer=this._getDragResizeContainer()}_getDragResizeContainer(){return this._props.dragOutsideBoundary?x(Sk):this._props.dragAndResizeArea?x(this._props.dragAndResizeArea):EE().get(0)||this._props.container?this._$markupContainer:x(Sk)}_getVisualContainer(){return this._props.fullScreen?x(Sk):super._getVisualContainer()}_fullScreenEnabled(){this.restorePositionOnNextRender(!1)}_fullScreenDisabled(){this.restorePositionOnNextRender(!0)}}var lQ={setOverflow:U,restoreOverflow:U},uQ=ut(),Ek="dx-popup",tG="dx-popup-wrapper",nG="dx-popup-title",iG="dx-popup-bottom",rG=["cancel","clear","done"],wQ=Gt.safari&&ZH(Gt.version,[11])<0,tc={static:"",inherit:"dx-popup-inherit-height",flex:"dx-popup-flex-height"},oG=Nu.inherit({_supportedKeys:function(){return A(this.callBase(),{upArrow:e=>{var n;null===(n=this._drag)||void 0===n||n.moveUp(e)},downArrow:e=>{var n;null===(n=this._drag)||void 0===n||n.moveDown(e)},leftArrow:e=>{var n;null===(n=this._drag)||void 0===n||n.moveLeft(e)},rightArrow:e=>{var n;null===(n=this._drag)||void 0===n||n.moveRight(e)}})},_getDefaultOptions:function(){return A(this.callBase(),{fullScreen:!1,title:"",showTitle:!0,titleTemplate:"title",onTitleRendered:null,dragOutsideBoundary:!1,dragEnabled:!1,dragAndResizeArea:void 0,enableBodyScroll:!0,outsideDragFactor:0,onResizeStart:null,onResize:null,onResizeEnd:null,resizeEnabled:!1,toolbarItems:[],showCloseButton:!1,bottomTemplate:"bottom",useDefaultToolbarButtons:!1,useFlatToolbarButtons:!1,autoResizeEnabled:!0})},_defaultOptionsRules:function(){var e=es();return this.callBase().concat([{device:{platform:"ios"},options:{animation:this._iosAnimation}},{device:{platform:"android"},options:{animation:this._androidAnimation}},{device:{platform:"generic"},options:{showCloseButton:!0}},{device:function(n){return"desktop"===$e.real().deviceType&&"generic"===n.platform},options:{dragEnabled:!0}},{device:function(){return"desktop"===$e.real().deviceType&&!$e.isSimulator()},options:{focusStateEnabled:!0}},{device:function(){return Wn(e)},options:{useDefaultToolbarButtons:!0,useFlatToolbarButtons:!0,showCloseButton:!1}}])},_iosAnimation:{show:{type:"slide",duration:400,from:{position:{my:"top",at:"bottom"}},to:{position:{my:"center",at:"center"}}},hide:{type:"slide",duration:400,from:{opacity:1,position:{my:"center",at:"center"}},to:{opacity:1,position:{my:"top",at:"bottom"}}}},_androidAnimation:function(){return this.option("fullScreen")?{show:{type:"slide",duration:300,from:{top:"30%",opacity:0},to:{top:0,opacity:1}},hide:{type:"slide",duration:300,from:{top:0,opacity:1},to:{top:"30%",opacity:0}}}:{show:{type:"fade",duration:400,from:0,to:1},hide:{type:"fade",duration:400,from:1,to:0}}},_init:function(){var e=this.option("_wrapperClassExternal"),n=e?"".concat(tG," ").concat(e):tG;this.callBase(),this._createBodyOverflowManager(),this._updateResizeCallbackSkipCondition(),this.$element().addClass(Ek),this.$wrapper().addClass(n),this._$popupContent=this._$content.wrapInner(x("<div>").addClass("dx-popup-content")).children().eq(0),this._toggleContentScrollClass(),this.$overlayContent().attr("role","dialog")},_render:function(){var e=this.option("fullScreen");this._toggleFullScreenClass(e),this.callBase()},_createBodyOverflowManager:function(){this._bodyOverflowManager=(()=>{if(!rt())return lQ;var e=ut(),n=se.getDocument().documentElement,t=se.getBody(),i="ios"===$e.real().platform,r={overflow:null,overflowX:null,overflowY:null,paddingRight:null,position:null,top:null,left:null};return{setOverflow:i?()=>{if(!T(r.position)&&"fixed"!==t.style.position){var{scrollY:l,scrollX:h}=e;r.position=t.style.position,r.top=t.style.top,r.left=t.style.left,t.style.setProperty("position","fixed"),t.style.setProperty("top","".concat(-l,"px")),t.style.setProperty("left","".concat(-h,"px"))}}:()=>{(()=>{var l=e.innerWidth-n.clientWidth;if(!(r.paddingRight||l<=0)){var h=e.getComputedStyle(t).getPropertyValue("padding-right"),g=parseInt(h,10);r.paddingRight=g,t.style.setProperty("padding-right","".concat(g+l,"px"))}})(),!r.overflow&&"hidden"!==t.style.overflow&&(r.overflow=t.style.overflow,r.overflowX=t.style.overflowX,r.overflowY=t.style.overflowY,t.style.setProperty("overflow","hidden"))},restoreOverflow:i?()=>{if(T(r.position)){var l=-parseInt(t.style.top,10),h=-parseInt(t.style.left,10);["position","top","left"].forEach(g=>{r[g]?t.style.setProperty(g,r[g]):t.style.removeProperty(g)}),e.scrollTo(h,l),r.position=null}}:()=>{T(r.paddingRight)&&(r.paddingRight?t.style.setProperty("padding-right","".concat(r.paddingRight,"px")):t.style.removeProperty("padding-right"),r.paddingRight=null),["overflow","overflowX","overflowY"].forEach(l=>{if(T(r[l])){var h=l.replace(/(X)|(Y)/,g=>"-".concat(g.toLowerCase()));r[l]?t.style.setProperty(h,r[l]):t.style.removeProperty(h),r[l]=null}})}}})()},_toggleFullScreenClass:function(e){this.$overlayContent().toggleClass("dx-popup-fullscreen",e).toggleClass("dx-popup-normal",!e)},_initTemplates:function(){this.callBase(),this._templateManager.addDefaultTemplates({title:new Bs,bottom:new Bs})},_getActionsList:function(){return this.callBase().concat(["onResizeStart","onResize","onResizeEnd"])},_contentResizeHandler:function(e){this._shouldSkipContentResize(e)||this._renderGeometry({shouldOnlyReposition:!0})},_doesShowAnimationChangeDimensions:function(){var e=this.option("animation");return["to","from"].some(n=>{var t,i=null==e||null===(t=e.show)||void 0===t?void 0:t[n];return qe(i)&&("width"in i||"height"in i)})},_updateResizeCallbackSkipCondition(){var e=this._doesShowAnimationChangeDimensions();this._shouldSkipContentResize=n=>e&&this._showAnimationProcessing||this._areContentDimensionsRendered(n)},_observeContentResize:function(e){if(this.option("useResizeObserver")){var n=this._$content.get(0);e?dp.observe(n,t=>{this._contentResizeHandler(t)}):dp.unobserve(n)}},_areContentDimensionsRendered:function(e){var n,t,i,o,s,r=null===(n=e.contentBoxSize)||void 0===n?void 0:n[0];if(r)return parseInt(r.inlineSize,10)===(null===(o=this._renderedDimensions)||void 0===o?void 0:o.width)&&parseInt(r.blockSize,10)===(null===(s=this._renderedDimensions)||void 0===s?void 0:s.height);var l=e.contentRect;return parseInt(l.width,10)===(null===(t=this._renderedDimensions)||void 0===t?void 0:t.width)&&parseInt(l.height,10)===(null===(i=this._renderedDimensions)||void 0===i?void 0:i.height)},_renderContent(){this.callBase(),this._observeContentResize(!0)},_renderContentImpl:function(){this._renderTitle(),this.callBase(),this._renderResize(),this._renderBottom()},_renderTitle:function(){var e=this._getToolbarItems("top"),n=this.option("title"),t=this.option("showTitle");if(t&&n&&e.unshift({location:$e.current().ios?"center":"before",text:n}),t||e.length>0){this._$title&&this._$title.remove();var i=x("<div>").addClass(nG).insertBefore(this.$content());this._$title=this._renderTemplateByType("titleTemplate",e,i).addClass(nG),this._renderDrag(),this._executeTitleRenderAction(this._$title),this._$title.toggleClass("dx-has-close-button",this._hasCloseButton())}else this._$title&&this._$title.detach()},_renderTemplateByType:function(e,n,t,i){var{rtlEnabled:r,useDefaultToolbarButtons:o,useFlatToolbarButtons:s,disabled:l}=this.option(),h=this._getTemplateByOption(e);if(h instanceof Bs){var _=A({},this.option("integrationOptions"),{skipTemplates:["content","title"]}),v=A(i,{items:n,rtlEnabled:r,useDefaultButtons:o,useFlatButtons:s,disabled:l,integrationOptions:_});this._getTemplate("dx-polymorph-widget").render({container:t,model:{widget:this._getToolbarName(),options:v}});var C=t.children("div");return t.replaceWith(C),C}var b=x(h.render({container:Ke(t)}));return b.hasClass("dx-template-wrapper")&&(t.replaceWith(b),t=b),t},_getToolbarName:function(){return"dxToolbarBase"},_renderVisibilityAnimate:function(e){return this.callBase(e)},_hide(){return this._observeContentResize(!1),this.callBase()},_executeTitleRenderAction:function(e){this._getTitleRenderAction()({titleElement:Ke(e)})},_getTitleRenderAction:function(){return this._titleRenderAction||this._createTitleRenderAction()},_createTitleRenderAction:function(){return this._titleRenderAction=this._createActionByOption("onTitleRendered",{element:this.element(),excludeValidators:["disabled","readOnly"]})},_getCloseButton:function(){return{toolbar:"top",location:"after",template:this._getCloseButtonRenderer()}},_getCloseButtonRenderer:function(){return(e,n,t)=>{var i=x("<div>").addClass("dx-closebutton");this._createComponent(i,Ui,{icon:"close",onClick:this._createToolbarItemAction(void 0),stylingMode:"text",integrationOptions:{}}),x(t).append(i)}},_getToolbarItems:function(e){var n=this.option("toolbarItems"),t=[];this._toolbarItemClasses=[];var i=$e.current().platform,r=0;return B(n,(o,s)=>{var l=T(s.shortcut),h=l?(e=>{var t=$e.current().platform,i="bottom",r="before";if("ios"===t)switch(e){case"cancel":i="top";break;case"clear":i="top",r="after";break;case"done":r="after"}else if("android"===t)switch(e){case"cancel":case"done":r="after"}return{toolbar:i,location:r}})(s.shortcut):s;if(l&&"ios"===i&&r<2&&(h.toolbar="top",r++),h.toolbar=s.toolbar||h.toolbar||"top",h&&h.toolbar===e){l&&A(h,{location:s.location},this._getToolbarItemByAlias(s));var g="generic"===i;"done"===s.shortcut&&g||"cancel"===s.shortcut&&!g?t.unshift(h):t.push(h)}}),"top"===e&&this._hasCloseButton()&&t.push(this._getCloseButton()),t},_hasCloseButton(){return this.option("showCloseButton")&&this.option("showTitle")},_getLocalizationKey:e=>"done"===e.toLowerCase()?"OK":vl(e,!0),_getToolbarItemByAlias:function(e){var n=this,t=e.shortcut;if(!rG.includes(t))return!1;var i=A({text:J.format(this._getLocalizationKey(t)),onClick:this._createToolbarItemAction(e.onClick),integrationOptions:{},type:n.option("useDefaultToolbarButtons")?"default":"normal",stylingMode:n.option("useFlatToolbarButtons")?"text":"contained"},e.options||{}),r=Ek+"-"+t;return this._toolbarItemClasses.push(r),{template:function(o,s,l){var h=x("<div>").addClass(r).appendTo(l);n._createComponent(h,Ui,i)}}},_createToolbarItemAction:function(e){return this._createAction(e,{afterExecute:function(n){n.component.hide()}})},_renderBottom:function(){var e=this._getToolbarItems("bottom");if(e.length){this._$bottom&&this._$bottom.remove();var n=x("<div>").addClass(iG).insertAfter(this.$content());this._$bottom=this._renderTemplateByType("bottomTemplate",e,n,{compactMode:!0}).addClass(iG),this._toggleClasses()}else this._$bottom&&this._$bottom.detach()},_toggleDisabledState:function(e){this.callBase(...arguments),this.$content().toggleClass("dx-state-disabled",!!e)},_toggleClasses:function(){B(rG,(n,t)=>{var i=Ek+"-"+t;this._toolbarItemClasses.includes(i)?(this.$wrapper().addClass(i+"-visible"),this._$bottom.addClass(i)):(this.$wrapper().removeClass(i+"-visible"),this._$bottom.removeClass(i))})},_toggleFocusClass(e,n){if(this.callBase(e,n),e&&!(e=>Gl.length&&Gl[Gl.length-1]===this._zIndex)()){var t=xz(this._zIndexInitValue());zF(this._zIndex),this._zIndex=t,this._$wrapper.css("zIndex",t),this._$content.css("zIndex",t)}},_toggleContentScrollClass(){var e=!this.option("preventScrollEvents");this.$content().toggleClass("dx-popup-content-scrollable",e)},_getPositionControllerConfig(){var{fullScreen:e,forceApplyBindings:n,dragOutsideBoundary:t,dragAndResizeArea:i,outsideDragFactor:r}=this.option();return A({},this.callBase(),{fullScreen:e,forceApplyBindings:n,dragOutsideBoundary:t,dragAndResizeArea:i,outsideDragFactor:r})},_initPositionController(){this._positionController=new aQ(this._getPositionControllerConfig())},_getDragTarget:function(){return this.topToolbar()},_renderGeometry:function(e){var{visible:n,useResizeObserver:t}=this.option();if(n&&rt()){var r=this._showAnimationProcessing&&!(null!=e&&e.forceStopAnimation)&&t;this._isAnimationPaused=r||void 0,this._stopAnimation(),null!=e&&e.shouldOnlyReposition?this._renderPosition(!1):this._renderGeometryImpl(e?.isDimensionChange),r&&(this._animateShowing(),this._isAnimationPaused=void 0)}},_cacheDimensions:function(){this.option("useResizeObserver")&&(this._renderedDimensions={width:parseInt(Ze(this._$content),10),height:parseInt(gt(this._$content),10)})},_renderGeometryImpl:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0]||this._resetContentHeight(),this.callBase(),this._cacheDimensions(),this._setContentHeight()},_resetContentHeight:function(){"auto"===this._getOptionValue("height")&&this.$content().css({height:"auto",maxHeight:"none"})},_renderDrag:function(){var e=this._getDragTarget(),n=this.option("dragEnabled");if(e){var t={dragEnabled:n,handle:e.get(0),draggableElement:this._$content.get(0),positionController:this._positionController};this._drag?this._drag.init(t):this._drag=new class gZ{constructor(n){this.init(n)}init(n){var{dragEnabled:t,handle:i,draggableElement:r,positionController:o}=n;this._positionController=o,this._draggableElement=r,this._handle=i,this._dragEnabled=t,this.unsubscribe(),t&&this.subscribe()}moveDown(n){this._moveTo(5,0,n)}moveUp(n){this._moveTo(-5,0,n)}moveLeft(n){this._moveTo(0,-5,n)}moveRight(n){this._moveTo(0,5,n)}subscribe(){var n=this._getEventNames();R.on(this._handle,n.startEventName,t=>{this._dragStartHandler(t)}),R.on(this._handle,n.updateEventName,t=>{this._dragUpdateHandler(t)}),R.on(this._handle,n.endEventName,t=>{this._dragEndHandler(t)})}unsubscribe(){var n=this._getEventNames();R.off(this._handle,n.startEventName),R.off(this._handle,n.updateEventName),R.off(this._handle,n.endEventName)}_getEventNames(){return{startEventName:fe(ap,"overlayDrag"),updateEventName:fe(Vu,"overlayDrag"),endEventName:fe(lp,"overlayDrag")}}_dragStartHandler(n){var t=this._getAllowedOffsets();this._prevOffset={x:0,y:0},n.targetElements=[],n.maxTopOffset=t.top,n.maxBottomOffset=t.bottom,n.maxLeftOffset=t.left,n.maxRightOffset=t.right}_dragUpdateHandler(n){this._moveByOffset({top:n.offset.y-this._prevOffset.y,left:n.offset.x-this._prevOffset.x}),this._prevOffset=n.offset}_dragEndHandler(n){this._positionController.dragHandled(),this._positionController.detectVisualPositionChange(n)}_moveTo(n,t,i){if(this._dragEnabled){i.preventDefault(),i.stopPropagation();var r=this._fitOffsetIntoAllowedRange(n,t);this._moveByOffset(r),this._dragEndHandler(i)}}_fitOffsetIntoAllowedRange(n,t){var i=this._getAllowedOffsets();return{top:cn(n,-i.top,i.bottom),left:cn(t,-i.left,i.right)}}_getContainerDimensions(){var n=se.getDocument(),t=this._positionController.$dragResizeContainer.get(0),i=wt(t),r=_t(t);return Sn(t)&&(r=Math.max(n.body.clientHeight,r),i=Math.max(n.body.clientWidth,i)),{width:i,height:r}}_getContainerPosition(){var n=this._positionController.$dragResizeContainer.get(0);return Sn(n)?{top:0,left:0}:fC(n)}_getElementPosition(){return fC(this._draggableElement)}_getInnerDelta(){var n=this._getContainerDimensions(),t=this._getElementDimensions();return{x:n.width-t.width,y:n.height-t.height}}_getOuterDelta(){var{width:n,height:t}=this._getElementDimensions(),i=this._positionController.outsideDragFactor;return{x:n*i,y:t*i}}_getFullDelta(){var n=this._getInnerDelta(),t=this._getOuterDelta();return{x:n.x+t.x,y:n.y+t.y}}_getElementDimensions(){return{width:this._draggableElement.offsetWidth,height:this._draggableElement.offsetHeight}}_getAllowedOffsets(){var n=this._getFullDelta();if(!(n.y>=0&&n.x>=0))return{top:0,bottom:0,left:0,right:0};var i=this._getElementPosition(),r=this._getContainerPosition(),o=this._getOuterDelta();return{top:i.top-r.top+o.y,bottom:-i.top+r.top+n.y,left:i.left-r.left+o.x,right:-i.left+r.left+n.x}}_moveByOffset(n){var t=is(this._draggableElement);Mi(this._draggableElement,{left:t.left+n.left,top:t.top+n.top})}}(t),this.$overlayContent().toggleClass("dx-popup-draggable",n)}},_renderResize:function(){this._resizable=this._createComponent(this._$content,EZ,{handles:this.option("resizeEnabled")?"all":"none",onResizeEnd:e=>{this._resizeEndHandler(e),this._observeContentResize(!0)},onResize:e=>{this._setContentHeight(),this._actions.onResize(e)},onResizeStart:e=>{this._observeContentResize(!1),this._actions.onResizeStart(e)},minHeight:100,minWidth:100,area:this._positionController.$dragResizeContainer,keepAspectRatio:!1})},_resizeEndHandler:function(e){var n=this._resizable.option("width"),t=this._resizable.option("height");n&&this._setOptionWithoutOptionChange("width",n),t&&this._setOptionWithoutOptionChange("height",t),this._cacheDimensions(),this._positionController.resizeHandled(),this._positionController.detectVisualPositionChange(e.event),this._actions.onResizeEnd(e)},_setContentHeight:function(){(this.option("forceApplyBindings")||U)();var e=this.$overlayContent().get(0),n=this._chooseHeightStrategy(e);this.$content().css(this._getHeightCssStyles(n,e)),this._setHeightClasses(this.$overlayContent(),n)},_heightStrategyChangeOffset:function(e,n){return e===tc.flex?-n:0},_chooseHeightStrategy:function(e){var n="auto"===e.style.width||""===e.style.width,t=tc.static;return this._isAutoHeight()&&this.option("autoResizeEnabled")&&(t=n||wQ?tc.inherit:tc.flex),t},_getHeightCssStyles:function(e,n){var t={},i=this._getOptionValue("maxHeight",n),r=this._getOptionValue("minHeight",n),o=this._splitPopupHeight(),s=o.header+o.footer+o.contentVerticalOffsets+o.popupVerticalOffsets+this._heightStrategyChangeOffset(e,o.popupVerticalPaddings);if(e===tc.static){if(!this._isAutoHeight()||i||r){var l=this.option("fullScreen")?Math.min(Zn(n).height,ut().innerHeight):Zn(n).height;t={height:Math.max(0,l-s),minHeight:"auto",maxHeight:"auto"}}}else{var g=x(this._positionController.$visualContainer).get(0),_=function(e,n,t){var i=cC(e,n,t);return null!==i?i:"none"}(i,-s,g),v=function(e,n,t){var i=cC(e,n,t);return null!==i?i:0}(r,-s,g);t={height:"auto",minHeight:v,maxHeight:_}}return t},_setHeightClasses:function(e,n){var t="";for(var i in tc)tc[i]!==n&&(t+=" "+tc[i]);e.removeClass(t).addClass(n)},_isAutoHeight:function(){return"auto"===this.$overlayContent().get(0).style.height},_splitPopupHeight:function(){var e=this.topToolbar(),n=this.bottomToolbar();return{header:hC(e&&e.get(0)),footer:hC(n&&n.get(0)),contentVerticalOffsets:If(this.$overlayContent().get(0),!0),popupVerticalOffsets:If(this.$content().get(0),!0),popupVerticalPaddings:If(this.$content().get(0),!1)}},_isAllWindowCovered:function(){return this.callBase()||this.option("fullScreen")},_renderDimensions:function(){this.option("fullScreen")?this.$overlayContent().css({width:"100%",height:"100%",minWidth:"",maxWidth:"",minHeight:"",maxHeight:""}):this.callBase(),rt()&&this._renderFullscreenWidthClass()},_dimensionChanged:function(){this._renderGeometry({isDimensionChange:!0})},_clean:function(){this.callBase(),this._observeContentResize(!1)},_dispose:function(){this.callBase(),this._toggleBodyScroll(!0)},_renderFullscreenWidthClass:function(){this.$overlayContent().toggleClass("dx-popup-fullscreen-width",wt(this.$overlayContent())===Ze(uQ))},_toggleSafariScrolling(){this.option("enableBodyScroll")&&this.callBase()},_toggleBodyScroll:function(e){if(this._bodyOverflowManager){var{setOverflow:n,restoreOverflow:t}=this._bodyOverflowManager;e?t():n()}},refreshPosition:function(){this._renderPosition()},_optionChanged:function(e){var n,{value:t,name:i}=e;switch(i){case"disabled":this.callBase(e),this._renderTitle(),this._renderBottom();break;case"animation":this._updateResizeCallbackSkipCondition();break;case"enableBodyScroll":this._toggleBodyScroll(t);break;case"showTitle":case"title":case"titleTemplate":this._renderTitle(),this._renderGeometry(),Qo(this.$overlayContent());break;case"bottomTemplate":this._renderBottom(),this._renderGeometry(),Qo(this.$overlayContent());break;case"container":var r;this.callBase(e),this.option("resizeEnabled")&&(null===(r=this._resizable)||void 0===r||r.option("area",this._positionController.$dragResizeContainer));break;case"width":case"height":this.callBase(e),null===(n=this._resizable)||void 0===n||n.option(i,t);break;case"onTitleRendered":this._createTitleRenderAction(t);break;case"toolbarItems":case"useDefaultToolbarButtons":case"useFlatToolbarButtons":var o=!e.fullName.match(/^toolbarItems((\[\d+\])(\.(options|visible).*)?)?$/);this._renderTitle(),this._renderBottom(),o&&(this._renderGeometry(),Qo(this.$overlayContent()));break;case"dragEnabled":this._renderDrag();break;case"dragAndResizeArea":this._positionController.dragAndResizeArea=t,this.option("resizeEnabled")&&this._resizable.option("area",this._positionController.$dragResizeContainer),this._positionController.positionContent();break;case"dragOutsideBoundary":this._positionController.dragOutsideBoundary=t,this.option("resizeEnabled")&&this._resizable.option("area",this._positionController.$dragResizeContainer);break;case"outsideDragFactor":this._positionController.outsideDragFactor=t;break;case"resizeEnabled":this._renderResize(),this._renderGeometry();break;case"autoResizeEnabled":this._renderGeometry(),Qo(this.$overlayContent());break;case"fullScreen":this._positionController.fullScreen=t,this._toggleFullScreenClass(t),this._toggleSafariScrolling(),this._renderGeometry(),Qo(this.$overlayContent());break;case"showCloseButton":this._renderTitle();break;case"preventScrollEvents":this.callBase(e),this._toggleContentScrollClass();break;default:this.callBase(e)}},bottomToolbar:function(){return this._$bottom},topToolbar:function(){return this._$title},$content:function(){return this._$popupContent},content:function(){return Ke(this.$content())},$overlayContent:function(){return this._$content}});Dt("dxPopup",oG);const Ma=oG;var zw=function(e){if(rt())return wt(e)},wk=function(e){return null===e&&(e=void 0),"function"==typeof e&&(e=e()),e},sG="dx-dropdowneditor-input-wrapper",Ww="dx-dropdowneditor-overlay",aG="ios"===$e.current().platform,lG=jy.inherit({_supportedKeys:function(){return A({},this.callBase(),{tab:function(e){if(this.option("opened")){if("instantly"===this.option("applyValueMode"))return void this.close();var n=e.shiftKey?this._getLastPopupElement():this._getFirstPopupElement();n&&(R.trigger(n,"focus"),n.select()),e.preventDefault()}},escape:function(e){return this.option("opened")&&e.preventDefault(),this.close(),!0},upArrow:function(e){return!(!Un(e)&&(e.preventDefault(),e.stopPropagation(),e.altKey)&&(this.close(),1))},downArrow:function(e){return!(!Un(e)&&(e.preventDefault(),e.stopPropagation(),e.altKey)&&(this._validatedOpening(),1))},enter:function(e){return this.option("opened")&&(e.preventDefault(),this._valueChangeEventHandler(e)),!0}})},_getDefaultButtons:function(){return this.callBase().concat([{name:"dropDown",Ctor:pZ}])},_getDefaultOptions:function(){return A(this.callBase(),{value:null,onOpened:null,onClosed:null,opened:!1,acceptCustomValue:!0,applyValueMode:"instantly",deferRendering:!0,activeStateEnabled:!0,dropDownButtonTemplate:"dropDownButton",fieldTemplate:null,openOnFieldClick:!1,showDropDownButton:!0,buttons:void 0,dropDownOptions:{showTitle:!1},popupPosition:this._getDefaultPopupPosition(),onPopupInitialized:null,applyButtonText:J.format("OK"),cancelButtonText:J.format("Cancel"),buttonsLocation:"default",useHiddenSubmitElement:!1,validationMessagePosition:"auto"})},_useTemplates:function(){return!0},_getDefaultPopupPosition:function(e){var n=Lu(e);return{offset:{h:0,v:-1},my:n+" top",at:n+" bottom",collision:"flip flip"}},_defaultOptionsRules:function(){return this.callBase().concat([{device:function(e){return"generic"===e.platform},options:{popupPosition:{offset:{v:0}}}}])},_inputWrapper:function(){return this.$element().find("."+sG).first()},_init:function(){this.callBase(),this._initVisibilityActions(),this._initPopupInitializedAction(),this._updatePopupPosition(this.option("rtlEnabled")),this._options.cache("dropDownOptions",this.option("dropDownOptions"))},_updatePopupPosition:function(e){var{my:n,at:t}=this._getDefaultPopupPosition(e),i=this.option("popupPosition");this.option("popupPosition",A({},i,{my:n,at:t}))},_initVisibilityActions:function(){this._openAction=this._createActionByOption("onOpened",{excludeValidators:["disabled","readOnly"]}),this._closeAction=this._createActionByOption("onClosed",{excludeValidators:["disabled","readOnly"]})},_initPopupInitializedAction:function(){this._popupInitializedAction=this._createActionByOption("onPopupInitialized",{excludeValidators:["disabled","readOnly"]})},_initMarkup:function(){this._renderSubmitElement(),this.callBase(),this.$element().addClass("dx-dropdowneditor"),this.setAria("role","combobox")},_render:function(){this.callBase(),this._renderOpenHandler(),this._attachFocusOutHandler(),this._renderOpenedState()},_renderContentImpl:function(){this.option("deferRendering")||this._createPopup()},_renderInput:function(){this.callBase(),this._wrapInput(),this._setDefaultAria()},_wrapInput:function(){this._$container=this.$element().wrapInner(x("<div>").addClass(sG)).children().eq(0)},_setDefaultAria:function(){this.setAria({haspopup:"true",autocomplete:"list"})},_readOnlyPropValue:function(){return!this._isEditable()||this.callBase()},_cleanFocusState:function(){this.callBase(),this.option("fieldTemplate")&&this._detachFocusEvents()},_getFieldTemplate:function(){return this.option("fieldTemplate")&&this._getTemplateByOption("fieldTemplate")},_renderMask:function(){this.option("fieldTemplate")||this.callBase()},_renderField:function(){var e=this._getFieldTemplate();e&&this._renderTemplatedField(e,this._fieldRenderData())},_renderPlaceholder:function(){this._getFieldTemplate()||this.callBase()},_renderValue:function(){this.option("useHiddenSubmitElement")&&this._setSubmitValue(),this.callBase().always(this._renderField.bind(this))},_renderTemplatedField:function(e,n){var t;this._fieldRenderQueueLength=(null!==(t=this._fieldRenderQueueLength)&&void 0!==t?t:0)+1;var i=xa(this._input()),r=this._$container;this._detachKeyboardEvents(),this._refreshButtonsContainer(),this._detachWrapperContent(),this._detachFocusEvents(),r.empty();var o=x("<div>").addClass("dx-dropdowneditor-field-template-wrapper").appendTo(r);e.render({model:n,container:Ke(o),onRendered:()=>{if(this._fieldRenderQueueLength--,0===this._fieldRenderQueueLength){var s=this._input();if(!s.length)throw It.Error("E1010");this._integrateInput(),i&&R.trigger(s,"focus")}}}),this._attachWrapperContent(r)},_detachWrapperContent(){var e,n,t;this.option("useHiddenSubmitElement")&&(null===(e=this._$submitElement)||void 0===e||e.detach());var r=null===(n=this._$beforeButtonsContainer)||void 0===n?void 0:n[0].parentNode,o=null===(t=this._$afterButtonsContainer)||void 0===t?void 0:t[0].parentNode;r?.removeChild(this._$beforeButtonsContainer[0]),o?.removeChild(this._$afterButtonsContainer[0])},_attachWrapperContent(e){var n,t=this.option("useHiddenSubmitElement");e.prepend(this._$beforeButtonsContainer),t&&(null===(n=this._$submitElement)||void 0===n||n.appendTo(e)),e.append(this._$afterButtonsContainer)},_refreshButtonsContainer(){this._$buttonsContainer=this.$element().children().eq(0)},_integrateInput:function(){this._renderFocusState(),this._refreshValueChangeEvent(),this._refreshEvents(),this._refreshEmptinessEvent()},_refreshEmptinessEvent:function(){R.off(this._input(),"input blur",this._toggleEmptinessEventHandler),this._renderEmptinessEvent()},_fieldRenderData:function(){return this.option("value")},_initTemplates:function(){this._templateManager.addDefaultTemplates({dropDownButton:new kl(function(e){var n=x("<div>").addClass("dx-dropdowneditor-icon");x(e.container).append(n)})}),this.callBase()},_renderOpenHandler:function(){var e=this._inputWrapper(),n=fe(Kt,this.NAME),t=this.option("openOnFieldClick");R.off(e,n),R.on(e,n,this._getInputClickHandler(t)),this.$element().toggleClass("dx-dropdowneditor-field-clickable",t),t&&(this._openOnFieldClickAction=this._createAction(this._openHandler.bind(this)))},_attachFocusOutHandler:function(){aG&&(this._detachFocusOutEvents(),R.on(this._inputWrapper(),fe("focusout",this.NAME),e=>{var n=e.relatedTarget;n&&this.option("opened")&&this._isTargetOutOfComponent(n)&&this.close()}))},_isTargetOutOfComponent:function(e){var n=this.content?x(this.content()).closest(".".concat(Ww)):this._$popup;return 0===x(e).closest(".".concat(Ww),n).length},_detachFocusOutEvents:function(){aG&&R.off(this._inputWrapper(),fe("focusout",this.NAME))},_getInputClickHandler:function(e){return e?n=>{this._executeOpenAction(n)}:n=>{this._focusInput()}},_openHandler:function(){this._toggleOpenState()},_executeOpenAction:function(e){this._openOnFieldClickAction({event:e})},_keyboardEventBindingTarget:function(){return this._input()},_focusInput:function(){return!this.option("disabled")&&(this.option("focusStateEnabled")&&!xa(this._input())&&(this._resetCaretPosition(),R.trigger(this._input(),"focus")),!0)},_resetCaretPosition:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=this._input().get(0);if(n){var{value:t}=n,i=T(t)&&(e||this._isEditable())?t.length:0;this._caret({start:i,end:i},!0)}},_isEditable:function(){return this.option("acceptCustomValue")},_toggleOpenState:function(e){this._focusInput()&&(this.option("readOnly")||(e=arguments.length?e:!this.option("opened"),this.option("opened",e)))},_getControlsAria(){return this._popup&&this._popupContentId},_renderOpenedState:function(){var e=this.option("opened");e&&this._createPopup(),this.$element().toggleClass("dx-dropdowneditor-active",e),this._setPopupOption("visible",e);var n={expanded:e,controls:this._getControlsAria()};this.setAria(n),this.setAria("owns",e?this._popupContentId:void 0,this.$element())},_createPopup:function(){this._$popup||(this._$popup=x("<div>").addClass(Ww).appendTo(this.$element()),this._renderPopup(),this._renderPopupContent())},_renderPopupContent:U,_renderPopup:function(){var e=A(this._popupConfig(),this._options.cache("dropDownOptions"));delete e.closeOnOutsideClick,e.elementAttr&&!Object.keys(e.elementAttr).length&&delete e.elementAttr,this._popup=this._createComponent(this._$popup,Ma,e),this._popup.on({showing:this._popupShowingHandler.bind(this),shown:this._popupShownHandler.bind(this),hiding:this._popupHidingHandler.bind(this),hidden:this._popupHiddenHandler.bind(this),contentReady:this._contentReadyHandler.bind(this)}),this._contentReadyHandler(),this._setPopupContentId(this._popup.$content()),this._bindInnerWidgetOptions(this._popup,"dropDownOptions")},_setPopupContentId(e){this._popupContentId="dx-"+new En,this.setAria("id",this._popupContentId,e)},_contentReadyHandler:U,_popupConfig:function(){return{onInitialized:this._popupInitializedHandler(),position:A(this.option("popupPosition"),{of:this.$element()}),showTitle:this.option("dropDownOptions.showTitle"),_ignoreFunctionValueDeprecation:!0,width:()=>zw(this.$element()),height:"auto",shading:!1,hideOnParentScroll:!0,hideOnOutsideClick:e=>this._closeOutsideDropDownHandler(e),animation:{show:{type:"fade",duration:0,from:0,to:1},hide:{type:"fade",duration:400,from:1,to:0}},deferRendering:!1,focusStateEnabled:!1,showCloseButton:!1,dragEnabled:!1,toolbarItems:this._getPopupToolbarItems(),onPositioned:this._popupPositionedHandler.bind(this),fullScreen:!1,contentTemplate:null,_wrapperClassExternal:Ww,_ignorePreventScrollEventsDeprecation:!0}},_popupInitializedHandler:function(){return this.option("onPopupInitialized")?e=>{this._popupInitializedAction({popup:e.component})}:null},_dimensionChanged:function(){!rt()||this.$element().is(":visible")?this._updatePopupWidth():this.close()},_updatePopupWidth:function(){void 0===wk(this.option("dropDownOptions.width"))&&this._setPopupOption("width",()=>zw(this.$element()))},_popupPositionedHandler:function(e){var n,t,{labelMode:i,stylingMode:r}=this.option();if(this._popup){var o=this._popup.$overlayContent(),s=null===(n=e.position)||void 0===n||null===(t=n.v)||void 0===t?void 0:t.flip,l="hidden"!==i&&"outlined"===r;if(e.position&&o.toggleClass("dx-dropdowneditor-overlay-flipped",s),s&&l&&this._label.isVisible()){var h=this._label.$element();Mi(o,{top:is(o).top-parseInt(h.css("fontSize"))})}}},_popupShowingHandler:U,_popupHidingHandler:function(){this.option("opened",!1)},_popupShownHandler:function(){var e;this._openAction(),null===(e=this._validationMessage)||void 0===e||e.option("positionSide",this._getValidationMessagePositionSide())},_popupHiddenHandler:function(){var e;this._closeAction(),null===(e=this._validationMessage)||void 0===e||e.option("positionSide",this._getValidationMessagePositionSide())},_getValidationMessagePositionSide:function(){var e=this.option("validationMessagePosition");if("auto"!==e)return e;var n="bottom";if(this._popup&&this._popup.option("visible")){var{top:t}=Ns.setup(this.$element()),{top:i}=Ns.setup(this._popup.$content());n=t+this.option("popupPosition").offset.v>i?"bottom":"top"}return n},_closeOutsideDropDownHandler:function(e){var{target:n}=e,t=x(n),i=this.getButton("dropDown"),r=i&&i.$element(),o=!!t.closest(this.$element()).length,s=!!t.closest(r).length;return!o&&!s},_clean:function(){delete this._openOnFieldClickAction,this._$popup&&(this._$popup.remove(),delete this._$popup,delete this._popup),this.callBase()},_setPopupOption:function(e,n){this._setWidgetOption("_popup",arguments)},_validatedOpening:function(){this.option("readOnly")||this._toggleOpenState(!0)},_getPopupToolbarItems:function(){return"useButtons"===this.option("applyValueMode")?this._popupToolbarItemsConfig():[]},_getFirstPopupElement:function(){return this._popup.$wrapper().find(".dx-popup-done.dx-button")},_getLastPopupElement:function(){return this._popup.$wrapper().find(".dx-popup-cancel.dx-button")},_popupElementTabHandler:function(e){var n=x(e.currentTarget);(e.shiftKey&&n.is(this._getFirstPopupElement())||!e.shiftKey&&n.is(this._getLastPopupElement()))&&(R.trigger(this._input(),"focus"),e.preventDefault())},_popupElementEscHandler:function(){R.trigger(this._input(),"focus"),this.close()},_popupButtonInitializedHandler:function(e){e.component.registerKeyHandler("tab",this._popupElementTabHandler.bind(this)),e.component.registerKeyHandler("escape",this._popupElementEscHandler.bind(this))},_popupToolbarItemsConfig:function(){var e=[{shortcut:"done",options:{onClick:this._applyButtonHandler.bind(this),text:this.option("applyButtonText"),onInitialized:this._popupButtonInitializedHandler.bind(this)}},{shortcut:"cancel",options:{onClick:this._cancelButtonHandler.bind(this),text:this.option("cancelButtonText"),onInitialized:this._popupButtonInitializedHandler.bind(this)}}];return this._applyButtonsLocation(e)},_applyButtonsLocation:function(e){var n=this.option("buttonsLocation"),t=e;if("default"!==n){var i=_l(n);B(t,function(r,o){A(o,{toolbar:i[0],location:i[1]})})}return t},_applyButtonHandler:function(){this.close(),this.option("focusStateEnabled")&&this.focus()},_cancelButtonHandler:function(){this.close(),this.option("focusStateEnabled")&&this.focus()},_popupOptionChanged:function(e){var n=Ki.getOptionsFromContainer(e);this._setPopupOption(n);var t=Object.keys(n);(-1!==t.indexOf("width")||-1!==t.indexOf("height"))&&this._dimensionChanged()},_renderSubmitElement:function(){this.option("useHiddenSubmitElement")&&(this._$submitElement=x("<input>").attr("type","hidden").appendTo(this.$element()))},_setSubmitValue:function(){this._getSubmitElement().val(this.option("value"))},_getSubmitElement:function(){return this.option("useHiddenSubmitElement")?this._$submitElement:this.callBase()},_dispose:function(){this._detachFocusOutEvents(),this.callBase()},_optionChanged:function(e){var n;switch(e.name){case"width":case"height":this.callBase(e),null===(n=this._popup)||void 0===n||n.repaint();break;case"opened":this._renderOpenedState();break;case"onOpened":case"onClosed":this._initVisibilityActions();break;case"onPopupInitialized":this._initPopupInitializedAction();break;case"fieldTemplate":T(e.value)?this._renderField():this._invalidate();break;case"acceptCustomValue":case"openOnFieldClick":this._invalidate();break;case"dropDownButtonTemplate":case"showDropDownButton":this._updateButtons(["dropDown"]);break;case"dropDownOptions":this._popupOptionChanged(e),this._options.cache("dropDownOptions",this.option("dropDownOptions"));break;case"popupPosition":break;case"deferRendering":rt()&&this._createPopup();break;case"applyValueMode":case"applyButtonText":case"cancelButtonText":case"buttonsLocation":this._setPopupOption("toolbarItems",this._getPopupToolbarItems());break;case"useHiddenSubmitElement":this._$submitElement&&(this._$submitElement.remove(),this._$submitElement=void 0),this._renderSubmitElement();break;case"rtlEnabled":this._updatePopupPosition(e.value),this.callBase(e);break;default:this.callBase(e)}},open:function(){this.option("opened",!0)},close:function(){this.option("opened",!1)},field:function(){return Ke(this._input())},content:function(){return this._popup?this._popup.content():null}});Dt("dxDropDownEditor",lG);const dG=lG;var uG="dx-list-group",cG=function(e){return(e.group<<20)+e.item},mp=function(e){return{group:e>>20,item:1048575&e}},LQ=bk.inherit({_groupElements:function(){return this._collectionWidget._itemContainer().find("."+uG)},_groupItemElements:function(e){return e.find(".dx-list-item")},getIndexByItemData:function(e){var n=this._collectionWidget.option("items"),t=!1;return!!e&&(e.items&&e.items.length&&(e=e.items[0]),B(n,function(i,r){if(!r.items||(B(r.items,function(o,s){return s!==e||(t={group:i,item:o},!1)}),t))return!1}),t)},getItemDataByIndex:function(e){var n=this._collectionWidget.option("items");return Vt(e)?this.itemsGetter()[e]:e&&n[e.group]&&n[e.group].items[e.item]||null},itemsGetter:function(){for(var e=[],n=this._collectionWidget.option("items"),t=0;t<n.length;t++)n[t]&&n[t].items?e=e.concat(n[t].items):e.push(n[t]);return e},deleteItemAtIndex:function(e){var n=mp(e);this._collectionWidget.option("items")[n.group].items.splice(n.item,1)},getKeysByItems:function(e){var t,n=[];for(t=0;t<e.length;t++)e[t]&&e[t].items?n=n.concat(e[t].items):n.push(e[t]);var i=[];for(t=0;t<n.length;t++)i.push(this._collectionWidget.keyOf(n[t]));return i},getIndexByKey:function(e,n){var t=n||this._collectionWidget.option("items"),i=-1,r=this;return B(t,function(o,s){if(s.items&&(B(s.items,function(l,h){var g=r._collectionWidget.keyOf(h);if(r._equalKeys(g,e))return i={group:o,item:l},!1}),-1!==i))return!1}),i},_getGroups:function(e){var t=this._collectionWidget._dataController.group();return t?Kl.queryByOptions(zr(e),{group:t}).toArray():this._collectionWidget.option("items")},getItemsByKeys:function(e,n){var t=[],i=this._getGroups(n),r={},o=s=>{var l=this.getIndexByKey(s,i),h=l&&i[l.group];if(h)return{groupKey:h.key,item:h.items[l.item]}};return B(e,function(s,l){var h=o(l);if(h){var g=h.groupKey,_=h.item,v=r[g];v||(r[g]=v={key:g,items:[]},t.push(v)),v.items.push(_)}}),t},moveItemAtIndexToIndex:function(e,n){var t=this._collectionWidget.option("items"),i=mp(e),r=mp(n),o=t[i.group].items,s=t[r.group].items,l=o[i.item];o.splice(i.item,1),s.splice(r.item,0,l)},_isItemIndex:function(e){return e&&Vt(e.group)&&Vt(e.item)},_getNormalizedItemIndex:function(e){var n=x(e),t=n.closest("."+uG);return t.length?cG({group:this._groupElements().index(t),item:this._groupItemElements(t).index(n)}):-1},_normalizeItemIndex:function(e){return cG(e)},_denormalizeItemIndex:function(e){return mp(e)},_getItemByNormalizedIndex:function(e){var n=mp(e),t=this._groupElements().eq(n.group);return this._groupItemElements(t).eq(n.item)},_itemsFromSameParent:function(e,n){return mp(e).group===mp(n).group}});const VQ=LQ;var hG={},pG=[],$w=function(e,n,t){pG.push({enabled:e,decoratorType:n,decoratorSubType:t})};$w(function(){return this.option("menuItems").length},function(){return"menu"},function(){return this.option("menuMode")}),$w(function(){return!this.option("menuItems").length&&this.option("allowItemDeleting")},function(){var e=this.option("itemDeleteMode");return"toggle"===e||"slideButton"===e||"swipe"===e||"static"===e?"delete":"menu"},function(){var e=this.option("itemDeleteMode");return"slideItem"===e&&(e="slide"),e}),$w(function(){return"none"!==this.option("selectionMode")&&this.option("showSelectionControls")},function(){return"selection"},function(){return"default"}),$w(function(){return this.option("itemDragging.allowReordering")||this.option("itemDragging.allowDropInsideItem")||this.option("itemDragging.group")},function(){return"reorder"},function(){return"default"});var KQ=kt.inherit({ctor:function(e){this._list=e,this._fetchRequiredDecorators()},dispose:function(){this._decorators&&this._decorators.length&&B(this._decorators,function(e,n){n.dispose()})},_fetchRequiredDecorators:function(){this._decorators=[],B(pG,function(e,n){if(n.enabled.call(this._list)){var i=n.decoratorType.call(this._list),r=n.decoratorSubType.call(this._list),o=this._createDecorator(i,r);this._decorators.push(o)}}.bind(this))},_createDecorator:function(e,n){return new(this._findDecorator(e,n))(this._list)},_findDecorator:function(e,n){var t,i=null===(t=hG[e])||void 0===t?void 0:t[n];if(!i)throw It.Error("E1012",e,n);return i},modifyItemElement:function(e){var n=x(e.itemElement),t={$itemElement:n};this._prependBeforeBags(n,t),this._appendAfterBags(n,t),this._applyDecorators("modifyElement",t)},afterItemsRendered:function(){this._applyDecorators("afterRender")},_prependBeforeBags:function(e,n){var t=this._collectDecoratorsMarkup("beforeBag",n,"dx-list-item-before-bag");e.prepend(t)},_appendAfterBags:function(e,n){var t=this._collectDecoratorsMarkup("afterBag",n,"dx-list-item-after-bag");e.append(t)},_collectDecoratorsMarkup:function(e,n,t){var i=x("<div>");return B(this._decorators,function(){var r=x("<div>").addClass(t);this[e](A({$container:r},n)),r.children().length&&i.append(r)}),i.children()},_applyDecorators:function(e,n){B(this._decorators,function(){this[e](n)})},_handlerExists:function(e){if(!this._decorators)return!1;for(var n=this._decorators,t=n.length,i=0;i<t;i++)if(n[i][e]!==U)return!0;return!1},_eventHandler:function(e,n,t){if(!this._decorators)return!1;for(var i=!1,r=this._decorators,o=r.length,s=0;s<o&&!(i=r[s][e](n,t));s++);return i},handleClick:function(e,n){return this._eventHandler("handleClick",e,n)},handleKeyboardEvents:function(e,n){return this._eventHandler("handleKeyboardEvents",e,n)},handleEnterPressing:function(e){return this._eventHandler("handleEnterPressing",e)},contextMenuHandlerExists:function(){return this._handlerExists("handleContextMenu")},handleContextMenu:function(e,n){return this._eventHandler("handleContextMenu",e,n)},getExcludedItemSelectors:function(){var e=[];return this._applyDecorators("getExcludedSelectors",e),e.join(",")}});const YQ=KQ;var Gw="dxswipestart",Uw="dxswipe",ix="dxswipeend",qQ={defaultItemSizeFunc:function(){return Ze(this.getElement())},getBounds:function(){return[this._maxLeftOffset,this._maxRightOffset]},calcOffsetRatio:function(e){return(In(e).x-(this._savedEventData&&this._savedEventData.x||0))/this._itemSizeFunc().call(this,e)},isFastSwipe:function(e){var n=In(e);return this.FAST_SWIPE_SPEED_LIMIT*Math.abs(n.x-this._tickData.x)>=n.time-this._tickData.time}},JQ={defaultItemSizeFunc:function(){return gt(this.getElement())},getBounds:function(){return[this._maxTopOffset,this._maxBottomOffset]},calcOffsetRatio:function(e){return(In(e).y-(this._savedEventData&&this._savedEventData.y||0))/this._itemSizeFunc().call(this,e)},isFastSwipe:function(e){var n=In(e);return this.FAST_SWIPE_SPEED_LIMIT*Math.abs(n.y-this._tickData.y)>=n.time-this._tickData.time}},XQ={horizontal:qQ,vertical:JQ},ZQ=oF.inherit({TICK_INTERVAL:300,FAST_SWIPE_SPEED_LIMIT:10,ctor:function(e){this.callBase(e),this.direction="horizontal",this.elastic=!0},_getStrategy:function(){return XQ[this.direction]},_defaultItemSizeFunc:function(){return this._getStrategy().defaultItemSizeFunc.call(this)},_itemSizeFunc:function(){return this.itemSizeFunc||this._defaultItemSizeFunc},_init:function(e){this._tickData=In(e)},_start:function(e){this._savedEventData=In(e),(e=this._fireEvent(Gw,e)).cancel||(this._maxLeftOffset=e.maxLeftOffset,this._maxRightOffset=e.maxRightOffset,this._maxTopOffset=e.maxTopOffset,this._maxBottomOffset=e.maxBottomOffset)},_move:function(e){var n=this._getStrategy(),t=In(e),i=n.calcOffsetRatio.call(this,e);i=this._fitOffset(i,this.elastic),t.time-this._tickData.time>this.TICK_INTERVAL&&(this._tickData=t),this._fireEvent(Uw,e,{offset:i}),!1!==e.cancelable&&e.preventDefault()},_end:function(e){var n=this._getStrategy(),t=n.calcOffsetRatio.call(this,e),i=n.isFastSwipe.call(this,e),r=t,o=this._calcTargetOffset(t,i);r=this._fitOffset(r,this.elastic),o=this._fitOffset(o,!1),this._fireEvent(ix,e,{offset:r,targetOffset:o})},_fitOffset:function(e,n){var i=this._getStrategy().getBounds.call(this);return e<-i[0]?n?(-2*i[0]+e)/3:-i[0]:e>i[1]?n?(2*i[1]+e)/3:i[1]:e},_calcTargetOffset:function(e,n){var t;return n?(t=Math.ceil(Math.abs(e)),e<0&&(t=-t)):t=Math.round(e),t}});m_({emitter:ZQ,events:[Gw,Uw,ix]});var gG="dx-list-item-badge-container",Tk="dx-list-item-chevron-container",nee=I_.inherit({_renderWatchers:function(){this.callBase(),this._startWatcher("badge",this._renderBadge.bind(this)),this._startWatcher("showChevron",this._renderShowChevron.bind(this))},_renderBadge:function(e){if(this._$element.children("."+gG).remove(),e){var n=x("<div>").addClass(gG).append(x("<div>").addClass("dx-list-item-badge").addClass("dx-badge").text(e)),t=this._$element.children("."+Tk).first();t.length>0?n.insertBefore(t):n.appendTo(this._$element)}},_renderShowChevron:function(e){if(this._$element.children("."+Tk).remove(),e){var n=x("<div>").addClass(Tk),t=x("<div>").addClass("dx-list-item-chevron");n.append(t).appendTo(this._$element)}}});const iee=nee;var Mk="dxScrollbar",fG="dx-scrollable-scrollbar",_G="".concat(fG,"-active"),mG="horizontal",T_=null,lee=Ki.inherit({_getDefaultOptions:function(){return A(this.callBase(),{direction:null,visible:!1,activeStateEnabled:!1,visibilityMode:"onScroll",containerSize:0,contentSize:0,expandable:!0,scaleRatio:1})},_init:function(){this.callBase(),this._isHovered=!1},_initMarkup:function(){this._renderThumb(),this.callBase()},_render:function(){this.callBase(),this._renderDirection(),this._update(),this._attachPointerDownHandler(),this.option("hoverStateEnabled",this._isHoverMode()),this.$element().toggleClass("dx-scrollbar-hoverable",this.option("hoverStateEnabled"))},_renderThumb:function(){this._$thumb=x("<div>").addClass("dx-scrollable-scroll"),x("<div>").addClass("dx-scrollable-scroll-content").appendTo(this._$thumb),this.$element().addClass(fG).append(this._$thumb)},isThumb:function(e){return!!this.$element().find(e).length},_isHoverMode:function(){var e=this.option("visibilityMode");return("onHover"===e||"always"===e)&&this.option("expandable")},_renderDirection:function(){var e=this.option("direction");this.$element().addClass("dx-scrollbar-"+e),this._dimension=e===mG?"width":"height",this._prop=e===mG?"left":"top"},_attachPointerDownHandler:function(){R.on(this._$thumb,fe(Rt.down,Mk),this.feedbackOn.bind(this))},feedbackOn:function(){this.$element().addClass(_G),T_=this},feedbackOff:function(){this.$element().removeClass(_G),T_=null},cursorEnter:function(){this._isHovered=!0,this._needScrollbar()&&this.option("visible",!0)},cursorLeave:function(){this._isHovered=!1,this.option("visible",!1)},_renderDimensions:function(){this._$thumb.css({width:this.option("width"),height:this.option("height")})},_toggleVisibility:function(e){"onScroll"===this.option("visibilityMode")&&this._$thumb.css("opacity"),e=this._adjustVisibility(e),this.option().visible=e,this._$thumb.toggleClass("dx-state-invisible",!e)},_adjustVisibility:function(e){if(this._baseContainerToContentRatio&&!this._needScrollbar())return!1;switch(this.option("visibilityMode")){case"onScroll":break;case"onHover":e=e||!!this._isHovered;break;case"never":e=!1;break;case"always":e=!0}return e},moveTo:function(e){if(!this._isHidden()){ft(e)&&(e=e[this._prop]||0);var n={};n[this._prop]=this._calculateScrollBarPosition(e),Mi(this._$thumb,n)}},_calculateScrollBarPosition:function(e){return-e*this._thumbRatio},_update:function(){var e=Math.round(this.option("containerSize")),n=Math.round(this.option("contentSize")),t=Math.round(this.option("baseContainerSize")),i=Math.round(this.option("baseContentSize"));isNaN(t)&&(t=e,i=n),this._baseContainerToContentRatio=i?t/i:t,this._realContainerToContentRatio=n?e/n:e;var r=Math.round(Math.max(Math.round(e*this._realContainerToContentRatio),15));this._thumbRatio=(e-r)/(this.option("scaleRatio")*(n-e)),this.option(this._dimension,r/this.option("scaleRatio")),this.$element().css("display",this._needScrollbar()?"":"none")},_isHidden:function(){return"never"===this.option("visibilityMode")},_needScrollbar:function(){return!this._isHidden()&&this._baseContainerToContentRatio<1},containerToContentRatio:function(){return this._realContainerToContentRatio},_normalizeSize:function(e){return ft(e)?e[this._dimension]||0:e},_clean:function(){this.callBase(),this===T_&&(T_=null),R.off(this._$thumb,"."+Mk)},_optionChanged:function(e){if(!this._isHidden())switch(e.name){case"containerSize":case"contentSize":this.option()[e.name]=this._normalizeSize(e.value),this._update();break;case"baseContentSize":case"baseContainerSize":case"scaleRatio":this._update();break;case"visibilityMode":case"direction":this._invalidate();break;default:this.callBase.apply(this,arguments)}},update:ha(function(){this._adjustVisibility()&&this.option("visible",!0)})});Nr.add(function(){R.subscribeGlobal(se.getDocument(),fe(Rt.up,Mk),function(){T_&&T_.feedbackOff()})});const vG=lee;var CG="dxNativeScrollable",Ak="dx-scrollable-native",rx="vertical",jw="horizontal",hee=kt.inherit({ctor:function(e){this._init(e)},_init:function(e){this._component=e,this._$element=e.$element(),this._$container=x(e.container()),this._$content=e.$content(),this._direction=e.option("direction"),this._useSimulatedScrollbar=e.option("useSimulatedScrollbar"),this.option=e.option.bind(e),this._createActionByOption=e._createActionByOption.bind(e),this._isLocked=e._isLocked.bind(e),this._isDirection=e._isDirection.bind(e),this._allowedDirection=e._allowedDirection.bind(e),this._getMaxOffset=e._getMaxOffset.bind(e),this._isRtlNativeStrategy=e._isRtlNativeStrategy.bind(e)},render:function(){var n=$e.real().platform;this._$element.addClass(Ak).addClass(Ak+"-"+n).toggleClass("dx-scrollable-scrollbars-hidden",!this._isScrollbarVisible()),this._isScrollbarVisible()&&this._useSimulatedScrollbar&&this._renderScrollbars()},updateRtlPosition:function(e){e&&this.option("rtlEnabled")&&this._isScrollbarVisible()&&this._useSimulatedScrollbar&&this._moveScrollbars()},_renderScrollbars:function(){this._scrollbars={},this._hideScrollbarTimeout=0,this._$element.addClass("dx-scrollable-scrollbar-simulated"),this._renderScrollbar(rx),this._renderScrollbar(jw)},_renderScrollbar:function(e){this._isDirection(e)&&(this._scrollbars[e]=new vG(x("<div>").appendTo(this._$element),{direction:e,expandable:this._component.option("scrollByThumb")}))},handleInit:U,handleStart:U,handleMove:function(e){this._isLocked()?e.cancel=!0:this._allowedDirection()&&(e.originalEvent.isScrollingEvent=!0)},handleEnd:U,handleCancel:U,handleStop:U,_eachScrollbar:function(e){e=e.bind(this),B(this._scrollbars||{},function(n,t){e(t,n)})},createActions:function(){this._scrollAction=this._createActionByOption("onScroll"),this._updateAction=this._createActionByOption("onUpdated")},_createActionArgs:function(){var{left:e,top:n}=this.location();return{event:this._eventForUserAction,scrollOffset:this._getScrollOffset(),reachedLeft:this._isRtlNativeStrategy()?this._isReachedRight(-e):this._isReachedLeft(e),reachedRight:this._isRtlNativeStrategy()?this._isReachedLeft(-Math.abs(e)):this._isReachedRight(e),reachedTop:this._isDirection(rx)?Math.round(n)>=0:void 0,reachedBottom:this._isDirection(rx)?Math.round(Math.abs(n)-this._getMaxOffset().top)>=0:void 0}},_getScrollOffset:function(){var{top:e,left:n}=this.location();return{top:-e,left:this._normalizeOffsetLeft(-n)}},_normalizeOffsetLeft(e){return this._isRtlNativeStrategy()?this._getMaxOffset().left+e:e},_isReachedLeft:function(e){return this._isDirection(jw)?Math.round(e)>=0:void 0},_isReachedRight:function(e){return this._isDirection(jw)?Math.round(Math.abs(e)-this._getMaxOffset().left)>=0:void 0},_isScrollbarVisible:function(){var{showScrollbar:e}=this.option();return"never"!==e&&!1!==e},handleScroll:function(e){this._eventForUserAction=e,this._moveScrollbars(),this._scrollAction(this._createActionArgs())},_moveScrollbars:function(){var{top:e,left:n}=this._getScrollOffset();this._eachScrollbar(function(t){t.moveTo({top:-e,left:-n}),t.option("visible",!0)}),this._hideScrollbars()},_hideScrollbars:function(){clearTimeout(this._hideScrollbarTimeout),this._hideScrollbarTimeout=setTimeout(function(){this._eachScrollbar(function(e){e.option("visible",!1)})}.bind(this),500)},location:function(){return{left:-this._$container.scrollLeft(),top:-this._$container.scrollTop()}},disabledChanged:U,update:function(){this._update(),this._updateAction(this._createActionArgs())},_update:function(){this._updateDimensions(),this._updateScrollbars()},_updateDimensions:function(){this._containerSize={height:gt(this._$container),width:Ze(this._$container)},this._componentContentSize={height:gt(this._component.$content()),width:Ze(this._component.$content())},this._contentSize={height:gt(this._$content),width:Ze(this._$content)}},_updateScrollbars:function(){this._eachScrollbar(function(e,n){var t=n===rx?"height":"width";e.option({containerSize:this._containerSize[t],contentSize:this._componentContentSize[t]}),e.update()})},_allowedDirections:function(){return{vertical:this._isDirection(rx)&&this._contentSize.height>this._containerSize.height,horizontal:this._isDirection(jw)&&this._contentSize.width>this._containerSize.width}},dispose:function(){var e=this._$element.get(0).className,n=new RegExp(Ak+"\\S*","g");n.test(e)&&this._$element.removeClass(e.match(n).join(" ")),R.off(this._$element,"."+CG),R.off(this._$container,"."+CG),this._removeScrollbars(),clearTimeout(this._hideScrollbarTimeout)},_removeScrollbars:function(){this._eachScrollbar(function(e){e.$element().remove()})},scrollBy:function(e){var n=this.location();this._$container.scrollTop(Math.round(-n.top-e.top)),this._$container.scrollLeft(Math.round(-n.left-e.left))},validate:function(e){return!(this.option("disabled")||Wi(e)&&this._isScrolledInMaxDirection(e)||!this._allowedDirection())},_isScrolledInMaxDirection(e){var n=this._$container.get(0);return e.delta>0?e.shiftKey?!n.scrollLeft:!n.scrollTop:e.shiftKey?n.scrollLeft>=this._getMaxOffset().left:n.scrollTop>=this._getMaxOffset().top},getDirection:function(){return this._allowedDirection()}});const Rk=hee;var yG="dx-scrollview-pull-down-loading",Pk="dx-scrollview-pull-down-ready",vee=Rk.inherit({_init:function(e){this.callBase(e),this._$topPocket=e._$topPocket,this._$pullDown=e._$pullDown,this._$refreshingText=e._$refreshingText,this._$scrollViewContent=x(e.content()),this._$container=x(e.container()),this._initCallbacks()},_initCallbacks:function(){this.pullDownCallbacks=Et(),this.releaseCallbacks=Et(),this.reachBottomCallbacks=Et()},render:function(){this.callBase(),this._renderPullDown(),this._releaseState()},_renderPullDown:function(){var e=x("<div>").addClass("dx-scrollview-pull-down-image"),n=x("<div>").addClass("dx-scrollview-pull-down-indicator"),t=new Do(x("<div>")).$element(),i=this._$pullDownText=x("<div>").addClass("dx-scrollview-pull-down-text");this._$pullingDownText=x("<div>").text(this.option("pullingDownText")).appendTo(i),this._$pulledDownText=x("<div>").text(this.option("pulledDownText")).appendTo(i),this._$refreshingText=x("<div>").text(this.option("refreshingText")).appendTo(i),this._$pullDown.empty().append(e).append(n.append(t)).append(i)},_releaseState:function(){this._state=0,this._refreshPullDownText()},_refreshPullDownText:function(){var e=this;B([{element:this._$pullingDownText,visibleState:0},{element:this._$pulledDownText,visibleState:1},{element:this._$refreshingText,visibleState:2}],function(t,i){i.element[e._state===i.visibleState?"addClass":"removeClass"]("dx-scrollview-pull-down-text-visible")})},update:function(){this.callBase(),this._setTopPocketOffset()},_updateDimensions:function(){this.callBase(),this._topPocketSize=this._$topPocket.get(0).clientHeight;var e=this._$scrollViewContent.get(0),n=this._$container.get(0);this._bottomBoundary=Math.max(e.clientHeight-n.clientHeight,0)},_allowedDirections:function(){var e=this.callBase();return e.vertical=e.vertical||this._pullDownEnabled,e},_setTopPocketOffset:function(){this._$topPocket.css({top:-this._topPocketSize})},handleEnd:function(){this.callBase(),this._complete()},handleStop:function(){this.callBase(),this._complete()},_complete:function(){1===this._state&&(this._setPullDownOffset(this._topPocketSize),clearTimeout(this._pullDownRefreshTimeout),this._pullDownRefreshTimeout=setTimeout(function(){this._pullDownRefreshing()}.bind(this),400))},_setPullDownOffset:function(e){Mi(this._$topPocket,{top:e}),Mi(this._$scrollViewContent,{top:e})},handleScroll:function(e){if(this.callBase(e),2!==this._state){var n=this.location().top,t=(this._location||0)-n;this._location=n,this._isPullDown()?this._pullDownReady():t>0&&this._isReachBottom()?this._reachBottom():this._stateReleased()}},_isPullDown:function(){return this._pullDownEnabled&&this._location>=this._topPocketSize},_isReachBottom:function(){return this._reachBottomEnabled&&Math.round(this._bottomBoundary+Math.floor(this._location))<=1},_reachBottom:function(){3!==this._state&&(this._state=3,this.reachBottomCallbacks.fire())},_pullDownReady:function(){1!==this._state&&(this._state=1,this._$pullDown.addClass(Pk),this._refreshPullDownText())},_stateReleased:function(){0!==this._state&&(this._$pullDown.removeClass(yG).removeClass(Pk),this._releaseState())},_pullDownRefreshing:function(){2!==this._state&&(this._state=2,this._$pullDown.addClass(yG).removeClass(Pk),this._refreshPullDownText(),this.pullDownCallbacks.fire())},pullDownEnable:function(e){e&&(this._updateDimensions(),this._setTopPocketOffset()),this._pullDownEnabled=e},reachBottomEnable:function(e){this._reachBottomEnabled=e},pendingRelease:function(){this._state=1},release:function(){var e=new W;return this._updateDimensions(),clearTimeout(this._releaseTimeout),3===this._state&&(this._state=0),this._releaseTimeout=setTimeout(function(){this._setPullDownOffset(0),this._stateReleased(),this.releaseCallbacks.fire(),this._updateAction(),e.resolve()}.bind(this),400),e.promise()},dispose:function(){clearTimeout(this._pullDownRefreshTimeout),clearTimeout(this._releaseTimeout),this.callBase()}});const Cee=vee;var xG="dx-scrollview-pull-down-loading",Dee=Rk.inherit({_init:function(e){this.callBase(e),this._$topPocket=e._$topPocket,this._$pullDown=e._$pullDown,this._$scrollViewContent=x(e.content()),this._$container=x(e.container()),this._initCallbacks(),this._location=0},_initCallbacks:function(){this.pullDownCallbacks=Et(),this.releaseCallbacks=Et(),this.reachBottomCallbacks=Et()},render:function(){this.callBase(),this._renderPullDown(),this._releaseState()},_renderPullDown:function(){var e=x("<div>").addClass("dx-scrollview-pull-down-indicator"),n=new Do(x("<div>")).$element();this._$icon=x("<div>").addClass("dx-icon-pulldown"),this._$pullDown.empty().append(this._$icon).append(e.append(n))},_releaseState:function(){this._state=0,this._releasePullDown(),this._updateDimensions()},_releasePullDown:function(){this._$pullDown.css({opacity:0})},_updateDimensions:function(){this.callBase(),this._topPocketSize=this._$topPocket.get(0).clientHeight;var e=this._$scrollViewContent.get(0),n=this._$container.get(0);this._bottomBoundary=Math.max(e.clientHeight-n.clientHeight,0)},_allowedDirections:function(){var e=this.callBase();return e.vertical=e.vertical||this._pullDownEnabled,e},handleInit:function(e){this.callBase(e),0===this._state&&0===this._location&&(this._startClientY=In(e.originalEvent).y,this._state=4)},handleMove:function(e){this.callBase(e),this._deltaY=In(e.originalEvent).y-this._startClientY,4===this._state&&(this._pullDownEnabled&&this._deltaY>0?this._state=5:this._complete()),5===this._state&&(e.preventDefault(),this._movePullDown())},_movePullDown:function(){var e=this._getPullDownHeight(),n=Math.min(3*e,this._deltaY+this._getPullDownStartPosition()),t=180*n/e/3;this._$pullDown.css({opacity:1}).toggleClass("dx-scrollview-pull-down-refreshing",n<e),Mi(this._$pullDown,{top:n}),this._$icon.css({transform:"rotate("+t+"deg)"})},_isPullDown:function(){return this._pullDownEnabled&&5===this._state&&this._deltaY>=this._getPullDownHeight()-this._getPullDownStartPosition()},_getPullDownHeight:function(){return Math.round(.05*_t(this._$element))},_getPullDownStartPosition:function(){return-Math.round(1.5*_t(this._$pullDown))},handleEnd:function(){this._isPullDown()&&this._pullDownRefreshing(),this._complete()},handleStop:function(){this._complete()},_complete:function(){(4===this._state||5===this._state)&&this._releaseState()},handleScroll:function(e){if(this.callBase(e),2!==this._state){var n=this.location().top,t=this._location-n;this._location=n,t>0&&this._isReachBottom()?this._reachBottom():this._stateReleased()}},_isReachBottom:function(){return this._reachBottomEnabled&&Math.round(this._bottomBoundary+Math.floor(this._location))<=1},_reachBottom:function(){this.reachBottomCallbacks.fire()},_stateReleased:function(){0!==this._state&&(this._$pullDown.removeClass(xG),this._releaseState())},_pullDownRefreshing:function(){this._state=2,this._pullDownRefreshHandler()},_pullDownRefreshHandler:function(){this._refreshPullDown(),this.pullDownCallbacks.fire()},_refreshPullDown:function(){this._$pullDown.addClass(xG),Mi(this._$pullDown,{top:this._getPullDownHeight()})},pullDownEnable:function(e){this._$topPocket.toggle(e),this._pullDownEnabled=e},reachBottomEnable:function(e){this._reachBottomEnabled=e},pendingRelease:function(){this._state=1},release:function(){var e=new W;return this._updateDimensions(),clearTimeout(this._releaseTimeout),this._releaseTimeout=setTimeout(function(){this._stateReleased(),this.releaseCallbacks.fire(),this._updateAction(),e.resolve()}.bind(this),800),e.promise()},dispose:function(){clearTimeout(this._pullDownRefreshTimeout),clearTimeout(this._releaseTimeout),this.callBase()}});const See=Dee,OG=kt.inherit({ctor:function(){this._finished=!0,this._stopped=!1,this._proxiedStepCore=this._stepCore.bind(this)},start:function(){this._stopped=!1,this._finished=!1,this._stepCore()},stop:function(){this._stopped=!0,a(this._stepAnimationFrame)},_stepCore:function(){if(!this._isStopped())return this._isFinished()?(this._finished=!0,void this._complete()):(this._step(),void(this._stepAnimationFrame=__(this._proxiedStepCore)));this._stop()},_step:kt.abstract,_isFinished:U,_stop:U,_complete:U,_isStopped:function(){return this._stopped},inProgress:function(){return!(this._stopped||this._finished)}});var Ws,M_,DG="dxSimulatedScrollable",Jw=DG+"Cursor",Lk=DG+"Keyboard",Vk="dx-scrollable-simulated",Aa="vertical",ir="horizontal",Aee=Math.round(1e3/60),Lee=(1-Math.pow(.92,400/Aee))/(1-.92),wG=OG.inherit({ctor:function(e){this.callBase(),this.scroller=e},VELOCITY_LIMIT:1,_isFinished:function(){return Math.abs(this.scroller._velocity)<=this.VELOCITY_LIMIT},_step:function(){this.scroller._scrollStep(this.scroller._velocity),this.scroller._velocity*=this._acceleration()},_acceleration:function(){return this.scroller._inBounds()?.92:.5},_complete:function(){this.scroller._scrollComplete()}}),Vee=wG.inherit({VELOCITY_LIMIT:.2,_isFinished:function(){return this.scroller._crossBoundOnNextStep()||this.callBase()},_acceleration:function(){return.92},_complete:function(){this.scroller._move(this.scroller._bounceLocation),this.callBase()}}),IG=kt.inherit({ctor:function(e){this._initOptions(e),this._initAnimators(),this._initScrollbar()},_initOptions:function(e){this._location=0,this._topReached=!1,this._bottomReached=!1,this._axis=e.direction===ir?"x":"y",this._prop=e.direction===ir?"left":"top",this._dimension=e.direction===ir?"width":"height",this._scrollProp=e.direction===ir?"scrollLeft":"scrollTop",B(e,(n,t)=>{this["_"+n]=t})},_initAnimators:function(){this._inertiaAnimator=new wG(this),this._bounceAnimator=new Vee(this)},_initScrollbar:function(){this._scrollbar=new vG(x("<div>").appendTo(this._$container),{direction:this._direction,visible:this._scrollByThumb,visibilityMode:this._visibilityModeNormalize(this._scrollbarVisible),expandable:this._scrollByThumb}),this._$scrollbar=this._scrollbar.$element()},_visibilityModeNormalize:function(e){return!0===e?"onScroll":!1===e?"never":e},_scrollStep:function(e){var n=this._location;this._location+=e,this._suppressBounce(),this._move(),!(Math.abs(n-this._location)<1)&&R.triggerHandler(this._$container,{type:"scroll"})},_suppressBounce:function(){this._bounceEnabled||this._inBounds(this._location)||(this._velocity=0,this._location=this._boundLocation())},_boundLocation:function(e){return e=void 0!==e?e:this._location,Math.max(Math.min(e,this._maxOffset),this._minOffset)},_move:function(e){this._location=void 0!==e?e*this._getScaleRatio():this._location,this._moveContent(),this._moveScrollbar()},_moveContent:function(){var e=this._location;this._$container[this._scrollProp](-e/this._getScaleRatio()),this._moveContentByTranslator(e)},_getScaleRatio:function(){if(rt()&&!this._scaleRatio){var e=this._$element.get(0),n=this._getRealDimension(e,this._dimension),t=this._getBaseDimension(e,this._dimension);this._scaleRatio=Math.round(n/t*100)/100}return this._scaleRatio||1},_getRealDimension:function(e,n){return Math.round(Zn(e)[n])},_getBaseDimension:function(e,n){return e["offset"+Eh(n)]},_moveContentByTranslator:function(e){var n,t=-this._maxScrollPropValue;if(this._translateOffset!==(n=e>0?e:e<=t?e-t:e%1)){var i={};if(i[this._prop]=n,this._translateOffset=n,0===n)return void zy(this._$content);Mi(this._$content,i)}},_moveScrollbar:function(){this._scrollbar.moveTo(this._location)},_scrollComplete:function(){this._inBounds()&&(this._hideScrollbar(),this._completeDeferred&&this._completeDeferred.resolve()),this._scrollToBounds()},_scrollToBounds:function(){this._inBounds()||(this._bounceAction(),this._setupBounce(),this._bounceAnimator.start())},_setupBounce:function(){var e=this._bounceLocation=this._boundLocation();this._velocity=(e-this._location)/Lee},_inBounds:function(e){return this._boundLocation(e=void 0!==e?e:this._location)===e},_crossBoundOnNextStep:function(){var e=this._location,n=e+this._velocity;return e<this._minOffset&&n>=this._minOffset||e>this._maxOffset&&n<=this._maxOffset},_initHandler:function(e){this._stopScrolling(),this._prepareThumbScrolling(e)},_stopScrolling:ha(function(){this._hideScrollbar(),this._inertiaAnimator.stop(),this._bounceAnimator.stop()}),_prepareThumbScrolling:function(e){if(!Wi(e.originalEvent)){var n=x(e.originalEvent.target),t=this._isScrollbar(n);t&&this._moveToMouseLocation(e),this._thumbScrolling=t||this._isThumb(n),this._crossThumbScrolling=!this._thumbScrolling&&this._isAnyThumbScrolling(n),this._thumbScrolling&&this._scrollbar.feedbackOn()}},_isThumbScrollingHandler:function(e){return this._isThumb(e)},_moveToMouseLocation:function(e){var n=e["page"+this._axis.toUpperCase()]-this._$element.offset()[this._prop],t=this._location+n/this._containerToContentRatio()-gt(this._$container)/2;this._scrollStep(-Math.round(t))},_startHandler:function(){this._showScrollbar()},_moveHandler:function(e){this._crossThumbScrolling||(this._thumbScrolling&&(e[this._axis]=-Math.round(e[this._axis]/this._containerToContentRatio())),this._scrollBy(e))},_scrollBy:function(e){e=e[this._axis],this._inBounds()||(e*=.5),this._scrollStep(e)},_scrollByHandler:function(e){this._scrollBy(e),this._scrollComplete()},_containerToContentRatio:function(){return this._scrollbar.containerToContentRatio()},_endHandler:function(e){return this._completeDeferred=new W,this._velocity=e[this._axis],this._inertiaHandler(),this._resetThumbScrolling(),this._completeDeferred.promise()},_inertiaHandler:function(){this._suppressInertia(),this._inertiaAnimator.start()},_suppressInertia:function(){(!this._inertiaEnabled||this._thumbScrolling)&&(this._velocity=0)},_resetThumbScrolling:function(){this._thumbScrolling=!1,this._crossThumbScrolling=!1},_stopHandler:function(){this._thumbScrolling&&this._scrollComplete(),this._resetThumbScrolling(),this._scrollToBounds()},_disposeHandler:function(){this._stopScrolling(),this._$scrollbar.remove()},_updateHandler:function(){this._update(),this._moveToBounds()},_update:function(){return this._stopScrolling(),er(()=>{this._resetScaleRatio(),this._updateLocation(),this._updateBounds(),this._updateScrollbar(),Xn(()=>{this._moveScrollbar(),this._scrollbar.update()})})},_resetScaleRatio:function(){this._scaleRatio=null},_updateLocation:function(){this._location=(is(this._$content)[this._prop]-this._$container[this._scrollProp]())*this._getScaleRatio()},_updateBounds:function(){this._maxOffset=this._getMaxOffset(),this._minOffset=this._getMinOffset()},_getMaxOffset:function(){return 0},_getMinOffset:function(){return this._maxScrollPropValue=Math.max(this._contentSize()-this._containerSize(),0),-this._maxScrollPropValue},_updateScrollbar:_u(function(){var e=this._containerSize(),n=this._contentSize(),t=this._getBaseDimension(this._$container.get(0),this._dimension),i=this._getBaseDimension(this._$content.get(0),this._dimension);Xn(()=>{this._scrollbar.option({containerSize:e,contentSize:n,baseContainerSize:t,baseContentSize:i,scaleRatio:this._getScaleRatio()})})}),_moveToBounds:ha(_u(ha(function(){var e=this._boundLocation(),n=e!==this._location;this._location=e,this._move(),n&&this._scrollAction()}))),_createActionsHandler:function(e){this._scrollAction=e.scroll,this._bounceAction=e.bounce},_showScrollbar:function(){this._scrollbar.option("visible",!0)},_hideScrollbar:function(){this._scrollbar.option("visible",!1)},_containerSize:function(){return this._getRealDimension(this._$container.get(0),this._dimension)},_contentSize:function(){var e="hidden"===this._$content.css("overflow"+this._axis.toUpperCase()),n=this._getRealDimension(this._$content.get(0),this._dimension);if(!e){var t=this._$content[0]["scroll"+Eh(this._dimension)]*this._getScaleRatio();n=Math.max(t,n)}return n},_validateEvent:function(e){var n=x(e.originalEvent.target);return this._isThumb(n)||this._isScrollbar(n)},_isThumb:function(e){return this._scrollByThumb&&this._scrollbar.isThumb(e)},_isScrollbar:function(e){return this._scrollByThumb&&e&&e.is(this._$scrollbar)},_reachedMin:function(){return Math.round(this._location-this._minOffset)<=0},_reachedMax:function(){return Math.round(this._location-this._maxOffset)>=0},_cursorEnterHandler:function(){this._resetScaleRatio(),this._updateScrollbar(),this._scrollbar.cursorEnter()},_cursorLeaveHandler:function(){this._scrollbar.cursorLeave()},dispose:U}),TG=kt.inherit({ctor:function(e){this._init(e)},_init:function(e){this._component=e,this._$element=e.$element(),this._$container=x(e.container()),this._$wrapper=e._$wrapper,this._$content=e.$content(),this.option=e.option.bind(e),this._createActionByOption=e._createActionByOption.bind(e),this._isLocked=e._isLocked.bind(e),this._isDirection=e._isDirection.bind(e),this._allowedDirection=e._allowedDirection.bind(e),this._getMaxOffset=e._getMaxOffset.bind(e)},render:function(){this._$element.addClass(Vk),this._createScrollers(),this.option("useKeyboard")&&this._$container.prop("tabIndex",0),this._attachKeyboardHandler(),this._attachCursorHandlers()},_createScrollers:function(){this._scrollers={},this._isDirection(ir)&&this._createScroller(ir),this._isDirection(Aa)&&this._createScroller(Aa),this._$element.toggleClass("dx-scrollable-scrollbars-alwaysvisible","always"===this.option("showScrollbar"))},_createScroller:function(e){this._scrollers[e]=new IG(this._scrollerOptions(e))},_scrollerOptions:function(e){return{direction:e,$content:this._$content,$container:this._$container,$wrapper:this._$wrapper,$element:this._$element,scrollByThumb:this.option("scrollByThumb"),scrollbarVisible:this.option("showScrollbar"),bounceEnabled:this.option("bounceEnabled"),inertiaEnabled:this.option("inertiaEnabled"),isAnyThumbScrolling:this._isAnyThumbScrolling.bind(this)}},_applyScaleRatio:function(e){for(var n in this._scrollers){var t=this._getPropByDirection(n);T(e[t])&&(e[t]*=this._scrollers[n]._getScaleRatio())}return e},_isAnyThumbScrolling:function(e){var n=!1;return this._eventHandler("isThumbScrolling",e).done(function(t,i){n=t||i}),n},handleInit:function(e){this._suppressDirections(e),this._eventForUserAction=e,this._eventHandler("init",e)},_suppressDirections:function(e){Wi(e.originalEvent)?this._prepareDirections(!0):(this._prepareDirections(),this._eachScroller(function(n,t){var i=x(e.originalEvent.target),r=n._validateEvent(e)||this.option("scrollByContent")&&this._isContent(i);this._validDirections[t]=r}))},_isContent:function(e){return!!e.closest(this._$element).length},_prepareDirections:function(e){e=e||!1,this._validDirections={},this._validDirections[ir]=e,this._validDirections[Aa]=e},_eachScroller:function(e){e=e.bind(this),B(this._scrollers,function(n,t){e(t,n)})},handleStart:function(e){this._eventForUserAction=e,this._eventHandler("start").done(this._startAction)},_saveActive:function(){M_=this},_resetActive:function(){M_===this&&(M_=null)},handleMove:function(e){if(this._isLocked())return e.cancel=!0,void this._resetActive();this._saveActive(),e.preventDefault&&e.preventDefault(),this._adjustDistance(e,e.delta),this._eventForUserAction=e,this._eventHandler("move",e.delta)},_adjustDistance:function(e,n){n.x*=this._validDirections[ir],n.y*=this._validDirections[Aa];var t=this._tryGetDevicePixelRatio();t&&Wi(e.originalEvent)&&(n.x=Math.round(n.x/t*100)/100,n.y=Math.round(n.y/t*100)/100)},_tryGetDevicePixelRatio:function(){if(rt())return ut().devicePixelRatio},handleEnd:function(e){return this._resetActive(),this._refreshCursorState(e.originalEvent&&e.originalEvent.target),this._adjustDistance(e,e.velocity),this._eventForUserAction=e,this._eventHandler("end",e.velocity).done(this._endAction)},handleCancel:function(e){return this._resetActive(),this._eventForUserAction=e,this._eventHandler("end",{x:0,y:0})},handleStop:function(){this._resetActive(),this._eventHandler("stop")},handleScroll:function(){this._updateRtlConfig(),this._scrollAction()},_attachKeyboardHandler:function(){R.off(this._$element,".".concat(Lk)),!this.option("disabled")&&this.option("useKeyboard")&&R.on(this._$element,fe("keydown",Lk),this._keyDownHandler.bind(this))},_keyDownHandler:function(e){if(clearTimeout(this._updateHandlerTimeout),this._updateHandlerTimeout=setTimeout(()=>{"tab"===xn(e)&&this._eachScroller(t=>{t._updateHandler()})}),this._$container.is(se.getActiveElement(this._$container.get(0)))){var n=!0;switch(xn(e)){case"downArrow":this._scrollByLine({y:1});break;case"upArrow":this._scrollByLine({y:-1});break;case"rightArrow":this._scrollByLine({x:1});break;case"leftArrow":this._scrollByLine({x:-1});break;case"pageDown":this._scrollByPage(1);break;case"pageUp":this._scrollByPage(-1);break;case"home":this._scrollToHome();break;case"end":this._scrollToEnd();break;default:n=!1}n&&(e.stopPropagation(),e.preventDefault())}},_scrollByLine:function(e){var n=this._tryGetDevicePixelRatio(),t=40;n&&(t=Math.abs(t/n*100)/100),this.scrollBy({top:(e.y||0)*-t,left:(e.x||0)*-t})},_scrollByPage:function(e){var n=this._wheelProp(),t=this._dimensionByProp(n),i={};i[n]=e*-("width"===t?Ze:gt)(this._$container),this.scrollBy(i)},_dimensionByProp:function(e){return"left"===e?"width":"height"},_getPropByDirection:function(e){return e===ir?"left":"top"},_scrollToHome:function(){var n={};n[this._wheelProp()]=0,this._component.scrollTo(n)},_scrollToEnd:function(){var e=this._wheelProp(),t={},i="width"===this._dimensionByProp(e)?Ze:gt;t[e]=i(this._$content)-i(this._$container),this._component.scrollTo(t)},createActions:function(){this._startAction=this._createActionHandler("onStart"),this._endAction=this._createActionHandler("onEnd"),this._updateAction=this._createActionHandler("onUpdated"),this._createScrollerActions()},_createScrollerActions:function(){this._scrollAction=this._createActionHandler("onScroll"),this._bounceAction=this._createActionHandler("onBounce"),this._eventHandler("createActions",{scroll:this._scrollAction,bounce:this._bounceAction})},_createActionHandler:function(e){var n=this._createActionByOption(e);return()=>{n(A(this._createActionArgs(),arguments))}},_createActionArgs:function(){var{horizontal:e,vertical:n}=this._scrollers,t=this._getScrollOffset();return this._scrollOffset={top:n&&t.top,left:e&&t.left},{event:this._eventForUserAction,scrollOffset:this._scrollOffset,reachedLeft:e&&e._reachedMax(),reachedRight:e&&e._reachedMin(),reachedTop:n&&n._reachedMax(),reachedBottom:n&&n._reachedMin()}},_getScrollOffset(){return{top:-this.location().top,left:-this.location().left}},_eventHandler:function(e){var n=[].slice.call(arguments).slice(1),t=Fn(this._scrollers,i=>i["_"+e+"Handler"].apply(i,n));return ke.apply(x,t).promise()},location:function(){var e=is(this._$content);return e.top-=this._$container.scrollTop(),e.left-=this._$container.scrollLeft(),e},disabledChanged:function(){this._attachCursorHandlers()},_attachCursorHandlers:function(){R.off(this._$element,".".concat(Jw)),!this.option("disabled")&&this._isHoverMode()&&(R.on(this._$element,fe("mouseenter",Jw),this._cursorEnterHandler.bind(this)),R.on(this._$element,fe("mouseleave",Jw),this._cursorLeaveHandler.bind(this)))},_isHoverMode:function(){return"onHover"===this.option("showScrollbar")},_cursorEnterHandler:function(e){(e=e||{}).originalEvent=e.originalEvent||{},!M_&&!e.originalEvent._hoverHandled&&(Ws&&Ws._cursorLeaveHandler(),Ws=this,this._eventHandler("cursorEnter"),e.originalEvent._hoverHandled=!0)},_cursorLeaveHandler:function(e){Ws!==this||M_===Ws||(this._eventHandler("cursorLeave"),Ws=null,this._refreshCursorState(e&&e.relatedTarget))},_refreshCursorState:function(e){if(this._isHoverMode()||e&&!M_){var t=x(e).closest(".".concat(Vk,":not(.dx-state-disabled)")),i=t.length&&t.data("dxScrollableStrategy");Ws&&Ws!==i&&Ws._cursorLeaveHandler(),i&&i._cursorEnterHandler()}},update:function(){return ke(this._eventHandler("update").done(this._updateAction),er(()=>{var n=this._allowedDirections();return Xn(()=>{var t=n.vertical?"pan-x":"";t=n.horizontal?"pan-y":t,this._$container.css("touchAction",t=n.vertical&&n.horizontal?"none":t)}),ke().promise()}))},_allowedDirections:function(){var e=this.option("bounceEnabled"),n=this._scrollers[Aa],t=this._scrollers[ir];return{vertical:n&&(n._minOffset<0||e),horizontal:t&&(t._minOffset<0||e)}},_updateBounds:function(){this._scrollers[ir]&&this._scrollers[ir]._updateBounds()},_isHorizontalAndRtlEnabled:function(){return this.option("rtlEnabled")&&this.option("direction")!==Aa},updateRtlPosition:function(e){if(e&&(this._rtlConfig={scrollRight:0,clientWidth:this._$container.get(0).clientWidth,windowPixelRatio:this._getWindowDevicePixelRatio()}),this._updateBounds(),this._isHorizontalAndRtlEnabled()){var n=this._getMaxOffset().left-this._rtlConfig.scrollRight;n<=0&&(n=0,this._rtlConfig.scrollRight=this._getMaxOffset().left),this._getScrollOffset().left!==n&&(this._rtlConfig.skipUpdating=!0,this._component.scrollTo({left:n}),this._rtlConfig.skipUpdating=!1)}},_updateRtlConfig:function(){if(this._isHorizontalAndRtlEnabled()&&!this._rtlConfig.skipUpdating){var{clientWidth:e,scrollLeft:n}=this._$container.get(0),t=this._getWindowDevicePixelRatio();this._rtlConfig.windowPixelRatio===t&&this._rtlConfig.clientWidth===e&&(this._rtlConfig.scrollRight=this._getMaxOffset().left-n),this._rtlConfig.clientWidth=e,this._rtlConfig.windowPixelRatio=t}},_getWindowDevicePixelRatio:function(){return rt()?ut().devicePixelRatio:1},scrollBy:function(e){var n=this._scrollers[Aa],t=this._scrollers[ir];n&&(e.top=n._boundLocation(e.top+n._location)-n._location),t&&(e.left=t._boundLocation(e.left+t._location)-t._location),this._prepareDirections(!0),this._startAction(),this._eventHandler("scrollBy",{x:e.left,y:e.top}),this._endAction(),this._updateRtlConfig()},validate:function(e){return!(Wi(e)&&Un(e)||this.option("disabled"))&&(!!this.option("bounceEnabled")||(Wi(e)?this._validateWheel(e):this._validateMove(e)))},_validateWheel:function(e){var n=this._scrollers[this._wheelDirection(e)],t=n._reachedMin(),i=n._reachedMax(),h=(!t||!i)&&(!t&&!i||t&&e.delta>0||i&&e.delta<0);return(h=h||void 0!==this._validateWheelTimer)&&(clearTimeout(this._validateWheelTimer),this._validateWheelTimer=setTimeout(()=>{this._validateWheelTimer=void 0},500)),h},_validateMove:function(e){return!(!this.option("scrollByContent")&&!x(e.target).closest(".".concat("dx-scrollable-scrollbar")).length)&&this._allowedDirection()},getDirection:function(e){return Wi(e)?this._wheelDirection(e):this._allowedDirection()},_wheelProp:function(){return this._wheelDirection()===ir?"left":"top"},_wheelDirection:function(e){switch(this.option("direction")){case ir:return ir;case Aa:return Aa;default:return e&&e.shiftKey?ir:Aa}},dispose:function(){this._resetActive(),Ws===this&&(Ws=null),this._eventHandler("dispose"),this._detachEventHandlers(),this._$element.removeClass(Vk),this._eventForUserAction=null,clearTimeout(this._validateWheelTimer),clearTimeout(this._updateHandlerTimeout)},_detachEventHandlers:function(){R.off(this._$element,".".concat(Jw)),R.off(this._$container,".".concat(Lk))}}),Nee=Math,MG="dx-scrollview-pull-down-loading",Nk="dx-scrollview-pull-down-ready",Gee=IG.inherit({ctor:function(){this._topPocketSize=0,this._bottomPocketSize=0,this.callBase.apply(this,arguments),this._initCallbacks(),this._releaseState()},_releaseState:function(){this._state=0,this._refreshPullDownText()},_refreshPullDownText:function(){var e=this;B([{element:this._$pullingDownText,visibleState:0},{element:this._$pulledDownText,visibleState:1},{element:this._$refreshingText,visibleState:2}],function(t,i){i.element[e._state===i.visibleState?"addClass":"removeClass"]("dx-scrollview-pull-down-text-visible")})},_initCallbacks:function(){this.pullDownCallbacks=Et(),this.releaseCallbacks=Et(),this.reachBottomCallbacks=Et()},_updateBounds:function(){if("horizontal"!==this._direction){this._topPocketSize=this._$topPocket.get(0).clientHeight,this._bottomPocketSize=this._$bottomPocket.get(0).clientHeight;var n=this._$container.get(0),t=this._$content.get(0);this._bottomBoundary=Math.max(t.clientHeight-this._bottomPocketSize-n.clientHeight,0)}this.callBase()},_updateScrollbar:function(){this._scrollbar.option({containerSize:this._containerSize(),contentSize:this._contentSize()-this._topPocketSize-this._bottomPocketSize,scaleRatio:this._getScaleRatio()})},_moveContent:function(){this.callBase(),this._isPullDown()?this._pullDownReady():this._isReachBottom()?this._reachBottomReady():0!==this._state&&this._stateReleased()},_moveScrollbar:function(){this._scrollbar.moveTo(this._topPocketSize+this._location)},_isPullDown:function(){return this._pullDownEnabled&&this._location>=0},_isReachBottom:function(){var e=this._$container.get(0);return this._reachBottomEnabled&&Math.round(this._bottomBoundary-Math.ceil(e.scrollTop))<=1},_scrollComplete:function(){this._inBounds()&&1===this._state?this._pullDownRefreshing():this._inBounds()&&3===this._state?this._reachBottomLoading():this.callBase()},_reachBottomReady:function(){3!==this._state&&(this._state=3,this._minOffset=this._getMinOffset())},_getMaxOffset:function(){return-this._topPocketSize},_getMinOffset:function(){return Nee.min(this.callBase(),-this._topPocketSize)},_reachBottomLoading:function(){this.reachBottomCallbacks.fire()},_pullDownReady:function(){1!==this._state&&(this._state=1,this._maxOffset=0,this._$pullDown.addClass(Nk),this._refreshPullDownText())},_stateReleased:function(){0!==this._state&&(this._releaseState(),this._updateBounds(),this._$pullDown.removeClass(MG).removeClass(Nk),this.releaseCallbacks.fire())},_pullDownRefreshing:function(){2!==this._state&&(this._state=2,this._$pullDown.addClass(MG).removeClass(Nk),this._refreshPullDownText(),this.pullDownCallbacks.fire())},_releaseHandler:function(){return 0===this._state&&this._moveToBounds(),this._update(),this._releaseTask&&this._releaseTask.abort(),this._releaseTask=$v(this._release.bind(this)),this._releaseTask.promise},_release:function(){this._stateReleased(),this._scrollComplete()},_reachBottomEnablingHandler:function(e){this._reachBottomEnabled!==e&&(this._reachBottomEnabled=e,this._updateBounds())},_pullDownEnablingHandler:function(e){this._pullDownEnabled!==e&&(this._pullDownEnabled=e,this._considerTopPocketChange(),this._updateHandler())},_considerTopPocketChange:function(){this._location-=gt(this._$topPocket)||-this._topPocketSize,this._maxOffset=0,this._move()},_pendingReleaseHandler:function(){this._state=1},dispose:function(){this._releaseTask&&this._releaseTask.abort(),this.callBase()}}),Uee=TG.inherit({_init:function(e){this.callBase(e),this._$pullDown=e._$pullDown,this._$topPocket=e._$topPocket,this._$bottomPocket=e._$bottomPocket,this._initCallbacks()},_initCallbacks:function(){this.pullDownCallbacks=Et(),this.releaseCallbacks=Et(),this.reachBottomCallbacks=Et()},render:function(){this._renderPullDown(),this.callBase()},_renderPullDown:function(){var e=x("<div>").addClass("dx-scrollview-pull-down-image"),n=x("<div>").addClass("dx-scrollview-pull-down-indicator"),t=new Do(x("<div>")).$element(),i=this._$pullDownText=x("<div>").addClass("dx-scrollview-pull-down-text");this._$pullingDownText=x("<div>").text(this.option("pullingDownText")).appendTo(i),this._$pulledDownText=x("<div>").text(this.option("pulledDownText")).appendTo(i),this._$refreshingText=x("<div>").text(this.option("refreshingText")).appendTo(i),this._$pullDown.empty().append(e).append(n.append(t)).append(i)},pullDownEnable:function(e){this._eventHandler("pullDownEnabling",e)},reachBottomEnable:function(e){this._eventHandler("reachBottomEnabling",e)},_createScroller:function(e){var n=this,t=n._scrollers[e]=new Gee(n._scrollerOptions(e));t.pullDownCallbacks.add(function(){n.pullDownCallbacks.fire()}),t.releaseCallbacks.add(function(){n.releaseCallbacks.fire()}),t.reachBottomCallbacks.add(function(){n.reachBottomCallbacks.fire()})},_scrollerOptions:function(e){return A(this.callBase(e),{$topPocket:this._$topPocket,$bottomPocket:this._$bottomPocket,$pullDown:this._$pullDown,$pullDownText:this._$pullDownText,$pullingDownText:this._$pullingDownText,$pulledDownText:this._$pulledDownText,$refreshingText:this._$refreshingText})},pendingRelease:function(){this._eventHandler("pendingRelease")},release:function(){return this._eventHandler("release").done(this._updateAction)},location:function(){var e=this.callBase();return e.top+=gt(this._$topPocket),e},dispose:function(){B(this._scrollers,function(){this.dispose()}),this.callBase()}});const jee=Uee;var AG=function(){return[{device:function(){return!we},options:{useNative:!1}},{device:function(e){return!$e.isSimulator()&&"desktop"===$e.real().deviceType&&"generic"===e.platform},options:{bounceEnabled:!1,scrollByThumb:!0,scrollByContent:_e,showScrollbar:"onHover"}}]};function RG(e,n){for(var t={left:0,top:0},i=n;null!==(r=i)&&void 0!==r&&r.offsetParent&&!i.classList.contains(e);){var r,o=i.offsetParent,s=i.getBoundingClientRect(),l=o.getBoundingClientRect();t.left+=s.left-l.left,t.top+=s.top-l.top,i=i.offsetParent}return t}var Zw="vertical",PG="horizontal",Wk="both",FG="dx-scrollable-content",Ra="dxScrollable",kG="dx-scrollable",BG="dx-scrollable-content",Pa="vertical",Xl="horizontal",$k="both",Gk=Ta.inherit({_getDefaultOptions:function(){return A(this.callBase(),{disabled:!1,onScroll:null,direction:Pa,showScrollbar:"onScroll",useNative:!0,bounceEnabled:!0,scrollByContent:!0,scrollByThumb:!1,onUpdated:null,onStart:null,onEnd:null,onBounce:null,useSimulatedScrollbar:!1,useKeyboard:!0,inertiaEnabled:!0,updateManually:!1})},_defaultOptionsRules:function(){return this.callBase().concat(AG(),[{device:function(){return we&&"android"===$e.real().platform&&!Gt.mozilla},options:{useSimulatedScrollbar:!0}}])},_initOptions:function(e){this.callBase(e),"useSimulatedScrollbar"in e||this._setUseSimulatedScrollbar()},_setUseSimulatedScrollbar:function(){this.initialOption("useSimulatedScrollbar")||this.option("useSimulatedScrollbar",!this.option("useNative"))},_init:function(){this.callBase(),this._initScrollableMarkup(),this._locked=!1},_visibilityChanged:function(e){e?(this.update(),this._updateRtlPosition(),this._savedScrollOffset&&this.scrollTo(this._savedScrollOffset),delete this._savedScrollOffset):this._savedScrollOffset=this.scrollOffset()},_initScrollableMarkup:function(){var e=this.$element().addClass(kG),n=this._$container=x("<div>").addClass("dx-scrollable-container"),t=this._$wrapper=x("<div>").addClass("dx-scrollable-wrapper");(this._$content=x("<div>").addClass(BG)).append(e.contents()).appendTo(n),n.appendTo(t),t.appendTo(e)},_dimensionChanged:function(){this.update(),this._updateRtlPosition()},_initMarkup:function(){this.callBase(),this._renderDirection()},_render:function(){this._renderStrategy(),this._attachEventHandlers(),this._renderDisabledState(),this._createActions(),this.update(),this.callBase(),this._updateRtlPosition(!0)},_updateRtlPosition:function(e){this._strategy.updateRtlPosition(e)},_getMaxOffset:function(){var{scrollWidth:e,clientWidth:n,scrollHeight:t,clientHeight:i}=x(this.container()).get(0);return{left:e-n,top:t-i}},_attachEventHandlers:function(){var e=this._strategy,n={getDirection:e.getDirection.bind(e),validate:this._validate.bind(this),isNative:this.option("useNative"),scrollTarget:this._$container};R.off(this._$wrapper,"."+Ra),R.on(this._$wrapper,fe(Oo_init,Ra),n,this._initHandler.bind(this)),R.on(this._$wrapper,fe(Oo_start,Ra),e.handleStart.bind(e)),R.on(this._$wrapper,fe(Oo_move,Ra),e.handleMove.bind(e)),R.on(this._$wrapper,fe(Oo_end,Ra),e.handleEnd.bind(e)),R.on(this._$wrapper,fe(Oo_cancel,Ra),e.handleCancel.bind(e)),R.on(this._$wrapper,fe(Oo_stop,Ra),e.handleStop.bind(e)),R.off(this._$container,"."+Ra),R.on(this._$container,fe("scroll",Ra),e.handleScroll.bind(e))},_validate:function(e){return!this._isLocked()&&(this._updateIfNeed(),this._moveIsAllowed(e))},_moveIsAllowed(e){return this._strategy.validate(e)},handleMove(e){this._strategy.handleMove(e)},_prepareDirections(e){this._strategy._prepareDirections(e)},_initHandler:function(){var e=this._strategy;e.handleInit.apply(e,arguments)},_renderDisabledState:function(){this.$element().toggleClass("dx-scrollable-disabled",this.option("disabled")),this.option("disabled")?this._lock():this._unlock()},_renderDirection:function(){this.$element().removeClass("dx-scrollable-"+Xl).removeClass("dx-scrollable-"+Pa).removeClass("dx-scrollable-"+$k).addClass("dx-scrollable-"+this.option("direction"))},_renderStrategy:function(){this._createStrategy(),this._strategy.render(),this.$element().data("dxScrollableStrategy",this._strategy)},_createStrategy:function(){this._strategy=this.option("useNative")?new Rk(this):new TG(this)},_createActions:function(){this._strategy&&this._strategy.createActions()},_clean:function(){this._strategy&&this._strategy.dispose()},_optionChanged:function(e){switch(e.name){case"onStart":case"onEnd":case"onUpdated":case"onScroll":case"onBounce":this._createActions();break;case"direction":this._resetInactiveDirection(),this._invalidate();break;case"useNative":this._setUseSimulatedScrollbar(),this._invalidate();break;case"inertiaEnabled":case"scrollByThumb":case"bounceEnabled":case"useKeyboard":case"showScrollbar":case"useSimulatedScrollbar":this._invalidate();break;case"disabled":this._renderDisabledState(),this._strategy&&this._strategy.disabledChanged();break;case"updateManually":case"scrollByContent":break;case"width":this.callBase(e),this._updateRtlPosition();break;default:this.callBase(e)}},_resetInactiveDirection:function(){var e=this._getInactiveProp();if(e&&rt()){var n=this.scrollOffset();n[e]=0,this.scrollTo(n)}},_getInactiveProp:function(){var e=this.option("direction");return e===Pa?"left":e===Xl?"top":void 0},_location:function(){return this._strategy.location()},_normalizeLocation:function(e){if(ft(e)){var n=Cn(e.left,e.x),t=Cn(e.top,e.y);return{left:T(n)?-n:void 0,top:T(t)?-t:void 0}}var i=this.option("direction");return{left:i!==Pa?-e:void 0,top:i!==Xl?-e:void 0}},_isLocked:function(){return this._locked},_lock:function(){this._locked=!0},_unlock:function(){this.option("disabled")||(this._locked=!1)},_isDirection:function(e){var n=this.option("direction");return e===Pa?n!==Xl:e===Xl?n!==Pa:n===e},_updateAllowedDirection:function(){var e=this._strategy._allowedDirections();this._allowedDirectionValue=this._isDirection($k)&&e.vertical&&e.horizontal?$k:this._isDirection(Xl)&&e.horizontal?Xl:this._isDirection(Pa)&&e.vertical?Pa:null},_allowedDirection:function(){return this._allowedDirectionValue},$content:function(){return this._$content},content:function(){return Ke(this._$content)},container:function(){return Ke(this._$container)},scrollOffset:function(){return this._strategy._getScrollOffset()},_isRtlNativeStrategy:function(){var{useNative:e,rtlEnabled:n}=this.option();return e&&n},scrollTop:function(){return this.scrollOffset().top},scrollLeft:function(){return this.scrollOffset().left},clientHeight:function(){return gt(this._$container)},scrollHeight:function(){return _t(this.$content())},clientWidth:function(){return Ze(this._$container)},scrollWidth:function(){return wt(this.$content())},update:function(){if(this._strategy)return ke(this._strategy.update()).done(function(){this._updateAllowedDirection()}.bind(this))},scrollBy:function(e){((e=this._normalizeLocation(e)).top||e.left)&&(this._updateIfNeed(),this._strategy.scrollBy(e))},scrollTo:function(e){e=this._normalizeLocation(e),this._updateIfNeed();var n=this._location();this.option("useNative")||(e=this._strategy._applyScaleRatio(e),n=this._strategy._applyScaleRatio(n)),this._isRtlNativeStrategy()&&(n.left=n.left-this._getMaxOffset().left);var t=this._normalizeLocation({left:n.left-Cn(e.left,n.left),top:n.top-Cn(e.top,n.top)});!t.top&&!t.left||this._strategy.scrollBy(t)},scrollToElement:function(e,n){var t=x(e),i=this.$content().find(e).length,r=t.parents("."+kG).length-t.parents("."+BG).length==0;if(i&&r){var o={top:0,left:0},s=this.option("direction");s!==Pa&&(o.left=this.getScrollElementPosition(t,Xl,n)),s!==Xl&&(o.top=this.getScrollElementPosition(t,Pa,n)),this.scrollTo(o)}},getScrollElementPosition:function(e,n,t){var i=this.scrollOffset();return function Kee(e,n,t,i,r){var o=de({top:0,left:0,right:0,bottom:0},r),s=n===Zw,l=s?"top":"left",h=s?"bottom":"right",g=s?"height":"width",_=t["offset".concat(Eh(g))],v=t["client".concat(Eh(g))],C=t.getBoundingClientRect()[g],b=e.getBoundingClientRect()[g],E=1;Math.abs(C-_)>1&&(E=C/_);var w=RG(FG,e)[l]/E,M=i[l],k=M-w+o[l],L=M-w-b/E+v-o[h];return k<=0&&L>=0?M:M-(Math.abs(k)>Math.abs(L)?L:k)}(e.get(0),n,x(this.container()).get(0),i,t)},_updateIfNeed:function(){this.option("updateManually")||this.update()},_useTemplates:function(){return!1},isRenovated:function(){return!!Gk.IS_RENOVATED_WIDGET}});Dt(Ra,Gk);const LG=Gk,Fa=LG;var VG="dx-loadpanel-indicator",NG="dx-loadpanel-message",HG=Nu.inherit({_supportedKeys:function(){return A(this.callBase(),{escape:U})},_getDefaultOptions:function(){return A(this.callBase(),{message:J.format("Loading"),width:222,height:90,animation:null,showIndicator:!0,indicatorSrc:"",showPane:!0,delay:0,templatesRenderAsynchronously:!1,hideTopOverlayHandler:null,focusStateEnabled:!1,propagateOutsideClick:!0,preventScrollEvents:!1})},_defaultOptionsRules:function(){return this.callBase().concat([{device:{platform:"generic"},options:{shadingColor:"transparent"}},{device:function(){return Wn()},options:{message:"",width:60,height:60,maxHeight:60,maxWidth:60}}])},_init:function(){this.callBase.apply(this,arguments)},_render:function(){this.callBase(),this.$element().addClass("dx-loadpanel"),this.$wrapper().addClass("dx-loadpanel-wrapper")},_renderContentImpl:function(){this.callBase(),this.$content().addClass("dx-loadpanel-content"),this._$loadPanelContentWrapper=x("<div>").addClass("dx-loadpanel-content-wrapper"),this._$loadPanelContentWrapper.appendTo(this.$content()),this._togglePaneVisible(),this._cleanPreviousContent(),this._renderLoadIndicator(),this._renderMessage()},_show:function(){var e=this.option("delay");if(!e)return this.callBase();var n=new W,t=this.callBase.bind(this);return this._clearShowTimeout(),this._showTimeout=setTimeout(function(){t().done(function(){n.resolve()})},e),n.promise()},_hide:function(){return this._clearShowTimeout(),this.callBase()},_clearShowTimeout:function(){clearTimeout(this._showTimeout)},_renderMessage:function(){if(this._$loadPanelContentWrapper){var e=this.option("message");if(e){var n=x("<div>").addClass(NG).text(e);this._$loadPanelContentWrapper.append(n)}}},_renderLoadIndicator:function(){!this._$loadPanelContentWrapper||!this.option("showIndicator")||(this._$indicator||(this._$indicator=x("<div>").addClass(VG).appendTo(this._$loadPanelContentWrapper)),this._createComponent(this._$indicator,Do,{indicatorSrc:this.option("indicatorSrc")}))},_cleanPreviousContent:function(){this.$content().find("."+NG).remove(),this.$content().find("."+VG).remove(),delete this._$indicator},_togglePaneVisible:function(){this.$content().toggleClass("dx-loadpanel-pane-hidden",!this.option("showPane"))},_optionChanged:function(e){switch(e.name){case"delay":break;case"message":case"showIndicator":this._cleanPreviousContent(),this._renderLoadIndicator(),this._renderMessage();break;case"showPane":this._togglePaneVisible();break;case"indicatorSrc":this._renderLoadIndicator();break;default:this.callBase(e)}},_dispose:function(){this._clearShowTimeout(),this.callBase()}});Dt("dxLoadPanel",HG);const Uk=HG;var vp="dx-scrollview",ite=vp+"-content",rte=vp+"-top-pocket",ote=vp+"-bottom-pocket",ste=vp+"-pull-down",jk=vp+"-scrollbottom",ate=jk+"-indicator",lte=jk+"-text",dte=vp+"-loadpanel",ute={pullDown:Cee,swipeDown:See,simulated:jee},cte=!rt(),hte={finishLoading:U,release:U,refresh:U,scrollOffset:()=>({top:0,left:0}),_optionChanged:function(e){if("onUpdated"!==e.name)return this.callBase.apply(this,arguments)}},zG=Fa.inherit(cte?hte:{_getDefaultOptions:function(){return A(this.callBase(),{pullingDownText:J.format("dxScrollView-pullingDownText"),pulledDownText:J.format("dxScrollView-pulledDownText"),refreshingText:J.format("dxScrollView-refreshingText"),reachBottomText:J.format("dxScrollView-reachBottomText"),onPullDown:null,onReachBottom:null,refreshStrategy:"pullDown"})},_defaultOptionsRules:function(){return this.callBase().concat([{device:function(){return"android"===$e.real().platform},options:{refreshStrategy:"swipeDown"}},{device:function(){return Wn()},options:{pullingDownText:"",pulledDownText:"",refreshingText:"",reachBottomText:""}}])},_init:function(){this.callBase(),this._loadingIndicatorEnabled=!0},_initScrollableMarkup:function(){this.callBase(),this.$element().addClass(vp),this._initContent(),this._initTopPocket(),this._initBottomPocket(),this._initLoadPanel()},_initContent:function(){var e=x("<div>").addClass(ite);this._$content.wrapInner(e)},_initTopPocket:function(){var e=this._$topPocket=x("<div>").addClass(rte),n=this._$pullDown=x("<div>").addClass(ste);e.append(n),this._$content.prepend(e)},_initBottomPocket:function(){var e=this._$bottomPocket=x("<div>").addClass(ote),n=this._$reachBottom=x("<div>").addClass(jk),t=x("<div>").addClass(ate),i=new Do(x("<div>")).$element(),r=this._$reachBottomText=x("<div>").addClass(lte);this._updateReachBottomText(),n.append(t.append(i)).append(r),e.append(n),this._$content.append(e)},_initLoadPanel:function(){var e=x("<div>").addClass(dte).appendTo(this.$element()),n={shading:!1,delay:400,message:this.option("refreshingText"),position:{of:this.$element()}};this._loadPanel=this._createComponent(e,Uk,n)},_updateReachBottomText:function(){this._$reachBottomText.text(this.option("reachBottomText"))},_createStrategy:function(){var e=this.option("useNative")?this.option("refreshStrategy"):"simulated";this._strategy=new(0,ute[e])(this),this._strategy.pullDownCallbacks.add(this._pullDownHandler.bind(this)),this._strategy.releaseCallbacks.add(this._releaseHandler.bind(this)),this._strategy.reachBottomCallbacks.add(this._reachBottomHandler.bind(this))},_createActions:function(){this.callBase(),this._pullDownAction=this._createActionByOption("onPullDown"),this._reachBottomAction=this._createActionByOption("onReachBottom"),this._tryRefreshPocketState()},_tryRefreshPocketState:function(){this._pullDownEnable(this.hasActionSubscription("onPullDown")),this._reachBottomEnable(this.hasActionSubscription("onReachBottom"))},on:function(e){var n=this.callBase.apply(this,arguments);return("pullDown"===e||"reachBottom"===e)&&this._tryRefreshPocketState(),n},_pullDownEnable:function(e){if(0===arguments.length)return this._pullDownEnabled;this._$pullDown&&this._strategy&&(this._$pullDown.toggle(e),this._strategy.pullDownEnable(e),this._pullDownEnabled=e)},_reachBottomEnable:function(e){if(0===arguments.length)return this._reachBottomEnabled;this._$reachBottom&&this._strategy&&(this._$reachBottom.toggle(e),this._strategy.reachBottomEnable(e),this._reachBottomEnabled=e)},_pullDownHandler:function(){this._loadingIndicator(!1),this._pullDownLoading()},_loadingIndicator:function(e){if(arguments.length<1)return this._loadingIndicatorEnabled;this._loadingIndicatorEnabled=e},_pullDownLoading:function(){this.startLoading(),this._pullDownAction()},_reachBottomHandler:function(){this._loadingIndicator(!1),this._reachBottomLoading()},_reachBottomLoading:function(){this.startLoading(),this._reachBottomAction()},_releaseHandler:function(){this.finishLoading(),this._loadingIndicator(!0)},_optionChanged:function(e){switch(e.name){case"onPullDown":case"onReachBottom":this._createActions();break;case"pullingDownText":case"pulledDownText":case"refreshingText":case"refreshStrategy":this._invalidate();break;case"reachBottomText":this._updateReachBottomText();break;default:this.callBase(e)}},content:function(){return Ke(this._$content.children().eq(1))},release:function(e){return void 0!==e&&this.toggleLoading(!e),this._strategy.release()},toggleLoading:function(e){this._reachBottomEnable(e)},refresh:function(){this.hasActionSubscription("onPullDown")&&(this._strategy.pendingRelease(),this._pullDownLoading())},startLoading:function(){this._loadingIndicator()&&this.$element().is(":visible")&&this._loadPanel.show(),this._lock()},finishLoading:function(){this._loadPanel.hide(),this._unlock()},_dispose:function(){this._strategy.dispose(),this.callBase(),this._loadPanel&&this._loadPanel.$element().remove()}});Dt("dxScrollView",zG);const WG=zG;var Qw="__dx_key__";const Kk=_p.inherit({_getDefaultOptions:function(){return A(this.callBase(),{repaintChangesOnly:!1})},ctor:function(){var e;this.callBase.apply(this,arguments),this._customizeStoreLoadOptions=n=>{this._dataController.getDataSource()&&!this._dataController.isLoaded()&&(this._correctionIndex=0),this._correctionIndex&&n.storeLoadOptions&&(n.storeLoadOptions.skip+=this._correctionIndex)},null===(e=this._dataController)||void 0===e||e.on("customizeStoreLoadOptions",this._customizeStoreLoadOptions)},reload:function(){this._correctionIndex=0},_init:function(){this.callBase(),this._refreshItemsCache(),this._correctionIndex=0},_findItemElementByKey:function(e){var n=x(),t=this.key();return this.itemElements().each((i,r)=>{var o=x(r),s=this._getItemData(o);if(t?Jy(t,this.keyOf(s),e):this._isItemEquals(s,e))return n=o,!1}),n},_dataSourceChangedHandler:function(e,n){null!=n&&n.changes?this._modifyByChanges(n.changes):(this.callBase(e,n),this._refreshItemsCache())},_isItemEquals:function(e,n){e&&e[Qw]&&(e=e.data);try{return JSON.stringify(e)===JSON.stringify(n)}catch{return e===n}},_isItemStrictEquals:function(e,n){return this._isItemEquals(e,n)},_shouldAddNewGroup:function(e,n){var t=!1;return this.option("grouped")&&(e.length||(t=!0),B(e,(i,r)=>{"insert"===r.type&&(t=!0,B(n,(o,s)=>{if(void 0!==r.data.key&&r.data.key===s.key)return t=!1,!1}))})),t},_partialRefresh:function(){if(this.option("repaintChangesOnly")){var e=K$(this._itemsCache,this._editStrategy.itemsGetter(),n=>n&&void 0!==n[Qw]?n[Qw]:this.keyOf(n),this._isItemStrictEquals.bind(this));if(e&&this._itemsCache.length&&!this._shouldAddNewGroup(e,this._itemsCache))return this._modifyByChanges(e,!0),this._renderEmptyMessage(),!0;this._refreshItemsCache()}return!1},_refreshItemsCache:function(){if(this.option("repaintChangesOnly")){var e=this._editStrategy.itemsGetter();try{this._itemsCache=A(!0,[],e),this.key()||(this._itemsCache=this._itemsCache.map((n,t)=>({[Qw]:e[t],data:n})))}catch{this._itemsCache=A([],e)}}},_dispose:function(){this._dataController.off("customizeStoreLoadOptions",this._customizeStoreLoadOptions),this.callBase()},_updateByChange:function(e,n,t,i){if(i)this._renderItem(t.index,t.data,null,this._findItemElementByKey(t.key));else{var r=n[hp(e,n,t.key)];r&&lk(e,n,t.key,t.data).done(()=>{this._renderItem(n.indexOf(r),r,null,this._findItemElementByKey(t.key))})}},_insertByChange:function(e,n,t,i){ke(i||dk(e,n,t.data,t.index)).done(()=>{var r;this._beforeItemElementInserted(t);var o=this._getItemContainer(t.data);this._renderItem(null!==(r=t.index)&&void 0!==r?r:n.length,t.data,o),this._afterItemElementInserted(),this._correctionIndex++})},_getItemContainer:function(e){return this._itemContainer()},_updateSelectionAfterRemoveByChange:function(e){var n=this.option("selectedIndex");n>e?this.option("selectedIndex",n-1):n===e&&1===this.option("selectedItems").length?this.option("selectedItems",[]):this._normalizeSelectedItems()},_beforeItemElementInserted:function(e){var n=this.option("selectedIndex");e.index<=n&&this.option("selectedIndex",n+1)},_afterItemElementInserted:U,_removeByChange:function(e,n,t,i){var r=i?t.index:hp(e,n,t.key);if(i?t.oldItem:n[r]){var s=this._findItemElementByKey(t.key),l=this._extendActionArgs(s);this._waitDeletingPrepare(s).done(()=>{i?(this._updateIndicesAfterIndex(r-1),this._afterItemElementDeleted(s,l),this._updateSelectionAfterRemoveByChange(r)):(this._deleteItemElementByIndex(r),this._afterItemElementDeleted(s,l))}),this._correctionIndex--}},_modifyByChanges:function(e,n){var t=this._editStrategy.itemsGetter(),i={key:this.key.bind(this),keyOf:this.keyOf.bind(this)},r=this._dataController,o=r.paginate(),s=r.group();(o||s)&&(e=e.filter(l=>"insert"!==l.type||void 0!==l.index)),e.forEach(l=>this["_".concat(l.type,"ByChange")](i,t,l,n)),this._renderedItemsCount=t.length,this._refreshItemsCache(),this._fireContentReadyAction()},_appendItemToContainer:function(e,n,t){var i=e.children(this._itemSelector()).get(t);se.insertElement(e.get(0),n.get(0),i)},_optionChanged:function(e){switch(e.name){case"items":this._partialRefresh(e.value)||this.callBase(e);break;case"dataSource":(!this.option("repaintChangesOnly")||!e.value)&&this.option("items",[]),this.callBase(e);break;case"repaintChangesOnly":break;default:this.callBase(e)}}}),$G={_getSpecificDataSourceOption:function(){var e=this.option("dataSource"),n=!1,t={};return this._getGroupedOption()&&(e=>Array.isArray(e)&&e.every(n=>2===Object.keys(n).length&&"key"in n&&"items"in n&&Array.isArray(n.items)))(e)&&(t=e.reduce((i,r)=>{var o=r.items.map(s=>(qe(s)||(s={text:s},n=!0),"key"in s||(s.key=r.key),s));return i.concat(o)},[]),e={store:{type:"array",data:t},group:{selector:"key",keepInitialKeyOrder:!0}},n&&(e.searchExpr="text")),e}};function GG(e){return e?Number(e.replace("px","")):0}function gte(e,n){var t=function lx(e){var n,t;return e&&rt()?null===(n=(t=ut()).getComputedStyle)||void 0===n?void 0:n.call(t,e):null}(e);return t?GG(t["margin".concat(Eh(n))]):0}var e0="dx-list-item",_te="."+e0,A_="dx-list-group",Yk="dx-list-group-header",t0="dx-list-group-body",UG="dx-list-group-collapsed",jG="dx-wrap-item-text",Ste=Yt("items"),qk=Kk.inherit({_activeStateUnit:[_te,".dx-list-select-all"].join(","),_supportedKeys:function(){var e=this,n=function(i){var s,l,h,r=t(i);r.is(e.option("focusedElement"))&&(l=i,h=(s=r).position().top,"prev"===l&&(h=s.position().top-gt(e.$element())+_t(s)),e.scrollTo(h),r=t(i)),e.option("focusedElement",Ke(r)),e.scrollToItem(r)};function t(i){var r=e.scrollTop(),o=gt(e.$element()),s=x(e.option("focusedElement")),l=!0;if(!s.length)return x();for(;l;){var h=s[i]();if(!h.length)break;var g=h.position().top+_t(h)/2;(l=g<o+r&&g>r)&&(s=h)}return s}return A(this.callBase(),{leftArrow:U,rightArrow:U,pageUp:function(){return n("prev"),!1},pageDown:function(){return n("next"),!1}})},_getDefaultOptions:function(){return A(this.callBase(),{hoverStateEnabled:!0,pullRefreshEnabled:!1,scrollingEnabled:!0,selectByClick:!0,showScrollbar:"onScroll",useNativeScrolling:!0,bounceEnabled:!0,scrollByContent:!0,scrollByThumb:!1,pullingDownText:J.format("dxList-pullingDownText"),pulledDownText:J.format("dxList-pulledDownText"),refreshingText:J.format("dxList-refreshingText"),pageLoadingText:J.format("dxList-pageLoadingText"),onScroll:null,onPullRefresh:null,onPageLoading:null,pageLoadMode:"scrollBottom",nextButtonText:J.format("dxList-nextButtonText"),onItemSwipe:null,grouped:!1,onGroupRendered:null,collapsibleGroups:!1,groupTemplate:"group",indicateLoading:!0,activeStateEnabled:!0,_itemAttributes:{role:"option"},useInkRipple:!1,wrapItemText:!1,_swipeEnabled:!0,showChevronExpr:function(e){return e?e.showChevron:void 0},badgeExpr:function(e){return e?e.badge:void 0}})},_defaultOptionsRules:function(){var e=es();return this.callBase().concat(AG(),[{device:function(){return!we},options:{useNativeScrolling:!1}},{device:function(n){return!we&&!$e.isSimulator()&&"desktop"===$e.real().deviceType&&"generic"===n.platform},options:{showScrollbar:"onHover",pageLoadMode:"nextButton"}},{device:function(){return"desktop"===$e.real().deviceType&&!$e.isSimulator()},options:{focusStateEnabled:!0}},{device:function(){return Wn(e)},options:{pullingDownText:"",pulledDownText:"",refreshingText:"",pageLoadingText:"",useInkRipple:!0}}])},_visibilityChanged:function(e){e&&this._updateLoadingState(!0)},_itemClass:function(){return e0},_itemDataKey:function(){return"dxListItemData"},_itemContainer:function(){return this._$container},_saveSelectionChangeEvent:function(e){this._selectionChangeEventInstance=e},_getSelectionChangeEvent:function(){return this._selectionChangeEventInstance},_refreshItemElements:function(){this._itemElementsCache=this.option("grouped")?this._itemContainer().children("."+A_).children("."+t0).children(this._itemSelector()):this._itemContainer().children(this._itemSelector())},_modifyByChanges:function(){this.callBase.apply(this,arguments),this._refreshItemElements(),this._updateLoadingState(!0)},reorderItem:function(e,n){return this.callBase(e,n).done(function(){this._refreshItemElements()})},deleteItem:function(e){return this.callBase(e).done(function(){this._refreshItemElements()})},_itemElements:function(){return this._itemElementsCache},_itemSelectHandler:function(e){if("single"!==this.option("selectionMode")||!this.isItemSelected(e.currentTarget))return this.callBase(e)},_allowDynamicItemsAppend:function(){return!0},_init:function(){this.callBase(),this._dataController.resetDataSourcePageIndex(),this._$container=this.$element(),this._initScrollView(),this._feedbackShowTimeout=70,this._createGroupRenderAction()},_scrollBottomMode:function(){return"scrollBottom"===this.option("pageLoadMode")},_nextButtonMode:function(){return"nextButton"===this.option("pageLoadMode")},_dataSourceOptions:function(){var e=this._scrollBottomMode(),n=this._nextButtonMode();return A(this.callBase(),{paginate:Cn(e||n,!0)})},_getGroupedOption:function(){return this.option("grouped")},_getGroupContainerByIndex:function(e){return this._itemContainer().find(".".concat(A_)).eq(e).find(".".concat(t0))},_dataSourceFromUrlLoadMode:function(){return"raw"},_initScrollView:function(){var e=this.option("scrollingEnabled"),n=e&&this.option("pullRefreshEnabled"),t=e&&this._scrollBottomMode()&&!!this._dataController.getDataSource();this._scrollView=this._createComponent(this.$element(),function Ete(){return WG}(),{height:this.option("height"),width:this.option("width"),disabled:this.option("disabled")||!e,onScroll:this._scrollHandler.bind(this),onPullDown:n?this._pullDownHandler.bind(this):null,onReachBottom:t?this._scrollBottomHandler.bind(this):null,showScrollbar:this.option("showScrollbar"),useNative:this.option("useNativeScrolling"),bounceEnabled:this.option("bounceEnabled"),scrollByContent:this.option("scrollByContent"),scrollByThumb:this.option("scrollByThumb"),pullingDownText:this.option("pullingDownText"),pulledDownText:this.option("pulledDownText"),refreshingText:this.option("refreshingText"),reachBottomText:this.option("pageLoadingText"),useKeyboard:!1}),this._$container=x(this._scrollView.content()),this.option("wrapItemText")&&this._$container.addClass(jG),this._createScrollViewActions()},_createScrollViewActions:function(){this._scrollAction=this._createActionByOption("onScroll"),this._pullRefreshAction=this._createActionByOption("onPullRefresh"),this._pageLoadingAction=this._createActionByOption("onPageLoading")},_scrollHandler:function(e){this._scrollAction&&this._scrollAction(e)},_initTemplates:function(){this._templateManager.addDefaultTemplates({group:new fp(function(e,n){ft(n)?n.key&&e.text(n.key):e.text(String(n))},["key"],this.option("integrationOptions.watchMethod"))}),this.callBase()},_prepareDefaultItemTemplate:function(e,n){if(this.callBase(e,n),e.icon){var t=Ll(e.icon).addClass("dx-list-item-icon"),i=x("<div>").addClass("dx-list-item-icon-container");i.append(t),n.prepend(i)}},_getBindableFields:function(){return["text","html","icon"]},_updateLoadingState:function(e){var n=this._dataController,t=this._scrollBottomMode()&&e&&!n.isLoading()&&!this._isLastPage();this._shouldContinueLoading(t)?this._infiniteDataLoading():(this._scrollView.release(!t&&!n.isLoading()),this._toggleNextButton(this._shouldRenderNextButton()&&!this._isLastPage()),this._loadIndicationSuppressed(!1))},_shouldRenderNextButton:function(){return this._nextButtonMode()&&this._dataController.isLoaded()},_isDataSourceFirstLoadCompleted:function(e){return T(e)&&(this._isFirstLoadCompleted=e),this._isFirstLoadCompleted},_dataSourceLoadingChangedHandler:function(e){this._loadIndicationSuppressed()||(e&&this.option("indicateLoading")?this._showLoadingIndicatorTimer=setTimeout(function(){var i;!this._itemElements().length&&!this._isDataSourceFirstLoadCompleted()||null===(i=this._scrollView)||void 0===i||i.startLoading()}.bind(this)):(clearTimeout(this._showLoadingIndicatorTimer),this._scrollView&&this._scrollView.finishLoading()),e||this._isDataSourceFirstLoadCompleted(!1))},_dataSourceChangedHandler:function(){!this._shouldAppendItems()&&rt()&&this._scrollView&&this._scrollView.scrollTo(0),this.callBase.apply(this,arguments),this._isDataSourceFirstLoadCompleted(!0)},_refreshContent:function(){this._prepareContent(),this._fireContentReadyAction()},_hideLoadingIfLoadIndicationOff:function(){this.option("indicateLoading")||this._dataSourceLoadingChangedHandler(!1)},_loadIndicationSuppressed:function(e){if(!arguments.length)return this._isLoadIndicationSuppressed;this._isLoadIndicationSuppressed=e},_scrollViewIsFull:function(){var e=this._scrollView;return!e||gt(e.content())>gt(e.container())},_pullDownHandler:function(e){this._pullRefreshAction(e);var n=this._dataController;n.getDataSource()&&!n.isLoading()?(this._clearSelectedItems(),n.pageIndex(0),n.reload()):this._updateLoadingState()},_shouldContinueLoading:function(e){var n,t,i=gt(this._scrollView.content())-gt(this._scrollView.container())<(null!==(n=null===(t=this._scrollView.scrollOffset())||void 0===t?void 0:t.top)&&void 0!==n?n:0);return e&&(!this._scrollViewIsFull()||i)},_infiniteDataLoading:function(){this.$element().is(":visible")&&(clearTimeout(this._loadNextPageTimer),this._loadNextPageTimer=setTimeout(()=>{this._loadNextPage()}))},_scrollBottomHandler:function(e){this._pageLoadingAction(e),this._dataController.isLoading()||this._isLastPage()?this._updateLoadingState():this._loadNextPage()},_renderItems:function(e){this.option("grouped")?(B(e,this._renderGroup.bind(this)),this._attachGroupCollapseEvent(),this._renderEmptyMessage(),Wn()&&this.attachGroupHeaderInkRippleEvents()):this.callBase.apply(this,arguments),this._refreshItemElements(),this._updateLoadingState(!0)},_attachGroupCollapseEvent:function(){var e=fe(Kt,this.NAME),n="."+Yk,t=this.$element(),i=this.option("collapsibleGroups");t.toggleClass("dx-list-collapsible-groups",i),R.off(t,e,n),i&&R.on(t,e,n,function(r){this._createAction(function(o){var s=x(o.event.currentTarget).parent();this._collapseGroupHandler(s),this.option("focusStateEnabled")&&this.option("focusedElement",Ke(s.find("."+e0).eq(0)))}.bind(this),{validatingTargetName:"element"})({event:r})}.bind(this))},_collapseGroupHandler:function(e,n){var t=new W;if(e.hasClass(UG)===n)return t.resolve();var i=e.children("."+t0),r=_t(i),o=0;return 0===r&&(ma(i,"auto"),o=_t(i)),e.toggleClass(UG,n),An.animate(i,{type:"custom",from:{height:r},to:{height:o},duration:200,complete:function(){this.updateDimensions(),this._updateLoadingState(!0),t.resolve()}.bind(this)}),t.promise()},_dataSourceLoadErrorHandler:function(){this._forgetNextPageLoading(),this._initialized&&(this._renderEmptyMessage(),this._updateLoadingState())},_initMarkup:function(){this._itemElementsCache=x(),this.$element().addClass("dx-list"),this.callBase(),this.option("useInkRipple")&&this._renderInkRipple(),this.setAria({role:"group",roledescription:"list"},this.$element()),this._setListAria()},_setListAria(){var{items:e}=this.option();this.setAria(null!=e&&e.length?{role:"listbox",label:"Items"}:{role:void 0,label:void 0})},_focusTarget:function(){return this._itemContainer()},_renderInkRipple:function(){this._inkRipple=tF()},_toggleActiveState:function(e,n,t){this.callBase.apply(this,arguments);var i=this;if(this._inkRipple){var r={element:e,event:t};n?Wn()?this._inkRippleTimer=setTimeout(function(){i._inkRipple.showWave(r)},35):i._inkRipple.showWave(r):(clearTimeout(this._inkRippleTimer),this._inkRipple.hideWave(r))}},_postprocessRenderItem:function(e){this._refreshItemElements(),this.callBase.apply(this,arguments),this.option("_swipeEnabled")&&this._attachSwipeEvent(x(e.itemElement))},_attachSwipeEvent:function(e){var n=fe(ix,this.NAME);R.on(e,n,this._itemSwipeEndHandler.bind(this))},_itemSwipeEndHandler:function(e){this._itemDXEventHandler(e,"onItemSwipe",{direction:e.offset<0?"left":"right"})},_nextButtonHandler:function(e){this._pageLoadingAction(e);var n=this._dataController;n.getDataSource()&&!n.isLoading()&&(this._scrollView.toggleLoading(!0),this._$nextButton.detach(),this._loadIndicationSuppressed(!0),this._loadNextPage())},_renderGroup:function(e,n){var t=x("<div>").addClass(A_).appendTo(this._itemContainer()),i="dx-".concat((new En).toString());this.setAria({role:"group",labelledby:i},t);var o=x("<div>").addClass(Yk).attr("id",i).appendTo(t),s=this.option("groupTemplate"),l=this._getTemplate(n.template||s,n,e,o),h={index:e,itemData:n,container:Ke(o)};this._createItemByTemplate(l,h),Wn()&&x("<div>").addClass("dx-list-group-header-indicator").prependTo(o),this._renderingGroupIndex=e;var g=x("<div>").addClass(t0).appendTo(t);B(Ste(n)||[],function(_,v){this._renderItem({group:e,item:_},v,g)}.bind(this)),this._groupRenderAction({groupElement:Ke(t),groupIndex:e,groupData:n})},downInkRippleHandler:function(e){this._toggleActiveState(x(e.currentTarget),!0,e)},upInkRippleHandler:function(e){this._toggleActiveState(x(e.currentTarget),!1)},attachGroupHeaderInkRippleEvents:function(){var e="."+Yk,n=this.$element();this._downInkRippleHandler=this._downInkRippleHandler||this.downInkRippleHandler.bind(this),this._upInkRippleHandler=this._upInkRippleHandler||this.upInkRippleHandler.bind(this);var t=[n,"dxpointerdown",e,this._downInkRippleHandler],i=[n,"dxpointerup dxpointerout",e,this._upInkRippleHandler];R.off(...t),R.on(...t),R.off(...i),R.on(...i)},_createGroupRenderAction:function(){this._groupRenderAction=this._createActionByOption("onGroupRendered")},_clean:function(){clearTimeout(this._inkRippleTimer),this._$nextButton&&(this._$nextButton.remove(),this._$nextButton=null),this.callBase.apply(this,arguments)},_dispose:function(){this._isDataSourceFirstLoadCompleted(!1),clearTimeout(this._holdTimer),clearTimeout(this._loadNextPageTimer),clearTimeout(this._showLoadingIndicatorTimer),this.callBase()},_toggleDisabledState:function(e){this.callBase(e),this._scrollView.option("disabled",e||!this.option("scrollingEnabled"))},_toggleNextButton:function(e){var n=this._dataController,t=this._getNextButton();this.$element().toggleClass("dx-has-next",e),e&&n.isLoaded()&&t.appendTo(this._itemContainer()),e||t.detach()},_getNextButton:function(){return this._$nextButton||(this._$nextButton=this._createNextButton()),this._$nextButton},_createNextButton:function(){var e=x("<div>").addClass("dx-list-next-button"),n=x("<div>").appendTo(e);return this._createComponent(n,Ui,{text:this.option("nextButtonText"),onClick:this._nextButtonHandler.bind(this),type:Wn()?"default":void 0,integrationOptions:{}}),e},_moveFocus:function(){this.callBase.apply(this,arguments),this.scrollToItem(this.option("focusedElement"))},_refresh:function(){if(rt()){var e=this._scrollView.scrollTop();this.callBase(),e&&this._scrollView.scrollTo(e)}else this.callBase()},_optionChanged:function(e){switch(e.name){case"pageLoadMode":this._toggleNextButton(e.value),this._initScrollView();break;case"dataSource":this.callBase(e),this._initScrollView(),this._isDataSourceFirstLoadCompleted(!1);break;case"items":this.callBase(e),this._isDataSourceFirstLoadCompleted(!1);break;case"pullingDownText":case"pulledDownText":case"refreshingText":case"pageLoadingText":case"showScrollbar":case"bounceEnabled":case"scrollByContent":case"scrollByThumb":case"useNativeScrolling":case"scrollingEnabled":case"pullRefreshEnabled":this._initScrollView(),this._updateLoadingState(!0);break;case"nextButtonText":case"onItemSwipe":case"useInkRipple":case"grouped":case"collapsibleGroups":case"groupTemplate":case"showChevronExpr":case"badgeExpr":this._invalidate();break;case"onScroll":case"onPullRefresh":case"onPageLoading":this._createScrollViewActions();break;case"wrapItemText":this._$container.toggleClass(jG,e.value);break;case"onGroupRendered":this._createGroupRenderAction();break;case"width":case"height":this.callBase(e),this._scrollView.option(e.name,e.value),this._scrollView.update();break;case"indicateLoading":this._hideLoadingIfLoadIndicationOff();break;case"visible":this.callBase(e),this._scrollView.update();break;case"rtlEnabled":this._initScrollView(),this.callBase(e);break;case"_swipeEnabled":case"selectByClick":break;default:this.callBase(e)}},_extendActionArgs:function(e){if(!this.option("grouped"))return this.callBase(e);var n=e.closest("."+A_),t=n.find("."+e0);return A(this.callBase(e),{itemIndex:{group:n.index(),item:t.index(e)}})},expandGroup:function(e){var n=new W,t=this._itemContainer().find("."+A_).eq(e);return this._collapseGroupHandler(t,!1).done(function(){n.resolveWith(this)}.bind(this)),n.promise()},collapseGroup:function(e){var n=new W,t=this._itemContainer().find("."+A_).eq(e);return this._collapseGroupHandler(t,!0).done(function(){n.resolveWith(this)}.bind(this)),n},updateDimensions:function(){var e=this,n=new W;return e._scrollView?e._scrollView.update().done(function(){!e._scrollViewIsFull()&&e._updateLoadingState(!0),n.resolveWith(e)}):n.resolveWith(e),n.promise()},reload:function(){this.callBase(),this.scrollTo(0),this._pullDownHandler()},repaint:function(){this.scrollTo(0),this.callBase()},scrollTop:function(){return this._scrollView.scrollOffset().top},clientHeight:function(){return this._scrollView.clientHeight()},scrollHeight:function(){return this._scrollView.scrollHeight()},scrollBy:function(e){this._scrollView.scrollBy(e)},scrollTo:function(e){this._scrollView.scrollTo(e)},scrollToItem:function(e){var n=this._editStrategy.getItemElement(e),t=n?.get(0);this._scrollView.scrollToElement(t,{bottom:gte(t,"bottom")})},_dimensionChanged:function(){this.updateDimensions()}}).include($G);qk.ItemClass=iee;var Tte=qk.inherit({_supportedKeys(){var e=this,n=this.callBase(),t=(i,r)=>{var o=this._editStrategy,s=this.option("focusedElement"),l=o.getNormalizedIndex(s);if(l!==this._getLastItemIndex()||!this._dataController.isLoading())if(i.shiftKey&&e.option("itemDragging.allowReordering")){var _=o.getItemElement(l+(r?-1:1));this.reorderItem(s,_),this.scrollToItem(s),i.preventDefault()}else this._editProvider.handleKeyboardEvents(l,r)||(r?n.upArrow(i):n.downArrow(i))};return A({},n,{del:i=>{e.option("allowItemDeleting")&&(i.preventDefault(),e.deleteItem(e.option("focusedElement")))},upArrow:i=>t(i,!0),downArrow:i=>t(i),enter:function(i){this._editProvider.handleEnterPressing(i)||n.enter.apply(this,arguments)},space:function(i){this._editProvider.handleEnterPressing(i)||n.space.apply(this,arguments)}})},_updateSelection(){this._editProvider.afterItemsRendered(),this.callBase()},_getLastItemIndex(){return this._itemElements().length-1},_refreshItemElements(){this.callBase();var e=this._editProvider.getExcludedItemSelectors();e.length&&(this._itemElementsCache=this._itemElementsCache.not(e))},_isItemStrictEquals:function(e,n){var t=e&&e.__dx_key__;return!(t&&!this.key()&&this._selection.isItemSelected(t))&&this.callBase(e,n)},_getDefaultOptions(){return A(this.callBase(),{showSelectionControls:!1,selectionMode:"none",selectAllMode:"page",onSelectAllValueChanged:null,selectAllText:J.format("dxList-selectAll"),menuItems:[],menuMode:"context",allowItemDeleting:!1,itemDeleteMode:"static",itemDragging:{}})},_defaultOptionsRules(){return this.callBase().concat([{device:e=>"ios"===e.platform,options:{menuMode:"slide",itemDeleteMode:"slideItem"}},{device:{platform:"android"},options:{itemDeleteMode:"swipe"}}])},_init(){this.callBase(),this._initEditProvider()},_initDataSource(){this.callBase(),this._isPageSelectAll()||this._dataSource&&this._dataSource.requireTotalCount(!0)},_isPageSelectAll(){return"page"===this.option("selectAllMode")},_initEditProvider(){this._editProvider=new YQ(this)},_disposeEditProvider(){this._editProvider&&this._editProvider.dispose()},_refreshEditProvider(){this._disposeEditProvider(),this._initEditProvider()},_initEditStrategy(){this.option("grouped")?this._editStrategy=new VQ(this):this.callBase()},_initMarkup(){this._refreshEditProvider(),this.callBase()},_renderItems(){this.callBase(...arguments),this._editProvider.afterItemsRendered()},_selectedItemClass:()=>"dx-list-item-selected",_itemResponseWaitClass:()=>"dx-list-item-response-wait",_itemClickHandler(e){var n=x(e.currentTarget);n.is(".dx-state-disabled, .dx-state-disabled *")||this._editProvider.handleClick(n,e)||(this._saveSelectionChangeEvent(e),this.callBase(...arguments))},_shouldFireContextMenuEvent(){return this.callBase(...arguments)||this._editProvider.contextMenuHandlerExists()},_itemHoldHandler(e){var n=x(e.currentTarget);if(!n.is(".dx-state-disabled, .dx-state-disabled *")){if(Mu(e)&&this._editProvider.handleContextMenu(n,e))return void(e.handledByEditProvider=!0);this.callBase(...arguments)}},_getItemContainer:function(e){if(this.option("grouped")){var n,t=null===(n=this._editStrategy.getIndexByItemData(e))||void 0===n?void 0:n.group;return this._getGroupContainerByIndex(t)}return this.callBase(e)},_itemContextMenuHandler(e){var n=x(e.currentTarget);if(!n.is(".dx-state-disabled, .dx-state-disabled *")){if(!e.handledByEditProvider&&this._editProvider.handleContextMenu(n,e))return void e.preventDefault();this.callBase(...arguments)}},_postprocessRenderItem(e){this.callBase(...arguments),this._editProvider.modifyItemElement(e)},_clean(){this._disposeEditProvider(),this.callBase()},focusListItem(e){var n=this._editStrategy.getItemElement(e);this.option("focusedElement",n),this.focus(),this.scrollToItem(this.option("focusedElement"))},_optionChanged(e){switch(e.name){case"selectAllMode":this._initDataSource(),this._dataController.pageIndex(0),this._dataController.load();break;case"grouped":this._clearSelectedItems(),delete this._renderingGroupIndex,this._initEditStrategy(),this.callBase(e);break;case"showSelectionControls":case"menuItems":case"menuMode":case"allowItemDeleting":case"itemDeleteMode":case"itemDragging":case"selectAllText":this._invalidate();break;case"onSelectAllValueChanged":break;default:this.callBase(e)}},selectAll(){return this._selection.selectAll(this._isPageSelectAll())},unselectAll(){return this._selection.deselectAll(this._isPageSelectAll())},isSelectAll(){return this._selection.getSelectAllState(this._isPageSelectAll())},getFlatIndexByItemElement(e){return this._itemElements().index(e)},getItemElementByFlatIndex(e){var n=this._itemElements();return e<0||e>=n.length?x():n.eq(e)},getItemByIndex(e){return this._editStrategy.getItemDataByIndex(e)}});const Mte=Tte;var qG=function Ate(e){return class{constructor(){throw new Error("Module '".concat(e,"' not found"))}static getInstance(){}}}("TextBox");const Cp={_getDefaultOptions:function(){return A(this.callBase(),{searchMode:"",searchExpr:null,searchValue:"",searchEnabled:!1,searchEditorOptions:{}})},_initMarkup:function(){this._renderSearch(),this.callBase()},_renderSearch:function(){var e=this.$element(),n=this.option("searchEnabled"),t=this._addWidgetPrefix("search"),i=this._addWidgetPrefix("with-search");if(!n)return e.removeClass(i),void this._removeSearchBox();var r=this._getSearchEditorOptions();this._searchEditor?this._searchEditor.option(r):(e.addClass(i),this._$searchEditorElement=x("<div>").addClass(t).prependTo(e),this._searchEditor=this._createComponent(this._$searchEditorElement,qG,r))},_removeSearchBox:function(){this._$searchEditorElement&&this._$searchEditorElement.remove(),delete this._$searchEditorElement,delete this._searchEditor},_getSearchEditorOptions:function(){var e=this,n=e.option("searchEditorOptions"),t=J.format("Search");return A({mode:"search",placeholder:t,tabIndex:e.option("tabIndex"),value:e.option("searchValue"),valueChangeEvent:"input",inputAttr:{"aria-label":t},onValueChanged:function(i){var r=e.option("searchTimeout");e._valueChangeDeferred=new W,clearTimeout(e._valueChangeTimeout),e._valueChangeDeferred.done(function(){this.option("searchValue",i.value)}.bind(e)),i.event&&"input"===i.event.type&&r?e._valueChangeTimeout=setTimeout(function(){e._valueChangeDeferred.resolve()},r):e._valueChangeDeferred.resolve()}},n)},_getAriaTarget:function(){return this.option("searchEnabled")?this._itemContainer(!0):this.callBase()},_focusTarget:function(){return this.option("searchEnabled")?this._itemContainer(!0):this.callBase()},_updateFocusState:function(e,n){this.option("searchEnabled")&&this._toggleFocusClass(n,this.$element()),this.callBase(e,n)},getOperationBySearchMode:function(e){return"equals"===e?"=":e},_optionChanged:function(e){switch(e.name){case"searchEnabled":case"searchEditorOptions":this._invalidate();break;case"searchExpr":case"searchMode":case"searchValue":if(!this._dataSource)return void It.log("W1009");"searchMode"===e.name?this._dataSource.searchOperation(this.getOperationBySearchMode(e.value)):this._dataSource[e.name](e.value),this._dataSource.load();break;case"searchTimeout":break;default:this.callBase(e)}},focus:function(){this.option("focusedElement")||!this.option("searchEnabled")?this.callBase():this._searchEditor&&this._searchEditor.focus()},_cleanAria:function(){var e=this.$element();this.setAria({role:null,activedescendant:null},e),e.attr("tabIndex",null)},_clean(){this.callBase(),this._cleanAria()},_refresh:function(){this._valueChangeDeferred&&this._valueChangeDeferred.resolve(),this.callBase()},setEditorClass:function(e){qG=e}};var Rte=Mte.inherit(Cp).inherit({_addWidgetPrefix:function(e){return"dx-list-"+e},_getCombinedFilter:function(){var e=this._dataController,n={filter:e.filter()};return e.addSearchFilter(n),n.filter},_initDataSource:function(){var e=this.option("searchValue"),n=this.option("searchExpr"),t=this.option("searchMode");this.callBase();var i=this._dataController;e&&e.length&&i.searchValue(e),t.length&&i.searchOperation(Cp.getOperationBySearchMode(t)),n&&i.searchExpr(n)}});const JG=Rte;Dt("dxList",JG);const dx=JG;var Pte=A({},Lw,{_dataExpressionDefaultOptions:function(){return{items:[],dataSource:null,itemTemplate:"item",value:null,valueExpr:"this",displayExpr:void 0}},_initDataExpressions:function(){this._compileValueGetter(),this._compileDisplayGetter(),this._initDynamicTemplates(),this._initDataSource(),this._itemsToDataSource()},_itemsToDataSource:function(){this.option("dataSource")||(this._dataSource=new Yl({store:new tx(this.option("items")),pageSize:0}),this._initDataController())},_compileDisplayGetter:function(){this._displayGetter=Yt(this._displayGetterExpr())},_displayGetterExpr:function(){return this.option("displayExpr")},_compileValueGetter:function(){this._valueGetter=Yt(this._valueGetterExpr())},_valueGetterExpr:function(){return this.option("valueExpr")||"this"},_loadValue:function(e){var n=new W;return e=this._unwrappedValue(e),T(e)?(this._loadSingle(this._valueGetterExpr(),e).done(function(t){this._isValueEquals(this._valueGetter(t),e)?n.resolve(t):n.reject()}.bind(this)).fail(function(){n.reject()}),this._loadValueDeferred=n,n.promise()):n.reject().promise()},_rejectValueLoading:function(){var e;null===(e=this._loadValueDeferred)||void 0===e||e.reject({shouldSkipCallback:!0})},_getCurrentValue:function(){return this.option("value")},_unwrappedValue:function(e){var n;return(e=null!==(n=e)&&void 0!==n?n:this._getCurrentValue())&&this._dataSource&&"this"===this._valueGetterExpr()&&(e=this._getItemKey(e)),Jn.unwrap(e)},_getItemKey:function(e){var n=this._dataSource.key();if(Array.isArray(n)){for(var t={},i=0,r=n.length;i<r;i++)t[n[i]]=e[n[i]];return t}return n&&"object"==typeof e&&(e=e[n]),e},_isValueEquals:function(e,n){var t=this._dataSource&&this._dataSource.key(),i=this._compareValues(e,n);return!i&&t&&T(e)&&T(n)&&(i=Array.isArray(t)?this._compareByCompositeKey(e,n,t):this._compareByKey(e,n,t)),i},_compareByCompositeKey:function(e,n,t){var i=qe;if(!i(e)||!i(n))return!1;for(var r=0,o=t.length;r<o;r++)if(e[t[r]]!==n[t[r]])return!1;return!0},_compareByKey:function(e,n,t){var i=Jn.unwrap,r=Cn(i(e[t]),e),o=Cn(i(n[t]),n);return this._compareValues(r,o)},_compareValues:function(e,n){return wi(e,!0)===wi(n,!0)},_initDynamicTemplates:U,_setCollectionWidgetItemTemplate:function(){this._initDynamicTemplates(),this._setCollectionWidgetOption("itemTemplate",this.option("itemTemplate"))},_getCollectionKeyExpr:function(){var e=this.option("valueExpr");return je(e)&&"this"!==e||Re(e)?e:null},_dataExpressionOptionChanged:function(e){switch(e.name){case"items":this._itemsToDataSource(),this._setCollectionWidgetOption("items");break;case"dataSource":this._initDataSource();break;case"itemTemplate":this._setCollectionWidgetItemTemplate();break;case"valueExpr":this._compileValueGetter();break;case"displayExpr":this._compileDisplayGetter(),this._initDynamicTemplates(),this._setCollectionWidgetOption("displayExpr")}}});const XG=Pte;var ZG=ut(),Vte=["startswith","contains","endwith","notcontains"],QG="android"!==$e.real().platform,eU=dG.inherit({_supportedKeys:function(){var e=this.callBase();return A({},e,{tab:function(n){if(this._allowSelectItemByTab()){this._saveValueChangeEvent(n);var t=x(this._list.option("focusedElement"));t.length&&this._setSelectedElement(t)}e.tab.apply(this,arguments)},space:U,home:U,end:U})},_allowSelectItemByTab:function(){return this.option("opened")&&"instantly"===this.option("applyValueMode")},_setSelectedElement:function(e){var n=this._valueGetter(this._list._getItemData(e));this._setValue(n)},_setValue:function(e){this.option("value",e)},_getDefaultOptions:function(){return A(this.callBase(),A(XG._dataExpressionDefaultOptions(),{displayValue:void 0,searchEnabled:!1,searchMode:"contains",searchTimeout:500,minSearchLength:0,searchExpr:null,valueChangeEvent:"input change keyup",selectedItem:null,noDataText:J.format("dxCollectionWidget-noDataText"),encodeNoDataText:!1,onSelectionChanged:null,onItemClick:U,showDataBeforeSearch:!1,grouped:!1,groupTemplate:"group",popupPosition:{my:"left top",at:"left bottom",offset:{h:0,v:0},collision:"flip"},wrapItemText:!1,useItemTextAsTitle:!1}))},_defaultOptionsRules:function(){return this.callBase().concat([{device:{platform:"ios"},options:{popupPosition:{offset:{v:-1}}}},{device:{platform:"generic"},options:{buttonsLocation:"bottom center"}}])},_setOptionsByReference:function(){this.callBase(),A(this._optionsByReference,{value:!0,selectedItem:!0,displayValue:!0})},_init:function(){this.callBase(),this._initDataExpressions(),this._initActions(),this._setListDataSource(),this._validateSearchMode(),this._clearSelectedItem(),this._initItems()},_setListFocusedElementOptionChange:function(){this._list._updateParentActiveDescendant=this._updateActiveDescendant.bind(this)},_initItems:function(){var e=this.option().items;e&&!e.length&&this._dataSource&&(this.option().items=this._dataSource.items())},_initActions:function(){this._initContentReadyAction(),this._initSelectionChangedAction(),this._initItemClickAction()},_initContentReadyAction:function(){this._contentReadyAction=this._createActionByOption("onContentReady",{excludeValidators:["disabled","readOnly"]})},_initSelectionChangedAction:function(){this._selectionChangedAction=this._createActionByOption("onSelectionChanged",{excludeValidators:["disabled","readOnly"]})},_initItemClickAction:function(){this._itemClickAction=this._createActionByOption("onItemClick")},_initTemplates:function(){this.callBase(),this._templateManager.addDefaultTemplates({item:new ep("item")})},_isEditable:function(){return this.callBase()||this.option("searchEnabled")},_saveFocusOnWidget:function(e){this._list&&this._list.initialOption("focusStateEnabled")&&this._focusInput()},_fitIntoRange:function(e,n,t){return e>t?n:e<n?t:e},_items:function(){var e=this._getPlainItems(!this._list&&this._dataSource.items());return new zr(e).filter("disabled","<>",!0).toArray()},_calcNextItem:function(e){var n=this._items();return n[this._fitIntoRange(this._getSelectedIndex()+e,0,n.length-1)]},_getSelectedIndex:function(){var e=this._items(),n=this.option("selectedItem"),t=-1;return B(e,function(i,r){if(this._isValueEquals(r,n))return t=i,!1}.bind(this)),t},_createPopup:function(){this.callBase(),this._updateCustomBoundaryContainer(),this._popup.$wrapper().addClass(this._popupWrapperClass());var e=this._popup.$content();R.off(e,"mouseup"),R.on(e,"mouseup",this._saveFocusOnWidget.bind(this))},_updateCustomBoundaryContainer:function(){var e=this.option("dropDownOptions.container"),n=e&&x(e);if(n&&n.length&&!Sn(n.get(0))){var t=[].slice.call(n.parents());t.unshift(n.get(0)),B(t,function(i,r){return r!==x("body").get(0)&&("hidden"===ZG.getComputedStyle(r).overflowY?(this._$customBoundaryContainer=x(r),!1):void 0)}.bind(this))}},_popupWrapperClass:function(){return"dx-dropdownlist-popup-wrapper"},_renderInputValue:function(){var e=this._getCurrentValue();return this._rejectValueLoading(),this._loadInputValue(e,this._setSelectedItem.bind(this)).always(this.callBase.bind(this,e))},_loadInputValue:function(e,n){return this._loadItem(e).always(n)},_getItemFromPlain:function(e,n){var t,i;return n&&"object"!=typeof e&&(n.itemByValue||(n.itemByValue={},(t=this._getPlainItems()).forEach(function(r){n.itemByValue[this._valueGetter(r)]=r},this)),i=n.itemByValue[e]),i||(t=this._getPlainItems(),i=Ii(t,function(r){return this._isValueEquals(this._valueGetter(r),e)}.bind(this))[0]),i},_loadItem:function(e,n){var t=this._getItemFromPlain(e,n);return void 0!==t?(new W).resolve(t).promise():this._loadValue(e)},_getPlainItems:function(e){var n=[];e=e||this.option("items")||this._dataSource.items()||[];for(var t=0;t<e.length;t++)e[t]&&e[t].items?n=n.concat(e[t].items):n.push(e[t]);return n},_updateActiveDescendant(){var e,n=this.option("opened"),t=null===(e=this._list)||void 0===e?void 0:e.getFocusedItemId(),i=x("#".concat(t)).length>0;this.setAria({activedescendant:n&&i&&t||null})},_setSelectedItem:function(e){var n=this._displayValue(e);this.option("selectedItem",Cn(e,null)),this.option("displayValue",n)},_displayValue:function(e){return this._displayGetter(e)},_refreshSelected:function(){var e={};this._listItemElements().each(function(n,t){var i=x(t),r=this._valueGetter(i.data("dxListItemData"));this._isSelectedValue(r,e)?this._list.selectItem(i):this._list.unselectItem(i)}.bind(this))},_popupShownHandler:function(){this.callBase(),this._setFocusPolicy()},_setFocusPolicy:function(){!this.option("focusStateEnabled")||!this._list||this._list.option("focusedElement",null)},_isSelectedValue:function(e){return this._isValueEquals(e,this.option("value"))},_validateSearchMode:function(){var e=this.option("searchMode"),n=e.toLowerCase();if(!Vte.includes(n))throw It.Error("E1019",e)},_clearSelectedItem:function(){this.option("selectedItem",null)},_processDataSourceChanging:function(){this._initDataController(),this._setListOption("_dataController",this._dataController),this._setListDataSource(),this._renderInputValue().fail(function(){this._isCustomValueAllowed()||this._clearSelectedItem()}.bind(this))},_isCustomValueAllowed:function(){return this.option("displayCustomValue")},reset:function(){this.callBase(),this._clearFilter(),this._clearSelectedItem()},_listItemElements:function(){return this._$list?this._$list.find(".dx-list-item"):x()},_popupConfig:function(){return A(this.callBase(),{templatesRenderAsynchronously:!1,autoResizeEnabled:!1,maxHeight:this._getMaxHeight.bind(this)})},_renderPopupContent:function(){this.callBase(),this._renderList()},_getKeyboardListeners(){var e=this._canListHaveFocus();return this.callBase().concat([!e&&this._list])},_renderList:function(){this._listId="dx-"+(new En)._value;var e=x("<div>").attr("id",this._listId).appendTo(this._popup.$content());this._$list=e,this._list=this._createComponent(e,dx,this._listConfig()),this._refreshList(),this._renderPreventBlurOnListClick(),this._setListFocusedElementOptionChange()},_renderPreventBlurOnListClick:function(){var e=fe("mousedown","dxDropDownList");R.off(this._$list,e),R.on(this._$list,e,n=>n.preventDefault())},_getControlsAria(){return this._list&&this._listId},_renderOpenedState:function(){this.callBase(),this._list&&this._updateActiveDescendant(),this.setAria("owns",this._popup&&this._popupContentId)},_setDefaultAria:function(){this.setAria({haspopup:"listbox",autocomplete:"list"})},_refreshList:function(){this._list&&this._shouldRefreshDataSource()&&this._setListDataSource()},_shouldRefreshDataSource:function(){return!!this._list.option("dataSource")!==this._needPassDataSourceToList()},_isDesktopDevice:function(){return"desktop"===$e.real().deviceType},_listConfig:function(){var e={selectionMode:"single",_templates:this.option("_templates"),templateProvider:this.option("templateProvider"),noDataText:this.option("noDataText"),encodeNoDataText:this.option("encodeNoDataText"),grouped:this.option("grouped"),wrapItemText:this.option("wrapItemText"),useItemTextAsTitle:this.option("useItemTextAsTitle"),onContentReady:this._listContentReadyHandler.bind(this),itemTemplate:this.option("itemTemplate"),indicateLoading:!1,keyExpr:this._getCollectionKeyExpr(),displayExpr:this._displayGetterExpr(),groupTemplate:this.option("groupTemplate"),onItemClick:this._listItemClickAction.bind(this),dataSource:this._getDataSource(),_dataController:this._dataController,hoverStateEnabled:!!this._isDesktopDevice()&&this.option("hoverStateEnabled"),focusStateEnabled:!!this._isDesktopDevice()&&this.option("focusStateEnabled")};return this._canListHaveFocus()||(e.tabIndex=null),e},_canListHaveFocus:()=>!1,_getDataSource:function(){return this._needPassDataSourceToList()?this._dataSource:null},_dataSourceOptions:function(){return{paginate:!1}},_getGroupedOption:function(){return this.option("grouped")},_dataSourceFromUrlLoadMode:function(){return"raw"},_listContentReadyHandler:function(){this._list=this._list||this._$list.dxList("instance"),this.option("deferRendering")||this._refreshSelected(),this._updatePopupWidth(),this._updateListDimensions(),this._contentReadyAction()},_setListOption:function(e,n){this._setWidgetOption("_list",arguments)},_listItemClickAction:function(e){this._listItemClickHandler(e),this._itemClickAction(e)},_listItemClickHandler:U,_setListDataSource:function(){this._list&&(this._setListOption("dataSource",this._getDataSource()),this._needPassDataSourceToList()||this._setListOption("items",[]))},_needPassDataSourceToList:function(){return this.option("showDataBeforeSearch")||this._isMinSearchLengthExceeded()},_isMinSearchLengthExceeded:function(){return this._searchValue().toString().length>=this.option("minSearchLength")},_needClearFilter:function(){return!this._canKeepDataSource()&&this._needPassDataSourceToList()},_canKeepDataSource:function(){var e=this._isMinSearchLengthExceeded();return this._dataController.isLoaded()&&this.option("showDataBeforeSearch")&&this.option("minSearchLength")&&!e&&!this._isLastMinSearchLengthExceeded},_searchValue:function(){return this._input().val()||""},_getSearchEvent:function(){return fe("input",this.NAME+"Search")},_getCompositionStartEvent:function(){return fe("compositionstart",this.NAME+"CompositionStart")},_getCompositionEndEvent:function(){return fe("compositionend",this.NAME+"CompositionEnd")},_getSetFocusPolicyEvent:function(){return fe("input",this.NAME+"FocusPolicy")},_renderEvents:function(){this.callBase(),R.on(this._input(),this._getSetFocusPolicyEvent(),()=>{this._setFocusPolicy()}),this._shouldRenderSearchEvent()&&(R.on(this._input(),this._getSearchEvent(),e=>{this._searchHandler(e)}),QG&&(R.on(this._input(),this._getCompositionStartEvent(),()=>{this._isTextCompositionInProgress(!0)}),R.on(this._input(),this._getCompositionEndEvent(),e=>{this._isTextCompositionInProgress(void 0),this._searchHandler(e,this._searchValue())})))},_shouldRenderSearchEvent:function(){return this.option("searchEnabled")},_refreshEvents:function(){R.off(this._input(),this._getSearchEvent()),R.off(this._input(),this._getSetFocusPolicyEvent()),QG&&(R.off(this._input(),this._getCompositionStartEvent()),R.off(this._input(),this._getCompositionEndEvent())),this.callBase()},_isTextCompositionInProgress:function(e){if(!arguments.length)return this._isTextComposition;this._isTextComposition=e},_searchHandler:function(e,n){if(!this._isTextCompositionInProgress()){if(!this._isMinSearchLengthExceeded())return void this._searchCanceled();var t=this.option("searchTimeout");t?(this._clearSearchTimer(),this._searchTimer=setTimeout(()=>{this._searchDataSource(n)},t)):this._searchDataSource(n)}},_searchCanceled:function(){this._clearSearchTimer(),this._needClearFilter()&&this._filterDataSource(null),this._refreshList()},_searchDataSource:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._searchValue();this._filterDataSource(e)},_filterDataSource:function(e){this._clearSearchTimer();var n=this._dataController;n.searchExpr(this.option("searchExpr")||this._displayGetterExpr()),n.searchOperation(this.option("searchMode")),n.searchValue(e),n.load().done(this._dataSourceFiltered.bind(this,e))},_clearFilter:function(){var e=this._dataController;e.searchValue()&&e.searchValue(null)},_dataSourceFiltered:function(){this._isLastMinSearchLengthExceeded=this._isMinSearchLengthExceeded(),this._refreshList(),this._refreshPopupVisibility()},_shouldOpenPopup:function(){return this._hasItemsToShow()},_refreshPopupVisibility:function(){if(!this.option("readOnly")&&this._searchValue()){var e=this._shouldOpenPopup();e&&!this._isFocused()||(this.option("opened",e),e&&(this._updatePopupWidth(),this._updateListDimensions()))}},_dataSourceChangedHandler:function(e){0===this._dataController.pageIndex()?this.option().items=e:this.option().items=this.option().items.concat(e)},_hasItemsToShow:function(){var t=(this._dataController.items()||[]).length;return!(!this._needPassDataSourceToList()||!t)},_clearSearchTimer:function(){clearTimeout(this._searchTimer),delete this._searchTimer},_popupShowingHandler:function(){this._updatePopupWidth(),this._updateListDimensions()},_dimensionChanged:function(){this.callBase(),this._updateListDimensions()},_needPopupRepaint:function(){var e=this._dataController,n=e.pageIndex(),t=T(this._pageIndex)&&n<=this._pageIndex||e.isLastPage()&&!this._list._scrollViewIsFull();return this._pageIndex=n,t},_updateListDimensions:function(){this._popup&&(this._needPopupRepaint()&&this._popup.repaint(),this._list&&this._list.updateDimensions())},_getMaxHeight:function(){var e=this.$element(),n=this._$customBoundaryContainer,t=e.offset().top-(n?n.offset().top:0),i=_t(ZG),r=n?Math.min(_t(n),i):i,o=Math.max(t,r-t-_t(e));return Math.min(.5*r,o)},_clean:function(){this._list&&delete this._list,delete this._isLastMinSearchLengthExceeded,this.callBase()},_dispose:function(){this._clearSearchTimer(),this.callBase()},_setCollectionWidgetOption:function(){this._setListOption.apply(this,arguments)},_setSubmitValue:function(){var e=this.option("value"),n=this._shouldUseDisplayValue(e)?this._displayGetter(e):e;this._getSubmitElement().val(n)},_shouldUseDisplayValue:function(e){return"this"===this.option("valueExpr")&&qe(e)},_optionChanged:function(e){switch(this._dataExpressionOptionChanged(e),e.name){case"hoverStateEnabled":case"focusStateEnabled":this._isDesktopDevice()&&this._setListOption(e.name,e.value),this.callBase(e);break;case"items":this.option("dataSource")||this._processDataSourceChanging();break;case"dataSource":this._processDataSourceChanging();break;case"valueExpr":this._renderValue(),this._setListOption("keyExpr",this._getCollectionKeyExpr());break;case"displayExpr":this._renderValue(),this._setListOption("displayExpr",this._displayGetterExpr());break;case"searchMode":this._validateSearchMode();break;case"minSearchLength":this._refreshList();break;case"searchEnabled":case"showDataBeforeSearch":case"searchExpr":this._invalidate();break;case"onContentReady":this._initContentReadyAction();break;case"onSelectionChanged":this._initSelectionChangedAction();break;case"onItemClick":this._initItemClickAction();break;case"grouped":case"groupTemplate":case"wrapItemText":case"noDataText":case"encodeNoDataText":case"useItemTextAsTitle":this._setListOption(e.name);break;case"displayValue":this.option("text",e.value);break;case"itemTemplate":case"searchTimeout":break;case"selectedItem":e.previousValue!==e.value&&this._selectionChangedAction({selectedItem:e.value});break;default:this.callBase(e)}}}).include(XG,$G);Dt("dxDropDownList",eU);const Nte=eU;var tU="dx-invalid-message-auto",nU="dx-validation-target";class Jk extends UP{getProps(){var n=super.getProps();return n.onFocusIn=()=>{if("auto"===this.option("validationMessageMode")){var i=x(function Hte(e,n){var t,i;return(null!==(t=null===(i=e.getRootNode)||void 0===i?void 0:i.call(e))&&void 0!==t?t:document).querySelector(n)}(this.element(),".dx-invalid-message.dx-overlay-wrapper"));i?.removeClass(tU),this.showValidationMessageTimeout&&clearTimeout(this.showValidationMessageTimeout),this.showValidationMessageTimeout=setTimeout(()=>{i?.addClass(tU)},150)}},n.saveValueChangeEvent=t=>{this._valueChangeEventInstance=t},n}_createElement(n){super._createElement(n),this.showValidationMessageTimeout=void 0,this.validationRequest=Et(),_n(this.$element()[0],nU,this)}_render(){var n;null===(n=this.option("_onMarkupRendered"))||void 0===n||n()}_initializeComponent(){super._initializeComponent(),this._valueChangeAction=this._createActionByOption("onValueChanged",{excludeValidators:["disabled","readOnly"]})}_initOptions(n){super._initOptions(n),this.option(ln.initValidationOptions(n))}_getDefaultOptions(){return A(super._getDefaultOptions(),{validationMessageOffset:{h:0,v:0},validationTooltipOptions:{}})}_bindInnerWidgetOptions(n,t){var i=A({},n.option()),r=()=>this._silent(t,i);r(),n.on("optionChanged",r)}_raiseValidation(n,t){var i=!T(n)&&!T(t);n!==t&&!i&&this.validationRequest.fire({value:n,editor:this})}_raiseValueChangeAction(n,t){var i;null===(i=this._valueChangeAction)||void 0===i||i.call(this,{element:this.$element(),previousValue:t,value:n,event:this._valueChangeEventInstance}),this._valueChangeEventInstance=void 0}_optionChanged(n){var{name:t,previousValue:i,value:r}=n;switch(t&&void 0!==this._getActionConfigs()[t]&&this._addAction(t),t){case"value":this._raiseValidation(r,i),this._raiseValueChangeAction(r,i);break;case"onValueChanged":this._valueChangeAction=this._createActionByOption("onValueChanged",{excludeValidators:["disabled","readOnly"]});break;case"isValid":case"validationError":case"validationErrors":case"validationStatus":this.option(ln.synchronizeValidationOptions(n,this.option()))}super._optionChanged(n)}reset(){var{value:n}=this._getDefaultOptions();this.option({value:n})}_dispose(){super._dispose(),_n(this.element(),nU,null),this.showValidationMessageTimeout&&clearTimeout(this.showValidationMessageTimeout)}}var zte=Ul.isEditor,iU=e=>zte(e)||e instanceof Jk;Jk.isEditor=iU,Ul.isEditor=iU;class Wte extends Jk{_useTemplates(){return!1}_isFocused(){return this.$element()[0].classList.contains("dx-state-focused")}getSupportedKeyNames(){return["space"]}getProps(){var n=super.getProps();return null!==n.value&&(n.value=!!n.value),n}}var $te=["dataSource","selectedRowKeys"],Gte={integrationOptions:!0};function ux(e,n,t){return{path:e,value:n,previousValue:t}}function rU(e,n,t,i,r,o){if(!Gte[i]){var s=Rr(n),l=Rr(t);if(n!==t)if(s!==l)e.push(ux(i,t,n));else if("object"===s)if(ft(t)){var h=sU(n,t,r,o);e.push(...h.map(v=>de({},v,{path:"".concat(i,".").concat(v.path)})))}else e.push(ux(i,t,n));else if("array"===s)if(o.some(v=>r.includes(v))&&n!==t)e.push(ux(i,t,n));else if(n.length!==t.length)e.push(ux(i,t,n));else{var _=sU(n,t,r,o);[].push.apply(e,_.map(v=>de({},v,{path:"".concat(i).concat(v.path)})))}else e.push(ux(i,t,n))}}var oU=e=>(n,t,i,r)=>{var o=[],s=Array.isArray(n)?l=>{rU(o,n[l],t[l],"[".concat(l,"]"),"".concat(i,".").concat(l),r)}:l=>{rU(o,n[l],t[l],l,"".concat(i,".").concat(l),r)};return e(n).forEach(s),Object.keys(t).filter(l=>!Object.prototype.hasOwnProperty.call(n,l)&&n[l]!==t[l]).forEach(l=>{o.push({path:l,value:t[l],previousValue:n[l]})}),o},sU=oU(e=>Object.keys(e)),Ute={key:!0,ref:!0,children:!0,style:!0},jte=oU(e=>Object.keys(e).filter(n=>!Ute[n])),Yte=["valueChange"],qte=["componentProps","componentType","templateNames"],aU=e=>Object.keys(e).reduce((n,t)=>(void 0!==e[t]&&(n[t]=e[t]),n),{}),Xte={};let Xk=(()=>{class e extends Zo{constructor(t){super(t),this.state={},this.widgetRef={current:null},this.getInstance=this.getInstance.bind(this),this.setupWidget=this.setupWidget.bind(this),this.updateWidget=this.updateWidget.bind(this)}get config(){return this.context[Gi.id]?this.context[Gi.id]:Gi.defaultValue}createEffects(){return[new tn(this.setupWidget,[]),new tn(this.updateWidget,[this.props.componentProps,this.config,this.props.templateNames])]}updateEffects(){var t;null===(t=this._effects[1])||void 0===t||t.update([this.props.componentProps,this.config,this.props.templateNames])}setupWidget(){var t=new this.props.componentType(this.widgetRef.current,this.properties);return this.instance=t,()=>{t.dispose(),this.instance=null}}updateWidget(){var t=this.getInstance();if(t){var i=function Kte(e,n){return jte(e,n,"",arguments.length>2&&void 0!==arguments[2]?arguments[2]:$te)}(this.prevProps||{},this.properties);i.length&&(t.beginUpdate(),i.forEach(r=>{var{path:o,value:s}=r;t.option(o,s)}),t.endUpdate()),this.prevProps=this.properties}}get properties(){var t,i=aU(this.props.componentProps),{valueChange:r}=i,o=mn(i,Yte),s=de({rtlEnabled:!(null===(t=this.config)||void 0===t||!t.rtlEnabled),isRenovated:!0},o);return r&&(s.onValueChanged=h=>{var{value:g}=h;return r(g)}),this.props.templateNames.forEach(h=>{((e,n,t)=>{const i=n[e];return!!i&&"string"!=typeof i})(h,s)&&(s[h]=(g,_,v)=>{!function OE(e,n,t){setTimeout(()=>{Il(uy(e,n),(e=>{var n,t;return(null===(n=e.container)||void 0===n?void 0:n.get(0))||(null===(t=e.item)||void 0===t?void 0:t.get(0))})(n))},0)}(this.props.componentProps[h],{item:g,index:_,container:v})})}),s}get restAttributes(){return mn(this.props,qte)}getInstance(){return this.instance}render(){return(e=>{var{props:{componentProps:{className:n}},restAttributes:t,widgetRef:i}=e;return aU(wn(1,"div",n,null,1,de({},t),null,i))})({props:de({},this.props),widgetRef:this.widgetRef,config:this.config,properties:this.properties,restAttributes:this.restAttributes})}}return e.defaultProps=Xte,e})();var Zte=["accessKey","activeStateEnabled","boundary","className","contentId","disabled","focusStateEnabled","height","hint","hoverStateEnabled","mode","offset","onClick","onKeyDown","positionSide","rtlEnabled","tabIndex","target","validationErrors","visible","visualContainer","width"],ene=Object.create(Object.prototype,de(Object.getOwnPropertyDescriptors(ow),Object.getOwnPropertyDescriptors({mode:"auto",positionSide:"top",offset:Object.freeze({h:0,v:0}),isReactComponentWrapper:!0})));let tne=(()=>{class e extends xo{constructor(t){super(t),this.state={}}get componentProps(){return this.props}get restAttributes(){return mn(this.props,Zte)}render(){return(e=>{var{componentProps:n,restAttributes:t}=e;return pr(rn(2,Xk,de({componentType:Tz,componentProps:n,templateNames:[]},t)))})({props:de({},this.props),componentProps:this.componentProps,restAttributes:this.restAttributes})}}return e.defaultProps=ene,e})();var nne=["accessKey","activeStateEnabled","aria","children","className","classes","defaultValue","disabled","focusStateEnabled","height","hint","hoverStateEnabled","inputAttr","isValid","name","onClick","onFocusIn","onKeyDown","readOnly","rtlEnabled","tabIndex","validationError","validationErrors","validationMessageMode","validationMessagePosition","validationStatus","value","valueChange","visible","width"],hi=Object.create(Object.prototype,de(Object.getOwnPropertyDescriptors(ow),Object.getOwnPropertyDescriptors({readOnly:!1,name:"",validationError:null,validationErrors:null,validationMessageMode:"auto",validationMessagePosition:"bottom",validationStatus:"valid",isValid:!0,inputAttr:Object.freeze({}),defaultValue:null,valueChange:()=>{}}))),one={get readOnly(){return hi.readOnly},get name(){return hi.name},get validationError(){return hi.validationError},get validationErrors(){return hi.validationErrors},get validationMessageMode(){return hi.validationMessageMode},get validationMessagePosition(){return hi.validationMessagePosition},get validationStatus(){return hi.validationStatus},get isValid(){return hi.isValid},get inputAttr(){return hi.inputAttr},get defaultValue(){return hi.defaultValue},get valueChange(){return hi.valueChange},get className(){return hi.className},get activeStateEnabled(){return hi.activeStateEnabled},get disabled(){return hi.disabled},get focusStateEnabled(){return hi.focusStateEnabled},get hoverStateEnabled(){return hi.hoverStateEnabled},get tabIndex(){return hi.tabIndex},get visible(){return hi.visible},get aria(){return sw.aria},get classes(){return sw.classes}};class n0 extends i_{constructor(n){super(n),this.widgetRef={current:null},this.rootElementRef={current:null},this.__getterCache={},this.state={validationMessageGuid:"dx-".concat(new En),isValidationMessageVisible:!1,value:void 0!==this.props.value?this.props.value:this.props.defaultValue},this.updateValidationMessageVisibility=this.updateValidationMessageVisibility.bind(this),this.focus=this.focus.bind(this),this.blur=this.blur.bind(this),this.onFocusIn=this.onFocusIn.bind(this)}createEffects(){return[new tn(this.updateValidationMessageVisibility,[this.props.isValid,this.props.validationStatus,this.props.validationError,this.props.validationErrors]),Jh()]}updateEffects(){var n;null===(n=this._effects[0])||void 0===n||n.update([this.props.isValid,this.props.validationStatus,this.props.validationError,this.props.validationErrors])}updateValidationMessageVisibility(){this.setState(n=>({isValidationMessageVisible:this.shouldShowValidationMessage}))}onFocusIn(n){var{onFocusIn:t}=this.props;t?.(n)}get cssClasses(){return"".concat((e=>{var{classes:n,isValid:t,readOnly:i}=e;return ts({"dx-state-readonly":!!i,"dx-invalid":!t,["".concat(n)]:!!n})})(de({},this.props,{value:void 0!==this.props.value?this.props.value:this.state.value})))}get shouldShowValidationMessage(){var n,{isValid:t,validationStatus:i}=this.props,r=null!==(n=this.validationErrors)&&void 0!==n?n:[];return!(t&&"invalid"!==i)&&r.length>0}get aria(){var{isValid:n,readOnly:t}=this.props,i={readonly:t?"true":"false",invalid:n?"false":"true"};return this.shouldShowValidationMessage&&(i.describedBy=this.state.validationMessageGuid),de({},i,this.props.aria)}get validationErrors(){return void 0!==this.__getterCache.validationErrors?this.__getterCache.validationErrors:this.__getterCache.validationErrors=(()=>{var{validationError:n,validationErrors:t}=this.props,i=t&&[...t];return!i&&n&&(i=[de({},n)]),i})()}get validationMessageTarget(){var n;return null===(n=this.rootElementRef)||void 0===n?void 0:n.current}get restAttributes(){return mn(de({},this.props,{value:void 0!==this.props.value?this.props.value:this.state.value}),nne)}focus(){this.widgetRef.current.focus()}blur(){this.widgetRef.current.blur()}componentWillUpdate(n,t,i){super.componentWillUpdate(),(this.props.validationError!==n.validationError||this.props.validationErrors!==n.validationErrors)&&(this.__getterCache.validationErrors=void 0)}render(){return(e=>{var{aria:n,cssClasses:t,isValidationMessageVisible:i,onFocusIn:r,props:{accessKey:o,activeStateEnabled:s,children:l,className:h,disabled:g,focusStateEnabled:_,height:v,hint:C,hoverStateEnabled:b,onClick:E,onKeyDown:w,rtlEnabled:M,tabIndex:k,validationMessageMode:L,validationMessagePosition:G,visible:Q,width:le},restAttributes:Te,rootElementRef:He,validationErrors:Ee,validationMessageGuid:ze,validationMessageTarget:ot,widgetRef:ht}=e;return pr(rn(2,pF,de({rootElementRef:He,aria:n,classes:t,activeStateEnabled:s,focusStateEnabled:_,hoverStateEnabled:b,accessKey:o,className:h,rtlEnabled:M,hint:C,disabled:g,height:v,width:le,onFocusIn:r,onClick:E,onKeyDown:w,tabIndex:k,visible:Q},Te,{children:As([l,i&&rn(2,tne,{validationErrors:Ee,mode:L,positionSide:G,rtlEnabled:M,target:ot,boundary:ot,visualContainer:ot,contentId:ze})],0)}),null,ht))})({props:de({},this.props,{value:void 0!==this.props.value?this.props.value:this.state.value}),validationMessageGuid:this.state.validationMessageGuid,isValidationMessageVisible:this.state.isValidationMessageVisible,rootElementRef:this.rootElementRef,widgetRef:this.widgetRef,onFocusIn:this.onFocusIn,cssClasses:this.cssClasses,shouldShowValidationMessage:this.shouldShowValidationMessage,aria:this.aria,validationErrors:this.validationErrors,validationMessageTarget:this.validationMessageTarget,restAttributes:this.restAttributes})}}function dU(e){var n,t=ut();return e?null===(n=t.getComputedStyle)||void 0===n?void 0:n.call(t,e):null}n0.defaultProps=one;var ane=[[22,16],[18,16]],lne=[[[12,8],[20,18]],[[16,10],[16,14]]];function uU(){var e=es();return{isMaterialTheme:Wn(e),isCompactTheme:cH(e)}}var hne=["isChecked","size"],gne={isChecked:!1};let fne=(()=>{class e extends Zo{constructor(t){super(t),this.state={},this.elementRef={current:null},this.__getterCache={},this.updateFontSize=this.updateFontSize.bind(this),this.setIconFontSize=this.setIconFontSize.bind(this),this.getIconSize=this.getIconSize.bind(this),this.getComputedIconSize=this.getComputedIconSize.bind(this)}createEffects(){return[new tn(this.updateFontSize,[this.props.isChecked,this.props.size])]}updateEffects(){var t;null===(t=this._effects[0])||void 0===t||t.update([this.props.isChecked,this.props.size])}updateFontSize(){var{isChecked:t,size:i}=this.props;if(rt()&&i){var o=function cne(e,n){var t=function une(e){var{isCompactTheme:n,isMaterialTheme:t}=uU();return lne[+e][+t][+n]}(n),i=function dne(){var{isCompactTheme:e,isMaterialTheme:n}=uU();return ane[+n][+e]}();return Math.ceil(t/i*e)}(this.getIconSize(i),t);this.setIconFontSize(o)}}setIconFontSize(t){this.elementRef.current.style.fontSize="".concat(t,"px")}getIconSize(t){return Vt(t)?t:t.endsWith("px")?parseInt(t,10):this.getComputedIconSize()}getComputedIconSize(){var i=dU(this.elementRef.current);return parseInt(i?.width,10)}get cssStyles(){return void 0!==this.__getterCache.cssStyles?this.__getterCache.cssStyles:this.__getterCache.cssStyles=(()=>{var{size:t}=this.props,i=_a("width",t);return{height:_a("height",t),width:i}})()}get restAttributes(){return mn(this.props,hne)}componentWillUpdate(t,i,r){super.componentWillUpdate(),this.props.size!==t.size&&(this.__getterCache.cssStyles=void 0)}render(){return(e=>{var{cssStyles:n,elementRef:t}=e;return wn(1,"span","dx-checkbox-icon",null,1,{style:hy(n)},null,t)})({props:de({},this.props),elementRef:this.elementRef,setIconFontSize:this.setIconFontSize,getIconSize:this.getIconSize,getComputedIconSize:this.getComputedIconSize,cssStyles:this.cssStyles,restAttributes:this.restAttributes})}}return e.defaultProps=gne,e})();var _ne=["accessKey","activeStateEnabled","aria","className","defaultValue","disabled","enableThreeStateBehavior","focusStateEnabled","height","hint","hoverStateEnabled","iconSize","inputAttr","isValid","name","onClick","onFocusIn","onKeyDown","readOnly","rtlEnabled","saveValueChangeEvent","tabIndex","text","validationError","validationErrors","validationMessageMode","validationMessagePosition","validationStatus","value","valueChange","visible","width"],Ci=Object.create(Object.prototype,de(Object.getOwnPropertyDescriptors(hi),Object.getOwnPropertyDescriptors({text:"",enableThreeStateBehavior:!1,activeStateEnabled:!0,hoverStateEnabled:!0,get focusStateEnabled(){return"desktop"===$e.real().deviceType&&!$e.isSimulator()},defaultValue:!1,valueChange:()=>{}}))),Cne={get text(){return Ci.text},get enableThreeStateBehavior(){return Ci.enableThreeStateBehavior},get activeStateEnabled(){return Ci.activeStateEnabled},get hoverStateEnabled(){return Ci.hoverStateEnabled},get focusStateEnabled(){return Ci.focusStateEnabled},get defaultValue(){return Ci.defaultValue},get valueChange(){return Ci.valueChange},get readOnly(){return Ci.readOnly},get name(){return Ci.name},get validationError(){return Ci.validationError},get validationErrors(){return Ci.validationErrors},get validationMessageMode(){return Ci.validationMessageMode},get validationMessagePosition(){return Ci.validationMessagePosition},get validationStatus(){return Ci.validationStatus},get isValid(){return Ci.isValid},get inputAttr(){return Ci.inputAttr},get className(){return Ci.className},get disabled(){return Ci.disabled},get tabIndex(){return Ci.tabIndex},get visible(){return Ci.visible},get aria(){return sw.aria}};class r0 extends i_{constructor(n){super(n),this.editorRef={current:null},this.state={value:void 0!==this.props.value?this.props.value:this.props.defaultValue},this.focus=this.focus.bind(this),this.blur=this.blur.bind(this),this.onWidgetClick=this.onWidgetClick.bind(this),this.keyDown=this.keyDown.bind(this)}createEffects(){return[Jh()]}onWidgetClick(n){var{enableThreeStateBehavior:t,readOnly:i,saveValueChangeEvent:r}=this.props;if(!i)if(r?.(n),t){var o;this.setState(l=>({value:o=null===(void 0!==this.props.value?this.props.value:l.value)||!(void 0!==this.props.value?this.props.value:l.value)&&null})),this.props.valueChange(o)}else{var s;this.setState(l=>{var h;return{value:s=!(null!==(h=void 0!==this.props.value?this.props.value:l.value)&&void 0!==h&&h)}}),this.props.valueChange(s)}}keyDown(n){var{onKeyDown:t}=this.props,{keyName:i,originalEvent:r,which:o}=n,s=t?.(n);if(null!=s&&s.cancel)return s;("space"===i||"space"===o)&&(r.preventDefault(),this.onWidgetClick(r))}get cssClasses(){return(e=>{var{text:n,value:t}=e;return ts({"dx-checkbox":!0,"dx-checkbox-checked":!0===t,"dx-checkbox-has-text":!!n,"dx-checkbox-indeterminate":null===t})})(de({},this.props,{value:void 0!==this.props.value?this.props.value:this.state.value}))}get aria(){return de({},{role:"checkbox",checked:null===(void 0!==this.props.value?this.props.value:this.state.value)?"mixed":"".concat(!0===(void 0!==this.props.value?this.props.value:this.state.value))},this.props.aria)}get restAttributes(){return mn(de({},this.props,{value:void 0!==this.props.value?this.props.value:this.state.value}),_ne)}focus(){this.editorRef.current.focus()}blur(){this.editorRef.current.blur()}render(){return(e=>{var{aria:n,cssClasses:t,editorRef:i,keyDown:r,onWidgetClick:o,props:{accessKey:s,activeStateEnabled:l,className:h,disabled:g,focusStateEnabled:_,height:v,hint:C,hoverStateEnabled:b,iconSize:E,isValid:w,name:M,onFocusIn:k,readOnly:L,rtlEnabled:G,tabIndex:Q,text:le,validationError:Te,validationErrors:He,validationMessageMode:Ee,validationMessagePosition:ze,validationStatus:ot,value:ht,visible:Xt,width:on},restAttributes:On}=e;return pr(rn(2,n0,de({aria:n,classes:t,onClick:o,onKeyDown:r,accessKey:s,activeStateEnabled:l,focusStateEnabled:_,hoverStateEnabled:b,className:h,disabled:g,readOnly:L,hint:C,height:v,width:on,rtlEnabled:G,tabIndex:Q,visible:Xt,validationError:Te,validationErrors:He,validationMessageMode:Ee,validationMessagePosition:ze,validationStatus:ot,isValid:w,onFocusIn:k},On,{children:As([pr(wn(64,"input",null,null,1,de({type:"hidden",value:"".concat(ht)},M&&{name:M}))),wn(1,"div","dx-checkbox-container",[rn(2,fne,{size:E,isChecked:!0===ht}),le&&wn(1,"span","dx-checkbox-text",le,0)],0)],4)}),null,i))})({props:de({},this.props,{value:void 0!==this.props.value?this.props.value:this.state.value}),editorRef:this.editorRef,onWidgetClick:this.onWidgetClick,keyDown:this.keyDown,cssClasses:this.cssClasses,aria:this.aria,restAttributes:this.restAttributes})}}r0.defaultProps=Cne;var cU=[];class Zk extends Wte{getProps(){var n=super.getProps();return n.onKeyDown=this._wrapKeyDownHandler(n.onKeyDown),n}focus(){var n;return null===(n=this.viewRef)||void 0===n?void 0:n.focus(...arguments)}blur(){var n;return null===(n=this.viewRef)||void 0===n?void 0:n.blur(...arguments)}_getActionConfigs(){return{onFocusIn:{},onClick:{}}}get _propsInfo(){return{twoWay:[["value","defaultValue","valueChange"]],allowNull:["defaultValue","validationError","validationErrors","value"],elements:[],templates:[],props:["text","iconSize","enableThreeStateBehavior","activeStateEnabled","hoverStateEnabled","focusStateEnabled","saveValueChangeEvent","defaultValue","valueChange","readOnly","name","validationError","validationErrors","validationMessageMode","validationMessagePosition","validationStatus","isValid","inputAttr","onFocusIn","className","accessKey","disabled","height","hint","onClick","onKeyDown","rtlEnabled","tabIndex","visible","width","aria","value"]}}get _viewComponent(){return r0}}Dt("dxCheckBox",Zk),Zk.defaultOptions=function xne(e){cU.push(e),r0.defaultProps=Object.create(Object.prototype,de(Object.getOwnPropertyDescriptors(r0.defaultProps),Object.getOwnPropertyDescriptors(function yne(e){var n=["value"];return Object.keys(e).reduce((t,i)=>{var r=e[i];return t[n.some(s=>s===i)?"default"+i.charAt(0).toUpperCase()+i.slice(1):i]=r,t},{})}(Pl(cU)))))};const cx=Zk;var hU="dx-radiobutton-icon",pU=Ul.inherit({_supportedKeys:function(){return A(this.callBase(),{space:function(e){e.preventDefault(),this._clickAction({event:e})}})},_getDefaultOptions:function(){return A(this.callBase(),{hoverStateEnabled:!0,activeStateEnabled:!0,value:!1})},_canValueBeChangedByClick:function(){return!0},_defaultOptionsRules:function(){return this.callBase().concat([{device:function(){return"desktop"===$e.real().deviceType&&!$e.isSimulator()},options:{focusStateEnabled:!0}}])},_init:function(){this.callBase(),this.$element().addClass("dx-radiobutton")},_initMarkup:function(){this.callBase(),this._renderIcon(),this._renderCheckedState(this.option("value")),this._renderClick(),this.setAria("role","radio")},_renderIcon:function(){this._$icon=x("<div>").addClass(hU),x("<div>").addClass("dx-radiobutton-icon-dot").appendTo(this._$icon),this.$element().append(this._$icon)},_renderCheckedState:function(e){this.$element().toggleClass("dx-radiobutton-checked",e).find("."+hU).toggleClass("dx-radiobutton-icon-checked",e),this.setAria("checked",e)},_renderClick:function(){var e=fe(Kt,this.NAME);this._clickAction=this._createAction(function(n){this._clickHandler(n.event)}.bind(this)),R.off(this.$element(),e),R.on(this.$element(),e,function(n){this._clickAction({event:n})}.bind(this))},_clickHandler:function(e){this._saveValueChangeEvent(e),this.option("value",!0)},_optionChanged:function(e){"value"===e.name?(this._renderCheckedState(e.value),this.callBase(e)):this.callBase(e)}});Dt("dxRadioButton",pU);const Ene=pU;var Qk="dxListEditDecorator",wne=fe(Gw,Qk),Ine=fe(Uw,Qk),Tne=fe(ix,Qk),Mne=kt.inherit({ctor:function(e){this._list=e,this._init()},_init:U,_shouldHandleSwipe:!1,_attachSwipeEvent:function(e){var n={itemSizeFunc:function(){return this._clearSwipeCache&&(this._itemWidthCache=Ze(this._list.$element()),this._clearSwipeCache=!1),this._itemWidthCache}.bind(this)};R.on(e.$itemElement,wne,n,this._itemSwipeStartHandler.bind(this)),R.on(e.$itemElement,Ine,this._itemSwipeUpdateHandler.bind(this)),R.on(e.$itemElement,Tne,this._itemSwipeEndHandler.bind(this))},_itemSwipeStartHandler:function(e){var n=x(e.currentTarget);n.is(".dx-state-disabled, .dx-state-disabled *")?e.cancel=!0:(clearTimeout(this._list._inkRippleTimer),this._swipeStartHandler(n,e))},_itemSwipeUpdateHandler:function(e){var n=x(e.currentTarget);this._swipeUpdateHandler(n,e)},_itemSwipeEndHandler:function(e){var n=x(e.currentTarget);this._swipeEndHandler(n,e),this._clearSwipeCache=!0},beforeBag:U,afterBag:U,_commonOptions:function(){return{activeStateEnabled:this._list.option("activeStateEnabled"),hoverStateEnabled:this._list.option("hoverStateEnabled"),focusStateEnabled:this._list.option("focusStateEnabled")}},modifyElement:function(e){this._shouldHandleSwipe&&(this._attachSwipeEvent(e),this._clearSwipeCache=!0)},afterRender:U,handleClick:U,handleKeyboardEvents:U,handleEnterPressing:U,handleContextMenu:U,_swipeStartHandler:U,_swipeUpdateHandler:U,_swipeEndHandler:U,visibilityChange:U,getExcludedSelectors:U,dispose:U});const Ane=Mne;var gU="dx-list-select-decorator-enabled",fU=fe(Kt,"dxListEditDecorator");!function NQ(e,n,t){var i=hG,r={};r[e]=i[e]?i[e]:{},r[e][n]=t,A(i,r)}("selection","default",Ane.inherit({_init:function(){this.callBase.apply(this,arguments);var e=this._list.option("selectionMode");this._singleStrategy="single"===e,this._containerClass=this._singleStrategy?"dx-list-select-radiobutton-container":"dx-list-select-checkbox-container",this._controlClass=this._singleStrategy?"dx-list-select-radiobutton":"dx-list-select-checkbox",this._controlWidget=this._singleStrategy?Ene:cx,this._list.$element().addClass(gU)},beforeBag:function(e){var n=e.$itemElement,t=e.$container.addClass(this._containerClass),i=x("<div>").addClass(this._controlClass).appendTo(t);new this._controlWidget(i,A(this._commonOptions(),{value:this._isSelected(n),elementAttr:{"aria-label":"Check State"},focusStateEnabled:!1,hoverStateEnabled:!1,onValueChanged:function(r){r.event&&this._list._saveSelectionChangeEvent(r.event),this._processCheckedState(n,r.value),r.event&&r.event.stopPropagation()}.bind(this)}))},modifyElement:function(e){this.callBase.apply(this,arguments);var n=e.$itemElement,t=this._controlWidget.getInstance(n.find("."+this._controlClass));R.on(n,"stateChanged",function(i,r){t.option("value",r)}.bind(this))},_updateSelectAllState:function(){this._$selectAll&&this._selectAllCheckBox.option("value",this._list.isSelectAll())},afterRender:function(){"all"===this._list.option("selectionMode")&&(this._$selectAll?this._updateSelectAllState():this._renderSelectAll())},handleKeyboardEvents:function(e,n){var t=!n,i=this._list,r=this._$selectAll,o=i._getLastItemIndex();return!(!r||!(n&&0===e||t&&e===o)||(i.option("focusedElement",r),i.scrollToItem(i.option("focusedElement")),0))},handleEnterPressing:function(e){if(this._$selectAll&&this._$selectAll.hasClass("dx-state-focused"))return e.target=this._$selectAll.get(0),this._list._saveSelectionChangeEvent(e),this._selectAllCheckBox.option("value",!this._selectAllCheckBox.option("value")),!0},_renderSelectAll:function(){var e=this._$selectAll=x("<div>").addClass("dx-list-select-all"),n=this._list,t=n._supportedKeys().downArrow.bind(n);this._selectAllCheckBox=n._createComponent(x("<div>").addClass("dx-list-select-all-checkbox").appendTo(e),cx,{elementAttr:{"aria-label":"Select All"},focusStateEnabled:!1,hoverStateEnabled:!1}),this._selectAllCheckBox.registerKeyHandler("downArrow",t),x("<div>").addClass("dx-list-select-all-label").text(this._list.option("selectAllText")).appendTo(e),this._list.itemsContainer().prepend(e),this._updateSelectAllState(),this._attachSelectAllHandler()},_attachSelectAllHandler:function(){this._selectAllCheckBox.option("onValueChanged",this._selectAllHandler.bind(this)),R.off(this._$selectAll,fU),R.on(this._$selectAll,fU,this._selectAllClickHandler.bind(this))},_selectAllHandler:function(e){e.event&&e.event.stopPropagation();var n=this._selectAllCheckBox.option("value");e.event&&this._list._saveSelectionChangeEvent(e.event),!0===n?this._selectAllItems():!1===n&&this._unselectAllItems(),this._list._createActionByOption("onSelectAllValueChanged")({value:n})},_checkSelectAllCapability:function(){var e=this._list,n=e._dataController;return!("allPages"===e.option("selectAllMode")&&e.option("grouped")&&!n.group()&&(It.log("W1010"),1))},_selectAllItems:function(){this._checkSelectAllCapability()&&this._list._selection.selectAll("page"===this._list.option("selectAllMode"))},_unselectAllItems:function(){this._checkSelectAllCapability()&&this._list._selection.deselectAll("page"===this._list.option("selectAllMode"))},_selectAllClickHandler:function(e){this._list._saveSelectionChangeEvent(e),this._selectAllCheckBox.option("value",!this._selectAllCheckBox.option("value"))},_isSelected:function(e){return this._list.isItemSelected(e)},_processCheckedState:function(e,n){n?this._list.selectItem(e):this._list.unselectItem(e)},dispose:function(){this._disposeSelectAll(),this._list.$element().removeClass(gU),this.callBase.apply(this,arguments)},_disposeSelectAll:function(){this._$selectAll&&(this._$selectAll.remove(),this._$selectAll=null)}}));var _U="dx-selectbox-popup-wrapper",mU=Nte.inherit({_supportedKeys:function(){var e=this,n=this.callBase(),t=function(r){this._isEditable()?this._valueSubstituted()&&(this._preventFiltering=!0):this.option("showClearButton")&&(r.preventDefault(),this.reset()),this._savedTextRemoveEvent=r,this._preventSubstitution=!0},i=function(){e.option("searchEnabled")&&e._valueSubstituted()&&e._searchHandler()};return A({},n,{tab:function(){this.option("opened")&&"instantly"===this.option("applyValueMode")&&this._resetCaretPosition(!0),n.tab&&n.tab.apply(this,arguments),this._cancelSearchIfNeed()},upArrow:function(r){if(n.upArrow.apply(this,arguments))return this.option("opened")||this._setNextValue(r),!0},downArrow:function(r){if(n.downArrow.apply(this,arguments))return this.option("opened")||this._setNextValue(r),!0},leftArrow:function(){i(),n.leftArrow&&n.leftArrow.apply(this,arguments)},rightArrow:function(){i(),n.rightArrow&&n.rightArrow.apply(this,arguments)},home:function(){i(),n.home&&n.home.apply(this,arguments)},end:function(){i(),n.end&&n.end.apply(this,arguments)},escape:function(){var r=n.escape&&n.escape.apply(this,arguments);return this._cancelEditing(),r??!0},enter:function(r){var o=this.option("opened"),s=this._input().val().trim(),l=s&&this._list&&!this._list.option("focusedElement");if(!s&&T(this.option("value"))&&this.option("allowClearing"))this._saveValueChangeEvent(r),this.option({selectedItem:null,value:null}),this.close();else{if(this.option("acceptCustomValue"))return r.preventDefault(),l&&(o&&this._toggleOpenState(),this._valueChangeEventHandler(r)),o;if(n.enter&&n.enter.apply(this,arguments))return o}},space:function(r){var o=this.option("opened"),s=this.option("searchEnabled"),l=this.option("acceptCustomValue");if(o&&!s&&!l)return r.preventDefault(),this._valueChangeEventHandler(r),!0},backspace:t,del:t})},_getDefaultOptions:function(){return A(this.callBase(),{placeholder:J.format("Select"),fieldTemplate:null,customItemCreateEvent:"change",valueChangeEvent:"change",acceptCustomValue:!1,onCustomItemCreating:function(e){T(e.customItem)||(e.customItem=e.text)},showSelectionControls:!1,allowClearing:!0,tooltipEnabled:!1,openOnFieldClick:!0,showDropDownButton:!0,displayCustomValue:!1,useHiddenSubmitElement:!0})},_init:function(){this.callBase(),this._initCustomItemCreatingAction()},_initMarkup:function(){this.$element().addClass("dx-selectbox"),this._renderTooltip(),this.callBase(),this._$container.addClass("dx-selectbox-container")},_createPopup:function(){this.callBase(),this._popup.$element().addClass("dx-selectbox-popup"),this._popup.$overlayContent().attr("tabindex",-1)},_popupWrapperClass:function(){return this.callBase()+" "+_U},_setDeprecatedOptions(){this.callBase(),A(this._deprecatedOptions,{valueChangeEvent:{since:"22.2",alias:"customItemCreateEvent"}})},_cancelEditing:function(){!this.option("searchEnabled")&&this._list&&(this._focusListElement(null),this._updateField(this.option("selectedItem")))},_renderOpenedState:function(){this.callBase(),this.option("opened")&&(this._scrollToSelectedItem(),this._focusSelectedElement())},_focusSelectedElement:function(){var e;if(this._searchValue()){var{items:t,selectedItem:i}=this.option(),r=this._list._itemElements(),o=null!==(e=t?.indexOf(i))&&void 0!==e?e:-1,s=-1===o||this._isCustomItemSelected()?null:r.eq(o);this._focusListElement(s)}else this._focusListElement(null)},_renderFocusedElement:function(){if(this._list){if(!this._searchValue()||this.option("acceptCustomValue"))return void this._focusListElement(null);var t=this._list._itemElements().not(".dx-state-disabled").eq(0);this._focusListElement(t)}},_focusListElement:function(e){this._preventInputValueRender=!0,this._list.option("focusedElement",Ke(e)),delete this._preventInputValueRender},_scrollToSelectedItem:function(){this._list&&this._list.scrollToItem(this._list.option("selectedItem"))},_listContentReadyHandler:function(){this.callBase(),this._dataController.paginate()&&this._needPopupRepaint()||this._scrollToSelectedItem()},_renderValue:function(){return this._renderInputValue(),this._setSubmitValue(),(new W).resolve()},_renderInputValue:function(){return this.callBase().always(function(){this._renderInputValueAsync()}.bind(this))},_renderInputValueAsync:function(){this._renderTooltip(),this._renderInputValueImpl().always(function(){this._refreshSelected()}.bind(this))},_renderInputValueImpl:function(){return this._renderField(),(new W).resolve()},_setNextItem:function(e){var n=this._calcNextItem(e),t=this._valueGetter(n);this._setValue(t)},_setNextValue:function(e){(this._dataController.isLoaded()?(new W).resolve():this._dataController.load()).done(function(){var t=this._getSelectedIndex(),i=this._dataController.pageSize(),r=this._dataController.isLastPage(),o=t===this._items().length-1;this._saveValueChangeEvent(e);var s="downArrow"===xn(e)?1:-1;i&&!r&&o&&s>0?(this._popup||this._createPopup(),this._dataController.isLoading()||this._list._loadNextPage().done(this._setNextItem.bind(this,s))):this._setNextItem(s)}.bind(this))},_setSelectedItem:function(e){var n=!this._isCustomValueAllowed()&&void 0===e;this.callBase(n?null:e),!n&&(!this._isEditable()||this._isCustomItemSelected())&&this._setListOption("selectedItem",this.option("selectedItem"))},_isCustomValueAllowed:function(){return this.option("acceptCustomValue")||this.callBase()},_displayValue:function(e){return e=!T(e)&&this._isCustomValueAllowed()?this.option("value"):e,this.callBase(e)},_listConfig:function(){var e=A(this.callBase(),{pageLoadMode:"scrollBottom",onSelectionChanged:this._getSelectionChangeHandler(),selectedItem:this.option("selectedItem"),onFocusedItemChanged:this._listFocusedItemChangeHandler.bind(this)});return this.option("showSelectionControls")&&A(e,{showSelectionControls:!0,selectByClick:!0}),e},_listFocusedItemChangeHandler:function(e){if(!this._preventInputValueRender){var n=e.component,t=x(n.option("focusedElement")),i=n._getItemData(t);this._updateField(i)}},_updateField:function(e){if(!this._getTemplateByOption("fieldTemplate")||!this.option("fieldTemplate")){var t=this._displayGetter(e);return this.option("text",t),void this._renderDisplayText(t)}this._renderField()},_getSelectionChangeHandler:function(){return this.option("showSelectionControls")?this._selectionChangeHandler.bind(this):U},_selectionChangeHandler:function(e){B(e.addedItems||[],function(n,t){this._setValue(this._valueGetter(t))}.bind(this))},_getActualSearchValue:function(){return this._dataController.searchValue()},_toggleOpenState:function(e){if(!this.option("disabled")){if(!(e=arguments.length?e:!this.option("opened"))&&!this._shouldClearFilter()&&this._restoreInputText(!0),this._wasSearch()&&e)if(this._wasSearch(!1),(this.option("showDataBeforeSearch")||this._isMinSearchLengthExceeded())&&this._dataController.getDataSource()){if(this._searchTimer)return;var t=this._getActualSearchValue();t&&this._wasSearch(!0),this._filterDataSource(t||null)}else this._setListOption("items",[]);e&&this._scrollToSelectedItem(),this.callBase(e)}},_renderTooltip:function(){this.option("tooltipEnabled")&&this.$element().attr("title",this.option("displayValue"))},_renderDimensions:function(){this.callBase(),this._updatePopupWidth(),this._updateListDimensions()},_isValueEqualInputText:function(){var e=this.option("selectedItem");if(null===e)return!1;var n=this._displayGetter(e);return(n?String(n):"")===this._searchValue()},_popupHidingHandler:function(){this._isValueEqualInputText()&&this._cancelEditing(),this.callBase()},_popupHiddenHandler:function(){this.callBase(),this._shouldCancelSearch()&&(this._wasSearch(!1),this._searchCanceled(),this._shouldCancelSearch(!1))},_restoreInputText:function(e){this.option("readOnly")||this._loadItemDeferred&&this._loadItemDeferred.always(function(){var{acceptCustomValue:n,text:t,selectedItem:i}=this.option();n?!e&&!this._isValueChanging&&(this._updateField(i??this._createCustomItem(t)),this._clearFilter()):this.option("searchEnabled")&&!this._searchValue()&&this.option("allowClearing")?this._clearTextValue():this._isValueEqualInputText()||this._renderInputValue().always(function(r){var o=Cn(r,i);this._setSelectedItem(o),this._updateField(o),this._clearFilter()}.bind(this))}.bind(this))},_valueChangeEventIncludesBlur:function(){return this.option(this._getValueChangeEventOptionName()).includes("blur")},_isPreventedFocusOutEvent:function(e){return this._preventNestedFocusEvent(e)||this._valueChangeEventIncludesBlur()},_focusOutHandler:function(e){this._isPreventedFocusOutEvent(e)||(this._isOverlayNestedTarget(e.relatedTarget)||(this._restoreInputText(),this._clearSearchTimer()),this._cancelSearchIfNeed(e)),e.target=this._input().get(0),this.callBase(e)},_cancelSearchIfNeed:function(e){var{searchEnabled:n}=this.option(),t=this._isOverlayNestedTarget(e?.relatedTarget);if(this._wasSearch()&&n&&!t){var r,o=null===(r=this._popup)||void 0===r?void 0:r._hideAnimationProcessing;this._clearSearchTimer(),o?this._shouldCancelSearch(!0):(this._wasSearch(!1),this._searchCanceled())}},_shouldCancelSearch:function(e){if(!arguments.length)return this._shouldCancelSearchValue;this._shouldCancelSearchValue=e},_isOverlayNestedTarget:function(e){return!!x(e).closest(".".concat(_U)).length},_clearTextValue:function(){var e=this.option("selectedItem"),n=this._displayGetter(e);e&&""!==n&&(this._savedTextRemoveEvent&&this._saveValueChangeEvent(this._savedTextRemoveEvent),this.option("value",null)),delete this._savedTextRemoveEvent},_shouldOpenPopup:function(){return this._needPassDataSourceToList()&&this._wasSearch()},_isFocused:function(){var e=se.getActiveElement(this.element());return this.callBase()&&x(e).closest(this._input()).length>0},_getValueChangeEventOptionName:function(){return"customItemCreateEvent"},_renderValueChangeEvent:function(){this._isEditable()&&this.callBase()},_fieldRenderData:function(){var e=this._list&&this.option("opened")&&x(this._list.option("focusedElement"));return e&&e.length?this._list._getItemData(e):this.option("selectedItem")},_isSelectedValue:function(e){return this._isValueEquals(e,this.option("value"))},_shouldCloseOnItemClick:function(){return!(this.option("showSelectionControls")&&"single"!==this.option("selectionMode"))},_listItemClickHandler:function(e){var n=this._getCurrentValue();this._focusListElement(x(e.itemElement)),this._saveValueChangeEvent(e.event),this._completeSelection(this._valueGetter(e.itemData)),this._shouldCloseOnItemClick()&&this.option("opened",!1),this.option("searchEnabled")&&n===this._valueGetter(e.itemData)&&this._updateField(e.itemData),this._shouldClearFilter()&&this._cancelSearchIfNeed()},_shouldClearFilter:function(){return this._wasSearch()},_completeSelection:function(e){this._setValue(e)},_loadItem:function(e,n){var t=this,i=new W;return this.callBase(e,n).done(function(r){i.resolve(r)}.bind(this)).fail(function(r){if(null==r||!r.shouldSkipCallback){var o=t.option("selectedItem");t.option("acceptCustomValue")&&e===t._valueGetter(o)?i.resolve(o):i.reject()}}.bind(this)),i.promise()},_loadInputValue:function(e,n){return this._loadItemDeferred=this._loadItem(e).always(n),this._loadItemDeferred},_isCustomItemSelected:function(){var e=this.option("selectedItem"),n=this._searchValue(),t=this._displayGetter(e);return!t||n!==t.toString()},_valueChangeEventHandler:function(e){this.option("acceptCustomValue")&&this._isCustomItemSelected()&&!this._isValueChanging&&(this._isValueChanging=!0,this._customItemAddedHandler(e))},_initCustomItemCreatingAction:function(){this._customItemCreatingAction=this._createActionByOption("onCustomItemCreating")},_createCustomItem:function(e){var n={text:e},t=this._customItemCreatingAction(n),i=Cn(t,n.customItem);return T(t)&&zt.log("W0015","onCustomItemCreating","customItem"),i},_customItemAddedHandler:function(e){var n=this._searchValue(),t=this._createCustomItem(n);if(this._saveValueChangeEvent(e),void 0===t)throw this._renderValue(),zt.Error("E0121");hu(t)?Gn(t).done(this._setCustomItem.bind(this)).fail(this._setCustomItem.bind(this,null)):this._setCustomItem(t)},_setCustomItem:function(e){this._disposed||(this.option("selectedItem",e=e||null),this._cancelSearchIfNeed(),this._setValue(this._valueGetter(e)),this._renderDisplayText(this._displayGetter(e)),this._isValueChanging=!1)},_clearValueHandler:function(e){return this._preventFiltering=!0,this.callBase(e),this._searchCanceled(),!1},_wasSearch:function(e){if(!arguments.length)return!!this._wasSearchValue;this._wasSearchValue=e},_searchHandler:function(){this._preventFiltering?delete this._preventFiltering:(this._needPassDataSourceToList()&&this._wasSearch(!0),this.callBase(arguments))},_dataSourceFiltered:function(e){this.callBase(),null!==e&&(this._renderInputSubstitution(),this._renderFocusedElement())},_valueSubstituted:function(){var e=this._input().get(0),n=this._searchValue().length,t=0===e.selectionStart&&e.selectionEnd===n,i=e.selectionStart!==e.selectionEnd,r=n===e.selectionEnd;return this._wasSearch()&&i&&!t&&r&&this._shouldSubstitutionBeRendered()},_shouldSubstitutionBeRendered:function(){return!this._preventSubstitution&&this.option("searchEnabled")&&!this.option("acceptCustomValue")&&"startswith"===this.option("searchMode")},_renderInputSubstitution:function(){if(this._shouldSubstitutionBeRendered()){var e=this._list&&this._getPlainItems(this._list.option("items"))[0];if(e){var n=this._input(),t=n.val().length;if(0!==t){var i=n.get(0),r=this._displayGetter(e).toString();i.value=r,this._caret({start:t,end:r.length})}}}else delete this._preventSubstitution},_dispose:function(){this._renderInputValueAsync=U,delete this._loadItemDeferred,this.callBase()},_optionChanged:function(e){switch(e.name){case"customItemCreateEvent":this._refreshValueChangeEvent(),this._refreshFocusEvent(),this._refreshEvents();break;case"onCustomItemCreating":this._initCustomItemCreatingAction();break;case"tooltipEnabled":this._renderTooltip();break;case"displayCustomValue":case"acceptCustomValue":case"showSelectionControls":this._invalidate();break;case"allowClearing":break;default:this.callBase(e)}}});Dt("dxSelectBox",mU);const eB=mU,Gne={provide:fi,useExisting:(0,u.Gpc)(()=>tB),multi:!0};let tB=(()=>{class e extends zl{constructor(t,i,r,o,s,l,h,g){super(t,i,r,o,h,g),this._watcherHelper=o,this._idh=s,this.touched=_=>{},this._createEventEmitters([{subscribe:"change",emit:"onChange"},{subscribe:"closed",emit:"onClosed"},{subscribe:"contentReady",emit:"onContentReady"},{subscribe:"copy",emit:"onCopy"},{subscribe:"customItemCreating",emit:"onCustomItemCreating"},{subscribe:"cut",emit:"onCut"},{subscribe:"disposing",emit:"onDisposing"},{subscribe:"enterKey",emit:"onEnterKey"},{subscribe:"focusIn",emit:"onFocusIn"},{subscribe:"focusOut",emit:"onFocusOut"},{subscribe:"initialized",emit:"onInitialized"},{subscribe:"input",emit:"onInput"},{subscribe:"itemClick",emit:"onItemClick"},{subscribe:"keyDown",emit:"onKeyDown"},{subscribe:"keyUp",emit:"onKeyUp"},{subscribe:"opened",emit:"onOpened"},{subscribe:"optionChanged",emit:"onOptionChanged"},{subscribe:"paste",emit:"onPaste"},{subscribe:"selectionChanged",emit:"onSelectionChanged"},{subscribe:"valueChanged",emit:"onValueChanged"},{emit:"acceptCustomValueChange"},{emit:"accessKeyChange"},{emit:"activeStateEnabledChange"},{emit:"buttonsChange"},{emit:"customItemCreateEventChange"},{emit:"dataSourceChange"},{emit:"deferRenderingChange"},{emit:"disabledChange"},{emit:"displayExprChange"},{emit:"displayValueChange"},{emit:"dropDownButtonTemplateChange"},{emit:"dropDownOptionsChange"},{emit:"elementAttrChange"},{emit:"fieldTemplateChange"},{emit:"focusStateEnabledChange"},{emit:"groupedChange"},{emit:"groupTemplateChange"},{emit:"heightChange"},{emit:"hintChange"},{emit:"hoverStateEnabledChange"},{emit:"inputAttrChange"},{emit:"isValidChange"},{emit:"itemsChange"},{emit:"itemTemplateChange"},{emit:"labelChange"},{emit:"labelModeChange"},{emit:"maxLengthChange"},{emit:"minSearchLengthChange"},{emit:"nameChange"},{emit:"noDataTextChange"},{emit:"openedChange"},{emit:"openOnFieldClickChange"},{emit:"placeholderChange"},{emit:"readOnlyChange"},{emit:"rtlEnabledChange"},{emit:"searchEnabledChange"},{emit:"searchExprChange"},{emit:"searchModeChange"},{emit:"searchTimeoutChange"},{emit:"selectedItemChange"},{emit:"showClearButtonChange"},{emit:"showDataBeforeSearchChange"},{emit:"showDropDownButtonChange"},{emit:"showSelectionControlsChange"},{emit:"spellcheckChange"},{emit:"stylingModeChange"},{emit:"tabIndexChange"},{emit:"textChange"},{emit:"useItemTextAsTitleChange"},{emit:"validationErrorChange"},{emit:"validationErrorsChange"},{emit:"validationMessageModeChange"},{emit:"validationMessagePositionChange"},{emit:"validationStatusChange"},{emit:"valueChange"},{emit:"valueChangeEventChange"},{emit:"valueExprChange"},{emit:"visibleChange"},{emit:"widthChange"},{emit:"wrapItemTextChange"},{emit:"onBlur"}]),this._idh.setHost(this),l.setHost(this)}get acceptCustomValue(){return this._getOption("acceptCustomValue")}set acceptCustomValue(t){this._setOption("acceptCustomValue",t)}get accessKey(){return this._getOption("accessKey")}set accessKey(t){this._setOption("accessKey",t)}get activeStateEnabled(){return this._getOption("activeStateEnabled")}set activeStateEnabled(t){this._setOption("activeStateEnabled",t)}get buttons(){return this._getOption("buttons")}set buttons(t){this._setOption("buttons",t)}get customItemCreateEvent(){return this._getOption("customItemCreateEvent")}set customItemCreateEvent(t){this._setOption("customItemCreateEvent",t)}get dataSource(){return this._getOption("dataSource")}set dataSource(t){this._setOption("dataSource",t)}get deferRendering(){return this._getOption("deferRendering")}set deferRendering(t){this._setOption("deferRendering",t)}get disabled(){return this._getOption("disabled")}set disabled(t){this._setOption("disabled",t)}get displayExpr(){return this._getOption("displayExpr")}set displayExpr(t){this._setOption("displayExpr",t)}get displayValue(){return this._getOption("displayValue")}set displayValue(t){this._setOption("displayValue",t)}get dropDownButtonTemplate(){return this._getOption("dropDownButtonTemplate")}set dropDownButtonTemplate(t){this._setOption("dropDownButtonTemplate",t)}get dropDownOptions(){return this._getOption("dropDownOptions")}set dropDownOptions(t){this._setOption("dropDownOptions",t)}get elementAttr(){return this._getOption("elementAttr")}set elementAttr(t){this._setOption("elementAttr",t)}get fieldTemplate(){return this._getOption("fieldTemplate")}set fieldTemplate(t){this._setOption("fieldTemplate",t)}get focusStateEnabled(){return this._getOption("focusStateEnabled")}set focusStateEnabled(t){this._setOption("focusStateEnabled",t)}get grouped(){return this._getOption("grouped")}set grouped(t){this._setOption("grouped",t)}get groupTemplate(){return this._getOption("groupTemplate")}set groupTemplate(t){this._setOption("groupTemplate",t)}get height(){return this._getOption("height")}set height(t){this._setOption("height",t)}get hint(){return this._getOption("hint")}set hint(t){this._setOption("hint",t)}get hoverStateEnabled(){return this._getOption("hoverStateEnabled")}set hoverStateEnabled(t){this._setOption("hoverStateEnabled",t)}get inputAttr(){return this._getOption("inputAttr")}set inputAttr(t){this._setOption("inputAttr",t)}get isValid(){return this._getOption("isValid")}set isValid(t){this._setOption("isValid",t)}get items(){return this._getOption("items")}set items(t){this._setOption("items",t)}get itemTemplate(){return this._getOption("itemTemplate")}set itemTemplate(t){this._setOption("itemTemplate",t)}get label(){return this._getOption("label")}set label(t){this._setOption("label",t)}get labelMode(){return this._getOption("labelMode")}set labelMode(t){this._setOption("labelMode",t)}get maxLength(){return this._getOption("maxLength")}set maxLength(t){this._setOption("maxLength",t)}get minSearchLength(){return this._getOption("minSearchLength")}set minSearchLength(t){this._setOption("minSearchLength",t)}get name(){return this._getOption("name")}set name(t){this._setOption("name",t)}get noDataText(){return this._getOption("noDataText")}set noDataText(t){this._setOption("noDataText",t)}get opened(){return this._getOption("opened")}set opened(t){this._setOption("opened",t)}get openOnFieldClick(){return this._getOption("openOnFieldClick")}set openOnFieldClick(t){this._setOption("openOnFieldClick",t)}get placeholder(){return this._getOption("placeholder")}set placeholder(t){this._setOption("placeholder",t)}get readOnly(){return this._getOption("readOnly")}set readOnly(t){this._setOption("readOnly",t)}get rtlEnabled(){return this._getOption("rtlEnabled")}set rtlEnabled(t){this._setOption("rtlEnabled",t)}get searchEnabled(){return this._getOption("searchEnabled")}set searchEnabled(t){this._setOption("searchEnabled",t)}get searchExpr(){return this._getOption("searchExpr")}set searchExpr(t){this._setOption("searchExpr",t)}get searchMode(){return this._getOption("searchMode")}set searchMode(t){this._setOption("searchMode",t)}get searchTimeout(){return this._getOption("searchTimeout")}set searchTimeout(t){this._setOption("searchTimeout",t)}get selectedItem(){return this._getOption("selectedItem")}set selectedItem(t){this._setOption("selectedItem",t)}get showClearButton(){return this._getOption("showClearButton")}set showClearButton(t){this._setOption("showClearButton",t)}get showDataBeforeSearch(){return this._getOption("showDataBeforeSearch")}set showDataBeforeSearch(t){this._setOption("showDataBeforeSearch",t)}get showDropDownButton(){return this._getOption("showDropDownButton")}set showDropDownButton(t){this._setOption("showDropDownButton",t)}get showSelectionControls(){return this._getOption("showSelectionControls")}set showSelectionControls(t){this._setOption("showSelectionControls",t)}get spellcheck(){return this._getOption("spellcheck")}set spellcheck(t){this._setOption("spellcheck",t)}get stylingMode(){return this._getOption("stylingMode")}set stylingMode(t){this._setOption("stylingMode",t)}get tabIndex(){return this._getOption("tabIndex")}set tabIndex(t){this._setOption("tabIndex",t)}get text(){return this._getOption("text")}set text(t){this._setOption("text",t)}get useItemTextAsTitle(){return this._getOption("useItemTextAsTitle")}set useItemTextAsTitle(t){this._setOption("useItemTextAsTitle",t)}get validationError(){return this._getOption("validationError")}set validationError(t){this._setOption("validationError",t)}get validationErrors(){return this._getOption("validationErrors")}set validationErrors(t){this._setOption("validationErrors",t)}get validationMessageMode(){return this._getOption("validationMessageMode")}set validationMessageMode(t){this._setOption("validationMessageMode",t)}get validationMessagePosition(){return this._getOption("validationMessagePosition")}set validationMessagePosition(t){this._setOption("validationMessagePosition",t)}get validationStatus(){return this._getOption("validationStatus")}set validationStatus(t){this._setOption("validationStatus",t)}get value(){return this._getOption("value")}set value(t){this._setOption("value",t)}get valueChangeEvent(){return this._getOption("valueChangeEvent")}set valueChangeEvent(t){this._setOption("valueChangeEvent",t)}get valueExpr(){return this._getOption("valueExpr")}set valueExpr(t){this._setOption("valueExpr",t)}get visible(){return this._getOption("visible")}set visible(t){this._setOption("visible",t)}get width(){return this._getOption("width")}set width(t){this._setOption("width",t)}get wrapItemText(){return this._getOption("wrapItemText")}set wrapItemText(t){this._setOption("wrapItemText",t)}change(t){}get buttonsChildren(){return this._getOption("buttons")}set buttonsChildren(t){this.setChildren("buttons",t)}get itemsChildren(){return this._getOption("items")}set itemsChildren(t){this.setChildren("items",t)}_createInstance(t,i){return new eB(t,i)}writeValue(t){this.eventHelper.lockedValueChangeEvent=!0,this.value=t,this.eventHelper.lockedValueChangeEvent=!1}setDisabledState(t){this.disabled=t}registerOnChange(t){this.change=t}registerOnTouched(t){this.touched=t}_createWidget(t){super._createWidget(t),this.instance.on("focusOut",i=>{this.eventHelper.fireNgEvent("onBlur",[i])})}ngOnDestroy(){this._destroyWidget()}ngOnChanges(t){super.ngOnChanges(t),this.setupChanges("buttons",t),this.setupChanges("dataSource",t),this.setupChanges("items",t),this.setupChanges("searchExpr",t),this.setupChanges("validationErrors",t)}setupChanges(t,i){t in this._optionsToUpdate||this._idh.setup(t,i)}ngDoCheck(){this._idh.doCheck("buttons"),this._idh.doCheck("dataSource"),this._idh.doCheck("items"),this._idh.doCheck("searchExpr"),this._idh.doCheck("validationErrors"),this._watcherHelper.checkWatchers(),super.ngDoCheck(),super.clearChangedOptions()}_setOption(t,i){let r=this._idh.setupSingle(t,i),o=null!==this._idh.getChanges(t,i);(r||o)&&super._setOption(t,i)}}return e.\u0275fac=function(t){return new(t||e)(u.Y36(u.SBq),u.Y36(u.R0b),u.Y36(vn),u.Y36(Ti),u.Y36(ns),u.Y36(D),u.Y36(ko),u.Y36(u.Lbi))},e.\u0275cmp=u.Xpm({type:e,selectors:[["dx-select-box"]],contentQueries:function(t,i,r){if(1&t&&(u.Suo(r,Yy,4),u.Suo(r,So,4)),2&t){let o;u.iGM(o=u.CRH())&&(i.buttonsChildren=o),u.iGM(o=u.CRH())&&(i.itemsChildren=o)}},hostBindings:function(t,i){1&t&&u.NdJ("valueChange",function(o){return i.change(o)})("onBlur",function(o){return i.touched(o)})},inputs:{acceptCustomValue:"acceptCustomValue",accessKey:"accessKey",activeStateEnabled:"activeStateEnabled",buttons:"buttons",customItemCreateEvent:"customItemCreateEvent",dataSource:"dataSource",deferRendering:"deferRendering",disabled:"disabled",displayExpr:"displayExpr",displayValue:"displayValue",dropDownButtonTemplate:"dropDownButtonTemplate",dropDownOptions:"dropDownOptions",elementAttr:"elementAttr",fieldTemplate:"fieldTemplate",focusStateEnabled:"focusStateEnabled",grouped:"grouped",groupTemplate:"groupTemplate",height:"height",hint:"hint",hoverStateEnabled:"hoverStateEnabled",inputAttr:"inputAttr",isValid:"isValid",items:"items",itemTemplate:"itemTemplate",label:"label",labelMode:"labelMode",maxLength:"maxLength",minSearchLength:"minSearchLength",name:"name",noDataText:"noDataText",opened:"opened",openOnFieldClick:"openOnFieldClick",placeholder:"placeholder",readOnly:"readOnly",rtlEnabled:"rtlEnabled",searchEnabled:"searchEnabled",searchExpr:"searchExpr",searchMode:"searchMode",searchTimeout:"searchTimeout",selectedItem:"selectedItem",showClearButton:"showClearButton",showDataBeforeSearch:"showDataBeforeSearch",showDropDownButton:"showDropDownButton",showSelectionControls:"showSelectionControls",spellcheck:"spellcheck",stylingMode:"stylingMode",tabIndex:"tabIndex",text:"text",useItemTextAsTitle:"useItemTextAsTitle",validationError:"validationError",validationErrors:"validationErrors",validationMessageMode:"validationMessageMode",validationMessagePosition:"validationMessagePosition",validationStatus:"validationStatus",value:"value",valueChangeEvent:"valueChangeEvent",valueExpr:"valueExpr",visible:"visible",width:"width",wrapItemText:"wrapItemText"},outputs:{onChange:"onChange",onClosed:"onClosed",onContentReady:"onContentReady",onCopy:"onCopy",onCustomItemCreating:"onCustomItemCreating",onCut:"onCut",onDisposing:"onDisposing",onEnterKey:"onEnterKey",onFocusIn:"onFocusIn",onFocusOut:"onFocusOut",onInitialized:"onInitialized",onInput:"onInput",onItemClick:"onItemClick",onKeyDown:"onKeyDown",onKeyUp:"onKeyUp",onOpened:"onOpened",onOptionChanged:"onOptionChanged",onPaste:"onPaste",onSelectionChanged:"onSelectionChanged",onValueChanged:"onValueChanged",acceptCustomValueChange:"acceptCustomValueChange",accessKeyChange:"accessKeyChange",activeStateEnabledChange:"activeStateEnabledChange",buttonsChange:"buttonsChange",customItemCreateEventChange:"customItemCreateEventChange",dataSourceChange:"dataSourceChange",deferRenderingChange:"deferRenderingChange",disabledChange:"disabledChange",displayExprChange:"displayExprChange",displayValueChange:"displayValueChange",dropDownButtonTemplateChange:"dropDownButtonTemplateChange",dropDownOptionsChange:"dropDownOptionsChange",elementAttrChange:"elementAttrChange",fieldTemplateChange:"fieldTemplateChange",focusStateEnabledChange:"focusStateEnabledChange",groupedChange:"groupedChange",groupTemplateChange:"groupTemplateChange",heightChange:"heightChange",hintChange:"hintChange",hoverStateEnabledChange:"hoverStateEnabledChange",inputAttrChange:"inputAttrChange",isValidChange:"isValidChange",itemsChange:"itemsChange",itemTemplateChange:"itemTemplateChange",labelChange:"labelChange",labelModeChange:"labelModeChange",maxLengthChange:"maxLengthChange",minSearchLengthChange:"minSearchLengthChange",nameChange:"nameChange",noDataTextChange:"noDataTextChange",openedChange:"openedChange",openOnFieldClickChange:"openOnFieldClickChange",placeholderChange:"placeholderChange",readOnlyChange:"readOnlyChange",rtlEnabledChange:"rtlEnabledChange",searchEnabledChange:"searchEnabledChange",searchExprChange:"searchExprChange",searchModeChange:"searchModeChange",searchTimeoutChange:"searchTimeoutChange",selectedItemChange:"selectedItemChange",showClearButtonChange:"showClearButtonChange",showDataBeforeSearchChange:"showDataBeforeSearchChange",showDropDownButtonChange:"showDropDownButtonChange",showSelectionControlsChange:"showSelectionControlsChange",spellcheckChange:"spellcheckChange",stylingModeChange:"stylingModeChange",tabIndexChange:"tabIndexChange",textChange:"textChange",useItemTextAsTitleChange:"useItemTextAsTitleChange",validationErrorChange:"validationErrorChange",validationErrorsChange:"validationErrorsChange",validationMessageModeChange:"validationMessageModeChange",validationMessagePositionChange:"validationMessagePositionChange",validationStatusChange:"validationStatusChange",valueChange:"valueChange",valueChangeEventChange:"valueChangeEventChange",valueExprChange:"valueExprChange",visibleChange:"visibleChange",widthChange:"widthChange",wrapItemTextChange:"wrapItemTextChange",onBlur:"onBlur"},features:[u._Bn([vn,Ti,Gne,D,ns]),u.qOj,u.TTD],decls:0,vars:0,template:function(t,i){},encapsulation:2}),e})(),vU=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=u.oAB({type:e}),e.\u0275inj=u.cJS({imports:[[$u,O_,mW,Hu,ju,Uu,qu,zu,Wu,Gu,Ku,Yu,Xu,Ju,b_,up,Wl,ji],$u,O_,mW,Hu,ju,Uu,qu,zu,Wu,Gu,Ku,Yu,Xu,Ju,b_,up,ji]}),e})(),Une=(()=>{class e extends zl{constructor(t,i,r,o,s,l,h){super(t,i,r,o,l,h),this._createEventEmitters([{subscribe:"contentReady",emit:"onContentReady"},{subscribe:"disposing",emit:"onDisposing"},{subscribe:"hidden",emit:"onHidden"},{subscribe:"hiding",emit:"onHiding"},{subscribe:"initialized",emit:"onInitialized"},{subscribe:"optionChanged",emit:"onOptionChanged"},{subscribe:"showing",emit:"onShowing"},{subscribe:"shown",emit:"onShown"},{emit:"animationChange"},{emit:"closeOnOutsideClickChange"},{emit:"containerChange"},{emit:"copyRootClassesToWrapperChange"},{emit:"deferRenderingChange"},{emit:"delayChange"},{emit:"elementAttrChange"},{emit:"focusStateEnabledChange"},{emit:"heightChange"},{emit:"hideOnOutsideClickChange"},{emit:"hideOnParentScrollChange"},{emit:"hintChange"},{emit:"hoverStateEnabledChange"},{emit:"indicatorSrcChange"},{emit:"maxHeightChange"},{emit:"maxWidthChange"},{emit:"messageChange"},{emit:"minHeightChange"},{emit:"minWidthChange"},{emit:"positionChange"},{emit:"rtlEnabledChange"},{emit:"shadingChange"},{emit:"shadingColorChange"},{emit:"showIndicatorChange"},{emit:"showPaneChange"},{emit:"visibleChange"},{emit:"widthChange"},{emit:"wrapperAttrChange"}]),s.setHost(this)}get animation(){return this._getOption("animation")}set animation(t){this._setOption("animation",t)}get closeOnOutsideClick(){return this._getOption("closeOnOutsideClick")}set closeOnOutsideClick(t){this._setOption("closeOnOutsideClick",t)}get container(){return this._getOption("container")}set container(t){this._setOption("container",t)}get copyRootClassesToWrapper(){return this._getOption("copyRootClassesToWrapper")}set copyRootClassesToWrapper(t){this._setOption("copyRootClassesToWrapper",t)}get deferRendering(){return this._getOption("deferRendering")}set deferRendering(t){this._setOption("deferRendering",t)}get delay(){return this._getOption("delay")}set delay(t){this._setOption("delay",t)}get elementAttr(){return this._getOption("elementAttr")}set elementAttr(t){this._setOption("elementAttr",t)}get focusStateEnabled(){return this._getOption("focusStateEnabled")}set focusStateEnabled(t){this._setOption("focusStateEnabled",t)}get height(){return this._getOption("height")}set height(t){this._setOption("height",t)}get hideOnOutsideClick(){return this._getOption("hideOnOutsideClick")}set hideOnOutsideClick(t){this._setOption("hideOnOutsideClick",t)}get hideOnParentScroll(){return this._getOption("hideOnParentScroll")}set hideOnParentScroll(t){this._setOption("hideOnParentScroll",t)}get hint(){return this._getOption("hint")}set hint(t){this._setOption("hint",t)}get hoverStateEnabled(){return this._getOption("hoverStateEnabled")}set hoverStateEnabled(t){this._setOption("hoverStateEnabled",t)}get indicatorSrc(){return this._getOption("indicatorSrc")}set indicatorSrc(t){this._setOption("indicatorSrc",t)}get maxHeight(){return this._getOption("maxHeight")}set maxHeight(t){this._setOption("maxHeight",t)}get maxWidth(){return this._getOption("maxWidth")}set maxWidth(t){this._setOption("maxWidth",t)}get message(){return this._getOption("message")}set message(t){this._setOption("message",t)}get minHeight(){return this._getOption("minHeight")}set minHeight(t){this._setOption("minHeight",t)}get minWidth(){return this._getOption("minWidth")}set minWidth(t){this._setOption("minWidth",t)}get position(){return this._getOption("position")}set position(t){this._setOption("position",t)}get rtlEnabled(){return this._getOption("rtlEnabled")}set rtlEnabled(t){this._setOption("rtlEnabled",t)}get shading(){return this._getOption("shading")}set shading(t){this._setOption("shading",t)}get shadingColor(){return this._getOption("shadingColor")}set shadingColor(t){this._setOption("shadingColor",t)}get showIndicator(){return this._getOption("showIndicator")}set showIndicator(t){this._setOption("showIndicator",t)}get showPane(){return this._getOption("showPane")}set showPane(t){this._setOption("showPane",t)}get visible(){return this._getOption("visible")}set visible(t){this._setOption("visible",t)}get width(){return this._getOption("width")}set width(t){this._setOption("width",t)}get wrapperAttr(){return this._getOption("wrapperAttr")}set wrapperAttr(t){this._setOption("wrapperAttr",t)}_createInstance(t,i){return new Uk(t,i)}ngOnDestroy(){this._destroyWidget()}}return e.\u0275fac=function(t){return new(t||e)(u.Y36(u.SBq),u.Y36(u.R0b),u.Y36(vn),u.Y36(Ti),u.Y36(D),u.Y36(ko),u.Y36(u.Lbi))},e.\u0275cmp=u.Xpm({type:e,selectors:[["dx-load-panel"]],inputs:{animation:"animation",closeOnOutsideClick:"closeOnOutsideClick",container:"container",copyRootClassesToWrapper:"copyRootClassesToWrapper",deferRendering:"deferRendering",delay:"delay",elementAttr:"elementAttr",focusStateEnabled:"focusStateEnabled",height:"height",hideOnOutsideClick:"hideOnOutsideClick",hideOnParentScroll:"hideOnParentScroll",hint:"hint",hoverStateEnabled:"hoverStateEnabled",indicatorSrc:"indicatorSrc",maxHeight:"maxHeight",maxWidth:"maxWidth",message:"message",minHeight:"minHeight",minWidth:"minWidth",position:"position",rtlEnabled:"rtlEnabled",shading:"shading",shadingColor:"shadingColor",showIndicator:"showIndicator",showPane:"showPane",visible:"visible",width:"width",wrapperAttr:"wrapperAttr"},outputs:{onContentReady:"onContentReady",onDisposing:"onDisposing",onHidden:"onHidden",onHiding:"onHiding",onInitialized:"onInitialized",onOptionChanged:"onOptionChanged",onShowing:"onShowing",onShown:"onShown",animationChange:"animationChange",closeOnOutsideClickChange:"closeOnOutsideClickChange",containerChange:"containerChange",copyRootClassesToWrapperChange:"copyRootClassesToWrapperChange",deferRenderingChange:"deferRenderingChange",delayChange:"delayChange",elementAttrChange:"elementAttrChange",focusStateEnabledChange:"focusStateEnabledChange",heightChange:"heightChange",hideOnOutsideClickChange:"hideOnOutsideClickChange",hideOnParentScrollChange:"hideOnParentScrollChange",hintChange:"hintChange",hoverStateEnabledChange:"hoverStateEnabledChange",indicatorSrcChange:"indicatorSrcChange",maxHeightChange:"maxHeightChange",maxWidthChange:"maxWidthChange",messageChange:"messageChange",minHeightChange:"minHeightChange",minWidthChange:"minWidthChange",positionChange:"positionChange",rtlEnabledChange:"rtlEnabledChange",shadingChange:"shadingChange",shadingColorChange:"shadingColorChange",showIndicatorChange:"showIndicatorChange",showPaneChange:"showPaneChange",visibleChange:"visibleChange",widthChange:"widthChange",wrapperAttrChange:"wrapperAttrChange"},features:[u._Bn([vn,Ti,D]),u.qOj],decls:0,vars:0,template:function(t,i){},encapsulation:2}),e})(),jne=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=u.oAB({type:e}),e.\u0275inj=u.cJS({imports:[[Hu,ju,Uu,qu,zu,Wu,Gu,Ku,Yu,Xu,Ju,Wl,ji],Hu,ju,Uu,qu,zu,Wu,Gu,Ku,Yu,Xu,Ju,ji]}),e})(),Kne=(()=>{class e extends zl{constructor(t,i,r,o,s,l,h){super(t,i,r,o,l,h),this._createEventEmitters([{subscribe:"contentReady",emit:"onContentReady"},{subscribe:"disposing",emit:"onDisposing"},{subscribe:"initialized",emit:"onInitialized"},{subscribe:"optionChanged",emit:"onOptionChanged"},{emit:"elementAttrChange"},{emit:"heightChange"},{emit:"hintChange"},{emit:"indicatorSrcChange"},{emit:"rtlEnabledChange"},{emit:"visibleChange"},{emit:"widthChange"}]),s.setHost(this)}get elementAttr(){return this._getOption("elementAttr")}set elementAttr(t){this._setOption("elementAttr",t)}get height(){return this._getOption("height")}set height(t){this._setOption("height",t)}get hint(){return this._getOption("hint")}set hint(t){this._setOption("hint",t)}get indicatorSrc(){return this._getOption("indicatorSrc")}set indicatorSrc(t){this._setOption("indicatorSrc",t)}get rtlEnabled(){return this._getOption("rtlEnabled")}set rtlEnabled(t){this._setOption("rtlEnabled",t)}get visible(){return this._getOption("visible")}set visible(t){this._setOption("visible",t)}get width(){return this._getOption("width")}set width(t){this._setOption("width",t)}_createInstance(t,i){return new Do(t,i)}ngOnDestroy(){this._destroyWidget()}}return e.\u0275fac=function(t){return new(t||e)(u.Y36(u.SBq),u.Y36(u.R0b),u.Y36(vn),u.Y36(Ti),u.Y36(D),u.Y36(ko),u.Y36(u.Lbi))},e.\u0275cmp=u.Xpm({type:e,selectors:[["dx-load-indicator"]],inputs:{elementAttr:"elementAttr",height:"height",hint:"hint",indicatorSrc:"indicatorSrc",rtlEnabled:"rtlEnabled",visible:"visible",width:"width"},outputs:{onContentReady:"onContentReady",onDisposing:"onDisposing",onInitialized:"onInitialized",onOptionChanged:"onOptionChanged",elementAttrChange:"elementAttrChange",heightChange:"heightChange",hintChange:"hintChange",indicatorSrcChange:"indicatorSrcChange",rtlEnabledChange:"rtlEnabledChange",visibleChange:"visibleChange",widthChange:"widthChange"},features:[u._Bn([vn,Ti,D]),u.qOj],decls:0,vars:0,template:function(t,i){},encapsulation:2}),e})(),Yne=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=u.oAB({type:e}),e.\u0275inj=u.cJS({imports:[[Wl,ji],ji]}),e})();var nB="dx-state-focused",qne="dx-cell-focus-disabled",CU=".dx-datagrid-rowsview .dx-row",yU="".concat(CU," > td"),xU=".dx-treelist-rowsview .dx-row",bU="".concat(xU," > td"),OU={groupPanel:[".dx-datagrid-group-panel .dx-group-panel-item[tabindex]"],columnHeaders:[".dx-datagrid-headers .dx-header-row > td.dx-datagrid-action",".dx-treelist-headers .dx-header-row > td.dx-treelist-action"],filterRow:[".dx-datagrid-headers .dx-datagrid-filter-row .dx-editor-cell .dx-texteditor-input",".dx-treelist-headers .dx-treelist-filter-row .dx-editor-cell .dx-texteditor-input"],rowsView:["".concat(".dx-row-focused"),"".concat(CU,"[tabindex]"),"".concat(yU,"[tabindex]"),"".concat(yU),"".concat(xU,"[tabindex]"),"".concat(bU,"[tabindex]"),"".concat(bU)],footer:[".dx-datagrid-total-footer .dx-datagrid-summary-item",".dx-treelist-total-footer .dx-treelist-summary-item"],filterPanel:[".dx-datagrid-filter-panel .dx-icon-filter",".dx-treelist-filter-panel .dx-icon-filter"],pager:[".dx-datagrid-pager [tabindex]",".dx-treelist-pager [tabindex]"]},iB=!1,o0=!1,R_=null;function DU(e,n){var t=x(e),i=t.attr("aria-label"),o=SU(i,n.element()).index(t);R_=A({},{ariaLabel:i,index:o},{viewInstance:n})}function SU(e,n){return x(n).find(e?'[aria-label="'.concat(e,'"][tabindex]'):"[tabindex]")}function Zne(e,n){var t=n?.getRootNode()||se.getDocument();for(var i in e){var r=e[i],o=x(t).find(r).first();if(o.length)return o}}function EU(){o0="visible"===se.getDocument().visibilityState}function wU(e,n,t,i,r,o){if(n.option("useLegacyKeyboardNavigation"))return U;var s=()=>x(n.element()),l=_=>function Xne(e,n,t,i,r,o){var s=function Qne(e,n,t){var i={event:n,handled:!1};return t?t(i):e._createActionByOption("onKeyDown")(i),i.handled}(n,t.originalEvent,o);if(!s){var l=xn(t);"enter"===l||"space"===l?(DU(t.target,n),i&&i({event:t})):"tab"===l?r.addClass(nB):oB(e,n,t)}}(e,n,_,r,s(),o),h=()=>{iB=!0,s().removeClass(nB)},g=()=>{!iB&&!o0&&s().addClass(nB),iB=!1};return R.on(t,"keydown",i,l),R.on(t,"mousedown",i,h),R.on(t,"focusin",i,g),()=>{R.off(t,"keydown",i,l),R.off(t,"mousedown",i,h),R.off(t,"focusin",i,g)}}function rB(e){if(!e.option("useLegacyKeyboardNavigation")&&R_){var n=R_.viewInstance;if(n){var i=SU(R_.ariaLabel,n.element()).eq(R_.index);R_=null,R.trigger(i,"focus")}}}function oB(e,n,t){var i=xn(t);if(t.ctrlKey&&("upArrow"===i||"downArrow"===i))for(var r=Object.keys(OU),o=r.indexOf(e);o>=0&&o<r.length;){o="upArrow"===i?--o:++o;var h=Zne(OU[r[o]],t.target);if(h&&h.length){h.attr("tabindex",n.option("tabindex")||0),R.trigger(h,"focus"),h.removeClass(qne);break}}}var hx=function(e,n,t,i,r){var o=n.getController("keyboardNavigation");n.option("useLegacyKeyboardNavigation")||o&&!o.isKeyboardEnabled()||(n.createAction("onKeyDown"),wU(e,n,t,i,r,s=>{n.executeAction("onKeyDown",s)}))},px="dxdblclick",IU=fe(Kt,"dxDblClick"),oie=kt.inherit({ctor:function(){this._handlerCount=0,this._forgetLastClick()},_forgetLastClick:function(){this._firstClickTarget=null,this._lastClickTimeStamp=-300},add:function(){this._handlerCount<=0&&R.on(se.getDocument(),IU,this._clickHandler.bind(this)),this._handlerCount++},_clickHandler:function(e){var n=e.timeStamp||Date.now(),t=n-this._lastClickTimeStamp;!(t<0)&&t<300?(Al({type:px,target:PE(this._firstClickTarget,e.target),originalEvent:e}),this._forgetLastClick()):(this._firstClickTarget=e.target,this._lastClickTimeStamp=n)},remove:function(){this._handlerCount--,this._handlerCount<=0&&(this._forgetLastClick(),R.off(se.getDocument(),IU))}});Hi(px,new oie);var MU="dx-column-indicators";const aie={_applyColumnState(e){var n,t=this.option("rtlEnabled"),i=this._getColumnAlignment(e.column.alignment,t),r=A(!0,{columnAlignment:i},e),o=r.rootElement.hasClass("dx-group-panel-item"),s=this._createIndicatorContainer(r,o),l=x("<span>").addClass(this._getIndicatorClassName(e.name)),h=null===(n=this.component)||void 0===n?void 0:n.getController("columns"),g=h?.getHeaderContentAlignment(i)||i;return r.container=s,r.indicator=l,this._renderIndicator(r),s[!o&&e.showColumnLines||"left"!==g?"prependTo":"appendTo"](e.rootElement),l},_getIndicatorClassName:U,_getColumnAlignment(e,n){return n=n||this.option("rtlEnabled"),e&&"center"!==e?e:Lu(n)},_createIndicatorContainer(e,n){var t=this._getIndicatorContainer(e.rootElement),i="left"===e.columnAlignment?"right":"left";return t.length||(t=x("<div>").addClass(MU)),this.setAria("role","presentation",t),t.css("float",e.showColumnLines&&!n?i:null)},_getIndicatorContainer:e=>e&&e.find(".".concat(MU)),_getIndicatorElements(e){var n=this._getIndicatorContainer(e);return n&&n.children()},_renderIndicator(e){var n=e.container,t=e.indicator;n&&t&&n.append(t)},_updateIndicators(e){var i,n=this.getColumns(),t=this.getColumnElements();if(t&&n.length===t.length)for(var r=0;r<n.length;r++){i=t.eq(r),this._updateIndicator(i,n[r],e);var o=i.parent().data("options");o&&o.cells&&(o.cells[i.index()].column=n[r])}},_updateIndicator(e,n,t){if(!n.command)return this._applyColumnState({name:t,rootElement:e,column:n,showColumnLines:this.option("showColumnLines")})}};var AU=kt.inherit({_endUpdateCore(){},ctor(e){var n=this;n._updateLockCount=0,n.component=e,n._actions={},n._actionConfigs={},B(this.callbackNames()||[],function(t,i){var r=n.callbackFlags(i)||{};r.unique=!0,r.syncStrategy=!0,n[this]=Et(r)})},init(){},callbackNames(){},callbackFlags(){},publicMethods(){},beginUpdate(){this._updateLockCount++},endUpdate(){this._updateLockCount>0&&(this._updateLockCount--,this._updateLockCount||this._endUpdateCore())},option(e){var{component:n}=this,t=n._optionCache;return 1===arguments.length&&t?(e in t||(t[e]=n.option(e)),t[e]):n.option.apply(n,arguments)},_silentOption(e,n){var{component:t}=this,i=t._optionCache;return i&&(i[e]=n),t._setOptionWithoutOptionChange(e,n)},localize(e){var n=this.component._optionCache;return n?(e in n||(n[e]=J.format(e)),n[e]):J.format(e)},on(){return this.component.on.apply(this.component,arguments)},off(){return this.component.off.apply(this.component,arguments)},optionChanged(e){e.name in this._actions&&(this.createAction(e.name,this._actionConfigs[e.name]),e.handled=!0)},getAction(e){return this._actions[e]},setAria(e,n,t){var i=t.get(0),r="role"!==e&&"id"!==e?"aria-":"";i.setAttribute?i.setAttribute(r+e,n):t.attr(r+e,n)},_createComponent(){return this.component._createComponent.apply(this.component,arguments)},getController(e){return this.component._controllers[e]},createAction(e,n){if(Re(e)){var t=this.component._createAction(e.bind(this),n);return function(i){t({event:i})}}this._actions[e]=this.component._createActionByOption(e,n),this._actionConfigs[e]=n},executeAction(e,n){var t=this._actions[e];return t&&t(n)},dispose(){var e=this;B(e.callbackNames()||[],function(){e[this].empty()})},addWidgetPrefix(e){return"dx-".concat(this.component.NAME.slice(2).toLowerCase()).concat(e?"-".concat(e):"")},getWidgetContainerClass(){return this.addWidgetPrefix("dxDataGrid"===this.component.NAME?null:"container")},elementIsInsideGrid(e){return e.closest(".".concat(this.getWidgetContainerClass())).parent().is(this.component.$element())}}),sB=AU,die=sB.inherit({getView(e){return this.component._views[e]},getViews(){return this.component._views}}),RU=AU.inherit({_isReady(){return this.component.isReady()},_endUpdateCore(){this.callBase(),!this._isReady()&&this._requireReady&&(this._requireRender=!1,this.component._requireResize=!1),this._requireRender&&(this._requireRender=!1,this.render(this._$parent))},_invalidate(e,n){this._requireRender=!0,this.component._requireResize=rt()&&(this.component._requireResize||e),this._requireReady=this._requireReady||n},_renderCore(){},_resizeCore(){},_parentElement(){return this._$parent},ctor(e){this.callBase(e),this.renderCompleted=Et(),this.resizeCompleted=Et()},element(){return this._$element},getElementHeight(){var e=this.element();if(!e)return 0;var n=parseFloat(e.css("marginTop"))||0,t=parseFloat(e.css("marginBottom"))||0,{offsetHeight:i}=e.get(0);return i+n+t},isVisible:()=>!0,getTemplate(e){return this.component._getTemplate(e)},render(e,n){var t=this._$element,i=this.isVisible();if((t||e)&&(this._requireReady=!1,t||(t=this._$element=x("<div>").appendTo(e),this._$parent=e),t.toggleClass("dx-hidden",!i),i)){this.component._optionCache={};var r=this._renderCore(n);this.component._optionCache=void 0,r?r.done(()=>{this.renderCompleted.fire(n)}):this.renderCompleted.fire(n)}},resize(){this.isResizing=!0,this._resizeCore(),this.resizeCompleted.fire(),this.isResizing=!1},focus(e){this.element().get(0).focus({preventScroll:e})}});function FU(e){var t={};return Object.entries(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).forEach(i=>{var[r,o]=i,s=e[r];s&&(t[r]=Re(o)?o(s):s.inherit(o))}),t}const dn={modules:[],View:RU,ViewController:die,Controller:sB,registerModule(e,n){for(var{modules:t}=this,i=0;i<t.length;i++)if(t[i].name===e)return;n.name=e,t.push(n)},registerModulesOrder(e){this.modulesOrder=e},unregisterModule(e){this.modules=Ii(this.modules,n=>n.name!==e)},processModules:function cie(e,n){var{modules:t}=n,{modulesOrder:i}=n;function r(_){var v={};return B(_,(C,b)=>{var E=new b(e);E.name=C,function uie(e,n,t){var i=t.publicMethods();i&&B(i,(r,o)=>{if(!t[o])throw It.Error("E1006",n,o);if(e[o])throw It.Error("E1005",o);e[o]=function(){return t[o](...arguments)}})}(e,C,E),v[C]=E}),v}i&&t.sort((_,v)=>{var C=i.indexOf(_.name),b=i.indexOf(v.name);return C<0&&(C=1e6),b<0&&(b=1e6),C-b});var o={},s={};t.forEach(_=>{var{name:v,controllers:C={},views:b={}}=_;Object.entries(C).forEach(E=>{var k,[w,M]=E;if(o[w])throw It.Error("E1001",v,w);if(null===(k=M?.subclassOf)||void 0===k||!k.call(M,sB))throw It.Error("E1002",v,w);o[w]=M}),Object.entries(b).forEach(E=>{var k,[w,M]=E;if(s[w])throw It.Error("E1003",v,w);if(null===(k=M?.subclassOf)||void 0===k||!k.call(M,RU))throw It.Error("E1004",v,w);s[w]=M})});var l=t.filter(_=>{var{extenders:v}=_;return!!v}),h=l.reduce((_,v)=>{var{extenders:C}=v;return de(de({},_),FU(_,C?.controllers))},o),g=l.reduce((_,v)=>{var{extenders:C}=v;return de(de({},_),FU(_,C?.views))},s);e._controllers=r(h),e._views=r(g)},callModuleItemsMethod:function(e,n,t){t=t||[],e._controllers&&B(e._controllers,function(){this[n]&&this[n].apply(this,t)}),e._views&&B(e._views,function(){this[n]&&this[n].apply(this,t)})}};var pie={millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5,month:2592e6,quarter:7776e6,year:31536e6};function s0(e){return pie[e]}var gx=7,fx=["millisecond","second","minute","hour","day","week","month","quarter","year"],VU=function(e){var n,t,i,r=["millisecond","second","minute","hour","day","month","year"],o={};for(n=r.length-1;n>=0;n--)i=r[n],(t=Math.floor(e/s0(i)))>0&&(o[i+"s"]=t,e-=a0(i,t));return o};function a0(e,n){return s0(e)*n}function l0(e){var t,n=-1;return je(e)?e:qe(e)?(B(e,function(i,r){for(t=0;t<fx.length;t++)r&&(i===fx[t]+"s"||i===fx[t])&&n<t&&(n=t)}),fx[n]):""}var mie={millisecond:"millisecond",second:"longtime",minute:"shorttime",hour:"shorttime",day:"day",week:"day",month:"month",quarter:"quarter",year:"year"},NU=function(e){return Math.floor(e/3)},HU=function(e){return 3*NU(e)};function zU(e,n,t,i){e=new Date(e.getTime());var o,s,r=new Date(e.getTime()),l=l0(n);switch(l){case"second":e=new Date(1e3*Math.floor(r.getTime()/1e3));break;case"minute":e=new Date(6e4*Math.floor(r.getTime()/6e4));break;case"hour":e=new Date(36e5*Math.floor(r.getTime()/36e5));break;case"year":e.setMonth(0);case"month":e.setDate(1);case"day":e.setHours(0,0,0,0);break;case"week":(e=KU(e,i||0)).setHours(0,0,0,0);break;case"quarter":o=HU(e.getMonth()),s=e.getMonth(),e.setDate(1),e.setHours(0,0,0,0),s!==o&&e.setMonth(o)}return t&&"hour"!==l&&"minute"!==l&&"second"!==l&&ZU(r,e),e}function WU(e){return zU(e,"day")}function $U(e,n,t){var i=new Date(e.getTime()),r=je(n)?UU(n.toLowerCase()):Vt(n)?VU(n):n;return r.years&&i.setFullYear(i.getFullYear()+r.years*t),r.quarters&&i.setMonth(i.getMonth()+3*r.quarters*t),r.months&&i.setMonth(i.getMonth()+r.months*t),r.weeks&&i.setDate(i.getDate()+7*r.weeks*t),r.days&&i.setDate(i.getDate()+r.days*t),r.hours&&i.setTime(i.getTime()+36e5*r.hours*t),r.minutes&&i.setTime(i.getTime()+6e4*r.minutes*t),r.seconds&&i.setTime(i.getTime()+1e3*r.seconds*t),r.milliseconds&&i.setTime(i.getTime()+r.milliseconds*t),i}var GU=function(e,n,t){var i=t?-1:1;return ur(e)?$U(e,n,i):bC(e+n*i,n)};function d0(e){return Eo(e.getFullYear(),e.getMonth()+1,0).getDate()}function UU(e){var n={};switch(e){case"year":n.years=1;break;case"month":n.months=1;break;case"quarter":n.months=3;break;case"week":n.weeks=1;break;case"day":n.days=1;break;case"hour":n.hours=1;break;case"minute":n.minutes=1;break;case"second":n.seconds=1;break;case"millisecond":n.milliseconds=1}return n}function aB(e,n){return jU(e,n)&&e.getMonth()===n.getMonth()}function jU(e,n){return e&&n&&e.getFullYear()===n.getFullYear()}function _x(e){return e&&e.getFullYear()-e.getFullYear()%100}function mx(e){return e&&e.getFullYear()-e.getFullYear()%10}function KU(e,n){var t=(e.getDay()-n+gx)%gx,i=new Date(e);return i.setDate(e.getDate()-t),i}function YU(e){return Date.UTC(e.getFullYear(),e.getMonth(),e.getDate())}function qU(e){return new Date(e,0,1)}function lB(e){return new Date(e,11,31)}function JU(e,n){var t=e.getDay()-n+1;return t<=0&&(t+=gx),t}function XU(e,n,t){var i=e;return T(e)?(T(n)&&e<n&&(i=n),T(t)&&e>t&&(i=t),i):e}function ZU(e,n){if(T(e)){var t=n.getHours()-e.getHours();if(0!==t){var i=1===t||-23===t?-1:1,r=new Date(n.getTime()+36e5*i);(i>0||r.getDate()===n.getDate())&&n.setTime(r.getTime())}}}function QU(e,n){return 60*(n.getTimezoneOffset()-e.getTimezoneOffset())*1e3}var Eo=function(e){var n=new Date(...arguments);return n.setFullYear(e),n},yp={dateUnitIntervals:fx,convertMillisecondsToDateUnits:VU,dateToMilliseconds:function(e){var n=0;return qe(e)&&B(e,function(t,i){n+=a0(t.substr(0,t.length-1),i)}),je(e)&&(n=a0(e,1)),n},getNextDateUnit:function(e,n){switch(l0(e)){case"millisecond":return"second";case"second":return"minute";case"minute":return"hour";case"hour":return"day";case"day":return n?"week":"month";case"week":return"month";case"month":return"quarter";case"quarter":case"year":return"year";default:return 0}},convertDateUnitToMilliseconds:a0,getDateUnitInterval:l0,getDateFormatByTickInterval:function vie(e){return mie[l0(e)]||""},getDatesDifferences:function(e,n){var t=0,i={year:e.getFullYear()!==n.getFullYear(),month:e.getMonth()!==n.getMonth(),day:e.getDate()!==n.getDate(),hour:e.getHours()!==n.getHours(),minute:e.getMinutes()!==n.getMinutes(),second:e.getSeconds()!==n.getSeconds(),millisecond:e.getMilliseconds()!==n.getMilliseconds()};return B(i,function(r,o){o&&t++}),0===t&&0!==QU(e,n)&&(i.hour=!0,t++),i.count=t,i},correctDateWithUnitBeginning:zU,trimTime:WU,setToDayEnd:function(e){var n=WU(e);return n.setDate(n.getDate()+1),new Date(n.getTime()-1)},roundDateByStartDayHour:function(e,n){var t=this.dateTimeFromDecimal(n),i=new Date(e);return(e.getHours()===t.hours&&e.getMinutes()<t.minutes||e.getHours()<t.hours)&&i.setHours(t.hours,t.minutes,0,0),i},dateTimeFromDecimal:function(e){return{hours:Math.floor(e),minutes:e%1*60}},addDateInterval:$U,addInterval:GU,getSequenceByInterval:function(e,n,t){var r,i=[];for(i.push(ur(e)?new Date(e.getTime()):e),r=e;r<n;)r=GU(r,t),i.push(r);return i},getDateIntervalByString:UU,sameHoursAndMinutes:function Aie(e,n){return e&&n&&e.getHours()===n.getHours()&&e.getMinutes()===n.getMinutes()},sameDate:function Mie(e,n){return aB(e,n)&&e.getDate()===n.getDate()},sameMonthAndYear:aB,sameMonth:aB,sameYear:jU,sameDecade:function(e,n){if(T(e)&&T(n)){var t=e.getFullYear()-e.getFullYear()%10,i=n.getFullYear()-n.getFullYear()%10;return e&&n&&t===i}},sameCentury:function(e,n){if(T(e)&&T(n)){var t=e.getFullYear()-e.getFullYear()%100,i=n.getFullYear()-n.getFullYear()%100;return e&&n&&t===i}},getDifferenceInMonth:function(e){var n=1;return"year"===e&&(n=12),"decade"===e&&(n=120),"century"===e&&(n=1200),n},getDifferenceInMonthForCells:function(e){var n=1;return"decade"===e&&(n=12),"century"===e&&(n=120),n},getFirstYearInDecade:mx,getFirstDecadeInCentury:_x,getShortDateFormat:function(){return"yyyy/MM/dd"},getViewFirstCellDate:function(e,n){return"month"===e?Eo(n.getFullYear(),n.getMonth(),1):"year"===e?Eo(n.getFullYear(),0,n.getDate()):"decade"===e?Eo(mx(n),n.getMonth(),n.getDate()):"century"===e?Eo(_x(n),n.getMonth(),n.getDate()):void 0},getViewLastCellDate:function(e,n){return"month"===e?Eo(n.getFullYear(),n.getMonth(),d0(n)):"year"===e?Eo(n.getFullYear(),11,n.getDate()):"decade"===e?Eo(mx(n)+9,n.getMonth(),n.getDate()):"century"===e?Eo(_x(n)+90,n.getMonth(),n.getDate()):void 0},getViewDown:function(e){switch(e){case"century":return"decade";case"decade":return"year";case"year":return"month"}},getViewUp:function(e){switch(e){case"month":return"year";case"year":return"decade";case"decade":return"century"}},getLastMonthDay:d0,getLastMonthDate:function(e){if(T(e))return Eo(e.getFullYear(),e.getMonth()+1,0)},getFirstMonthDate:function(e){if(T(e))return Eo(e.getFullYear(),e.getMonth(),1)},getFirstWeekDate:KU,getWeekNumber:function dB(e,n,t){var i=JU(qU(e.getFullYear()),n),r=JU(lB(e.getFullYear()),n),o=gx-i+1,s=Math.ceil((function Lie(e){var n=YU(e)-YU(qU(e.getFullYear()));return 1+Math.floor(n/s0("day"))}(e)-o)/7);switch(t){case"fullWeek":return o===gx&&s++,0===s?dB(lB(e.getFullYear()-1),n,t):s;case"firstDay":return o>0&&s++,(s>52&&!(7===i||7===r)||54===s)&&(s=1),s;case"firstFourDays":return o>3&&s++,s>52&&!(4===i||4===r)&&(s=1),0===s?dB(lB(e.getFullYear()-1),n,t):s}},normalizeDateByWeek:function(e,n){var t=yp.getDatesInterval(e,n,"day"),i=new Date(e);return t>=6&&(i=new Date(i.setDate(i.getDate()+7))),i},getQuarter:NU,getFirstQuarterMonth:HU,dateInRange:function(e,n,t,i){return"date"===i&&(n=n&&yp.correctDateWithUnitBeginning(n,"day"),t=t&&yp.correctDateWithUnitBeginning(t,"day"),e=e&&yp.correctDateWithUnitBeginning(e,"day")),XU(e,n,t)===e},intervalsOverlap:function(e){var{firstMin:n,firstMax:t,secondMin:i,secondMax:r}=e;return n<=i&&i<=t||n>i&&n<r||n<r&&t>r},roundToHour:function(e){var n=new Date(e.getTime());return n.setHours(n.getHours()+1),n.setMinutes(0),n},normalizeDate:XU,getViewMinBoundaryDate:function(e,n){var t=Eo(n.getFullYear(),n.getMonth(),1);return"month"===e||(t.setMonth(0),"year"===e)||("decade"===e&&t.setFullYear(mx(n)),"century"===e&&t.setFullYear(_x(n))),t},getViewMaxBoundaryDate:function(e,n){var t=new Date(n);return t.setDate(d0(n)),"month"===e||(t.setMonth(11),t.setDate(d0(t)),"year"===e)||("decade"===e&&t.setFullYear(mx(n)+9),"century"===e&&t.setFullYear(_x(n)+99)),t},fixTimezoneGap:ZU,getTimezonesDifference:QU,makeDate:function(e){return new Date(e)},getDatesInterval:function(e,n,t){var i=n.getTime()-e.getTime(),r=s0(t)||1;return Math.floor(i/r)},getDatesOfInterval:function(e,n,t){for(var i=[],r=new Date(e.getTime());r<n;)i.push(new Date(r.getTime())),r=this.addInterval(r,t);return i},createDateWithFullYear:Eo,sameView:function(e,n,t){return yp[vl("same "+e)](n,t)}};const Je=yp;function rs(e,n){for(;e.length<n;)e="0"+e;return e}var vx={3:"abbreviated",4:"wide",5:"narrow"},uB={y:function(e,n,t){var i=e[t?"getUTCFullYear":"getFullYear"]();return 2===n&&(i%=100),rs(i.toString(),n)},M:function(e,n,t,i){var r=e[t?"getUTCMonth":"getMonth"](),o=vx[n];return o?i.getMonthNames(o,"format")[r]:rs((r+1).toString(),Math.min(n,2))},L:function(e,n,t,i){var r=e[t?"getUTCMonth":"getMonth"](),o=vx[n];return o?i.getMonthNames(o,"standalone")[r]:rs((r+1).toString(),Math.min(n,2))},Q:function(e,n,t,i){var r=e[t?"getUTCMonth":"getMonth"](),o=Math.floor(r/3),s=vx[n];return s?i.getQuarterNames(s)[o]:rs((o+1).toString(),Math.min(n,2))},E:function(e,n,t,i){var r=e[t?"getUTCDay":"getDay"]();return i.getDayNames(vx[n<3?3:n])[r]},a:function(e,n,t,i){var o=e[t?"getUTCHours":"getHours"]()<12?0:1;return i.getPeriodNames(vx[n])[o]},d:function(e,n,t){return rs(e[t?"getUTCDate":"getDate"]().toString(),Math.min(n,2))},H:function(e,n,t){return rs(e[t?"getUTCHours":"getHours"]().toString(),Math.min(n,2))},h:function(e,n,t){return rs((e[t?"getUTCHours":"getHours"]()%12||12).toString(),Math.min(n,2))},m:function(e,n,t){return rs(e[t?"getUTCMinutes":"getMinutes"]().toString(),Math.min(n,2))},s:function(e,n,t){return rs(e[t?"getUTCSeconds":"getSeconds"]().toString(),Math.min(n,2))},S:function(e,n,t){return rs(e[t?"getUTCMilliseconds":"getMilliseconds"]().toString(),3).substr(0,n)},x:function(e,n,t){var i=t?0:e.getTimezoneOffset(),r=i>0?"-":"+",o=Math.abs(i),l=o%60,h=rs(Math.floor(o/60).toString(),2),g=rs(l.toString(),2);return r+h+(n>=3?":":"")+(n>1||l?g:"")},X:function(e,n,t){return t||!e.getTimezoneOffset()?"Z":uB.x(e,n,t)},Z:function(e,n,t){return uB.X(e,n>=5?3:2,t)}},ej=function(e,n){return function(t){var i,r,o,h,s=0,l=!1,g="";if(!t)return null;if(!e)return t;var _="Z"===e[e.length-1]||"'Z'"===e.slice(-3);for(i=0;i<e.length;i++)r=uB[o=e[i]],s++,(h=o===e[i+1])||(r&&!l&&(g+=r(t,s,_,n)),s=0),"'"!==o||h?(l||!r)&&(g+=o):l=!l,"'"===o&&h&&i++;return g}},tj=" .,:;/\\<>()-[]\u060c",nc=function(e){var n=e&&en.convertDigits(e,!1).charCodeAt(0),t=en.convertDigits("0",!1).charCodeAt(0);return t<=n&&n<t+10},Yie=function(e,n,t,i){var r=e[t],o=e[t+1];if(!i&&("."===r||" "===r&&". m."===e.slice(t-1,t+3)||"-"===r&&!nc(o)))return!0;var s=i&&n.some(l=>e[t]!==l[t]);return tj.indexOf(r)<0&&i===nc(r)&&(!i||s)},qie=function(e,n){if(!nc(e[n]))for(;n>0&&!nc(e[n-1])&&("."===e[n-1]||tj.indexOf(e[n-1])<0);)n--;return n},nj=function(e,n){return Array.isArray(e)?e.map(function(t){return(n(t)||"").toString()}):(n(e)||"").toString()},Qie=/[a-zA-Z]/g,ij=function(e){var n=[],t=nj(new Date(2009,8,8,6,5,4),e),i=t.split("").map(function(l,h){return h}),r=t,o={},s=[{date:new Date(2009,8,8,6,5,4,111),pattern:"S"},{date:new Date(2009,8,8,6,5,2),pattern:"s"},{date:new Date(2009,8,8,6,2,4),pattern:"m"},{date:new Date(2009,8,8,18,5,4),pattern:"H",isDigit:!0},{date:new Date(2009,8,8,2,5,4),pattern:"h",isDigit:!0},{date:new Date(2009,8,8,18,5,4),pattern:"a",isDigit:!1},{date:new Date(2009,8,1,6,5,4),pattern:"d"},{date:[new Date(2009,8,2,6,5,4),new Date(2009,8,3,6,5,4),new Date(2009,8,4,6,5,4)],pattern:"E"},{date:new Date(2009,9,6,6,5,4),pattern:"M"},{date:new Date(1998,8,8,6,5,4),pattern:"y"}];if(r&&(s.forEach(function(l){var h=function(e,n,t,i){var r=0,o=[],s=function(l){return e[r]!==l[r]&&(void 0===i||nc(e[r])===i)};for(Array.isArray(n)||(n=[n]),r=0;r<e.length;r++)if(t.indexOf(r)<0&&n.filter(s).length){r=qie(e,r);do{if(i=nc(e[r]),!o.length&&!i&&nc(n[0][r]))break;o.push(r),t.unshift(r),r++}while(e[r]&&Yie(e,n,r,i));break}return 1===o.length&&("0"===e[t[0]-1]||"\u0660"===e[t[0]-1])&&t.unshift(t[0]-1),o}(t,nj(l.date,e),n,l.isDigit),g="M"!==l.pattern||o.d?l.pattern:"L";r=function(e,n,t,i){var r,o,s;if(!nc(e[n[0]]||"0")){for(var l=Math.max(n.length<=3?3:4,t.length);n.length>l;){for(s=i[o=n.pop()],i[o]=-1,r=o+1;r<i.length;r++)i[r]--;e=e.substr(0,s)+e.substr(s+1)}for(s=(o=n[n.length-1]+1)<i.length?i[o]:o;n.length<l;){for(n.push(n[n.length-1]+1),r=o;r<i.length;r++)i[r]++;e=e.substr(0,s)+" "+e.substr(s)}}return e=function(e,n,t,i){var r=n[0],o=r<i.length?i[r]:r;return n.forEach(function(s,l){e=e.substr(0,o+l)+(t.length>1?t[l]:t)+e.substr(o+l+1)}),1===n.length&&(e=(e=e.replace("0"+t,t+t)).replace("\u0660"+t,t+t)),e}(e,n,t,i),e}(r,h,g,i),o[g]=h.length}),r=function(e,n,t,i){var r=n.split("").map(function(o,s){return t.indexOf(s)<0&&(o.match(Qie)||"'"===o)?i[s]:-1});return e.split("").map(function(o,s){var l=o,h=r.indexOf(s)>=0,g=s>0&&r.indexOf(s-1)>=0,_=r.indexOf(s+1)>=0;return h&&(g||(l="'"+l),_||(l+="'")),l}).join("")}(r,t,n,i),n.length))return r},Zl={3:"abbreviated",4:"wide",5:"narrow"},rj=function(e,n){return e>2?Object.keys(Zl).map(function(t){return["format","standalone"].map(function(i){return n.getMonthNames(Zl[t],i).join("|")}).join("|")}).join("|"):2===e?"1[012]|0?[1-9]":"0??[1-9]|1[012]"},tre={":":function(e,n){var t=e>1?"{".concat(e,"}"):"",i=pa(n.getTimeSeparator());return":"!==i&&(i="".concat(i,"|:")),"".concat(i).concat(t)},y:function(e){return 2===e?"[0-9]{".concat(e,"}"):"[0-9]+?"},M:rj,L:rj,Q:function(e,n){return e>2?n.getQuarterNames(Zl[e],"format").join("|"):"0?[1-4]"},E:function(e,n){return"\\D*"},a:function(e,n){return n.getPeriodNames(Zl[e<3?3:e],"format").join("|")},d:function(e){return 2===e?"3[01]|[12][0-9]|0?[1-9]":"0??[1-9]|[12][0-9]|3[01]"},H:function(e){return 2===e?"2[0-3]|1[0-9]|0?[0-9]":"0??[0-9]|1[0-9]|2[0-3]"},h:function(e){return 2===e?"1[012]|0?[1-9]":"0??[1-9]|1[012]"},m:function(e){return 2===e?"[1-5][0-9]|0?[0-9]":"0??[0-9]|[1-5][0-9]"},s:function(e){return 2===e?"[1-5][0-9]|0?[0-9]":"0??[0-9]|[1-5][0-9]"},S:function(e){return"[0-9]{1,".concat(e,"}")},w:function(e){return 2===e?"[1-5][0-9]|0?[0-9]":"0??[0-9]|[1-5][0-9]"}},Ql=Number,cB=function(e,n){return e.map(t=>t.toLowerCase()).indexOf(n.toLowerCase())},oj=function(e,n,t){return n>2?["format","standalone"].map(function(i){return Object.keys(Zl).map(function(r){var o=t.getMonthNames(Zl[r],i);return cB(o,e)})}).reduce(function(i,r){return i.concat(r)}).filter(function(i){return i>=0})[0]:Ql(e)-1},nre={y:function(e,n){var t=Ql(e);return 2===n?t<30?2e3+t:1900+t:t},M:oj,L:oj,Q:function(e,n,t){return n>2?t.getQuarterNames(Zl[n],"format").indexOf(e):Ql(e)-1},E:function(e,n,t){var i=t.getDayNames(Zl[n<3?3:n],"format");return cB(i,e)},a:function(e,n,t){var i=t.getPeriodNames(Zl[n<3?3:n],"format");return cB(i,e)},d:Ql,H:Ql,h:Ql,m:Ql,s:Ql,S:function(e,n){for(n=Math.max(n,3),e=e.slice(0,3);n<3;)e+="0",n++;return Ql(e)}},u0=["y","M","d","h","m","s","S"],hB={y:"setFullYear",M:"setMonth",L:"setMonth",a:function(e,n,t){var i=e.getHours(),r=t.h;void 0!==r&&r!==i&&i--,n||12!==i?n&&12!==i&&(i+=12):i=0,e.setHours(i)},d:"setDate",H:"setHours",h:"setHours",m:"setMinutes",s:"setSeconds",S:"setMilliseconds"},ire=function(e,n){var t=e[n];if(!t)return 0;var i=0;do{n++,i++}while(e[n]===t);return i},rre=function(e,n){for(var t="",i=0;i<n;i++)t+=e;return t},sj=function(e,n){for(var r,t="",i="",o=[],s=function(){i&&(o.push("'".concat(i,"'")),t+="".concat(pa(i),")"),i="")},l=0;l<e.length;l++){var h=e[l],_=tre[h];if("'"!==h||(r=!r,"'"===e[l-1]))if(_&&!r){var v=ire(e,l),C=rre(h,v);s(),o.push(C),t+="(".concat(_(v,n),")"),l+=v-1}else i||(t+="("),i+=h}return s(),sre(o)||sf.warn("The following format may be parsed incorrectly: ".concat(e,".")),{patterns:o,regexp:new RegExp("^".concat(t,"$"),"i")}},ore=["d","H","h","m","s","w","M","L","Q"],sre=function(e){var n=r=>{if(!r)return!1;var o=r[0];return["y","S"].includes(o)||ore.includes(o)&&r.length<3},t=!0,i=0;return e.every((r,o,s)=>{return n(r)&&("S"!==(l=r)[0]&&2!==l.length&&(t=++i<2),n(s[o+1])||(i=0)),t;var l})},gre=["January","February","March","April","May","June","July","August","September","October","November","December"],fre=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],_re=["AM","PM"],mre=["Q1","Q2","Q3","Q4"],aj=(e,n)=>{var t={abbreviated:3,short:2,narrow:1};return Fn(e,i=>i.substr(0,t[n]))};const Cx={getMonthNames:function(e){return aj(gre,e)},getDayNames:function(e){return aj(fre,e)},getQuarterNames:function(e){return mre},getPeriodNames:function(e){return _re}},vre={"af-NA":1,agq:1,ak:1,ar:6,"ar-EH":1,"ar-ER":1,"ar-KM":1,"ar-LB":1,"ar-MA":1,"ar-MR":1,"ar-PS":1,"ar-SO":1,"ar-SS":1,"ar-TD":1,"ar-TN":1,asa:1,ast:1,az:1,"az-Cyrl":1,bas:1,be:1,bem:1,bez:1,bg:1,bm:1,br:1,bs:1,"bs-Cyrl":1,ca:1,ce:1,cgg:1,ckb:6,cs:1,cy:1,da:1,de:1,dje:1,dsb:1,dua:1,dyo:1,ee:1,el:1,"en-001":1,"en-AE":6,"en-BI":1,"en-MP":1,"en-MV":5,"en-SD":6,eo:1,es:1,et:1,eu:1,ewo:1,fa:6,ff:1,"ff-Adlm":1,fi:1,fo:1,fr:1,"fr-DJ":6,"fr-DZ":6,"fr-SY":6,fur:1,fy:1,ga:1,gd:1,gl:1,gsw:1,gv:1,ha:1,hr:1,hsb:1,hu:1,hy:1,ia:1,ig:1,is:1,it:1,jgo:1,jmc:1,ka:1,kab:6,kde:1,kea:1,khq:1,kk:1,kkj:1,kl:1,"ko-KP":1,ksb:1,ksf:1,ksh:1,ku:1,kw:1,ky:1,lag:1,lb:1,lg:1,ln:1,lrc:6,lt:1,lu:1,lv:1,"mas-TZ":1,mfe:1,mg:1,mgo:1,mi:1,mk:1,mn:1,ms:1,mua:1,mzn:6,naq:1,nds:1,nl:1,nmg:1,nnh:1,no:1,nus:1,nyn:1,os:1,pcm:1,pl:1,ps:6,"pt-AO":1,"pt-CH":1,"pt-CV":1,"pt-GQ":1,"pt-GW":1,"pt-LU":1,"pt-ST":1,"pt-TL":1,"qu-BO":1,"qu-EC":1,rm:1,rn:1,ro:1,rof:1,ru:1,rw:1,rwk:1,sah:1,sbp:1,sc:1,se:1,ses:1,sg:1,shi:1,"shi-Latn":1,si:1,sk:1,sl:1,smn:1,so:1,"so-DJ":6,sq:1,sr:1,"sr-Latn":1,sv:1,sw:1,"ta-LK":1,"ta-MY":1,teo:1,tg:1,"ti-ER":1,tk:1,to:1,tr:1,tt:1,twq:1,tzm:1,uk:1,uz:1,"uz-Arab":6,"uz-Cyrl":1,vai:1,"vai-Latn":1,vi:1,vun:1,wae:1,wo:1,xog:1,yav:1,yi:1,yo:1,zgh:1};var Cre=/[\u200E\u200F]/g,yre=/[\u202F]/g,xp=e=>n=>{if(!e.timeZoneName){var t=n.getFullYear(),i=String(t).length<3,o=new Date(Date.UTC(i?t+400:t,n.getMonth(),n.getDate(),n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds()));return i&&o.setFullYear(t),gB(o,A({timeZone:"UTC"},e))}return gB(n,e)},pB={},xre=e=>{var n=Zr.locale()+"/"+JSON.stringify(e);return pB[n]||(pB[n]=new Intl.DateTimeFormat(Zr.locale(),e).format),pB[n]};function gB(e,n){return xre(n)(e).replace(Cre,"").replace(yre," ")}var fB=e=>new Intl.NumberFormat(Zr.locale()).format(e),bre=(()=>{var e={};return n=>{if(!(n in e)){if("0"===fB(0))return e[n]=!1,!1;e[n]={};for(var t=0;t<10;++t)e[n][fB(t)]=t}return e[n]}})(),c0=e=>{var n=bre(Zr.locale());return n?e.split("").map(t=>t in n?String(n[t]):t).join(""):e},lj=e=>e.replace(/(\D)0+(\d)/g,"$1$2"),_B=e=>e.replace("d\u2019","de "),mB={day:{day:"numeric"},dayofweek:{weekday:"long"},longdate:{weekday:"long",year:"numeric",month:"long",day:"numeric"},longdatelongtime:{weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"},longtime:{hour:"numeric",minute:"numeric",second:"numeric"},month:{month:"long"},monthandday:{month:"long",day:"numeric"},monthandyear:{year:"numeric",month:"long"},shortdate:{},shorttime:{hour:"numeric",minute:"numeric"},shortyear:{year:"2-digit"},year:{year:"numeric"}};Object.defineProperty(mB,"shortdateshorttime",{get:function(){var e=Intl.DateTimeFormat(Zr.locale()).resolvedOptions();return{year:e.year,month:e.month,day:e.day,hour:"numeric",minute:"numeric"}}});var dj={standalone:function(e,n){var t=new Date(1999,e,13,1);return xp({month:n})(t)},format:function(e,n){var t=new Date(0,e,13,1),r=_B(xp({day:"numeric",month:n})(t)).split(" ").filter(o=>o.indexOf("13")<0);return 1===r.length?r[0]:2===r.length?r[0].length>r[1].length?r[0]:r[1]:dj.standalone(e,n)}};const Sre={engine:function(){return"intl"},getMonthNames:function(e,n){var t={wide:"long",abbreviated:"short",narrow:"narrow"}[e||"wide"];return n="format"===n?n:"standalone",Array.apply(null,new Array(12)).map((i,r)=>dj[n](r,t))},getDayNames:function(e){var t;return t={wide:"long",abbreviated:"short",short:"narrow",narrow:"narrow"}[e||"wide"],Array.apply(null,new Array(7)).map((i,r)=>xp({weekday:t})(new Date(0,0,r)))},getPeriodNames:function(){var e=xp({hour:"numeric",hour12:!0});return[1,13].map(n=>{var t=fB(1),i=e(new Date(0,0,1,n)).split(t);return 2!==i.length?"":(i[0].length>i[1].length?i[0]:i[1]).trim()})},format:function(e,n){if(e){if(!n)return e;"function"!=typeof n&&!n.formatter&&(n=n.type||n);var t=(e=>"string"==typeof e&&mB[e.toLowerCase()])(n);if(t)return xp(t)(e);var i=typeof n;return n.formatter||"function"===i||"string"===i?this.callBase.apply(this,arguments):xp(n)(e)}},parse:function(e,n){var t;return n&&!n.parser&&"string"==typeof e&&(e=_B(e),t=i=>_B(this.format(i,n))),this.callBase(e,t||n)},_parseDateBySimpleFormat:function(e,n){e=c0(e);var t=this.getFormatParts(n),i=e.split(/\D+/).filter(s=>s.length>0);if(t.length===i.length){var r=this._generateDateArgs(t,i),o=s=>{var h,l=(h=r,new Date(h.year,h.month,h.day,(h.hours+(s?12:0))%24,h.minutes,h.seconds));if(((e,n)=>lj(e)===lj(n))(c0(this.format(l,n)),e))return l};return o(!1)||o(!0)}},_generateDateArgs:function(e,n){var t=new Date,i={year:t.getFullYear(),month:t.getMonth(),day:t.getDate(),hours:0,minutes:0,seconds:0};return e.forEach((r,o)=>{var l=parseInt(n[o],10);"month"===r&&(l-=1),i[r]=l}),i},formatUsesMonthName:function(e){return"object"!=typeof e||e.type||e.format?this.callBase.apply(this,arguments):"long"===e.month},formatUsesDayName:function(e){return"object"!=typeof e||e.type||e.format?this.callBase.apply(this,arguments):"long"===e.weekday},getTimeSeparator:function(){return c0(gB(new Date(2001,1,1,11,11),{hour:"numeric",minute:"numeric",hour12:!1})).replace(/\d/g,"")},getFormatParts:function(e){if("string"==typeof e)return this.callBase(e);var n=A({},mB[e.toLowerCase()]),t=new Date(2001,2,4,5,6,7),i=xp(n)(t);return i=c0(i),[{name:"year",value:1},{name:"month",value:3},{name:"day",value:4},{name:"hours",value:5},{name:"minutes",value:6},{name:"seconds",value:7}].map(r=>({name:r.name,index:i.indexOf(r.value)})).filter(r=>r.index>-1).sort((r,o)=>r.index-o.index).map(r=>r.name)}};var wre=typeof Intl<"u",vB={shortdate:"M/d/y",shorttime:"h:mm a",longdate:"EEEE, MMMM d, y",longtime:"h:mm:ss a",monthandday:"MMMM d",monthandyear:"MMMM y",quarterandyear:"QQQ y",day:"d",year:"y",shortdateshorttime:"M/d/y, h:mm a",longdatelongtime:"EEEE, MMMM d, y, h:mm:ss a",month:"LLLL",shortyear:"yy",dayofweek:"EEEE",quarter:"QQQ",hour:"HH",minute:"mm",second:"ss",millisecond:"SSS","datetime-local":"yyyy-MM-ddTHH':'mm':'ss"},Ire={year:["y","yy","yyyy"],day:["d","dd"],month:["M","MM","MMM","MMMM"],hours:["H","HH","h","hh","ah"],minutes:["m","mm"],seconds:["s","ss"],milliseconds:["S","SS","SSS"]},uj=Xr({engine:function(){return"base"},_getPatternByFormat:function(e){return vB[e.toLowerCase()]},_expandPattern:function(e){return this._getPatternByFormat(e)||e},formatUsesMonthName:function(e){return-1!==this._expandPattern(e).indexOf("MMMM")},formatUsesDayName:function(e){return-1!==this._expandPattern(e).indexOf("EEEE")},getFormatParts:function(e){var n=this._getPatternByFormat(e)||e,t=[];return B(n.split(/\W+/),(i,r)=>{B(Ire,(o,s)=>{s.includes(r)&&t.push(o)})}),t},getMonthNames:function(e){return Cx.getMonthNames(e)},getDayNames:function(e){return Cx.getDayNames(e)},getQuarterNames:function(e){return Cx.getQuarterNames(e)},getPeriodNames:function(e){return Cx.getPeriodNames(e)},getTimeSeparator:function(){return":"},is24HourFormat:function(e){for(var n=new Date(2017,0,20,11,0,0,0),t=new Date(2017,0,20,23,0,0,0),i=this.format(n,e),r=this.format(t,e),o=0;o<i.length;o++)if(i[o]!==r[o])return!isNaN(parseInt(i[o]))},format:function(e,n){if(e){if(!n)return e;var t;if("function"==typeof n)t=n;else if(n.formatter)t=n.formatter;else if(je(n=n.type||n))return n=vB[n.toLowerCase()]||n,en.convertDigits(ej(n,this)(e));if(t)return t(e)}},parse:function(e,n){var i,r,t=this;if(e){if(!n)return this.parse(e,"shortdate");if(n.parser)return n.parser(e);if("string"!=typeof n||vB[n.toLowerCase()]){r=s=>{var l=t.format(s,n);return en.convertDigits(l,!0)};try{i=ij(r)}catch{}}else i=n;if(i)return e=en.convertDigits(e,!0),function(e,n){var t=sj(e,n);return function(i){var r=t.regexp.exec(i);if(r){var o=new Date,s=new Date(o.getFullYear(),0,1),l=function(e){return e.map(function(n){return"'"===n[0]?"":"H"===n[0]?"h":n[0]})}(t.patterns),h=function(e){var n=e.map(function(t){return u0.indexOf(t)});return Math.max.apply(Math,n)}(l),g=function(e){var n=e.filter(function(t){return u0.indexOf(t)<0});return u0.concat(n)}(l),_={};return g.forEach(function(v,C){if(v&&!(C<u0.length&&C>h)){var b=l.indexOf(v);b>=0?function(e,n,t,i,r){var o=n[0],s=hB[o],l=nre[o];if(s&&l){var h=l(t,n.length,i);r[n]=h,e[s]?e[s](h):s(e,h,r)}}(s,t.patterns[b],r[b+1],n,_):function(e,n,t){var i=hB[n],o=t["g"+i.substr(1)]();e[i](o)}(s,v,o)}}),s}return null}}(i,this)(e);zt.log("W0012");var o=new Date(e);if(o&&!isNaN(o.getTime()))return o}},firstDayOfWeekIndex:function(){var e=Zr.getValueByClosestLocale(n=>vre[n]);return void 0===e?0:e}});wre&&uj.inject(Sre);const Ct=uj,cj=Xr({format:function(e,n){var t=je(n)&&""!==n||ft(n)||Re(n),i=Vt(e)||ur(e);return t&&i?Re(n)?n(e):(je(n)&&(n={type:n}),Vt(e)?en.format(e,n):ur(e)?Ct.format(e,n):void 0):T(e)?e.toString():""},getTimeFormat:function(e){return e?"longtime":"shorttime"},_normalizeFormat:function(e){return Array.isArray(e)?1===e.length?e[0]:function(n){return e.map(function(t){return Ct.format(n,t)}).join(" ")}:e},getDateFormatByDifferences:function(e,n){var t=[],i=n&&e.millisecond&&!(e.year||e.month||e.day);return i?t.push(function(r){return r.getSeconds()+r.getMilliseconds()/1e3+"s"}):e.millisecond&&t.push("millisecond"),(e.hour||e.minute||!i&&e.second)&&t.unshift(this.getTimeFormat(e.second)),e.year&&e.month&&e.day?n&&"month"===n?"monthandyear":(t.unshift("shortdate"),this._normalizeFormat(t)):e.year&&e.month?"monthandyear":e.year&&e.quarter?"quarterandyear":e.year?"year":e.quarter?"quarter":e.month&&e.day?(t.unshift(n?function(r){return Ct.getMonthNames("abbreviated")[r.getMonth()]+" "+Ct.format(r,"day")}:"monthandday"),this._normalizeFormat(t)):e.month?"month":e.day?(t.unshift(n?"day":function(r){return Ct.format(r,"dayofweek")+", "+Ct.format(r,"day")}),this._normalizeFormat(t)):this._normalizeFormat(t)},getDateFormatByTicks:function(e){var n,t,i;if(e.length>1)for(n=Je.getDatesDifferences(e[0],e[1]),i=1;i<e.length-1;i++)t=Je.getDatesDifferences(e[i],e[i+1]),n.count<t.count&&(n=t);else n={year:!0,month:!0,day:!0,hour:e[0].getHours()>0,minute:e[0].getMinutes()>0,second:e[0].getSeconds()>0,millisecond:e[0].getMilliseconds()>0};return this.getDateFormatByDifferences(n)},getDateFormatByTickInterval:function(e,n,t){var i,r=function(l,h,g){switch(h){case"year":case"quarter":l.month=g;case"month":l.day=g;case"week":case"day":l.hour=g;case"hour":l.minute=g;case"minute":l.second=g;case"second":l.millisecond=g}};t=je(t)?t.toLowerCase():t;var l,h,g,o=Je.getDatesDifferences(e,n);return e!==n&&(l=o,h=e>n?n:e,!(g=e>n?e:n).getMilliseconds()&&g.getSeconds()?g.getSeconds()-h.getSeconds()==1&&(l.millisecond=!0,l.second=!1):!g.getSeconds()&&g.getMinutes()?g.getMinutes()-h.getMinutes()==1&&(l.second=!0,l.minute=!1):!g.getMinutes()&&g.getHours()?g.getHours()-h.getHours()==1&&(l.minute=!0,l.hour=!1):!g.getHours()&&g.getDate()>1?g.getDate()-h.getDate()==1&&(l.hour=!0,l.day=!1):1===g.getDate()&&g.getMonth()?g.getMonth()-h.getMonth()==1&&(l.day=!0,l.month=!1):!g.getMonth()&&g.getFullYear()&&g.getFullYear()-h.getFullYear()==1&&(l.month=!0,l.year=!1)),r(o,Je.getDateUnitInterval(o),!0),r(o,i=Je.getDateUnitInterval(t||"second"),!1),o[{week:"day"}[i]||i]=!0,this.getDateFormatByDifferences(o)}});var Tre=["year","month","day"],Mre=["year","month","day","hour","minute"],CB=function(e){return"date"===e||"datetime"===e},yB=function(e){var n,t=[],i=["year","month","day","hour","minute","second"],r=e.headerFilter&&e.headerFilter.groupInterval,o="quarter"===r?"month":r;return CB(e.dataType)&&null!==r?(t="datetime"===e.dataType?Mre:Tre,(n=i.indexOf(o))>=0&&(t=i.slice(0,n)).push(r),t):T(r)?Array.isArray(r)?r:[r]:void 0};const P_=function(){var e=function(r,o){var s=r.dataField||r.selector;return"search"===o&&(s=r.displayField||r.calculateDisplayValue||s),s},n=function(r,o){var s,l,h,_,g=e(this,o);if(Array.isArray(r)&&T(r[0])&&T(r[1]))return l=[g,">=",r[0]],h=[g,"<=",r[1]],CB(this.dataType)&&(_=r[1]).getHours()+_.getMinutes()+_.getSeconds()+_.getMilliseconds()<1&&(s=new Date(r[1].getTime()),"date"===this.dataType&&s.setDate(r[1].getDate()+1),h=[g,"<",s]),[l,"and",h]},t=function(r,o,s){var l,h,g,C,_=ur(C=r)?[C.getFullYear(),C.getMonth(),C.getDate(),C.getHours(),C.getMinutes(),C.getSeconds()]:Fn((""+C).split("/"),function(b,E){return 1===E?Number(b)-1:Number(b)}),v=e(this,s);switch("headerFilter"===s?g=yB(this)[_.length-1]:"datetime"===this.dataType&&(g="minute"),g){case"year":l=new Date(_[0],0,1),h=new Date(_[0]+1,0,1);break;case"month":l=new Date(_[0],_[1],1),h=new Date(_[0],_[1]+1,1);break;case"quarter":l=new Date(_[0],3*_[1],1),h=new Date(_[0],3*_[1]+3,1);break;case"hour":l=new Date(_[0],_[1],_[2],_[3]),h=new Date(_[0],_[1],_[2],_[3]+1);break;case"minute":l=new Date(_[0],_[1],_[2],_[3],_[4]),h=new Date(_[0],_[1],_[2],_[3],_[4]+1);break;case"second":l=new Date(_[0],_[1],_[2],_[3],_[4],_[5]),h=new Date(_[0],_[1],_[2],_[3],_[4],_[5]+1);break;default:l=new Date(_[0],_[1],_[2]),h=new Date(_[0],_[1],_[2]+1)}switch(o){case"<":return[v,"<",l];case"<=":return[v,"<",h];case">":return[v,">=",h];case">=":return[v,">=",l];case"<>":return[[v,"<",l],"or",[v,">=",h]];default:return[[v,">=",l],"and",[v,"<",h]]}},i=function(r,o,s){var l=e(this,s),h=yB(this);if("headerFilter"===s&&h&&T(r)){var g=(""+r).split("/"),_=Number(g[g.length-1]);return[[l,">=",_],"and",[l,"<",_+h[g.length-1]]]}return[l,o||"=",r]};return{defaultCalculateFilterExpression:function(r,o,s){var l=this,h=e(l,s),g=l.calculateDisplayValue&&"search"===s,_=g&&l.lookup&&l.lookup.dataType||l.dataType,v=null;if("headerFilter"!==s&&"filterBuilder"!==s||null!==r)if("string"!==_||l.lookup&&!g){if("between"===o)return n.apply(l,[r,s]);if(CB(_)&&T(r))return t.apply(l,arguments);if("number"===_)return i.apply(l,arguments);v=[h,o||"=",r]}else v=[h,o||"contains",r];else v=[h,o||"=",null],"string"===_&&(v=[v,"="===o?"or":"and",[h,o||"=",""]]);return v},getGroupInterval:yB}}();var hj="virtual",pj="scrolling.mode",Nre={year:e=>e&&e.getFullYear(),month:e=>e&&e.getMonth()+1,day:e=>e&&e.getDate(),quarter:e=>e&&Math.floor(e.getMonth()/3)+1,hour:e=>e&&e.getHours(),minute:e=>e&&e.getMinutes(),second:e=>e&&e.getSeconds()},Hre=function(){var n=this.calculateCellValue(arguments[1]);if(!T(n))return null;if(gj(this.dataType))return Nre[arguments[0]](n);if("number"===this.dataType){var i=arguments[0];return Math.floor(Number(n)/i)*i}},zre=function(e,n){return Re(e)&&Re(n)&&e.originalCallback&&n.originalCallback?e.originalCallback===n.originalCallback&&e.columnIndex===n.columnIndex:e===n};function gj(e){return"date"===e||"datetime"===e}var fj=function(e){e.get(0).textContent="\xa0"},xB=function(e){for(var n=jl(e=e||[]),t=0;t<e.length;t++)e&&e[t]&&void 0!==e[t].isExpanded&&(n[t].isExpanded=e[t].isExpanded),e&&e[t]&&void 0!==e[t].groupInterval&&(n[t].groupInterval=e[t].groupInterval);return n},_j=function(e,n){var t=cj.format(e,n.format)||e&&e.toString()||"",i={value:e,valueText:n.getDisplayFormat?n.getDisplayFormat(t):t,target:n.target||"row",groupInterval:n.groupInterval};return n.customizeText?n.customizeText.call(n,i):i.valueText},mj=function(e,n){var t=e.displayFormat||e.columnCaption&&n["".concat(e.summaryType,"OtherColumn")]||n[e.summaryType];return _j(e.value,{format:e.valueFormat,getDisplayFormat:i=>t?Ho(t,i,e.columnCaption):i,customizeText:e.customizeText})},vj=function(e){var n=e.data&&e.data(),t=n&&n.dxComponents,i=t&&t[0];return i&&n[i]};const xe={renderNoDataText(e){if(e=e||this.element()){var n=this.addWidgetPrefix("nodata"),t=e.find(".".concat(n)).last(),i=this._dataController.isEmpty(),r=this._dataController.isLoading();t.length||(t=x("<span>").addClass(n).appendTo(e)),i&&!r?t.removeClass("dx-hidden").text(this._getNoDataText()):t.addClass("dx-hidden")}},renderLoadPanel(e,n,t){var i;this._loadPanel&&this._loadPanel.$element().remove(),(i=this.option("loadPanel"))&&("auto"===i.enabled?!t:i.enabled)?(i=A({shading:!1,message:i.text,container:n},i),this._loadPanel=this._createComponent(x("<div>").appendTo(n),Uk,i)):this._loadPanel=null},calculateLoadPanelPosition(e){var n=x(ut());return gt(e)>gt(n)?{of:n,boundary:e,collision:"fit"}:{of:e}},getIndexByKey(e,n,t){var i=-1;if(void 0!==e&&Array.isArray(n)){t=arguments.length<=2?"key":t;for(var r=0;r<n.length;r++){var o=T(t)?n[r][t]:n[r];if(Jt(e,o)){i=r;break}}}return i},combineFilters(e,n){var t,i=[];n=n||"and";for(var r=0;r<e.length;r++)if(e[r]){if(1===(null===(t=e[r])||void 0===t?void 0:t.length)&&"!"===e[r][0]){if("and"===n)return["!"];if("or"===n)continue}i.length&&i.push(n),i.push(e[r])}if(1===i.length&&(i=i[0]),i.length)return i},checkChanges(e,n){for(var t=0,i=0;i<n.length;i++)e[n[i]]&&t++;return e.length&&e.length===t},equalFilterParameters:function e(n,t){if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return!1;for(var i=0;i<n.length;i++)if(!e(n[i],t[i]))return!1;return!0}return Re(n)&&n.columnIndex>=0&&Re(t)&&t.columnIndex>=0?n.columnIndex===t.columnIndex&&wi(n.filterValue)===wi(t.filterValue)&&wi(n.selectedFilterOperation)===wi(t.selectedFilterOperation):wi(n)==wi(t)},proxyMethod(e,n,t){e[n]||(e[n]=function(){var i=this._dataSource;return i?i[n].apply(i,arguments):t})},formatValue:_j,getFormatOptionsByColumn:(e,n)=>({format:e.format,getDisplayFormat:e.getDisplayFormat,customizeText:e.customizeText,target:n,trueText:e.trueText,falseText:e.falseText}),getDisplayValue:(e,n,t,i)=>e.displayValueMap&&void 0!==e.displayValueMap[n]?e.displayValueMap[n]:e.calculateDisplayValue&&t&&"group"!==i?e.calculateDisplayValue(t):!e.lookup||"group"===i&&(e.calculateGroupValue||e.calculateDisplayValue)?n:e.lookup.calculateCellValue(n),getGroupRowSummaryText(e,n){for(var t="(",i=0;i<e.length;i++)t+=(i>0?", ":"")+mj(e[i],n);return t+")"},getSummaryText:mj,normalizeSortingInfo:xB,getFormatByDataType(e){switch(e){case"date":return"shortDate";case"datetime":return"shortDateShortTime";default:return}},getHeaderFilterGroupParameters(e,n){var t=[],i=e.dataField||e.name,r=P_.getGroupInterval(e);return r?(B(r,(o,s)=>{t.push(n?{selector:i,groupInterval:s,isExpanded:o<r.length-1}:Hre.bind(e,s))}),t):(n?t=[{selector:i,isExpanded:!1}]:(t=function(o){var s=e.calculateCellValue(o);return(void 0===s||""===s)&&(s=null),s},e.sortingMethod&&(t=[{selector:t,compare:e.sortingMethod.bind(e)}])),t)},equalSortParameters(e,n,t){if(e=xB(e),n=xB(n),Array.isArray(e)&&Array.isArray(n)){if(e.length!==n.length)return!1;for(var i=0;i<e.length;i++)if(!zre(e[i].selector,n[i].selector)||e[i].desc!==n[i].desc||e[i].groupInterval!==n[i].groupInterval||!t&&!!e[i].isExpanded!=!!n[i].isExpanded)return!1;return!0}return(!e||!e.length)==(!n||!n.length)},getPointsByColumns(e,n,t,i){for(var s,l,_,r=e.length,o=!1,h=i||0,g=[],v=0;v<=r;v++){v<r&&(l=(s=e.eq(v)).offset(),_="rtl"===s.css("direction"));var C={index:h,x:l?l.left+(!t&&_^v===r?Zn(s[0]).width:0):0,y:l?l.top+(t&&v===r?Zn(s[0]).height:0):0,columnIndex:h};if(!t&&v>0){var b=e.eq(v-1).offset();b.top<C.y&&(C.y=b.top)}n&&(o=n(C)),o||g.push(C),h++}return g},getExpandCellTemplate:()=>({allowRenderToDetachedContainer:!0,render(e,n){var t=x(e);if(!T(n.value)||n.data&&n.data.isContinuation||n.row.isNewRow)fj(t);else{var i=n.component.getView("rowsView");t.addClass("dx-datagrid-expand").addClass("dx-selection-disabled"),x("<div>").addClass(n.value?"dx-datagrid-group-opened":"dx-datagrid-group-closed").appendTo(t),i.setAria("label",i.localize(n.value?"dxDataGrid-ariaCollapse":"dxDataGrid-ariaExpand"),t)}}}),setEmptyText:fj,isDateType:gj,getSelectionRange(e){try{if(e)return{selectionStart:e.selectionStart,selectionEnd:e.selectionEnd}}catch{}return{}},setSelectionRange(e,n){try{e&&e.setSelectionRange&&e.setSelectionRange(n.selectionStart,n.selectionEnd)}catch{}},focusAndSelectElement(e,n){var t=n.is(":focus");R.trigger(n,"focus");var i=e.option("editing.selectTextOnEditStart"),r=n.get(0);if(!t&&i&&n.is(".dx-texteditor-input")&&!n.is("[readonly]")){var o=vj(n.closest(".dx-texteditor"));ke(o&&o._loadItemDeferred).done(()=>{r.select()})}},getWidgetInstance:vj,getLastResizableColumnIndex(e,n){var i,t=e.some(l=>l&&!l.command&&!l.fixed&&!1!==l.allowResizing);for(i=e.length-1;e[i];i--){var r=e[i];if(!(r.command||r.fixed||"adaptiveHidden"===(n&&n[i])||t&&!1===r.allowResizing))break}return i},isElementInCurrentGrid:(e,n)=>!(!n||!n.length)&&n.closest(".".concat(e.getWidgetContainerClass())).parent().is(e.component.$element()),isVirtualRowRendering(e){var n=e.option("scrolling.rowRenderingMode"),t=e.option(pj)===hj,i="infinite"===e.option(pj);return!(!1!==e.option("scrolling.legacyMode")||!t&&!i)||n===hj},getPixelRatio:e=>e.devicePixelRatio||1,getContentHeightLimit(e){return e.mozilla?8e6:15e6/this.getPixelRatio(ut())},normalizeLookupDataSource(e){var n;return e.items?n=e.items:Re(n=e.dataSource)&&!Jn.isWrapped(n)&&(n=n({})),w_(n)},getWrappedLookupDataSource(e,n,t){if(!n)return[];var i=this.normalizeLookupDataSource(e.lookup);if(e.calculateCellValue!==e.defaultCalculateCellValue)return i;var s,l,h,r=n.remoteOperations().groupPaging,o=e.displayField&&je(e.displayField),g=(v,C)=>{var b,E=null!==(b=C.skip)&&void 0!==b?b:0;return v.slice(E,C.take?E+C.take:v.length)},_=de(de({},i),{__dataGridSourceFilter:t,load:v=>{var b,E,w,C=new W;return(b=v,E=function $re(e){return Array.isArray(e)||(e=[e]),e.map((n,t)=>je(n)?{selector:n,isExpanded:t<e.length-1}:n)}(o?[e.dataField,e.displayField]:e.dataField),w=new W,s&&(!r||b.skip===h&&b.take===l)?w.resolve(g(s,b)):(h=b.skip,l=b.take,n.load({filter:t,group:E,take:r?b.take:void 0,skip:r?b.skip:void 0}).done(k=>{s=k,w.resolve(r?k:g(k,b))}).fail(w.fail)),w).done(b=>{if(0!==b.length){var E=this.combineFilters(b.flatMap(M=>M.key).map(M=>[e.lookup.valueExpr,M]),"or");new Yl(de(de(de({},i),v),{filter:this.combineFilters([E,v.filter],"and"),paginate:!1})).load().done(C.resolve).fail(C.fail)}else C.resolve([])}).fail(C.fail),C},key:e.lookup.valueExpr,byKey(v){var C=W();return this.load({filter:[e.lookup.valueExpr,"=",v]}).done(b=>{C.resolve(b[0])}),C.promise()}});return _},logHeaderFilterDeprecatedWarningIfNeed(e){var n=e._logDeprecatedOptionWarning.bind(e);T(e.option("headerFilter.allowSearch"))&&n("headerFilter.allowSearch",{since:"23.1",alias:"headerFilter.search.enabled"}),T(e.option("headerFilter.searchTimeout"))&&n("headerFilter.searchTimeout",{since:"23.1",alias:"headerFilter.search.timeout"});var t="dxPivotGrid"===e.NAME?"dataSource.fields":"columns",i=e.option(t);if(Array.isArray(i)){var r=o=>{o.forEach(s=>{var l,h=s.headerFilter||{};T(h.allowSearch)&&n("".concat(t,"[].headerFilter.allowSearch"),{since:"23.1",alias:"".concat(t,"[].headerFilter.search.enabled")}),T(h.searchMode)&&n("".concat(t,"[].headerFilter.searchMode"),{since:"23.1",alias:"".concat(t,"[].headerFilter.search.mode")}),null!==(l=s.columns)&&void 0!==l&&l.length&&r(s.columns)})};r(i)}}};var Cj="scroll-container",yx="dx-row",bB="dx-group-row",OB="dx-master-detail-row",yj="0.0001px",DB="dxCellHintVisible",toe={render(e){e.container.append(e.content)}},h0=function(e){return"auto"===e?"":Vt(e)?"".concat(e,"px"):e},xj=function(e,n,t){e.style.width=e.style.maxWidth="auto"===n.width?"":t},roe=function(e){e.resolve()},ooe=dn.View.inherit(aie);class xx extends ooe{_createScrollableOptions(){var n=this.option("scrolling"),t=this.option("scrolling.useNative"),i=A({},n,{direction:"both",bounceEnabled:!1,useKeyboard:!1});return void 0===t&&(t=!0),"auto"===t?(delete i.useNative,delete i.useSimulatedScrollbar):(i.useNative=!!t,i.useSimulatedScrollbar=!t),i}_updateCell(n,t){t.rowType&&this._cellPrepared(n,t)}_createCell(n){var{column:t}=n,i=t.alignment||Lu(this.option("rtlEnabled")),r=se.createElement("td");r.style.textAlign=i;var o=x(r);return"data"===n.rowType&&t.headerId&&!t.type&&this.component.option("showColumnHeaders")&&this.setAria("describedby",t.headerId,o),t.cssClass&&o.addClass(t.cssClass),"expand"===t.command&&(o.addClass(t.cssClass),o.addClass(this.addWidgetPrefix("group-space"))),t.colspan>1?o.attr("colSpan",t.colspan):!t.isBand&&"auto"!==t.visibleWidth&&this.option("columnAutoWidth")&&((t.width||t.minWidth)&&(r.style.minWidth=h0(t.minWidth||t.width)),t.width&&xj(r,t,h0(t.width))),o}_createRow(n,t){var i=x("<".concat(t=t||"tr",">")).addClass(yx);return this.setAria("role","row",i),i}_isAltRow(n){return n&&n.dataIndex%2==1}_createTable(n,t){var i=this,r=x("<table>").addClass(i.addWidgetPrefix("table")).addClass(i.addWidgetPrefix("table-fixed"));if(n&&!t?(r.append(i._createColGroup(n)),Gt.safari&&r.append(x("<thead>").append("<tr>"))):i.setAria("hidden",!0,r),this.setAria("role","presentation",x("<tbody>").appendTo(r)),t)return r;Gt.mozilla&&R.on(r,"mousedown","td",s=>{s.ctrlKey&&s.preventDefault()}),i.option("cellHintEnabled")&&R.on(r,"mousemove",".dx-row > td",this.createAction(s=>{var l=s.event,h=x(l.target),g=x(l.currentTarget),_=g.parent(),v=i._columnsController.getVisibleColumns(),C=_.data("options"),b=g.index(),E=C&&C.cells&&C.cells[b],w=E?E.column:v[b],M=_.hasClass("dx-header-row"),k=_.hasClass("dx-data-row"),L=_.hasClass(OB),G=_.hasClass(bB),Q=_.hasClass(i.addWidgetPrefix("filter-row")),le=k&&(!w||w.cellTemplate);L||Q||k&&E&&(C.isEditing||E.isEditing||w?.showEditorAlways)||le||M&&(!w||w.headerCellTemplate)||G&&(!w||w.groupIndex&&w.groupCellTemplate)||(h.data(DB)&&(h.removeAttr("title"),h.data(DB,!1)),h[0].scrollWidth-h[0].clientWidth>0&&!T(h.attr("title"))&&(h.attr("title",h.text()),h.data(DB,!0)))}));var o=function(s){var l=x(s.currentTarget),h=x(s.target).closest(".".concat("dx-field-item-content")),g=l.parent(),_=g.data("options"),v=_&&_.cells&&_.cells[l.index()];if(l.closest("table").is(s.delegateTarget)){var C=A({},v,{cellElement:Ke(l),event:s,eventType:s.type});if(C.rowIndex=i.getRowIndex(g),h.length){var b=h.data("dx-form-item");b.column&&(C.column=b.column,C.columnIndex=i._columnsController.getVisibleIndex(C.column.index))}return C}};return R.on(r,"mouseover",".dx-row > td",s=>{var l=o(s);l&&i.executeAction("onCellHoverChanged",l)}),R.on(r,"mouseout",".dx-row > td",s=>{var l=o(s);l&&i.executeAction("onCellHoverChanged",l)}),R.on(r,Kt,".dx-row > td",s=>{var l=o(s);l&&i.executeAction("onCellClick",l)}),R.on(r,px,".dx-row > td",s=>{var l=o(s);l&&i.executeAction("onCellDblClick",l)}),function(e,n){var t,i,r;function o(s){return setTimeout(()=>{t=i=null},s)}R.on(n,"touchstart touchend",".dx-row",s=>{clearTimeout(r),"touchstart"===s.type?(t=s.target,i=s.currentTarget,r=o(1e3)):r=o()}),R.on(n,[Kt,px,Rt.down].join(" "),".dx-row",e.createAction(s=>{var{event:l}=s;t&&(l.target=t,l.currentTarget=i),x(l.target).closest("a").length||(s.rowIndex=e.getRowIndex(l.currentTarget),s.rowIndex>=0&&(s.rowElement=Ke(x(l.currentTarget)),s.columns=e.getColumns(),l.type===Rt.down?e._rowPointerDown(s):l.type===Kt?e._rowClick(s):e._rowDblClick(s)))}))}(i,r),r}_rowPointerDown(){}_rowClick(){}_rowDblClick(){}_createColGroup(n){for(var t=x("<colgroup>"),i=0;i<n.length;i++)for(var r=n[i].colspan||1,o=0;o<r;o++)t.append(this._createCol(n[i]));return t}_createCol(n){var t=n.visibleWidth||n.width;"adaptiveHidden"===t&&(t=yj);var i=x("<col>");return aC(i,t),i}renderDelayedTemplates(n){var t=this._delayedTemplates,i=t.filter(o=>!o.async),r=t.filter(o=>o.async);this._delayedTemplates=[],this._renderDelayedTemplatesCore(i,!1,n),this._renderDelayedTemplatesCoreAsync(r)}_renderDelayedTemplatesCoreAsync(n){if(n.length){var t=ut().setTimeout(()=>{this._templateTimeouts.delete(t),this._renderDelayedTemplatesCore(n,!0)});this._templateTimeouts.add(t)}}_renderDelayedTemplatesCore(n,t,i){for(var r=new Date;n.length;){var o=n.shift(),{options:s}=o,l=se.getRootNode(x(s.container).get(0)),h=this.needWaitAsyncTemplates();if((!t||x(s.container).closest(l).length||h)&&(i&&(s.change=i),o.template.render(s)),t&&new Date-r>30){this._renderDelayedTemplatesCoreAsync(n);break}}!n.length&&this._delayedTemplates.length&&this.renderDelayedTemplates()}_processTemplate(n,t){var i;if(n&&n.render&&!Fr(n))i={allowRenderToDetachedContainer:n.allowRenderToDetachedContainer,render(o){n.render(o.container,o.model,o.change),o.deferred&&o.deferred.resolve()}};else if(Re(n))i={render(o){var s=n(Ke(o.container),o.model,o.change);s&&(s.nodeType||Fr(s))&&o.container.append(s),o.deferred&&o.deferred.resolve()}};else{var r=je(n)?n:x(n).attr("id");r?(this._templatesCache[r]||(this._templatesCache[r]=this.getTemplate(n)),i=this._templatesCache[r]):i=this.getTemplate(n)}return i}renderTemplate(n,t,i,r,o){var s,l=this._processTemplate(t,i),{column:h}=i,g="data"===i.rowType,_=new W,v={container:n,model:i,deferred:_,onRendered:()=>{this.isDisposed()?_.reject():_.resolve()}};if(l){i.component=this.component;var C=h&&(h.renderAsync&&g||this.option("renderAsync")&&(!1!==h.renderAsync&&(h.command||h.showEditorAlways)&&g||"filter"===i.rowType)),b=null!==(s=i.renderAsync)&&void 0!==s?s:C;!l.allowRenderToDetachedContainer&&!r||b?this._delayedTemplates.push({template:l,options:v,async:b}):l.render(v),this._templateDeferreds.add(_),R.on(n,Ko,roe.bind(null,_))}else _.reject();return _.promise().always(()=>{this._templateDeferreds.delete(_)})}_getBodies(n){return x(n).children("tbody").not(".dx-header").not(".dx-footer")}_needWrapRow(n){var t;return!!this.option().rowTemplate&&!(null===(t=this._getBodies(n))||void 0===t||!t.filter(".".concat(yx)).length)}_wrapRowIfNeed(n,t,i){if(this._needWrapRow(i?n||this._tableElement:this._tableElement||n)){var s=x("<tbody>").addClass(t.attr("class"));return this.setAria("role","presentation",s),s.append(t)}return t}_appendRow(n,t,i){(i=i||toe).render({content:t,container:n})}_resizeCore(){var n=this._scrollLeft;n>=0&&(this._scrollLeft=0,this.scrollTo({left:n}))}_renderCore(n){var t=this.element().parent();(!t||t.parent().length)&&this.renderDelayedTemplates(n)}_renderTable(n){(n=n||{}).columns=this._columnsController.getVisibleColumns();var t=n.change&&n.change.changeType,i=this._createTable(n.columns,"append"===t||"prepend"===t||"update"===t);return this._renderRows(i,n),i}_renderRows(n,t){for(var i=this._getRows(t.change),r=t.change&&t.change.columnIndices||[],o=t.change&&t.change.changeTypes||[],s=0;s<i.length;s++)this._renderRow(n,A({row:i[s],columnIndices:r[s],changeType:o[s]},t))}_renderRow(n,t){t.columnIndices||(t.row.cells=[]);var i=this._createRow(t.row),r=this._wrapRowIfNeed(n,i);"remove"!==t.changeType&&this._renderCells(i,t),this._appendRow(n,r);var o=A({columns:t.columns},t.row);this._addWatchMethod(o,t.row),this._rowPrepared(r,o,t.row)}_needRenderCell(n,t){return!t||t.indexOf(n)>=0}_renderCells(n,t){for(var i=0,{row:r}=t,{columns:o}=t,s=0;s<o.length;s++)this._needRenderCell(s,t.columnIndices)&&this._renderCell(n,A({column:o[s],columnIndex:i,value:r.values&&r.values[i],oldValue:r.oldValues&&r.oldValues[i]},t)),o[s].colspan>1?i+=o[s].colspan:i++}_updateCells(n,t,i){var r=n.children(),o=t.children(),s=this.option("highlightChanges"),l=this.addWidgetPrefix("cell-updated-animation");i.forEach((h,g)=>{var _=r.eq(h),v=o.eq(g);_.replaceWith(v),s&&!v.hasClass("dx-command-expand")&&v.addClass(l)}),function(e,n){if(e&&n){var r,t=e.attributes,i=n.attributes;for(r=0;r<t.length;r++){var o=t[r].nodeName;n.hasAttribute(o)||e.removeAttribute(o)}for(r=0;r<i.length;r++)e.setAttribute(i[r].nodeName,i[r].nodeValue)}}(n.get(0),t.get(0))}_setCellAriaAttributes(n,t){if("freeSpace"!==t.rowType){this.setAria("role","gridcell",n);var i=this._columnsController.getColumnIndexOffset();this.setAria("colindex",t.columnIndex+i+1,n)}}_renderCell(n,t){var i=this._getCellOptions(t);if(t.columnIndices){if(t.row.cells){var r=t.row.cells.findIndex(s=>s.columnIndex===i.columnIndex);t.row.cells[r]=i}}else t.row.cells.push(i);var o=this._createCell(i);return this._setCellAriaAttributes(o,i),this._renderCellContent(o,i,t),n.get(0).appendChild(o.get(0)),o}_renderCellContent(n,t,i){var r=this._getCellTemplate(t);ke(!r||this.renderTemplate(n,r,t,void 0,i.change)).done(()=>{this._updateCell(n,t)})}_getCellTemplate(n){}_getRows(n){return[]}_getCellOptions(n){var t={column:n.column,columnIndex:n.columnIndex,rowType:n.row.rowType,isAltRow:this._isAltRow(n.row)};return this._addWatchMethod(t),t}_addWatchMethod(n,t){if(this.option("repaintChangesOnly")){var i=[];return(t=t||n).watch=t.watch||function(r,o,s){var l=r(t.data),h=function(g){g&&s&&s(g);var _=r(t.data);JSON.stringify(l)!==JSON.stringify(_)&&(g&&o(_),l=_)};return i.push(h),function(){var g=i.indexOf(h);g>=0&&i.splice(g,1)}},t.update=t.update||function(r,o){r&&(this.data=n.data=r.data,this.rowIndex=n.rowIndex=r.rowIndex,this.dataIndex=n.dataIndex=r.dataIndex,this.isExpanded=n.isExpanded=r.isExpanded,n.row&&!o&&(n.row=r)),i.forEach(s=>{s(r)})},t!==n&&(n.watch=t.watch.bind(t)),n}}_cellPrepared(n,t){t.cellElement=Ke(x(n)),this.executeAction("onCellPrepared",t)}_rowPrepared(n,t,i){_n(n.get(0),"options",t),t.rowElement=Ke(n),this.executeAction("onRowPrepared",t)}_columnOptionChanged(n){var{optionNames:t}=n;if(xe.checkChanges(t,["width","visibleWidth"])){var i=this._columnsController.getVisibleColumns(),r=Fn(i,o=>{var s=o.visibleWidth||o.width;return T(s)?s:"auto"});this.setColumnWidths({widths:r,optionNames:t})}else this._requireReady||this.render()}getCellIndex(n){return n.length?n[0].cellIndex:-1}getTableElements(){return this._tableElement||x()}getTableElement(n){return this._tableElement}setTableElement(n,t){this._tableElement=n}optionChanged(n){switch(super.optionChanged(n),n.name){case"cellHintEnabled":case"onCellPrepared":case"onRowPrepared":case"onCellHoverChanged":this._invalidate(!0,!0),n.handled=!0}}init(){this._scrollLeft=-1,this._columnsController=this.getController("columns"),this._dataController=this.getController("data"),this._delayedTemplates=[],this._templateDeferreds=new Set,this._templatesCache={},this._templateTimeouts=new Set,this.createAction("onCellClick"),this.createAction("onRowClick"),this.createAction("onCellDblClick"),this.createAction("onRowDblClick"),this.createAction("onCellHoverChanged",{excludeValidators:["disabled","readOnly"]}),this.createAction("onCellPrepared",{excludeValidators:["disabled","readOnly"],category:"rendering"}),this.createAction("onRowPrepared",{excludeValidators:["disabled","readOnly"],category:"rendering",afterExecute:n=>{this._afterRowPrepared(n)}}),this._columnsController.columnsChanged.add(this._columnOptionChanged.bind(this)),this._dataController&&this._dataController.changed.add(this._handleDataChanged.bind(this))}_afterRowPrepared(n){}_handleDataChanged(){}callbackNames(){return["scrollChanged"]}_updateScrollLeftPosition(){var n=this._scrollLeft;n>=0&&(this._scrollLeft=0,this.scrollTo({left:n}))}scrollTo(n){var t=this.element(),i=t&&t.children(".".concat(this.addWidgetPrefix(Cj))).not(".".concat(this.addWidgetPrefix("content-fixed")));T(n)&&T(n.left)&&this._scrollLeft!==n.left&&(this._scrollLeft=n.left,i&&i.scrollLeft(n.left))}_getContent(n){var t;return null===(t=this._tableElement)||void 0===t?void 0:t.parent()}_removeContent(n){var t=this._getContent(n);t?.length&&t.remove()}_wrapTableInScrollContainer(n,t){var i=x("<div>"),r=this.option("scrolling.useNative");return(!1===r||"auto"===r&&!we)&&i.addClass(this.addWidgetPrefix("scrollable-simulated")),R.on(i,"scroll",()=>{var o=i.scrollLeft();o!==this._scrollLeft&&this.scrollChanged.fire({left:o},this.name)}),i.addClass(this.addWidgetPrefix("content")).addClass(this.addWidgetPrefix(Cj)).append(n).appendTo(this.element()),this.setAria("role","presentation",i),i}needWaitAsyncTemplates(){return this.option("templatesRenderAsynchronously")&&!1===this.option("renderAsync")}waitAsyncTemplates(){var n=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=new W;if(!n&&!this.needWaitAsyncTemplates())return t.resolve();var r=()=>ke.apply(this,Array.from(this._templateDeferreds)).done(()=>{this.isDisposed()?t.reject():this._templateDeferreds.size>0?r():t.resolve()}).fail(t.reject);return r(),t.promise()}_updateContent(n,t,i){return this.waitAsyncTemplates().done(()=>{this._removeContent(i),this.setTableElement(n,i),this._wrapTableInScrollContainer(n,i)})}_findContentElement(){}_getWidths(n){var i,t=[];return n&&B(n,(r,o)=>{if(i=o.offsetWidth,o.getBoundingClientRect){var s=Zn(o);s.width>i-1&&(i=s.width)}t.push(i)}),t}getColumnWidths(n){var i,r,t=[];if((this.option("forceApplyBindings")||U)(),n=n||this.getTableElement()){i=n.children("tbody:not(.dx-header)").children();for(var o=0;o<i.length;o++){var s=i.eq(o),l="none"!==s.get(0).style.display&&!s.hasClass("dx-state-invisible");if(!s.is(".".concat(bB))&&!s.is(".".concat(OB))&&!s.is(".".concat("dx-error-row"))&&l){r=s.children("td");break}}t=this._getWidths(r)}return t}getVisibleColumnIndex(n,t){return n}setColumnWidths(n){var s,l,h,g,{widths:t,$tableElement:i,columns:r,fixed:o}=n,_=this.option("columnAutoWidth");if((i=i||this.getTableElement())&&i.length&&t){g=0,s=i.children("colgroup").children("col"),aC(s,"auto"),r=r||this.getColumns(null,i);for(var v=0;v<r.length;v++){if(_&&!o&&(l=r[v].width)&&!r[v].command){l=h0(l=r[v].visibleWidth||l),h=h0(r[v].minWidth||l);for(var C=C||i.children().children(".dx-row").not(".".concat(OB)),b=0;b<C.length;b++){var E=C[b],w=void 0,M=this.getVisibleColumnIndex(v,b);(w=E.classList.contains(bB)?E.querySelector("td[aria-colindex='".concat(M+1,"']:not(.").concat("dx-group-cell",")")):E.cells[M])&&(xj(w,r[v],l),w.style.minWidth=h)}}r[v].colspan?g+=r[v].colspan:("adaptiveHidden"===(l=t[g])&&(l=yj),"number"==typeof l&&(l="".concat(l.toFixed(3),"px")),aC(s.eq(g),T(l)?l:"auto"),g++)}}}getCellElements(n){return this._getCellElementsCore(n)}_getCellElementsCore(n){if(!(n<0))return this._getRowElements().eq(n).children()}_getCellElement(n,t){var i=this.getCellElements(n),r=this._getVisibleColumnIndex(i,n,t);if(i?.length&&!(r<0)){var o=i.eq(r);return o.length>0?o:void 0}}_getRowElement(n){var t=this,i=x(),r=t.getTableElements();if(B(r,(o,s)=>{i=i.add(t._getRowElements(x(s)).eq(n))}),i.length)return i}getCellElement(n,t){var i=this._getCellElement(n,t);if(i)return Ke(i)}getRowElement(n){var t=this._getRowElement(n),i=[];if(t&&!Ke(t).get)for(var r=0;r<t.length;r++)i.push(t[r]);else i=t;return i}_getVisibleColumnIndex(n,t,i){if(je(i)){var r=this._columnsController.columnOption(i,"index");return this._columnsController.getVisibleIndex(r)}return i}getColumnElements(){}getColumns(n,t){return this._columnsController.getVisibleColumns(n)}getCell(n,t,i){var o,r=t||this._getRowElements();if(r.length>0&&n.rowIndex>=0&&("virtual"!==this.option("scrolling.mode")&&"virtual"!==this.option("scrolling.rowRenderingMode")&&(n.rowIndex=n.rowIndex<r.length?n.rowIndex:r.length-1),o=i||this.getCellElements(n.rowIndex),o?.length>0))return o.eq(o.length>n.columnIndex?n.columnIndex:o.length-1)}getRowsCount(){var n=this.getTableElement();return n&&1===n.length?n[0].rows.length:0}_getRowElementsCore(n){if(n=n||this.getTableElement()){var i=(this.option().rowTemplate||this.option("dataRowTemplate"))&&n.find("> tbody.".concat(yx));return i&&i.length?i:n.find("> tbody > "+".".concat(yx,", > .").concat(yx))}return x()}_getRowElements(n){return this._getRowElementsCore(n)}getRowIndex(n){return this._getRowElements().index(n)}getBoundingRect(){}getName(){}setScrollerSpacing(n){var t=this.element(),i=this.option("rtlEnabled");t&&t.css({paddingLeft:i?n:"",paddingRight:i?"":n})}isScrollbarVisible(n){var t=this.element(),i=this._tableElement;return!(!t||!i)&&(n?wt(i)-Ze(t)>0:_t(i)-gt(t)>0)}isDisposed(){var n;return null===(n=this.component)||void 0===n?void 0:n._disposed}dispose(){var n,t;if(rt()){var i=ut();null===(n=this._templateTimeouts)||void 0===n||n.forEach(r=>i.clearTimeout(r)),null===(t=this._templateTimeouts)||void 0===t||t.clear()}}}var SB="text-content",bj="dx-header-row",EB="dx-visibility-hidden",Oj="dx-text-content-alignment-",Dj={defaultOptions:()=>({showColumnHeaders:!0,cellHintEnabled:!0}),views:{columnHeadersView:xx.inherit(function(){var e=function(i,r,o){var s=x("<div>").addClass(i.addWidgetPrefix(SB));i.setAria("role","presentation",s),n(i,r,o.column,s);var l=i.option("showColumnLines"),h=i.getController("columns").getHeaderContentAlignment(o.column.alignment);return s[l||"right"===h?"appendTo":"prependTo"](r)};function n(i,r,o,s){var l=i._getIndicatorElements(r,!0),h=i._getIndicatorElements(r),g=l&&l.length,_=i._getColumnAlignment(o.alignment),v=".".concat(i._getIndicatorClassName("sort")),C=".".concat(i._getIndicatorClassName("sortIndex")),b=h.filter(v),E=h.children().filter(C);(s=s||r.children(".".concat(i.addWidgetPrefix(SB)))).toggleClass(Oj+_,g>0).toggleClass(Oj+("left"===_?"right":"left"),g>0&&"center"===o.alignment).toggleClass("dx-sort-indicator",!!b.length).toggleClass("dx-sort-index-indicator",!!E.length).toggleClass("dx-header-filter-indicator",!!h.filter(".".concat(i._getIndicatorClassName("headerFilter"))).length)}var t={_createTable(){var i=this.callBase.apply(this,arguments);return R.on(i,"mousedown selectstart",this.createAction(r=>{var{event:o}=r;o.shiftKey&&o.preventDefault()})),i},_isLegacyKeyboardNavigation(){return this.option("useLegacyKeyboardNavigation")},_getDefaultTemplate(i){var r=this;return function(o,s){var{caption:l}=i,h=!i.command||l&&"expand"!==i.command;"empty"===i.command?r._renderEmptyMessage(o,s):h?e(r,o,s).text(l):i.command&&o.html("&nbsp;")}},_renderEmptyMessage(i,r){var o=this._getEmptyHeaderText();if(o){var s=e(this,i,r);if(o.includes("{0}")){var[h,g]=o.split("{0}"),_=J.format("dxDataGrid-emptyHeaderColumnChooserText"),v=this.component.getView("columnChooserView"),C=x("<a>").text(_).addClass("dx-link");R.on(C,"click",this.createAction(()=>v.showColumnChooser())),s.append(se.createTextNode(h)).append(C).append(se.createTextNode(g))}else s.text(o)}else i.html("&nbsp;")},_getEmptyHeaderText(){var i=!!this.component.getView("columnChooserView").hasHiddenColumns(),r=!!this.component.getView("headerPanel").hasGroupedColumns();switch(!0){case i&&r:return J.format("dxDataGrid-emptyHeaderWithColumnChooserAndGroupPanelText");case r:return J.format("dxDataGrid-emptyHeaderWithGroupPanelText");case i:return J.format("dxDataGrid-emptyHeaderWithColumnChooserText");default:return""}},_getHeaderTemplate(i){return i.headerCellTemplate||{allowRenderToDetachedContainer:!0,render:this._getDefaultTemplate(i)}},_processTemplate(i,r){var o=this,{column:l}=r,h=o.callBase(i);return"header"===r.rowType&&h&&l.headerCellTemplate&&!l.command?{render(g){var _=e(o,g.container,g.model);h.render(A({},g,{container:_}))}}:h},_handleDataChanged(i){"refresh"===i.changeType&&(this._isGroupingChanged||this._requireReady)&&(this._isGroupingChanged=!1,this.render())},_renderCell(i,r){var o=this.callBase(i,r);return"header"===r.row.rowType&&(o.addClass("dx-cell-focus-disabled"),this._isLegacyKeyboardNavigation()||r.column&&!r.column.type&&o.attr("tabindex",this.option("tabindex")||0)),o},_setCellAriaAttributes(i,r){this.callBase(i,r),"header"===r.rowType&&(this.setAria("role","columnheader",i),r.column&&!r.column.command&&!r.column.isBand&&(i.attr("id",r.column.headerId),this.setAria("label","".concat(J.format("dxDataGrid-ariaColumn")," ").concat(r.column.caption),i)))},_createRow(i){var r=this.callBase.apply(this,arguments);return r.toggleClass("dx-column-lines",this.option("showColumnLines")),"header"===i.rowType&&(r.addClass(bj),this._isLegacyKeyboardNavigation()||hx("columnHeaders",this,r,"td",this._handleActionKeyDown.bind(this))),r},_handleActionKeyDown(i){var{event:r}=i,o=x(r.target);if(this._lastActionElement=r.target,o.is(".dx-header-filter")){var s=this.getController("headerFilter"),l=o.closest("td"),h=this.getColumnIndexByElement(l);h>=0&&s.showHeaderFilterMenu(h,!1)}else{var g=o.closest(".dx-row");this._processHeaderAction(r,g)}r.preventDefault()},_renderCore(){var i=this.element(),r={};if(!this._tableElement||this._dataController.isLoaded()||this._hasRowElements){i.addClass(this.addWidgetPrefix("headers")).toggleClass(this.addWidgetPrefix("nowrap"),!this.option("wordWrapEnabled")).empty(),this.setAria("role","presentation",i);var o=this._updateContent(this._renderTable({change:r}),r);return this.getRowCount()>1&&i.addClass("dx-header-multi-row"),this.callBase.apply(this,arguments),o}},_renderRows(){(this._dataController.isLoaded()||this._hasRowElements)&&(this.callBase.apply(this,arguments),this._hasRowElements=!0)},_renderRow(i,r){var o=1===this.getRowCount()?null:r.row.rowIndex;r.columns=this.getColumns(o),this.callBase(i,r)},_createCell(i){var{column:r}=i,o=this.callBase.apply(this,arguments);return r.rowspan>1&&"header"===i.rowType&&o.attr("rowSpan",r.rowspan),o},_getRows(){var i=[],r=this.getRowCount();if(this.option("showColumnHeaders"))for(var o=0;o<r;o++)i.push({rowType:"header",rowIndex:o});return i},_getCellTemplate(i){if("header"===i.rowType)return this._getHeaderTemplate(i.column)},_columnOptionChanged(i){var{changeTypes:r}=i,{optionNames:o}=i;r.grouping||r.groupExpanding?r.grouping&&(this._isGroupingChanged=!0):(this.callBase(i),(o.width||o.visible)&&this.resizeCompleted.fire())},_isElementVisible:i=>i&&i.visible,_alignCaptionByCenter(i){var r=this._getIndicatorContainer(i,!0);r&&r.length&&(r.filter(".".concat(EB)).remove(),(r=this._getIndicatorContainer(i)).clone().addClass(EB).css("float","").insertBefore(i.children(".".concat(this.addWidgetPrefix(SB)))))},_updateCell(i,r){"header"===r.rowType&&"center"===r.column.alignment&&this._alignCaptionByCenter(i),this.callBase.apply(this,arguments)},_updateIndicator(i,r,o){var s=this.callBase.apply(this,arguments);return"center"===r.alignment&&this._alignCaptionByCenter(i),n(this,i,r),s},_getIndicatorContainer(i,r){var o=this.callBase(i);return r?o:o.filter(":not(.".concat(EB,")"))},_isSortableElement:()=>!0,getHeadersRowHeight(){var i=this.getTableElement(),r=i&&i.find(".".concat(bj));return r&&r.toArray().reduce((o,s)=>o+gt(s),0)||0},getHeaderElement(i){var r=this.getColumnElements();return r&&r.eq(i)},getColumnElements(i,r){var s,o=this,l=o._columnsController,h=o.getRowCount();if(o.option("showColumnHeaders")){if(h>1&&(!T(i)||T(r))){var g=[],_=T(r)?l.getChildrenByBandColumn(r,!0):l.getVisibleColumns();return B(_,(v,C)=>{var b=T(i)?i:l.getRowIndex(C.index);(s=o._getCellElement(b,l.getVisibleIndex(C.index,b)))&&g.push(s.get(0))}),x(g)}if(!i||i<h)return o.getCellElements(i||0)}},getColumnIndexByElement(i){var r=this.getCellIndex(i),o=i.closest(".dx-row"),{rowIndex:s}=o[0],l=this.getColumns(s)[r];return l?l.index:-1},getVisibleColumnIndex(i,r){var o=this.getColumns()[i];return o?this._columnsController.getVisibleIndex(o.index,r):-1},getColumnWidths(){var i=this.getColumnElements();return i&&i.length?this._getWidths(i):this.callBase.apply(this,arguments)},allowDragging(i){var r=i&&this._columnsController.getRowIndex(i.index),o=this.getColumns(r);return(this.option("allowColumnReordering")||this._columnsController.isColumnOptionUsed("allowReordering"))&&i.allowReordering&&o.length>1},getBoundingRect(){var i=this.getColumnElements();return i&&i.length?{top:this.getTableElement().offset().top}:null},getName:()=>"headers",getColumnCount(){var i=this.getColumnElements();return i?i.length:0},isVisible(){return this.option("showColumnHeaders")},optionChanged(i){switch(i.name){case"showColumnHeaders":case"wordWrapEnabled":case"showColumnLines":this._invalidate(!0,!0),i.handled=!0;break;default:this.callBase(i)}},getHeight(){return this.getElementHeight()},getContextMenuItems(i){var r=this,{column:o}=i;if(i.row&&("header"===i.row.rowType||"detailAdaptive"===i.row.rowType)){var s=r.option("sorting");if(s&&"none"!==s.mode&&o&&o.allowSorting){var l=function(h){setTimeout(()=>{r._columnsController.changeSortOrder(o.index,h.itemData.value)})};return[{text:s.ascendingText,value:"asc",disabled:"asc"===o.sortOrder,icon:"context-menu-sort-asc",onItemClick:l},{text:s.descendingText,value:"desc",disabled:"desc"===o.sortOrder,icon:"context-menu-sort-desc",onItemClick:l},{text:s.clearText,value:"none",disabled:!o.sortOrder,icon:"context-menu-sort-none",onItemClick:l}]}}},getRowCount(){return this._columnsController&&this._columnsController.getRowCount()},setRowsOpacity(i,r,o){var s,l,h=this.getRowCount(),g=this._columnsController.getColumns(),_=g&&g[i],v=_&&_.isBand&&_.index,C=(E,w)=>{E.ownerBand===v&&(l.eq(w).css({opacity:r}),E.isBand&&this.setRowsOpacity(E.index,r,s+1))};if(T(v))for(s=o=o||0;s<h;s++)(l=this.getCellElements(s))&&this.getColumns(s).forEach(C)}};return t}())}};const Ge=de(de(de({},dn),xe),{modules:[]});Ge.registerModule("columnHeaders",Dj);var Sj=["filterValues","filterType","fixed","fixedPosition"],p0=["visibleIndex","dataField","name","dataType","width","visible","sortOrder","lastSortOrder","sortIndex","groupIndex","filterValue","bufferedFilterValue","selectedFilterOperation","bufferedSelectedFilterOperation","added"].concat(Sj),yoe={visibleWidth:!0,bestFitWidth:!0,bufferedFilterValue:!0},Ej=Number.MAX_SAFE_INTEGER||9007199254740991,ic="groupExpand",wB=/columns\[(\d+)\]\.?/gi,Ooe={visible:!0,showInColumnChooser:!0},Doe={number:["=","<>","<",">","<=",">=","between"],string:["contains","notcontains","startswith","endswith","=","<>"],date:["=","<>","<",">","<=",">=","between"],datetime:["=","<>","<",">","<=",">=","between"]},Soe={visibleIndex:!0,groupIndex:!0,grouped:!0,sortIndex:!0,sortOrder:!0},F_="group",k_="columnChooser",Ij="yyyy/MM/dd",Tj=/^(\d{4,})(-)?(\d{2})(-)?(\d{2})(?:T(\d{2})(:)?(\d{2})?(:)?(\d{2}(?:\.(\d{1,3})\d*)?)?)?(Z|([+-])(\d{2})(:)?(\d{2})?)?$/,Mj=/^(\d{2}):(\d{2})(:(\d{2}))?$/,Aj=["","yyyy","","MM","","dd","THH","","mm","","ss",".SSS"],woe=/^(\d{4})\/(\d{2})\/(\d{2})$/,Rj=function(e,n){var t;return je(e)&&!n&&(t=function Moe(e){var n=e.match(Tj);if(!n)return(n=e.match(Mj))?new Date(0,0,0,fr(n[1]),fr(n[2]),fr(n[4])):void 0;var t=fr(n[1]),i=--n[3],r=n[5],o=0,s=0;o=fr(n[14]),s=fr(n[16]),"-"===n[13]&&(o=-o,s=-s);var C,h=fr(n[6])-o,g=fr(n[8])-s,_=fr(n[10]),v=fr(C=(C=n[11])||"")*Math.pow(10,3-C.length);return(C=>(t<100&&C.setFullYear(t),C))(n[12]?new Date(Date.UTC(t,i,r,h,g,_,v)):new Date(t,i,r,h,g,_,v))}(e)),t||function Toe(e){var n=Pj(e)===Ij,t=!ur(e)&&Date.parse(e);if(!t&&n){var i=e.match(woe);if(i){var r=new Date(fr(i[1]),fr(i[2]),fr(i[3]));return r.setFullYear(fr(i[1])),r.setMonth(fr(i[2])-1),r.setDate(fr(i[3])),r}}return Vt(t)?new Date(t):e}(e)};function fr(e){return+e||0}var Pj=function(e){return"number"==typeof e?"number":je(e)?(un().forceIsoDateParsing&&(n=function(e,n){var t=e.match(Tj),i="";if(!t)return(t=e.match(Mj))?t[3]?"HH:mm:ss":"HH:mm":void 0;for(var r=1;r<Aj.length;r++)t[r]&&(i+=Aj[r]||t[r]);return"Z"===t[12]&&(i+="'Z'"),t[14]&&(i+=t[15]?"xxx":t[16]?"xx":"x"),i}(e)),n||(e.indexOf(":")>=0?"yyyy/MM/dd HH:mm:ss":Ij)):e?null:void 0;var n};const Qn={dateParser:Rj,deserializeDate:function(e){return"number"==typeof e?new Date(e):Rj(e,!un().forceIsoDateParsing)},serializeDate:function(e,n){return n?ur(e)?"number"===n?e&&e.valueOf?e.valueOf():null:ej(n,Cx)(e):null:e},getDateSerializationFormat:Pj};var Fj=function(e){e.filterOperations=e.defaultFilterOperations},Foe=1,g0=function(e,n,t,i){var r={};if(n){je(n)&&(n={dataField:n}),e.setName(n);var o={};if(n.command)o=Ei(r,n);else{r=e.getCommonSettings(n),t&&t.name&&t.dataField&&(n=A({},n,{dataField:t.dataField}));var s=e._createCalculatedColumnOptions(n,i);n.type||(o={headerId:"dx-col-".concat(Foe++)}),o=Ei(o,Ooe),Ei(o,r),Ei(o,s),Ei(o,n),Ei(o,{selector:null})}return n.filterOperations===n.defaultFilterOperations&&Fj(o),o}},B_=function e(n,t,i){var r=[];return t&&B(t,(o,s)=>{var l=n._columnsUserState&&MB(s,n._columnsUserState[o])&&n._columnsUserState[o],h=g0(n,s,l,i);h&&(i&&(h.ownerBand=i),r.push(h),h.columns&&(r=r.concat(e(n,h.columns,h)),delete h.columns,h.hasColumns=!0))}),r},bp=function(e,n){for(var t=[],i=n[e];i;)t.unshift(i),i=n[e=i.index];return t},koe=function e(n,t,i){var r=[],o=t[n];if(o)for(var s=0;s<o.length;s++){var l=o[s];(!T(l.groupIndex)||l.showWhenGrouped)&&(r.push(l),i&&l.isBand&&(r=r.concat(e(l.index,t,i))))}return r},Voe=function e(n,t){var i=0,r=n.getChildrenByBandColumn(t,!0);return B(r,(o,s)=>{s.isBand?(s.colspan=s.colspan||e(n,s.index),i+=s.colspan||1):i+=1}),i},IB=function(e){var n=Rr(e);return"string"!==n&&"boolean"!==n&&"number"!==n&&"date"!==n&&"object"!==n&&(n=void 0),n},kj=function(e,n){switch(e){case"date":case"datetime":return Qn.getDateSerializationFormat(n);case"number":if(je(n))return"string";if(Vt(n))return null}},Bj=function(e,n){e.deserializeValue||(xe.isDateType(n)&&(e.deserializeValue=function(t){return Qn.deserializeDate(t)},e.serializeValue=function(t){return je(t)?t:Qn.serializeDate(t,this.serializationFormat)}),"number"===n&&(e.deserializeValue=function(t){var i=parseFloat(t);return isNaN(i)?t:i},e.serializeValue=function(t,i){return"filter"===i?t:T(t)&&"string"===this.serializationFormat?t.toString():t}))},zoe=function(e){return!0===e.value?this.trueText||"true":!1===e.value?this.falseText||"false":e.valueText||""},Lj=function(e){if("boolean"===e)return zoe},Vj=function(e){B(e._columns,(n,t)=>{t.index=n}),B(e._columns,(n,t)=>{qe(t.ownerBand)&&(t.ownerBand=t.ownerBand.index)}),B(e._commandColumns,(n,t)=>{t.index=-(n+1)})},Nj=function(e,n){tp(e._columns,"groupIndex",n,t=>{var{grouped:i}=t;return delete t.grouped,i})},TB=function(e,n,t){var o,i=qe(n)?n.rowIndex:null,r=t===F_?e.getGroupColumns():t===k_?e.getChooserColumns():e.getVisibleColumns(i);return n=qe(n)?n.columnIndex:n,(o=r[n])&&o.type===ic&&(o=e._columns.filter(s=>o.type===s.type)[0]||o),o&&T(o.index)?o.index:-1};function MB(e,n){return e&&n&&n.name===(e.name||e.dataField)&&(n.dataField===e.dataField||e.name)}var Hj=function(e){var h,g,_,n=e._columnsUserState,t=e._ignoreColumnOptionNames||[],i=e._columns,r={},o=[],s=!0,l=[];function v(w,M){if(M)for(var k=0;k<p0.length;k++){var L=p0[k];t.includes(L)||("dataType"===L?w[L]=w[L]||M[L]:Sj.includes(L)?L in M&&(w[L]=M[L]):("selectedFilterOperation"===L&&M[L]&&(w.defaultSelectedFilterOperation=w[L]||null),w[L]=M[L]))}}function C(w,M){for(var k=M.name||M.dataField,L=r[k]||0,G=0;G<w.length;G++)if(MB(M,w[G])){if(!L)return r[k]=r[k]||0,r[k]++,G;L--}return-1}if(n){for(_=0;_<i.length;_++)g=C(n,i[_]),s=s&&g>=0,l.push(g);for(_=0;_<i.length;_++)h=i[_],g=l[_],(e._hasUserState||s)&&v(h,n[g]),g>=0&&T(n[g].initialIndex)?o[g]=h:o.push(h);var b=!1;for(_=0;_<n.length;_++){var E=n[_];E.added&&C(i,E)<0&&(v(h=g0(e,E.added),E),o.push(h),E.added.columns&&(b=!0))}b&&(Vj(e),o=B_(e,o)),L_(e,o)}},Op=function(e,n){Vj(e),Nj(e,n),function(e,n){B(e._columns,(t,i)=>{T(i.sortIndex)&&!_0(i.sortOrder)&&delete i.sortIndex}),tp(e._columns,"sortIndex",n,t=>!T(t.groupIndex)&&_0(t.sortOrder))}(e,n),jj(e),function(e,n){for(var t,i=[],r=e.getBandColumnsCache(),o=[],s=e._columns.filter(g=>!g.command),l=0;l<s.length;l++)t=s[l],bp(l,r.columnParentByIndex).length?o.push(t):i.push(t);tp(o,"visibleIndex",n),tp(i,"visibleIndex",n)}(e,n)},f0=function(e){e.resetColumnsCache()};function L_(e,n){e._previousColumns=e._columns,e._columns=n,f0(e),e.updateColumnDataTypes()}var ka=function(e,n,t,i){var r,o=e._columnChanges||{optionNames:{length:0},changeTypes:{length:0},columnIndex:i};t=(t=t||"all").split(".")[0];var{changeTypes:s}=o;n&&!s[n]&&(s[n]=!0,s.length++);var{optionNames:l}=o;t&&!l[t]&&(l[t]=!0,l.length++),(void 0===i||i!==o.columnIndex)&&(T(i)&&(null!==(r=o.columnIndices)&&void 0!==r||(o.columnIndices=[o.columnIndex]),o.columnIndices.push(i)),delete o.columnIndex),e._columnChanges=o,f0(e)},bx=function(e){var r,n=e.option("onColumnsChanging"),t=e._columnChanges;e.isInitialized()&&!e._updateLockCount&&t&&(n&&(e._updateLockCount++,n(A({component:e.component},t)),e._updateLockCount--),e._columnChanges=void 0,(r=t.optionNames)&&["dataField","lookup","dataType","columns"].some(o=>r[o])?(e._reinitAfterLookupChanges=t?.optionNames.lookup,e.reinit(),e._reinitAfterLookupChanges=void 0):e.columnsChanged.fire(t))},AB=function(e,n,t,i,r){var l,h,g,o=Yt(t),s=n.index;if(3===arguments.length)return o(n,{functionsAsIs:!0});var _=o(n,{functionsAsIs:!0});if(!Jt(_,i,{maxDepth:5})){"groupIndex"===t||"calculateGroupValue"===t?(h="grouping",function(e,n,t,i){if(t>=0)i>=0||(n.lastSortOrder=n.sortOrder);else{var o=e.option("sorting.mode"),s=n.lastSortOrder;"single"===o&&e._columns.some(h=>h!==n&&T(h.sortIndex))&&(s=void 0),n.sortOrder=s}}(e,n,i,_)):h="sortIndex"===t||"sortOrder"===t||"calculateSortValue"===t?"sorting":"columns";var v=Wv(t);v(n,i,{functionsAsIs:!0});var C=function(e,n){var i,t=[],r=e.getBandColumnsCache(),o=function(l){return l.ownerBand===n.ownerBand};if(r.isPlain){var s=e._columns.indexOf(n);s>=0&&(t=["columns[".concat(s,"]")])}else for(i=e._columns.filter(o);i.length&&-1!==i.indexOf(n);)t.unshift("columns[".concat(i.indexOf(n),"]")),i=(n=r.columnParentByIndex[n.index])?e._columns.filter(o):[];return t.join(".")}(e,n);Soe[t]&&(Op(e,n),i=o(n)),("name"===t||"allowEditing"===t)&&e._checkColumns(),!T(_)&&!T(i)&&0!==t.indexOf("buffer")&&(r=!0),r?f0(e):(!p0.includes(t)&&"visibleWidth"!==t&&(l=e.option("columns"),g=e.getColumnByPath(C,l),je(g)&&(g=l[s]={dataField:g}),g&&MB(g,n)&&v(g,i,{functionsAsIs:!0})),ka(e,h,t,s)),C&&function(e,n){var{value:t}=n,{optionName:i}=n,{prevValue:r}=n,{fullOptionName:o}=n,s="".concat(o,".").concat(i);!yoe[i]&&e._skipProcessingColumnsChange!==s&&(e._skipProcessingColumnsChange=s,e.component._notifyOptionChanged(s,t,r),e._skipProcessingColumnsChange=!1)}(e,{fullOptionName:C,optionName:t,value:i,prevValue:_})}};function _0(e){return"asc"===e||"desc"===e}var qoe=function(e,n){if(this.dataField){var t=this.dataField.split("."),i=t.length-1;this.serializeValue&&(n=this.serializeValue(n));for(var r=0;r<i;r++){var o=t[r];e=e[o]=e[o]||{}}e[t[i]]=n}},Joe=function e(n,t,i){var r=[];return n[t=t||0]&&B(n[t],(o,s)=>{(s.ownerBand===i||s.type===ic)&&(s.isBand&&s.colspan?r.push.apply(r,e(n,t+1,s.index)):(!s.command||t<1)&&r.push(s))}),r},RB=(e,n)=>!!e._columns.filter(i=>i.type===n.type).length,zj=function(e,n){var t=e.option("rtlEnabled");return n.command&&!RB(e,n)||!n.fixedPosition?t?"right":"left":n.fixedPosition},Wj=function(e,n,t,i){var r,o=this.getRowCount(),s=e[i]&&e[i].rowspan,l=n.filter(h=>h.type===t);return e.forEach((h,g)=>{h.type===t&&(r=g,s=e[g+1]?e[g+1].rowspan:o)}),s>1&&(l=Fn(l,h=>A({},h,{rowspan:s}))),l.unshift.apply(l,T(r)?[r,1]:[i,0]),e.splice.apply(e,l),s||1},$j=function(e,n){for(var t=e?e.toString():"0";t.length<n;)t="0".concat(t);return t},Gj=(e,n,t,i)=>{for(var r,o,s=n.slice().map(b=>A({},b)),l=e._isColumnFixing(),h=t.slice().map(b=>A({fixed:l},b)),g=b=>t.reduce((E,w,M)=>w.type===(i&&b.type===ic?"expand":b.type)||w.command===b.command?M:E,-1),_=b=>b.command!==t[o].command,v=0;v<n.length;v++)(o=(r=n[v])&&(r.type||r.command)?g(r):-1)>=0&&(i?(s[v]=A({fixed:l},t[o],r),r.type!==ic&&(h=h.filter(_))):s[v]=A({},r,t[o],r.type===ic&&{visibleIndex:r.visibleIndex,index:r.index,headerId:r.headerId,allowFixing:0===r.groupIndex,allowReordering:0===r.groupIndex,groupIndex:r.groupIndex}));return n.length&&i&&h.length&&(s=s.concat(h)),s},Uj=(e,n)=>T(n.fixed)||!n.type?n.fixed:e._isColumnFixing(),jj=e=>{e._bandColumnsCache=void 0},Kj=(e,n)=>{var i,t=je(n)&&n.substr(0,n.indexOf(":"));if(void 0!==n)return t&&(n=n.substr(t.length+1)),t?i=e.filter(r=>"".concat(r[t])===n)[0]:["index","name","dataField","caption"].some(r=>!!(i=e.filter(o=>o[r]===n)[0])),i},Yj={defaultOptions:()=>({commonColumnSettings:{allowFiltering:!0,allowHiding:!0,allowSorting:!0,allowEditing:!0,encodeHtml:!0,trueText:J.format("dxDataGrid-trueText"),falseText:J.format("dxDataGrid-falseText")},allowColumnReordering:!1,allowColumnResizing:!1,columnResizingMode:"nextColumn",columnMinWidth:void 0,columnWidth:void 0,adaptColumnWidthByRatio:!0,columns:void 0,regenerateColumnsByVisibleItems:!1,customizeColumns:null,dateSerializationFormat:void 0}),controllers:{columns:class nse extends dn.Controller{_getExpandColumnOptions(){return{type:"expand",command:"expand",width:"auto",cssClass:"dx-command-expand",allowEditing:!1,allowGrouping:!1,allowSorting:!1,allowResizing:!1,allowReordering:!1,allowHiding:!1}}_getFirstItems(n){var t,i=[];return n&&n.items().length>0&&(t=xe.normalizeSortingInfo(n.group()).length,i=function r(o,s){if(!o||!s)return o;for(var l=0;l<o.length;l++){var h=r(o[l].items||o[l].collapsedItems,s-1);if(h&&h.length)return h}}(n.items(),t)||[]),i}_endUpdateCore(){!this._skipProcessingColumnsChange&&bx(this)}init(n){var t=this.option("columns");this._commandColumns=this._commandColumns||[],this._columns=this._columns||[],this._isColumnsFromOptions=!!t,this._isColumnsFromOptions?(L_(this,t?B_(this,t):[]),Hj(this)):L_(this,this._columnsUserState?B_(this,this._columnsUserState):this._columns),function(e){var n=e._getExpandColumnOptions();e.addCommandColumn(n)}(this),this._dataSourceApplied?this.applyDataSource(this._dataSource,!0,n):Op(this),this._checkColumns()}callbackNames(){return["columnsChanged"]}getColumnByPath(n,t){var i,r=[];return n.replace(wB,(o,s)=>(r.push(parseInt(s)),"")),r.length&&(i=t?r.reduce((o,s)=>o&&o.columns&&o.columns[s],{columns:t}):function(e,n){var t,i,o=function(l){return l.ownerBand===(t?t.index:void 0)};if(e.getBandColumnsCache().isPlain)t=e._columns[n[0]];else{i=e._columns.filter(o);for(var s=0;s<n.length;s++)(t=i[n[s]])&&(i=e._columns.filter(o))}return t}(this,r)),i}optionChanged(n){var t;switch(n.name){case"adaptColumnWidthByRatio":n.handled=!0;break;case"dataSource":n.value!==n.previousValue&&!this.option("columns")&&(!Array.isArray(n.value)||!Array.isArray(n.previousValue))&&(this._columns=[]);break;case"columns":t=this._skipProcessingColumnsChange,n.handled=!0,this._skipProcessingColumnsChange||(n.name===n.fullName?(this._columnsUserState=null,this._ignoreColumnOptionNames=null,this.init()):(this._columnOptionChanged(n),t=!0)),t&&this._updateRequireResize(n);break;case"commonColumnSettings":case"columnAutoWidth":case"allowColumnResizing":case"allowColumnReordering":case"columnFixing":case"grouping":case"groupPanel":case"regenerateColumnsByVisibleItems":case"customizeColumns":case"columnHidingEnabled":case"dateSerializationFormat":case"columnResizingMode":case"columnMinWidth":case"columnWidth":n.handled=!0,this.reinit("columnWidth"===n.fullName&&["width"]);break;case"rtlEnabled":this.reinit();break;default:super.optionChanged(n)}}_columnOptionChanged(n){var t={},i=this.getColumnByPath(n.fullName),r=n.fullName.replace(wB,"");i&&(r?t[r]=n.value:t=n.value,this._skipProcessingColumnsChange=n.fullName,this.columnOption(i.index,t),this._skipProcessingColumnsChange=!1)}_updateRequireResize(n){var{component:t}=this;"width"===n.fullName.replace(wB,"")&&t._updateLockCount&&(t._requireResize=!0)}publicMethods(){return["addColumn","deleteColumn","columnOption","columnCount","clearSorting","clearGrouping","getVisibleColumns","getVisibleColumnIndex"]}applyDataSource(n,t,i){var r=n&&n.isLoaded();if(this._dataSource=n,!this._dataSourceApplied||0===this._dataSourceColumnsCount||t||this.option("regenerateColumnsByVisibleItems")){if(r){if(!this._isColumnsFromOptions){var o=function(e,n){for(var i,t=e._getFirstItems(n),r={},o=[],s=0;s<t.length;s++)if(t[s])for(i in t[s])(!Re(t[s][i])||Jn.isWrapped(t[s][i]))&&(r[i]=!0);for(i in r)if(0!==i.indexOf("__")){var l=g0(e,i);o.push(l)}return o}(this,n);o.length&&(L_(this,o),this._dataSourceColumnsCount=this._columns.length,Hj(this))}return this.updateColumns(n,t,i)}this._dataSourceApplied=!1,Op(this)}else if(r&&!this.isAllDataTypesDefined(!0)&&this.updateColumnDataTypes(n))return ka(this,"columns"),bx(this),(new W).reject().promise()}reset(){this._dataSource=null,this._dataSourceApplied=!1,this._dataSourceColumnsCount=void 0,this.reinit()}resetColumnsCache(){this._visibleColumns=void 0,this._fixedColumns=void 0,this._rowCount=void 0,jj(this)}reinit(n){this._columnsUserState=this.getUserState(),this._ignoreColumnOptionNames=n||null,this.init(),n&&(this._ignoreColumnOptionNames=null)}isInitialized(){return!!this._columns.length||!!this.option("columns")}isDataSourceApplied(){return this._dataSourceApplied}getCommonSettings(n){var t,i,r=(!n||!n.type)&&this.option("commonColumnSettings")||{},o=null!==(t=this.option("grouping"))&&void 0!==t?t:{},s=null!==(i=this.option("groupPanel"))&&void 0!==i?i:{};return A({allowFixing:this.option("columnFixing.enabled"),allowResizing:this.option("allowColumnResizing")||void 0,allowReordering:this.option("allowColumnReordering"),minWidth:this.option("columnMinWidth"),width:this.option("columnWidth"),autoExpandGroup:o.autoExpandAll,allowCollapsing:o.allowCollapsing,allowGrouping:s.allowColumnDragging&&s.visible||o.contextMenuEnabled},r)}isColumnOptionUsed(n){for(var t=0;t<this._columns.length;t++)if(this._columns[t][n])return!0}isAllDataTypesDefined(n){var t=this._columns;if(!t.length)return!1;for(var i=0;i<t.length;i++)if((t[i].dataField||t[i].calculateCellValue!==t[i].defaultCalculateCellValue)&&(!t[i].dataType||n&&t[i].deserializeValue&&void 0===t[i].serializationFormat))return!1;return!0}getColumns(){return this._columns}isBandColumnsUsed(){return this.getColumns().some(n=>n.isBand)}getGroupColumns(){var n=[];return B(this._columns,function(){T(this.groupIndex)&&(n[this.groupIndex]=this)}),n}_shouldReturnVisibleColumns(){return!0}_compileVisibleColumns(n){return this._visibleColumns=this._visibleColumns||this._compileVisibleColumnsCore(),n=T(n)?n:this._visibleColumns.length-1,this._visibleColumns[n]||[]}getVisibleColumns(n,t){return this._shouldReturnVisibleColumns()?this._compileVisibleColumns.apply(this,arguments):[]}getFixedColumns(n){return this._fixedColumns=this._fixedColumns||this._getFixedColumnsCore(),n=T(n)?n:this._fixedColumns.length-1,this._fixedColumns[n]||[]}getFilteringColumns(){return this.getColumns().filter(n=>(n.dataField||n.name)&&(n.allowFiltering||n.allowHeaderFiltering)).map(n=>{var t=A(!0,{},n);return T(t.dataField)||(t.dataField=t.name),t.filterOperations=n.filterOperations!==n.defaultFilterOperations?t.filterOperations:null,t})}getColumnIndexOffset(){return 0}_getFixedColumnsCore(){var s,l,h,n=[],t=this.getRowCount(),r={command:"transparent"},o=0;if(this._isColumnFixing())for(var g=0;g<=t;g++){s=0,h=null,l=null;for(var _=this.getVisibleColumns(g,!0),v=0;v<_.length;v++){var C=_[v-1],b=_[v];b.fixed?C&&C.fixed&&zj(this,C)!==zj(this,b)?T(l)||(l=v):h=b.fixedPosition:(0===g&&(b.isBand&&b.colspan?o+=b.colspan:o++),s++,T(l)||(l=v))}if(0===g&&(0===s||s>=_.length))return[];T(l)||(l="right"===h?0:_.length),n[g]=_.slice(0),r.colspan||(r.colspan=o),n[g].splice(l,s,r)}return n.map(E=>E.map(w=>{var M=de({},w);return M.headerId&&(M.headerId+="-fixed"),M}))}_isColumnFixing(){var n=this.option("columnFixing.enabled");return!n&&B(this._columns,(t,i)=>{if(i.fixed)return n=!0,!1}),n}_getExpandColumnsCore(){return this.getGroupColumns()}getExpandColumns(){var t,n=this._getExpandColumnsCore(),i=n.filter(l=>0===l.groupIndex)[0],r=i&&i.fixed,o=this._isColumnFixing(),s=this.option("rtlEnabled");return n.length&&(t=this.columnOption("command:expand")),Fn(n,l=>A({},l,{visibleWidth:null,minWidth:null,cellTemplate:T(l.groupIndex)?null:l.cellTemplate,headerCellTemplate:null,fixed:!(!T(l.groupIndex)||!r)||o,fixedPosition:s?"right":"left"},t,{index:l.index,type:l.type||ic}))}getBandColumnsCache(){if(!this._bandColumnsCache){var n=this._columns,t={},i={},r=!0;n.forEach(o=>{var{ownerBand:s}=o,l=qe(s)?s.index:s,h=n[l];o.hasColumns&&(r=!1),o.colspan&&(o.colspan=void 0),o.rowspan&&(o.rowspan=void 0),h?i[o.index]=h:l=-1,t[l]=t[l]||[],t[l].push(o)}),this._bandColumnsCache={isPlain:r,columnChildrenByIndex:t,columnParentByIndex:i}}return this._bandColumnsCache}_isColumnVisible(n){return n.visible&&this.isParentColumnVisible(n.index)}_isColumnInGroupPanel(n){return T(n.groupIndex)&&!n.showWhenGrouped}hasVisibleDataColumns(){return this._columns.some(t=>{var i=this._isColumnVisible(t),r=this._isColumnInGroupPanel(t);return i&&!r&&!t.command})}_compileVisibleColumnsCore(){var n=this.getBandColumnsCache(),t=Gj(this,this._columns,this._commandColumns,!0);!function(e,n,t){for(var i,r=0;r<n.length;r++){var o=n[r];(o.visible||o.command)&&(o.isBand&&(o.colspan=o.colspan||Voe(e,o.index)),(!o.isBand||!o.colspan)&&(i=e.getRowCount(),!o.command&&(!T(o.groupIndex)||o.showWhenGrouped)&&(i-=bp(o.index,t.columnParentByIndex).length),i>1&&(o.rowspan=i)))}}(this,t,n);var i=this._getIndexedColumns(t),r=this._getVisibleColumnsFromIndexed(i);return!this.hasVisibleDataColumns()&&this._columns.length&&r[r.length-1].push({command:"empty"}),r}_getIndexedColumns(n){for(var t=this.option("rtlEnabled"),i=this.getRowCount(),r=function(e){var n;for(n=0;e>1;n++)e/=10;return n}(n.length),o=this.getBandColumnsCache(),s=[],l=[],h=0;h<i;h+=1)l[h]=[{}],s[h]=[{},{},{}];return n.forEach(g=>{var _,v,C,b,w,{visibleIndex:E}=g,M=bp(g.index,o.columnParentByIndex),k=this._isColumnVisible(g),L=this._isColumnInGroupPanel(g);if(k&&!L){var G=M.length;if(E<0)E=-E,w=l[G];else if(g.fixed=null!==(v=null===(_=M[0])||void 0===_?void 0:_.fixed)&&void 0!==v?v:g.fixed,g.fixedPosition=null!==(b=null===(C=M[0])||void 0===C?void 0:C.fixedPosition)&&void 0!==b?b:g.fixedPosition,g.fixed){var Q=!!g.command&&!RB(this,g),le="right"===g.fixedPosition;t&&!Q&&(le=!le),w=le?s[G][2]:s[G][0]}else w=s[G][1];if(M.length){E=$j(E,r);for(var Te=M.length-1;Te>=0;Te-=1)E=$j(M[Te].visibleIndex,r)+E}w[E]=w[E]||[],w[E].push(g)}}),{positiveIndexedColumns:s,negativeIndexedColumns:l}}_getVisibleColumnsFromIndexed(n){for(var t=this,{positiveIndexedColumns:i,negativeIndexedColumns:r}=n,o=[],s=this.getRowCount(),l=Gj(this,this.getExpandColumns(),this._columns),h=0,g=0,_=function(C){o.push([]),ua(r[C],(w,M)=>{o[C].unshift.apply(o[C],M)});var b=o[C].length;i[C].forEach(w=>{ua(w,(M,k)=>{o[C].push.apply(o[C],k)})}),g<=C&&(g+=Wj.call(t,o[C],l,"detailExpand",b)),h<=C&&(h+=Wj.call(t,o[C],l,ic,b))},v=0;v<s;v+=1)_(v);return o.push(Joe(o)),o}getInvisibleColumns(n,t){var o,i=this,r=[];return B(n=n||i._columns,(s,l)=>{if(l.ownerBand===t){if(l.isBand)return void((o=l.visible?i.getInvisibleColumns(i.getChildrenByBandColumn(l.index),l.index):i.getChildrenByBandColumn(l.index)).length&&(r.push(l),r=r.concat(o)));l.visible||r.push(l)}}),r}getChooserColumns(n){return((e,n)=>{if("asc"!==n&&"desc"!==n)return e;var t="asc"===n?1:-1;return e.sort((i,r)=>t*(i.caption||"").localeCompare(r.caption||"")),e})((n?this.getColumns():this.getInvisibleColumns()).filter(o=>o.showInColumnChooser),this.option("columnChooser.sortOrder"))}allowMoveColumn(n,t,i,r){var o=TB(this,n,i),s=this._columns[o];return!(!s||!(s.allowReordering||s.allowGrouping||s.allowHiding))&&(i===r?i!==k_&&(n=qe(n)?n.columnIndex:n)!==(t=qe(t)?t.columnIndex:t)&&n+1!==t:i===F_&&r!==k_||r===F_?s&&s.allowGrouping:i!==k_&&r!==k_||s&&s.allowHiding)}moveColumn(n,t,i,r){var s,g,o={},l=TB(this,n,i),h=TB(this,t,r);if(l>=0){var _=this._columns[l];if(t=qe(t)?t.columnIndex:t,g=h>=0?this._columns[h].groupIndex:-1,T(_.groupIndex)&&i===F_&&(g>_.groupIndex&&g--,r!==F_?o.groupIndex=void 0:(s=_.groupIndex,delete _.groupIndex,Nj(this))),r===F_)o.groupIndex=function(e,n,t){var r,i=e.getGroupColumns();if(t>=0)for(r=0;r<i.length;r++)i[r].groupIndex>=t&&i[r].groupIndex++;else for(t=0,r=0;r<i.length;r++)t=Math.max(t,i[r].groupIndex+1);return t}(this,0,g),_.groupIndex=s;else if(t>=0){var v=this._columns[h];o.visibleIndex=!v||_.ownerBand!==v.ownerBand||Uj(this,_)^Uj(this,v)?Ej:v.visibleIndex}var C=r!==k_;_.visible!==C&&(o.visible=C),this.columnOption(_.index,o)}}changeSortOrder(n,t){var i={},r=this.option("sorting"),o=r&&r.mode,h=this._columns[n];("single"===o||"multiple"===o)&&h&&h.allowSorting&&(("single"===o||!t)&&!T(h.groupIndex)&&B(this._columns,function(g){g!==n&&this.sortOrder&&(T(this.groupIndex)||delete this.sortOrder,delete this.sortIndex)}),_0(t)?h.sortOrder!==t&&(i.sortOrder=t):"none"===t?h.sortOrder&&(i.sortIndex=void 0,i.sortOrder=void 0):function(g){if("ctrl"===t){if(!("sortOrder"in g)||!("sortIndex"in g))return!1;i.sortOrder=void 0,i.sortIndex=void 0}else i.sortOrder=T(g.groupIndex)||T(g.sortIndex)?"desc"===g.sortOrder?"asc":"desc":"asc"}(h)),this.columnOption(h.index,i)}getSortDataSourceParameters(n){var t=[],i=[];return B(this._columns,function(){(this.dataField||this.selector||this.calculateCellValue)&&T(this.sortIndex)&&!T(this.groupIndex)&&(t[this.sortIndex]=this)}),B(t,function(){if(_0(this&&this.sortOrder)){var o={selector:this.calculateSortValue||this.displayField||this.calculateDisplayValue||n&&this.selector||this.dataField||this.calculateCellValue,desc:"desc"===this.sortOrder};this.sortingMethod&&(o.compare=this.sortingMethod.bind(this)),i.push(o)}}),i.length>0?i:null}getGroupDataSourceParameters(n){var t=[];return B(this.getGroupColumns(),function(){var i=this.calculateGroupValue||this.displayField||this.calculateDisplayValue||n&&this.selector||this.dataField||this.calculateCellValue;if(i){var r={selector:i,desc:"desc"===this.sortOrder,isExpanded:!!this.autoExpandGroup};this.sortingMethod&&(r.compare=this.sortingMethod.bind(this)),t.push(r)}}),t.length>0?t:null}refresh(n){var t=[];return B(this._columns,function(){var{lookup:i}=this;if(i&&!this.calculateDisplayValue){if(n&&i.valueMap)return;i.update&&t.push(i.update())}}),ke.apply(x,t).done(f0.bind(null,this))}_updateColumnOptions(n,t){n.selector=n.selector||function(o){return n.calculateCellValue(o)},this._reinitAfterLookupChanges&&this._previousColumns?(n.selector.columnIndex=t,n.selector.originalCallback=this._previousColumns[t].selector.originalCallback):(n.selector.columnIndex=t,n.selector.originalCallback=n.selector),B(["calculateSortValue","calculateGroupValue","calculateDisplayValue"],(o,s)=>{var l=n[s];if(Re(l))if(l.originalCallback)n[s].context.column=n;else{var h={column:n};n[s]=function(g){return l.call(h.column,g)},n[s].originalCallback=l,n[s].columnIndex=t,n[s].context=h}}),je(n.calculateDisplayValue)&&(n.displayField=n.calculateDisplayValue,n.calculateDisplayValue=Yt(n.displayField)),n.calculateDisplayValue&&(n.displayValueMap=n.displayValueMap||{}),Bj(n,n.dataType);var{lookup:i}=n;i&&Bj(i,i.dataType);var r=i?i.dataType:n.dataType;r&&(n.alignment=n.alignment||function(e,n){switch(e){case"number":return"right";case"boolean":return"center";default:return Lu(n)}}(r,this.option("rtlEnabled")),n.format=n.format||xe.getFormatByDataType(r),n.customizeText=n.customizeText||Lj(r),n.defaultFilterOperations=n.defaultFilterOperations||!i&&Doe[r]||[],T(n.filterOperations)||Fj(n),n.defaultFilterOperation=n.filterOperations&&n.filterOperations[0]||"=",n.showEditorAlways=T(n.showEditorAlways)?n.showEditorAlways:"boolean"===r&&!n.cellTemplate&&!n.lookup)}updateColumnDataTypes(n){var t=this,i=t.option("dateSerializationFormat"),r=t._getFirstItems(n),o=!1;return B(t._columns,(s,l)=>{var h,g,_,v,C,{lookup:b}=l;if(xe.isDateType(l.dataType)&&void 0===l.serializationFormat&&(l.serializationFormat=i),b&&xe.isDateType(b.dataType)&&void 0===l.serializationFormat&&(b.serializationFormat=i),l.calculateCellValue&&r.length){if(!l.dataType||b&&!b.dataType){for(h=0;h<r.length;h++)g=l.calculateCellValue(r[h]),l.dataType||(C=IB(g),(_=_||C)&&C&&_!==C&&(_="string")),b&&!b.dataType&&(C=IB(xe.getDisplayValue(l,g,r[h])),(v=v||C)&&C&&v!==C&&(v="string"));(_||v)&&(_&&(l.dataType=_),b&&v&&(b.dataType=v),o=!0)}if(void 0===l.serializationFormat||b&&void 0===b.serializationFormat)for(h=0;h<r.length;h++)g=l.calculateCellValue(r[h],!0),void 0===l.serializationFormat&&(l.serializationFormat=kj(l.dataType,g)),b&&void 0===b.serializationFormat&&(b.serializationFormat=kj(b.dataType,b.calculateCellValue(g,!0)))}t._updateColumnOptions(l,s)}),o}_customizeColumns(n){var t=this.option("customizeColumns");t&&(n.some(r=>qe(r.ownerBand))&&Op(this),t(n),L_(this,B_(this,n)))}updateColumns(n,t,i){if(t||this.updateSortingGrouping(n),!n||n.isLoaded()){var r=n?n.sort()||[]:this.getSortDataSourceParameters(),o=n?n.group()||[]:this.getGroupDataSourceParameters(),s=n?.lastLoadOptions().filter;i||this._customizeColumns(this._columns),Op(this);var l=this._columns;return ke(this.refresh(!0)).always(()=>{this._columns===l&&(this._updateChanges(n,{sorting:r,grouping:o,filtering:s}),bx(this))})}}_updateChanges(n,t){n&&(this.updateColumnDataTypes(n),this._dataSourceApplied=!0),xe.equalSortParameters(t.sorting,this.getSortDataSourceParameters())||ka(this,"sorting"),xe.equalSortParameters(t.grouping,this.getGroupDataSourceParameters())||ka(this,"grouping");var i=this.getController("data");i&&!xe.equalFilterParameters(t.filtering,i.getCombinedFilter())&&ka(this,"filtering"),ka(this,"columns")}updateSortingGrouping(n,t){var r,o,i=this,s=function(C,b,E){B(C,(w,M)=>{if(delete M[E],b)for(var k=0;k<b.length;k++){var{selector:L}=b[k],{isExpanded:G}=b[k];if(L===M.dataField||L===M.name||L===M.selector||L===M.calculateCellValue||L===M.calculateGroupValue||L===M.calculateDisplayValue){M.sortOrder=t?"sortOrder"in M?M.sortOrder:b[k].desc?"desc":"asc":M.sortOrder||(b[k].desc?"desc":"asc"),void 0!==G&&(M.autoExpandGroup=G),M[E]=k;break}}})};if(n){r=xe.normalizeSortingInfo(n.sort());var l=xe.normalizeSortingInfo(n.group()),h=i.getGroupDataSourceParameters(),g=i.getSortDataSourceParameters(),_=!xe.equalSortParameters(l,h,!0),v=!_&&!xe.equalSortParameters(l,h);i._columns.length||(B(l,(C,b)=>{i._columns.push(b.selector)}),B(r,(C,b)=>{Re(b.selector)||i._columns.push(b.selector)}),L_(i,B_(i,i._columns))),(t||!h&&!i._hasUserState)&&(_||v)&&(s(i._columns,l,"groupIndex"),t&&(_&&ka(i,"grouping"),v&&ka(i,"groupExpanding"),o=!0)),(t||!g&&!i._hasUserState)&&!xe.equalSortParameters(r,g)&&(s(i._columns,r,"sortIndex"),t&&(ka(i,"sorting"),o=!0)),o&&bx(i)}}updateFilter(n,t,i,r){if(!Array.isArray(n))return n;if(i=void 0!==(n=A([],n)).columnIndex?n.columnIndex:i,r=void 0!==n.filterValue?n.filterValue:r,je(n[0])&&"!"!==n[0]){var o=this.columnOption(n[0]);t?un().forceIsoDateParsing&&o&&o.serializeValue&&n.length>1&&(n[n.length-1]=o.serializeValue(n[n.length-1],"filter")):o&&o.selector&&(n[0]=o.selector,n[0].columnIndex=o.index)}else Re(n[0])&&(n[0].columnIndex=i,n[0].filterValue=r,n[0].selectedFilterOperation=n.selectedFilterOperation);for(var s=0;s<n.length;s++)n[s]=this.updateFilter(n[s],t,i,r);return n}columnCount(){return this._columns?this._columns.length:0}columnOption(n,t,i,r){var o=this,s=o._columns.concat(o._commandColumns),l=Kj(s,n);if(l){if(1===arguments.length)return A({},l);if(je(t)){if(2===arguments.length)return AB(o,l,t);AB(o,l,t,i,r)}else qe(t)&&B(t,(h,g)=>{AB(o,l,h,g,r)});bx(o)}}clearSorting(){var n=this.columnCount();this.beginUpdate();for(var t=0;t<n;t++)this.columnOption(t,"sortOrder",void 0),delete Kj(this._columns,t).sortOrder;this.endUpdate()}clearGrouping(){var n=this.columnCount();this.beginUpdate();for(var t=0;t<n;t++)this.columnOption(t,"groupIndex",void 0);this.endUpdate()}getVisibleIndex(n,t){for(var i=this.getVisibleColumns(t),r=i.length-1;r>=0;r--)if(i[r].index===n)return r;return-1}getVisibleIndexByColumn(n,t){var i=this.getVisibleColumns(t),r=i.filter(o=>o.index===n.index&&o.command===n.command)[0];return i.indexOf(r)}getVisibleColumnIndex(n,t){var i=this.columnOption(n,"index");return this.getVisibleIndex(i,t)}addColumn(n){var t=g0(this,n),i=this._columns.length;this._columns.push(t),t.isBand&&(this._columns=B_(this,this._columns),t=this._columns[i]),t.added=n,Op(this,t),this.updateColumns(this._dataSource),this._checkColumns()}deleteColumn(n){var t=this.columnOption(n);if(t&&t.index>=0){if((e=>{e.forEach(n=>{T(n.ownerBand)&&(n.ownerBand=e[n.ownerBand])})})(this._columns),this._columns.splice(t.index,1),t.isBand){var i=this.getChildrenByBandColumn(t.index).map(r=>r.index);this._columns=this._columns.filter(r=>i.indexOf(r.index)<0)}Op(this),this.updateColumns(this._dataSource)}}addCommandColumn(n){var t=this._commandColumns.filter(i=>i.command===n.command)[0];t||this._commandColumns.push(t=n)}getUserState(){var i,n=this._columns,t=[];function r(o,s){void 0!==n[i][s]&&(t[i][s]=n[i][s])}for(i=0;i<n.length;i++)t[i]={},B(p0,r);return t}setName(n){n.name=n.name||n.dataField||n.type}setUserState(n){var t=this._dataSource,i=this.option("stateStoring.ignoreColumnOptionNames");if(n?.forEach(this.setName),!i){i=[];var r=this.getCommonSettings();this.option("columnChooser.enabled")||i.push("visible"),"none"===this.option("sorting.mode")&&i.push("sortIndex","sortOrder"),r.allowGrouping||i.push("groupIndex"),r.allowFixing||i.push("fixed","fixedPosition"),r.allowResizing||i.push("width","visibleWidth");var o=!this.option("filterPanel.visible");!this.option("filterRow.visible")&&o&&i.push("filterValue","selectedFilterOperation"),!this.option("headerFilter.visible")&&o&&i.push("filterValues","filterType")}this._columnsUserState=n,this._ignoreColumnOptionNames=i,this._hasUserState=!!n,ka(this,"filtering"),this.init(!0),t&&(t.sort(this.getSortDataSourceParameters()),t.group(this.getGroupDataSourceParameters()))}_checkColumns(){var n={},t=!1,i=[];this._columns.forEach(r=>{var o,{name:s}=r,l=null===(o=r.columns)||void 0===o?void 0:o.length,h=r.allowEditing&&(r.dataField||r.setCellValue)&&!l;s?(n[s]&&i.push('"'.concat(s,'"')),n[s]=!0):h&&(t=!0)}),i.length&&It.log("E1059",i.join(", ")),t&&It.log("E1060")}_createCalculatedColumnOptions(n,t){var i={},{dataField:r}=n;if((Array.isArray(n.columns)&&n.columns.length||n.isBand)&&(i.isBand=!0,r=null),r){if(je(r)){var o=Yt(r);i={caption:Ni(r),calculateCellValue(s,l){var h=o(s);return this.deserializeValue&&!l?this.deserializeValue(h):h},setCellValue:qoe,parseValue(s){var l,h;return"number"===this.dataType?je(s)&&this.format?l=function(e,n){var t=en.parse(e);if(Vt(t)){var i=en.format(t,n),r=en.format(t,"decimal");if(i===e||r===e)return t}}(s.trim(),this.format):T(s)&&Vt(s)&&(l=Number(s)):"boolean"===this.dataType?s===this.trueText?l=!0:s===this.falseText&&(l=!1):xe.isDateType(this.dataType)?(h=Ct.parse(s,this.format))&&(l=h):l=s,l}}}i.allowFiltering=!0}else i.allowFiltering=!!n.calculateFilterExpression;return i.calculateFilterExpression=function(){return P_.defaultCalculateFilterExpression.apply(this,arguments)},i.defaultFilterOperation="=",i.createFilterExpression=function(s,l){var h;return this.calculateFilterExpression&&(h=this.calculateFilterExpression.apply(this,arguments)),Re(h)&&(h=[h,"=",!0]),h&&(h.columnIndex=this.index,h.filterValue=s,h.selectedFilterOperation=l),h},(!r||!je(r))&&A(!0,i,{allowSorting:!1,allowGrouping:!1,calculateCellValue:()=>null}),t&&(i.allowFixing=!1),n.dataType&&(i.userDataType=n.dataType),n.selectedFilterOperation&&!("defaultSelectedFilterOperation"in i)&&(i.defaultSelectedFilterOperation=n.selectedFilterOperation),n.lookup&&(i.lookup={calculateCellValue(s,l){return this.valueExpr&&(s=this.valueMap&&this.valueMap[s]),this.deserializeValue&&!l?this.deserializeValue(s):s},updateValueMap(){if(this.valueMap={},this.items)for(var s=Yt(this.valueExpr),l=Yt(this.displayExpr),h=0;h<this.items.length;h++){var g=this.items[h],_=l(g);this.valueMap[s(g)]=_,this.dataType=this.dataType||IB(_)}},update(){var s=this,{dataSource:l}=s;if(l)if(Re(l)&&!Jn.isWrapped(l)&&(l=l({})),ft(l)||l instanceof Qy||Array.isArray(l)){if(s.valueExpr){var h=w_(l);return h.paginate=!1,(l=new Yl(h)).load().done(g=>{s.items=g,s.updateValueMap&&s.updateValueMap()})}}else It.log("E1016");else s.updateValueMap&&s.updateValueMap()}}),i.resizedCallbacks=Et(),n.resized&&i.resizedCallbacks.add(n.resized.bind(n)),B(i,s=>{if(Re(i[s])&&0!==s.indexOf("default")){var l="default".concat(s.charAt(0).toUpperCase()).concat(s.substr(1));i[l]=i[s]}}),i}getRowCount(){return this._rowCount=this._rowCount||function(e){var n=1,t=e.getBandColumnsCache(),{columnParentByIndex:i}=t;return e._columns.forEach(r=>{var o=bp(r.index,i),s=o.filter(l=>!l.visible);r.visible&&!s.length&&(n=Math.max(n,o.length+1))}),n}(this),this._rowCount}getRowIndex(n,t){var i=this._columns[n],r=this.getBandColumnsCache();return i&&(t||i.visible&&!i.command&&!T(i.groupIndex))?bp(n,r.columnParentByIndex).length:0}getChildrenByBandColumn(n,t){var i=this.getBandColumnsCache(),r=koe(n,i.columnChildrenByIndex,!t);return t?r.filter(o=>o.visible&&!o.command).sort((o,s)=>o.visibleIndex-s.visibleIndex):r}isParentBandColumn(n,t){var i=!1,r=this._columns[n],o=this.getBandColumnsCache(),s=r&&bp(n,o.columnParentByIndex);return s&&B(s,(l,h)=>{if(h.index===t)return i=!0,!1}),i}isParentColumnVisible(n){var t=!0,i=this.getBandColumnsCache(),r=n>=0&&bp(n,i.columnParentByIndex);return r&&B(r,(o,s)=>t=t&&s.visible),t}getColumnId(n){return n.command&&n.type===ic?RB(this,n)?"type:".concat(n.type):"command:".concat(n.command):n.index}getCustomizeTextByDataType(n){return Lj(n)}getHeaderContentAlignment(n){return this.option("rtlEnabled")?"left"===n?"right":"left":n}}}};Ge.registerModule("columns",{defaultOptions:()=>A(!0,{},Yj.defaultOptions(),{commonColumnSettings:{allowExporting:!0}}),controllers:Yj.controllers});var qj=function(e,n,t){var i=e._dataSource;if(i){if(void 0!==t){if(e._getPagingOptionValue(n)!==t){"pageSize"===n&&i.pageIndex(0),i[n](t),e._skipProcessingPagingChange=!0,e.option("paging.".concat(n),t),e._skipProcessingPagingChange=!1;var o=i.pageIndex();return e._isPaging="pageIndex"===n,i["pageIndex"===n?"load":"reload"]().done(()=>{e._isPaging=!1,e.pageChanged.fire(o)})}return W().resolve().promise()}return i[n]()}return 0},ise=dn.Controller.inherit(Lw),Jj={defaultOptions:()=>({loadingTimeout:0,dataSource:null,cacheEnabled:!0,repaintChangesOnly:!1,highlightChanges:!1,onDataErrorOccurred:null,remoteOperations:"auto",paging:{enabled:!0,pageSize:void 0,pageIndex:void 0}}),controllers:{data:class rse extends ise{init(){var n=this;n._items=[],n._cachedProcessedItems=null,n._columnsController=this.getController("columns"),n._isPaging=!1,n._currentOperationTypes=null,n._dataChangedHandler=t=>{n._currentOperationTypes=this._dataSource.operationTypes(),n._handleDataChanged(t),n._currentOperationTypes=null},n._columnsChangedHandler=n._handleColumnsChanged.bind(n),n._loadingChangedHandler=n._handleLoadingChanged.bind(n),n._loadErrorHandler=n._handleLoadError.bind(n),n._customizeStoreLoadOptionsHandler=n._handleCustomizeStoreLoadOptions.bind(n),n._changingHandler=n._handleChanging.bind(n),n._dataPushedHandler=n._handleDataPushed.bind(n),n._columnsController.columnsChanged.add(n._columnsChangedHandler),n._isLoading=!1,n._isCustomLoading=!1,n._repaintChangesOnly=void 0,n._changes=[],n.createAction("onDataErrorOccurred"),n.dataErrorOccurred.add(t=>n.executeAction("onDataErrorOccurred",{error:t})),n._refreshDataSource()}_getPagingOptionValue(n){return this._dataSource[n]()}callbackNames(){return["changed","loadingChanged","dataErrorOccurred","pageChanged","dataSourceChanged","pushed"]}callbackFlags(n){if("dataErrorOccurred"===n)return{stopOnFalse:!0}}publicMethods(){return["beginCustomLoading","endCustomLoading","refresh","filter","clearFilter","getCombinedFilter","keyOf","byKey","getDataByKeys","pageIndex","pageSize","pageCount","totalCount","_disposeDataSource","getKeyByRowIndex","getRowIndexByKey","getDataSource","getVisibleRows","repaintRows"]}reset(){this._columnsController.reset(),this._items=[],this._refreshDataSource()}_handleDataSourceChange(n){if(n.value===n.previousValue||this.option("columns")&&Array.isArray(n.value)&&Array.isArray(n.previousValue)){if(n.value!==n.previousValue){var i=this.store();i&&(i._array=n.value)}return this.needToRefreshOnDataSourceChange(n)&&this.refresh(this.option("repaintChangesOnly")),!0}return!1}needToRefreshOnDataSourceChange(n){return!0}optionChanged(n){var i,r,t=this;function o(){n.handled=!0}if("dataSource"===n.name&&n.name===n.fullName&&this._handleDataSourceChange(n))o();else switch(n.name){case"cacheEnabled":case"repaintChangesOnly":case"highlightChanges":case"loadingTimeout":o();break;case"remoteOperations":case"keyExpr":case"dataSource":case"scrolling":o(),t.reset();break;case"paging":if((i=t.dataSource())&&(r=t._setPagingOptions(i))){var s=i.pageIndex();this._isPaging=r.isPageIndexChanged,i.load().done(()=>{this._isPaging=!1,t.pageChanged.fire(s)})}o();break;case"rtlEnabled":t.reset();break;case"columns":(i=t.dataSource())&&i.isLoading()&&n.name===n.fullName&&(this._useSortingGroupingFromColumns=!0,i.load());break;default:super.optionChanged(n)}}isReady(){return!this._isLoading}getDataSource(){return this._dataSource&&this._dataSource._dataSource}getCombinedFilter(n){return this.combinedFilter(void 0,n)}combinedFilter(n,t){if(!this._dataSource)return n;var i=n??this._dataSource.filter();if(this._columnsController.isDataSourceApplied()||this._columnsController.isAllDataTypesDefined()){var o=this._calculateAdditionalFilter();i=o?xe.combineFilters([o,i]):i}var s=this._dataSource.remoteOperations().filtering||t;return this._columnsController.updateFilter(i,s)}waitReady(){return this._updateLockCount?(this._readyDeferred=new W,this._readyDeferred):ke()}_endUpdateCore(){var n=this._changes;if(n.length){this._changes=[];var t=n.every(i=>i.repaintChangesOnly);this.updateItems(1===n.length?n[0]:{repaintChangesOnly:t})}this._readyDeferred&&(this._readyDeferred.resolve(),this._readyDeferred=null)}_handleCustomizeStoreLoadOptions(n){var t,i=this._columnsController,r=this._dataSource,{storeLoadOptions:o}=n;n.isCustomLoading&&!o.isLoadingAll||(o.filter=this.combinedFilter(o.filter),1===(null===(t=o.filter)||void 0===t?void 0:t.length)&&"!"===o.filter[0]&&(n.data=[],n.extra=n.extra||{},n.extra.totalCount=0),i.isDataSourceApplied()||i.updateColumnDataTypes(r),this._columnsUpdating=!0,i.updateSortingGrouping(r,!this._useSortingGroupingFromColumns),this._columnsUpdating=!1,o.sort=i.getSortDataSourceParameters(),o.group=i.getGroupDataSourceParameters(),r.sort(o.sort),r.group(o.group),o.sort=i.getSortDataSourceParameters(!r.remoteOperations().sorting),n.group=i.getGroupDataSourceParameters(!r.remoteOperations().grouping))}_handleColumnsChanged(n){var o,s,l,t=this,{changeTypes:i}=n,{optionNames:r}=n;if(i.sorting||i.grouping)t._dataSource&&!t._columnsUpdating&&(t._dataSource.group(t._columnsController.getGroupDataSourceParameters()),t._dataSource.sort(t._columnsController.getSortDataSourceParameters()),t.reload());else if(i.columns&&(s=t._columnsController.columnOption(n.columnIndex,"filterValues"),(r.filterValues||r.filterType&&Array.isArray(s)||r.filterValue||r.selectedFilterOperation||r.allowFiltering)&&(o=t._columnsController.columnOption(n.columnIndex,"filterValue"),(Array.isArray(s)||void 0===n.columnIndex||T(o)||!r.selectedFilterOperation||r.filterValue)&&(t._applyFilter(),l=!0)),!t._needApplyFilter&&!xe.checkChanges(r,["width","visibleWidth","filterValue","bufferedFilterValue","selectedFilterOperation","filterValues","filterType"])&&t._columnsController.columnsChanged.add(function g(_){var v;t._columnsController.columnsChanged.remove(g),t.updateItems({repaintChangesOnly:!1,virtualColumnsScrolling:null===(v=_?.changeTypes)||void 0===v?void 0:v.virtualColumnsScrolling})}),T(r.visible))){var h=t._columnsController.columnOption(n.columnIndex);h&&(T(h.filterValue)||T(h.filterValues))&&(t._applyFilter(),l=!0)}!l&&i.filtering&&t.reload()}_handleDataChanged(n){var t=this,i=t._dataSource,r=t._columnsController,o=!1;this._useSortingGroupingFromColumns=!1,i&&!t._isDataSourceApplying&&(t._isDataSourceApplying=!0,ke(t._columnsController.applyDataSource(i)).done(()=>{t._isLoading&&t._handleLoadingChanged(!1),o&&n&&n.isDelayed&&(n.isDelayed=!1),t._isDataSourceApplying=!1;var l,s=t._needApplyFilter;t._needApplyFilter=!1,s&&!t._isAllDataTypesDefined&&(l=t._calculateAdditionalFilter())&&l.length?(It.log("W1005",t.component.NAME),t._applyFilter()):t.updateItems(n,!0)}).fail(()=>{t._isDataSourceApplying=!1}),t._isDataSourceApplying&&(o=!0,t._handleLoadingChanged(!0)),t._needApplyFilter=!t._columnsController.isDataSourceApplied(),t._isAllDataTypesDefined=r.isAllDataTypesDefined())}_handleLoadingChanged(n){this._isLoading=n,this._fireLoadingChanged()}_handleLoadError(n){this.dataErrorOccurred.fire(n)}_handleDataPushed(n){this.pushed.fire(n)}fireError(){for(var n=arguments.length,t=new Array(n),i=0;i<n;i++)t[i]=arguments[i];this.dataErrorOccurred.fire(It.Error.apply(It,t))}_setPagingOptions(n){var t=this.option("paging.pageIndex"),i=this.option("paging.pageSize"),r=this.option("paging.enabled"),o=this.option("scrolling.mode"),s="infinite"===o,h=r||"virtual"===o||s,g=!1,_=!1,v=!1;return n.requireTotalCount(!s),void 0!==r&&n.paginate()!==h&&(n.paginate(h),g=!0),void 0!==i&&n.pageSize()!==i&&(n.pageSize(i),_=!0),void 0!==t&&n.pageIndex()!==t&&(n.pageIndex(t),v=!0),!!(g||_||v)&&{isPaginateChanged:g,isPageSizeChanged:_,isPageIndexChanged:v}}_getSpecificDataSourceOption(){var n=this.option("dataSource");return Array.isArray(n)?{store:{type:"array",data:n,key:this.option("keyExpr")}}:n}_initDataSource(){var n=this._dataSource;super._initDataSource();var t=this._dataSource;if(this._useSortingGroupingFromColumns=!0,this._cachedProcessedItems=null,t){var i=this._setPagingOptions(t);this._isPaging=i?.isPageIndexChanged,this.setDataSource(t)}else n&&this.updateItems()}_loadDataSource(){var n=this,t=n._dataSource,i=new W;return ke(this._columnsController.refresh(!0)).always(()=>{t?t.load().done(function(){n._isPaging=!1,i.resolve.apply(i,arguments)}).fail(i.reject):i.resolve()}),i.promise()}_beforeProcessItems(n){return n.slice(0)}getRowIndexDelta(){return 0}getDataIndex(n){var t=this._items,i="append"===n.changeType&&t.length>0?t[t.length-1]:null;return T(i?.dataIndex)?i.dataIndex+1:0}_processItems(n,t){var i=this,r=i.getRowIndexDelta(),{changeType:o}=t,h={visibleColumns:i._columnsController.getVisibleColumns(null,"loadingAll"===o),dataIndex:this.getDataIndex(t)},g=[];return B(n,(_,v)=>{T(v)&&(h.rowIndex=_-r,v=i._processItem(v,h),g.push(v))}),g}_processItem(n,t){return n=this._generateDataItem(n,t),(n=this._processDataItem(n,t)).dataIndex=t.dataIndex++,n}_generateDataItem(n,t){return{rowType:"data",data:n,key:this.keyOf(n)}}_processDataItem(n,t){return n.values=this.generateDataValues(n.data,t.visibleColumns),n}generateDataValues(n,t,i){for(var o,r=[],s=0;s<t.length;s++){var l=t[s];o=i?void 0:null,l.command||(l.calculateCellValue?o=l.calculateCellValue(n):l.dataField&&(o=n[l.dataField])),r.push(o)}return r}_applyChange(n){"update"===n.changeType?this._applyChangeUpdate(n):this.items().length&&n.repaintChangesOnly&&"refresh"===n.changeType?this._applyChangesOnly(n):"refresh"===n.changeType&&this._applyChangeFull(n)}_applyChangeFull(n){this._items=n.items.slice(0)}_getRowIndices(n){var t=n.rowIndices.slice(0),i=this.getRowIndexDelta();t.sort((s,l)=>s-l);for(var r=0;r<t.length;r++){var o=t[r];n.allowInvisibleRowIndices&&(o+=i),o<0&&(t.splice(r,1),r--)}return t}_applyChangeUpdate(n){var g,t=this,{items:i}=n,r=t._getRowIndices(n),o=t.getRowIndexDelta(),s=t.option("repaintChangesOnly"),l=-1,h=0;n.items=[],n.rowIndices=[],n.columnIndices=[],n.changeTypes=[];var _=function(v,C,b){var E=v&&C&&Jt(v.key,C.key);return E&&b&&(E=v.rowType===C.rowType&&("detail"!==C.rowType||v.isEditing===C.isEditing)),E};B(r,(v,C)=>{var b;if(l!==(C+=h+o)){l=C;var E=t._items[C],w=t._items[C+1],M=i[C],k=i[C+1],L=_(E,w)||_(M,k);if(M&&(M.rowIndex=C,n.items.push(M)),E&&M&&_(E,M,L))g="update",t._items[C]=M,E.visible!==M.visible?n.items.splice(-1,1,{visible:M.visible}):s&&!n.isFullUpdate&&(b=t._partialUpdateRow(E,M,C-o));else if(M&&!E||k&&_(E,k,L))g="insert",t._items.splice(C,0,M),h++;else if(E&&!M||w&&_(M,w,L))g="remove",t._items.splice(C,1),h--,l=-1;else{if(!M)return;g="update",t._items[C]=M}n.rowIndices.push(C-o),n.changeTypes.push(g),n.columnIndices.push(b)}})}_isCellChanged(n,t,i,r,o){if(JSON.stringify(n.values[r])!==JSON.stringify(t.values[r]))return!0;function s(l,h){return!!l.modifiedValues&&void 0!==l.modifiedValues[h]}return s(n,r)!==s(t,r)}_getChangedColumnIndices(n,t,i,r){var o;if(n.rowType===t.rowType){if("group"!==t.rowType&&"groupFooter"!==t.rowType&&(o=[],"detail"!==t.rowType))for(var s=0;s<n.values.length;s++)this._isCellChanged(n,t,i,s,r)&&o.push(s);"group"===t.rowType&&t.isExpanded===n.isExpanded&&n.cells&&(o=n.cells.map((l,h)=>{var g;return"groupExpand"!==(null===(g=l.column)||void 0===g?void 0:g.type)?h:-1}).filter(l=>l>=0))}return o}_partialUpdateRow(n,t,i,r){var o=this._getChangedColumnIndices(n,t,i,r);return o?.length&&this.option("dataRowTemplate")&&(o=void 0),o&&(n.cells&&n.cells.forEach((s,l)=>{!(o.indexOf(l)>=0)&&s&&s.update&&s.update(t)}),t.update=n.update,t.watch=n.watch,t.cells=n.cells,r&&(t.oldValues=n.values),n.update&&n.update(t)),o}_isItemEquals(n,t){var i,r,o,s;if(JSON.stringify(n.values)!==JSON.stringify(t.values)||["modified","isNewRow","removed","isEditing"].some(_=>n[_]!==t[_]))return!1;if("group"===n.rowType||"groupFooter"===n.rowType){var l=n.isExpanded===t.isExpanded,h=JSON.stringify(n.summaryCells)===JSON.stringify(t.summaryCells),g=(null===(i=n.data)||void 0===i?void 0:i.isContinuation)===(null===(r=t.data)||void 0===r?void 0:r.isContinuation)&&(null===(o=n.data)||void 0===o?void 0:o.isContinuationOnNextPage)===(null===(s=t.data)||void 0===s?void 0:s.isContinuationOnNextPage);if(!l||!h||!g)return!1}return!0}_applyChangesOnly(n){var t,i=[],r=[],o=[],s=[],l={},h=null===(t=n?.isLiveUpdate)||void 0===t||t;function g(b){if(b)return"".concat(b.rowType,",").concat(JSON.stringify(b.key))}var _=this._items,v=_.slice();n.items.forEach((b,E)=>{var w=g(b);l[w]=E,b.rowIndex=E});var C=K$(v,n.items,g,(b,E)=>!!this._isItemEquals(b,E)&&(b.cells&&(b.update&&b.update(E),b.cells.forEach(w=>{w&&w.update&&w.update(E,!0)})),!0));C?(C.forEach(b=>{switch(b.type){case"update":var{index:E}=b,w=b.data,{oldItem:M}=b,k=this._partialUpdateRow(M,w,E,h);i.push(E),o.push("update"),s.push(w),_[E]=w,r.push(k);break;case"insert":i.push(b.index),o.push("insert"),s.push(b.data),r.push(void 0),_.splice(b.index,0,b.data);break;case"remove":i.push(b.index),o.push("remove"),_.splice(b.index,1),s.push(b.oldItem),r.push(void 0)}}),n.repaintChangesOnly=!0,n.changeType="update",n.rowIndices=i,n.columnIndices=r,n.changeTypes=o,n.items=s,v.length&&(n.isLiveUpdate=!0),this._correctRowIndices(b=>{var E=this._rowIndexOffset||0,w=this.getRowIndexOffset(),k=g(v[b-E]),L=l[k];return L>=0?L+w-b:0})):this._applyChangeFull(n)}_correctRowIndices(n){}_afterProcessItems(n,t){return n}_updateItemsCore(n){var t,i=this._dataSource;if(n.changeType=n.changeType||"refresh",i){var o=this._cachedProcessedItems;n.useProcessedItemsCache&&o?t=o:(t=n.items||i.items(),t=this._beforeProcessItems(t),t=this._processItems(t,n),this._cachedProcessedItems=t),t=this._afterProcessItems(t,n),n.items=t;var s=this._items.length===t.length&&this._items;this._applyChange(n);var l=this.getRowIndexDelta();B(this._items,(h,g)=>{var _;g.rowIndex=h-l,s&&(g.cells=null!==(_=s[h].cells)&&void 0!==_?_:[]);var v=t[h];v&&(g.loadIndex=v.loadIndex)}),this._rowIndexOffset=this.getRowIndexOffset()}else this._items=[]}_handleChanging(n){var t=this.getVisibleRows();this.dataSource()&&n.changes.forEach(r=>{if("insert"===r.type&&r.index>=0){for(var o=0,s=0;s<r.index;s++){var l=t[s];l&&("data"===l.rowType||"group"===l.rowType)&&o++}r.index=o}})}updateItems(n,t){var i;if(n=n||{},void 0!==this._repaintChangesOnly)n.repaintChangesOnly=null!==(i=n.repaintChangesOnly)&&void 0!==i?i:this._repaintChangesOnly,n.needUpdateDimensions=n.needUpdateDimensions||this._needUpdateDimensions;else if(n.changes)n.repaintChangesOnly=this.option("repaintChangesOnly");else if(t){var r=this.dataSource().operationTypes();n.repaintChangesOnly=r&&!r.grouping&&!r.filtering&&this.option("repaintChangesOnly"),n.isDataChanged=!0,r&&(r.reload||r.paging||r.groupExpanding)&&(n.needUpdateDimensions=!0)}!this._updateLockCount||n.cancel?(this._updateItemsCore(n),!n.cancel&&this._fireChanged(n)):this._changes.push(n)}loadingOperationTypes(){var n=this.dataSource();return n&&n.loadingOperationTypes()||{}}_fireChanged(n){this._currentOperationTypes&&(n.operationTypes=this._currentOperationTypes,this._currentOperationTypes=null),Xn(()=>{this.changed.fire(n)})}isLoading(){return this._isLoading||this._isCustomLoading}_fireLoadingChanged(){this.loadingChanged.fire(this.isLoading(),this._loadingText)}_calculateAdditionalFilter(){return null}_applyFilter(){var n=this._dataSource;if(n)return n.pageIndex(0),this._isFilterApplying=!0,this.reload().done(()=>{this._isFilterApplying&&this.pageChanged.fire()})}resetFilterApplying(){this._isFilterApplying=!1}filter(n){var t=this._dataSource,i=t&&t.filter();if(0===arguments.length)return i;n=arguments.length>1?Array.prototype.slice.call(arguments,0):n,!xe.equalFilterParameters(i,n)&&(t&&t.filter(n),this._applyFilter())}clearFilter(n){var t=this._columnsController,i=function(r){for(var o=t.columnCount(),s=0;s<o;s++)t.columnOption(s,r,void 0)};if(this.component.beginUpdate(),arguments.length>0)switch(n){case"dataSource":this.filter(null);break;case"search":this.searchByText("");break;case"header":i("filterValues");break;case"row":i("filterValue")}else this.filter(null),this.searchByText(""),i("filterValue"),i("bufferedFilterValue"),i("filterValues");this.component.endUpdate()}_fireDataSourceChanged(){var n=this;n.changed.add(function t(){n.changed.remove(t),n.dataSourceChanged.fire()})}_getDataSourceAdapter(){}_createDataSourceAdapterCore(n,t){var r=this._getDataSourceAdapter().create(this.component);return r.init(n,t),r}isLocalStore(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.store())instanceof tx}isCustomStore(n){return(n=n||this.store())instanceof Bw}_createDataSourceAdapter(n){var t=this.option("remoteOperations"),i=n.store(),r={filtering:!0,sorting:!0,paging:!0,grouping:!0,summary:!0};return qe(t)&&t.groupPaging&&(t=A({},r,t)),"auto"===t&&(t=this.isLocalStore(i)||this.isCustomStore(i)?{}:{filtering:!0,sorting:!0,paging:!0}),!0===t&&(t=r),this._createDataSourceAdapterCore(n,t)}setDataSource(n){var t=this._dataSource;!n&&t&&(t.cancelAll(),t.changed.remove(this._dataChangedHandler),t.loadingChanged.remove(this._loadingChangedHandler),t.loadError.remove(this._loadErrorHandler),t.customizeStoreLoadOptions.remove(this._customizeStoreLoadOptionsHandler),t.changing.remove(this._changingHandler),t.pushed.remove(this._dataPushedHandler),t.dispose(this._isSharedDataSource)),n&&(n=this._createDataSourceAdapter(n)),this._dataSource=n,n&&(this._fireDataSourceChanged(),this._isLoading=!n.isLoaded(),this._needApplyFilter=!0,this._isAllDataTypesDefined=this._columnsController.isAllDataTypesDefined(),n.changed.add(this._dataChangedHandler),n.loadingChanged.add(this._loadingChangedHandler),n.loadError.add(this._loadErrorHandler),n.customizeStoreLoadOptions.add(this._customizeStoreLoadOptionsHandler),n.changing.add(this._changingHandler),n.pushed.add(this._dataPushedHandler))}items(n){return this._items}isEmpty(){return!this.items().length}pageCount(){return this._dataSource?this._dataSource.pageCount():1}dataSource(){return this._dataSource}store(){var n=this._dataSource;return n&&n.store()}loadAll(n){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=this,r=new W,o=i._dataSource;if(o)if(n){var s={data:n,isCustomLoading:!0,storeLoadOptions:{isLoadingAll:!0},loadOptions:{filter:t?null:i.getCombinedFilter(),group:o.group(),sort:o.sort()}};o._handleDataLoaded(s),ke(s.data).done(h=>{var g;h=i._beforeProcessItems(h),r.resolve(i._processItems(h,{changeType:"loadingAll"}),null===(g=s.extra)||void 0===g?void 0:g.summary)}).fail(r.reject)}else if(o.isLoading())r.reject();else{var l=A({},o.loadOptions(),{isLoadingAll:!0,requireTotalCount:!1});o.load(l).done((h,g)=>{h=i._beforeProcessItems(h),h=i._processItems(h,{changeType:"loadingAll"}),r.resolve(h,g&&g.summary)}).fail(r.reject)}else r.resolve([]);return r}getKeyByRowIndex(n,t){var i=this.items(t)[n];if(i)return i.key}getRowIndexByKey(n,t){return xe.getIndexByKey(n,this.items(t))}keyOf(n){var t=this.store();if(t)return t.keyOf(n)}byKey(n){var r,t=this.store(),i=this.getRowIndexByKey(n);if(t)return i>=0&&(r=(new W).resolve(this.items()[i].data)),r||t.byKey(n)}key(){var n=this.store();if(n)return n.key()}getRowIndexOffset(n){return 0}getDataByKeys(n){var t=this,i=new W,r=[],o=[];return B(n,(s,l)=>{r.push(t.byKey(l).done(h=>{o[s]=h}))}),ke.apply(x,r).always(()=>{i.resolve(o)}),i}pageIndex(n){return qj(this,"pageIndex",n)}pageSize(n){return qj(this,"pageSize",n)}beginCustomLoading(n){this._isCustomLoading=!0,this._loadingText=n||"",this._fireLoadingChanged()}endCustomLoading(){this._isCustomLoading=!1,this._loadingText=void 0,this._fireLoadingChanged()}refresh(n){!0===n?n={reload:!0,changesOnly:!0}:n||(n={lookup:!0,selection:!0,reload:!0});var t=this,i=t.getDataSource(),{changesOnly:r}=n,o=new W,s=function(){t._repaintChangesOnly=!!r};return ke(!n.lookup||t._columnsController.refresh()).always(()=>{n.load||n.reload?(i&&i.on("customizeLoadResult",s),ke(t.reload(n.reload,r)).always(()=>{i&&i.off("customizeLoadResult",s),t._repaintChangesOnly=void 0}).done(o.resolve).fail(o.reject)):(t.updateItems({repaintChangesOnly:n.changesOnly}),o.resolve())}),o.promise()}getVisibleRows(){return this.items()}_disposeDataSource(){this.setDataSource(null)}dispose(){this._disposeDataSource(),super.dispose()}repaintRows(n,t){((n=Array.isArray(n)?n:[n]).length>1||T(n[0]))&&this.updateItems({changeType:"update",rowIndices:n,isFullUpdate:!t})}skipProcessingPagingChange(n){return this._skipProcessingPagingChange&&("paging.pageIndex"===n||"paging.pageSize"===n)}getUserState(){return{searchText:this.option("searchPanel.text"),pageIndex:this.pageIndex(),pageSize:this.pageSize()}}getCachedStoreData(){return this._dataSource&&this._dataSource.getCachedStoreData()}isLastPageLoaded(){return this.pageIndex()===this.pageCount()-1}load(){var n;return null===(n=this._dataSource)||void 0===n?void 0:n.load()}reload(n,t){var i;return null===(i=this._dataSource)||void 0===i?void 0:i.reload(n,t)}push(){var n;return null===(n=this._dataSource)||void 0===n?void 0:n.push(...arguments)}itemsCount(){var n;return this._dataSource?null===(n=this._dataSource)||void 0===n?void 0:n.itemsCount():0}totalItemsCount(){var n;return this._dataSource?null===(n=this._dataSource)||void 0===n?void 0:n.totalItemsCount():0}hasKnownLastPage(){var n;return!this._dataSource||(null===(n=this._dataSource)||void 0===n?void 0:n.hasKnownLastPage())}isLoaded(){var n;return!this._dataSource||(null===(n=this._dataSource)||void 0===n?void 0:n.isLoaded())}totalCount(){var n;return this._dataSource?null===(n=this._dataSource)||void 0===n?void 0:n.totalCount():0}}}},PB=dn.Controller.inherit(function(){function e(l,h){if(l&&(l=l.slice(0),h))for(var g=0;g<l.length;g++)l[g]=A({key:l[g].key},l[g]),l[g].items=e(l[g].items,h-1);return l}function n(l,h,g){var _={reload:!0,fullReload:!0};return h&&((_={sorting:!xe.equalSortParameters(l.sort,h.sort),grouping:!xe.equalSortParameters(l.group,h.group,!0),groupExpanding:!xe.equalSortParameters(l.group,h.group)||h.groupExpand,filtering:!xe.equalFilterParameters(l.filter,h.filter),pageIndex:l.pageIndex!==h.pageIndex,skip:l.skip!==h.skip,take:l.take!==h.take,pageSize:l.pageSize!==h.pageSize,fullReload:g,reload:!1,paging:!1}).reload=g||_.sorting||_.grouping||_.filtering,_.paging=_.pageIndex||_.pageSize||_.take),_}function t(l,h){var g=xe.normalizeSortingInfo(l.group||l.storeLoadOptions.group||l.loadOptions.group).length,_=[];if(i(_,l,g))return _;h&&function(v,C,b){var E,w,M=v.length,{storeLoadOptions:k}=C;if(void 0!==k.skip&&k.take&&!b){var L=[];i(L,C,b,!0);var G=L.length;(M||G)&&(C.skip=null!==(E=C.skip)&&void 0!==E?E:k.skip,C.take=null!==(w=C.take)&&void 0!==w?w:k.take),M&&(k.skip+=M,k.take-=M,C.cachedDataPartBegin=v),G&&(k.take-=G,C.cachedDataPartEnd=L.reverse())}}(_,l,g)}function i(l,h,g,_){var v,C,b,E,w,{storeLoadOptions:M}=h,k=null!==(C=null!==(v=h.take)&&void 0!==v?v:M.take)&&void 0!==C?C:0,L=null===(b=h.cachedData)||void 0===b?void 0:b.items;if(k&&L){for(var G=null!==(w=null!==(E=h.skip)&&void 0!==E?E:M.skip)&&void 0!==w?w:0,Q=0;Q<k;Q++){var le=_?k-1-Q:Q,Te=le+G,He=L[Te];if(void 0===He&&Te in L)return!0;var Ee=r(h,He,g,le,k);if(!Ee)return!1;l.push(Ee)}return!0}return!1}function r(l,h,g,_,v){return g&&h?function E(w,M,k,L){if(M&&w){var G=de({},w),Q=k[0]||0,le=L[0],{items:Te}=w;if(Te){if(void 0===le&&!Te[Q])return;G.items=[],k.length&&(G.isContinuation=!0),le&&(G.isContinuationOnNextPage=w.count>le);for(var He=0;void 0===le?Te[He+Q]:He<le;He++){var ze=He+1===le,ot=E(Te[He+Q],M-1,0===He?k.slice(1):[],ze?L.slice(1):[]);if(void 0===ot)return;G.items.push(ot)}}return G}return w}(h,g,0===_&&l.skips||[],_===v-1&&l.takes||[]):h}function o(l,h,g,_){if(g&&h){var v=de({},h);delete v.isContinuation,delete v.isContinuationOnNextPage;var C=_[0]||0;return h.items&&(v.items=l?.items||{},h.items.forEach((b,E)=>{var w=E+C,M=0===E?_.slice(1):[];v.items[w]=o(v.items[w],b,g-1,M)})),v}return h}var s={init(l,h){var g=this;g._dataSource=l,g._remoteOperations=h||{},g._isLastPage=!l.isLastPage(),g._hasLastPage=!1,g._currentTotalCount=0,g._cachedData={items:{}},g._lastOperationTypes={},g._eventsStrategy=l._eventsStrategy,g._totalCountCorrection=0,g._isLoadingAll=!1,g.changed=Et(),g.loadingChanged=Et(),g.loadError=Et(),g.customizeStoreLoadOptions=Et(),g.changing=Et(),g.pushed=Et(),g._dataChangedHandler=g._handleDataChanged.bind(g),g._customizeStoreLoadOptionsHandler=g._handleCustomizeStoreLoadOptions.bind(g),g._dataLoadedHandler=g._handleDataLoaded.bind(g),g._loadingChangedHandler=g._handleLoadingChanged.bind(g),g._loadErrorHandler=g._handleLoadError.bind(g),g._pushHandler=g._handlePush.bind(g),g._changingHandler=g._handleChanging.bind(g),l.on("changed",g._dataChangedHandler),l.on("customizeStoreLoadOptions",g._customizeStoreLoadOptionsHandler),l.on("customizeLoadResult",g._dataLoadedHandler),l.on("loadingChanged",g._loadingChangedHandler),l.on("loadError",g._loadErrorHandler),l.on("changing",g._changingHandler),l.store().on("beforePush",g._pushHandler),B(l,(_,v)=>{!g[_]&&Re(v)&&(g[_]=function(){return this._dataSource[_].apply(this._dataSource,arguments)})})},remoteOperations(){return this._remoteOperations},dispose(l){var h=this._dataSource,g=h.store();h.off("changed",this._dataChangedHandler),h.off("customizeStoreLoadOptions",this._customizeStoreLoadOptionsHandler),h.off("customizeLoadResult",this._dataLoadedHandler),h.off("loadingChanged",this._loadingChangedHandler),h.off("loadError",this._loadErrorHandler),h.off("changing",this._changingHandler),g&&g.off("beforePush",this._pushHandler),l||h.dispose()},refresh(l,h){var g=this._dataSource;h.reload&&(this.resetCurrentTotalCount(),this._isLastPage=!g.paginate(),this._hasLastPage=this._isLastPage)},resetCurrentTotalCount(){this._currentTotalCount=0,this._totalCountCorrection=0},resetCache(){this._cachedStoreData=void 0,this._cachedPagingData=void 0},resetPagesCache(){this._cachedData={items:{}}},_needClearStoreDataCache(){var l=this.remoteOperations(),h=n(this._lastLoadOptions||{},{});return!Object.keys(l).every(_=>!h[_]||!l[_])},push(l,h){var g=this.store();this._needClearStoreDataCache()&&(this._cachedStoreData=void 0),this._cachedPagingData=void 0,this.resetPagesCache(!0),this._cachedStoreData&&Qu({keyInfo:g,data:this._cachedStoreData,changes:l}),h||this._applyBatch(l),this.pushed.fire(l)},getDataIndexGetter(){if(!this._dataIndexGetter){var l,h,g=this.store();this._dataIndexGetter=_=>{if(!l||h&&h!==this._cachedStoreData){h=this._cachedStoreData||[],l={};for(var C=0;C<h.length;C++)l[cr(g.keyOf(h[C]))]=C}return l[cr(g.keyOf(_))]}}return this._dataIndexGetter},_getKeyInfo(){return this.store()},_needToCopyDataObject:()=>!0,_applyBatch(l,h){var g=this._getKeyInfo(),_=this._dataSource,v=xe.normalizeSortingInfo(this.group()).length,C="reshape"===this.option("editing.refreshMode"),b="virtual"===this.option("scrolling.mode");l=l.filter(k=>!_.paginate()||"insert"!==k.type||void 0!==k.index);var E=()=>v?this.itemsCount():this.items().length,w=E();Qu({keyInfo:g,data:this._items,changes:l,groupCount:v,useInsertIndex:!0,skipCopying:!this._needToCopyDataObject()}),Qu({keyInfo:g,data:_.items(),changes:l,groupCount:v,useInsertIndex:!0,skipCopying:!this._needToCopyDataObject()}),(this._currentTotalCount>0||(h||!C)&&b)&&(this._totalCountCorrection+=E()-w),l.splice(0,l.length)},_handlePush(l){var{changes:h}=l;this.push(h,!0)},_handleChanging(l){this.changing.fire(l),this._applyBatch(l.changes,!0)},_needCleanCacheByOperation(l,h){var g=["filtering","sorting","paging"],_=g.indexOf(l);return(_>=0?g.slice(_):[l]).some(C=>h[C])},_customizeRemoteOperations(l,h){var g=this._cachedStoreData,_=this._cachedPagingData,v=this._cachedData;(l.storeLoadOptions.filter&&!l.remoteOperations.filtering||l.storeLoadOptions.sort&&!l.remoteOperations.sorting)&&(l.remoteOperations={filtering:l.remoteOperations.filtering,summary:l.remoteOperations.summary}),h.fullReload?(g=void 0,_=void 0,v={items:{}}):(h.reload?(_=void 0,v={items:{}}):h.groupExpanding&&(v={items:{}}),B(h,(C,b)=>{b&&this._needCleanCacheByOperation(C,l.remoteOperations)&&(g=void 0,_=void 0)})),_&&(l.remoteOperations.paging=!1),l.cachedStoreData=g,l.cachedPagingData=_,l.cachedData=v,l.isCustomLoading||(this._cachedStoreData=g,this._cachedPagingData=_,this._cachedData=v)},_handleCustomizeStoreLoadOptions(l){var h;this._handleDataLoading(l),0!==(null===(h=l.data)||void 0===h?void 0:h.length)&&(l.data=t(l,!0)||l.cachedStoreData)},_handleDataLoading(l){var h=this._dataSource,g=this._lastLoadOptions;this.customizeStoreLoadOptions.fire(l),l.delay=this.option("loadingTimeout"),l.originalStoreLoadOptions=l.storeLoadOptions,l.remoteOperations=A({},this.remoteOperations());var _=!this.isLoaded()&&!this._isRefreshing;this.option("integrationOptions.renderedOnServer")&&!this.isLoaded()&&(l.delay=void 0);var v=A({pageIndex:this.pageIndex(),pageSize:this.pageSize()},l.storeLoadOptions),C=n(v,g,_);if(this._customizeRemoteOperations(l,C),!l.isCustomLoading){var b=this._isRefreshing;l.pageIndex=h.pageIndex(),l.lastLoadOptions=v,l.operationTypes=C,this._loadingOperationTypes=C,this._isRefreshing=!0,ke(b||this._isRefreshed||this.refresh(l,C)).done(()=>{this._lastOperationId===l.operationId&&(this._isRefreshed=!0,this.load().always(()=>{this._isRefreshed=!1}))}).fail(()=>{h.cancel(l.operationId)}).always(()=>{this._isRefreshing=!1}),h.cancel(this._lastOperationId),this._lastOperationId=l.operationId,this._isRefreshing&&h.cancel(this._lastOperationId)}this._handleDataLoadingCore(l)},_handleDataLoadingCore(l){var{remoteOperations:h}=l;l.loadOptions={};var g=l.cachedData.extra,_={filter:!h.filtering,sort:!h.sorting,group:!h.grouping,summary:!h.summary,skip:!h.paging,take:!h.paging,requireTotalCount:g&&"totalCount"in g||!h.paging,langParams:!h.filtering||!h.sorting};B(l.storeLoadOptions,(v,C)=>{_[v]&&(l.loadOptions[v]=C,delete l.storeLoadOptions[v])}),g&&(l.extra=g)},_handleDataLoaded(l){var h,g,{loadOptions:_}=l,v=l.remoteOperations&&!l.remoteOperations.paging,{cachedData:C}=l,{storeLoadOptions:b}=l,E=!1!==this.option("cacheEnabled")&&b,w=E&&!l.isCustomLoading&&C&&(!v||b.group),M=E&&v,k=M&&!l.isCustomLoading;if(_){v&&(l.skip=_.skip,l.take=_.take,delete _.skip,delete _.take),_.group&&(_.group=l.group||_.group);var L=xe.normalizeSortingInfo(l.group||b.group||_.group).length;l.cachedDataPartBegin&&(l.data=l.cachedDataPartBegin.concat(l.data)),l.cachedDataPartEnd&&(l.data=l.data.concat(l.cachedDataPartEnd)),(!w||!t(l))&&(M&&l.cachedPagingData?l.data=e(l.cachedPagingData,L):(k&&(this._cachedStoreData?l.mergeStoreLoadData&&(l.data=this._cachedStoreData=this._cachedStoreData.concat(l.data)):this._cachedStoreData=e(l.data,xe.normalizeSortingInfo(b.group).length)),new tx(l.data).load(_).done(G=>{l.data=G,k&&(this._cachedPagingData=e(l.data,L))}).fail(G=>{l.data=(new W).reject(G)})),_.requireTotalCount&&v&&(l.extra=ft(l.extra)?l.extra:{},l.extra.totalCount=l.data.length),l.extra&&l.extra.totalCount>=0&&(!1===b.requireTotalCount||!1===_.requireTotalCount)&&(l.extra.totalCount=-1),!_.data&&(b.requireTotalCount||(null!==(g=null===(h=l.extra)||void 0===h?void 0:h.totalCount)&&void 0!==g?g:-1)>=0)&&(this._totalCountCorrection=0),this._handleDataLoadedCore(l),w&&(C.extra=C.extra||A({},l.extra),ke(l.data).done(G=>{!function(Q,le,Te){for(var He,Ee,ze,ot,{storeLoadOptions:ht}=Q,Xt=null!==(Ee=null!==(He=Q.skip)&&void 0!==He?He:ht.skip)&&void 0!==Ee?Ee:0,on=null!==(ot=null!==(ze=Q.take)&&void 0!==ze?ze:ht.take)&&void 0!==ot?ot:0,On=0;On<on;On++){var Ga=On+Xt,Ua=Q.cachedData.items;Ua[Ga]=o(Ua[Ga],le[On],Te,0===On&&Q.skips||[])}}(l,G,L)}))),ke(l.data).done(()=>{l.lastLoadOptions&&(this._lastLoadOptions=l.lastLoadOptions,Object.keys(l.operationTypes).forEach(G=>{this._lastOperationTypes[G]=this._lastOperationTypes[G]||l.operationTypes[G]}))}),l.storeLoadOptions=l.originalStoreLoadOptions}else this._dataSource.cancel(l.operationId)},_handleDataLoadedCore(l){l.remoteOperations&&!l.remoteOperations.paging&&Array.isArray(l.data)&&(void 0!==l.skip&&(l.data=l.data.slice(l.skip)),void 0!==l.take&&(l.data=l.data.slice(0,l.take)))},_handleLoadingChanged(l){this.loadingChanged.fire(l)},_handleLoadError(l){this.loadError.fire(l),this.changed.fire({changeType:"loadError",error:l})},_loadPageSize(){return this.pageSize()},_handleDataChanged(l){var h,g=this._dataSource,_=!1,v=!l||T(l.changeType),C=this.itemsCount();v&&(this._isLastPage=!C||!this._loadPageSize()||C<this._loadPageSize(),this._isLastPage&&(this._hasLastPage=!0)),g.totalCount()>=0?g.pageIndex()>=this.pageCount()&&(g.pageIndex(this.pageCount()-1),this.pageIndex(g.pageIndex()),this.resetPagesCache(),g.load(),_=!0):v&&((h=g.pageIndex()*this.pageSize()+C)>this._currentTotalCount&&(this._currentTotalCount=h,(0===g.pageIndex()||!this.option("scrolling.legacyMode"))&&(this._totalCountCorrection=0)),0===C&&g.pageIndex()>=this.pageCount()&&(g.pageIndex(this.pageCount()-1),"infinite"!==this.option("scrolling.mode")&&(g.load(),_=!0))),_||(this._operationTypes=this._lastOperationTypes,this._lastOperationTypes={},this.component._optionCache={},this.changed.fire(l),this.component._optionCache=void 0)},_scheduleCustomLoadCallbacks(l){var h=this;h._isCustomLoading=!0,l.always(()=>{h._isCustomLoading=!1})},loadingOperationTypes(){return this._loadingOperationTypes},operationTypes(){return this._operationTypes},lastLoadOptions(){return this._lastLoadOptions||{}},isLastPage(){return this._isLastPage},_dataSourceTotalCount(){return this._dataSource.totalCount()},totalCount(){return parseInt((this._currentTotalCount||this._dataSourceTotalCount())+this._totalCountCorrection)},totalCountCorrection(){return this._totalCountCorrection},itemsCount(){return this._dataSource.items().length},totalItemsCount(){return this.totalCount()},pageSize(){var l=this._dataSource;return arguments.length||l.paginate()?l.pageSize.apply(l,arguments):0},pageCount(){var l=this.totalItemsCount()-this._totalCountCorrection,h=this.pageSize();return h&&l>0?Math.max(1,Math.ceil(l/h)):1},hasKnownLastPage(){return this._hasLastPage||this._dataSource.totalCount()>=0},loadFromStore(l,h){var g=this._dataSource,_=new W;if(g)return(h=h||g.store()).load(l).done((v,C)=>{v&&!Array.isArray(v)&&Array.isArray(v.data)&&(C=v,v=v.data),_.resolve(v,C)}).fail(_.reject),_},isCustomLoading(){return!!this._isCustomLoading},load(l){var E,w,h=this,g=h._dataSource,_=new W;if(l){var v=g.store(),C=g.loadOptions(),b={storeLoadOptions:A({},l,{langParams:C?.langParams}),isCustomLoading:!0};return B(v._customLoadOptions()||[],(E,w)=>{w in b.storeLoadOptions||(b.storeLoadOptions[w]=C[w])}),this._isLoadingAll=l.isLoadingAll,h._scheduleCustomLoadCallbacks(_),g._scheduleLoadCallbacks(_),h._handleCustomizeStoreLoadOptions(b),E=()=>{if(!g.store())return _.reject("canceled");ke(b.data||h.loadFromStore(b.storeLoadOptions)).done((E,w)=>{b.data=E,b.extra=w||{},h._handleDataLoaded(b),l.requireTotalCount&&void 0===b.extra.totalCount&&(b.extra.totalCount=v.totalCount(b.storeLoadOptions)),ke(b.data,b.extra.totalCount).done((M,k)=>{b.extra.totalCount=k,_.resolve(M,b.extra)}).fail(_.reject)}).fail(_.reject)},w=h.option("loadingTimeout"),T(w)?$v(E,w):E(),_.fail(function(){h._eventsStrategy.fireEvent("loadError",arguments)}).always(()=>{this._isLoadingAll=!1}).promise()}return g.load()},reload(l){return l?this._dataSource.reload():this._dataSource.load()},getCachedStoreData(){return this._cachedStoreData}};return s}());const Ox={extend(e){PB=PB.inherit(e)},create:e=>new PB(e)};var FB,kB,ose=null===(kB=null===(FB=Jj.controllers)||void 0===FB?void 0:FB.data)||void 0===kB?void 0:kB.inherit({_getDataSourceAdapter:()=>Ox,_getSpecificDataSourceOption(){var e=this.option("dataSource");return e&&!Array.isArray(e)&&this.option("keyExpr")&&It.log("W1011"),this.callBase()}});Ge.registerModule("data",{defaultOptions:Jj.defaultOptions,controllers:{data:ose}});var Xj="dx-sort",Zj="dx-sort-none",Qj="dx-sort-index-icon";const eK={_applyColumnState(e){var n,t,i=this.option("sorting.mode"),{rootElement:r}=e,{column:o}=e,s=this._getIndicatorContainer(r);if("sort"===e.name){r.find(".".concat(Xj)).remove(),!s.children().length&&s.remove();var l="none"!==i&&o.allowSorting;return T(o.groupIndex)||!l&&!T(o.sortOrder)||(n="asc"===o.sortOrder?"ascending":"descending",t=this.callBase(e).toggleClass("dx-sort-up","asc"===o.sortOrder).toggleClass("dx-sort-down","desc"===o.sortOrder),this.getController&&!!this.getController("columns").columnOption("sortIndex:1")&&this.option("sorting.showSortIndexes")&&o.sortIndex>=0&&(x("<span>").addClass(Qj).text(o.sortIndex+1).appendTo(t),t.addClass("dx-sort-index")),l&&e.rootElement.addClass(this.addWidgetPrefix("action"))),T(o.sortOrder)?this.setAria("sort",n,r):this.setAria("sort","none",r),t}return this.callBase(e)},_getIndicatorClassName(e){return"sort"===e?Xj:"sortIndex"===e?Qj:this.callBase(e)},_renderIndicator(e){var{column:n}=e,t=e.container,i=e.indicator;if("sort"===e.name){var r=this.option("rtlEnabled");if(T(n.sortOrder)||i&&i.addClass(Zj),t.children().length&&(!r&&"left"===e.columnAlignment||r&&"right"===e.columnAlignment))return void t.prepend(i)}this.callBase(e)},_updateIndicator(e,n,t){if("sort"!==t||!T(n.groupIndex))return this.callBase.apply(this,arguments)},_getIndicatorElements(e,n){var t=this.callBase(e);return n?t:t&&t.not(".".concat(Zj))}};var cse=A({},eK,{_createRow(e){var n=this.callBase(e);return"header"===e.rowType&&R.on(n,fe(Kt,"dxDataGridColumnHeadersView"),"td",this.createAction(t=>{this._processHeaderAction(t.event,n)})),n},_processHeaderAction(e,n){if(x(e.currentTarget).parent().get(0)===n.get(0)){var t=this,i=null,r=x(e.currentTarget),o=r.parent().index(),s=-1;[].slice.call(t.getCellElements(o)).some((C,b)=>{if(C===r.get(0))return s=b,!0});var h=t._columnsController.getVisibleColumns(o)[s],g=t.getController("editing"),_=t.option("editing.mode");g&&g.isEditing()&&("batch"===_||"cell"===_)||!t._isSortableElement(x(e.target))||h&&!T(h.groupIndex)&&!h.command&&(e.shiftKey?i="shift":Un(e)&&(i="ctrl"),setTimeout(()=>{t._columnsController.changeSortOrder(h.index,i)}))}},_renderCellContent(e,n){var{column:t}=n;!t.command&&"header"===n.rowType&&this._applyColumnState({name:"sort",rootElement:e,column:t,showColumnLines:this.option("showColumnLines")}),this.callBase.apply(this,arguments)},_columnOptionChanged(e){var{changeTypes:n}=e;1===n.length&&n.sorting?this._updateIndicators("sort"):this.callBase(e)},optionChanged(e){"sorting"===e.name?(this._invalidate(),e.handled=!0):this.callBase(e)}}),hse=A({},eK,{_createGroupPanelItem(e,n){var t=this,i=t.callBase(...arguments);return R.on(i,fe(Kt,"dxDataGridHeaderPanel"),t.createAction(()=>{t._processGroupItemAction(n.index)})),t._applyColumnState({name:"sort",rootElement:i,column:{alignment:t.option("rtlEnabled")?"right":"left",allowSorting:n.allowSorting,sortOrder:"desc"===n.sortOrder?"desc":"asc"},showColumnLines:!0}),i},_processGroupItemAction(e){setTimeout(()=>this.getController("columns").changeSortOrder(e))},optionChanged(e){"sorting"===e.name?(this._invalidate(),e.handled=!0):this.callBase(e)}});Ge.registerModule("sorting",{defaultOptions:()=>({sorting:{mode:"single",ascendingText:J.format("dxDataGrid-sortingAscendingText"),descendingText:J.format("dxDataGrid-sortingDescendingText"),clearText:J.format("dxDataGrid-sortingClearText"),showSortIndexes:!0}}),extenders:{views:{columnHeadersView:cse,headerPanel:hse}}});var BB="dx-group-row",tK="dx-group-cell",m0="dx-freespace-row",nK="dx-column-lines",iK="dx-row-alt",rK="dx-last-row-border";function oK(e){return e?Math.round(e.scrollWidth()-e.clientWidth()):0}function sK(e){var{rowType:n,column:t}=e;return"group"===n&&T(t.groupIndex)&&!t.showWhenGrouped&&!t.command}var bse=function(e,n){var t=af(n.text)&&"data"===n.rowType,{text:i}=n,r=e.get(0);t?xe.setEmptyText(e):n.column.encodeHtml?r.textContent=i:r.innerHTML=i},aK={defaultOptions:()=>({hoverStateEnabled:!1,scrolling:{useNative:"auto"},loadPanel:{enabled:"auto",text:J.format("Loading"),width:200,height:90,showIndicator:!0,indicatorSrc:"",showPane:!0},dataRowTemplate:null,columnAutoWidth:!1,noDataText:J.format("dxDataGrid-noDataText"),wordWrapEnabled:!1,showColumnLines:!0,showRowLines:!1,rowAlternationEnabled:!1,activeStateEnabled:!1,twoWayBindingEnabled:!0}),views:{rowsView:class Dse extends xx{_getDefaultTemplate(n){return"empty"===n.command?function(t){t.html("&nbsp;")}:bse}_getDefaultGroupTemplate(n){var t=this.option("summary.texts");return function(i,r){var{data:o}=r,s="".concat(r.column.caption,": ").concat(r.text),l=i.get(0);r.summaryItems&&r.summaryItems.length&&(s+=" ".concat(xe.getGroupRowSummaryText(r.summaryItems,t))),o&&(r.groupContinuedMessage&&r.groupContinuesMessage?s+=" (".concat(r.groupContinuedMessage,". ").concat(r.groupContinuesMessage,")"):r.groupContinuesMessage?s+=" (".concat(r.groupContinuesMessage,")"):r.groupContinuedMessage&&(s+=" (".concat(r.groupContinuedMessage,")"))),n.encodeHtml?l.textContent=s:l.innerHTML=s}}_update(n){}_updateCell(n,t){sK(t)&&n.addClass(tK),super._updateCell.apply(this,arguments)}_getCellTemplate(n){var{column:t}=n;return sK(n)?t.groupCellTemplate||{allowRenderToDetachedContainer:!0,render:this._getDefaultGroupTemplate(t)}:("data"===n.rowType||t.command)&&t.cellTemplate?t.cellTemplate:{allowRenderToDetachedContainer:!0,render:this._getDefaultTemplate(t)}}_createRow(n,t){var i=super._createRow.apply(this,arguments);if(n){var r="group"===n.rowType,o="data"===n.rowType;if(o&&i.addClass("dx-data-row"),o&&this.option("showRowLines")&&i.addClass("dx-row-lines"),this.option("showColumnLines")&&i.addClass(nK),!1===n.visible&&i.hide(),r){i.addClass(BB);var s=n.isExpanded;this.setAria("role","row",i),this.setAria("expanded",T(s)&&s.toString(),i)}}return i}_rowPrepared(n,t,i){"data"===t.rowType&&(this.option("rowAlternationEnabled")&&(this._isAltRow(i)&&n.addClass(iK),t.watch&&t.watch(()=>this._isAltRow(i),r=>{n.toggleClass(iK,r)})),this._setAriaRowIndex(t,n),t.watch&&t.watch(()=>t.rowIndex,()=>this._setAriaRowIndex(t,n))),super._rowPrepared.apply(this,arguments)}_setAriaRowIndex(n,t){var{component:i}=this,r="standard"===i.option("scrolling.mode")&&!xe.isVirtualRowRendering(i),o=n.rowIndex+1;r?o=i.pageIndex()*i.pageSize()+o:o+=this._dataController.getRowIndexOffset(),this.setAria("rowindex",o,t)}_afterRowPrepared(n){var t=n.args[0],i=this._dataController,r=i.getVisibleRows()[t.rowIndex],o=this.option("integrationOptions.watchMethod");if(t.data&&"data"===t.rowType&&!t.isNewRow&&this.option("twoWayBindingEnabled")&&o&&r){var s=o(()=>i.generateDataValues(t.data,t.columns),()=>{i.repaintRows([r.rowIndex],this.option("repaintChangesOnly"))},{deep:!0,skipImmediate:!0});R.on(t.rowElement,Ko,s)}}_renderScrollable(n){var t=this.element();if(t.children().length||t.append("<div>"),(n||!this._loadPanel)&&this._renderLoadPanel(t,t.parent(),this._dataController.isLocalStore()),(n||!this.getScrollable())&&this._dataController.isLoaded()){for(var i=this.getColumns(),r=!0,o=0;o<i.length;o++)if(!i[o].width&&!i[o].minWidth){r=!1;break}(this.option("columnAutoWidth")||this._hasHeight||r||this._columnsController._isColumnFixing())&&this._renderScrollableCore(t)}}_handleScroll(n){var t=this.option("rtlEnabled"),i=n.component.option("useNative");this._scrollTop=n.scrollOffset.top,this._scrollLeft=n.scrollOffset.left;var r=n.scrollOffset.left;t&&(this._scrollRight=oK(n.component)-this._scrollLeft,i&&(r=-this._scrollRight),this.isScrollbarVisible(!0)||(this._scrollLeft=-1)),this.scrollChanged.fire(de(de({},n.scrollOffset),{left:r}),this.name)}_renderScrollableCore(n){var t=this._createScrollableOptions(),i=this._handleScroll.bind(this);t.onScroll=i,this._scrollable=this._createComponent(n,Fa,t),this._scrollableContainer=this._scrollable&&x(this._scrollable.container())}_renderLoadPanel(){for(var n=arguments.length,t=new Array(n),i=0;i<n;i++)t[i]=arguments[i];return xe.renderLoadPanel.apply(this,arguments)}_renderContent(n,t,i){return n.empty().append(t),this._findContentElement()}_updateContent(n,t,i){return this._contentChanges.push({newTableElement:n,change:t,isFixedTableRendering:i}),this.waitAsyncTemplates().done(()=>{var r=this._contentChanges;this._contentChanges=[],r.forEach(o=>{var{newTableElement:s,change:l,isFixedTableRendering:h}=o,g=this.getTableElement(h),_=this._findContentElement(h),v=l?.changeType,C=[],b=this.option("highlightChanges"),E=this.addWidgetPrefix("row-inserted-animation");"update"===v?(B(l.rowIndices,(w,M)=>{var k,L=this._getRowElements(s).eq(w),G=null===(k=l.changeTypes)||void 0===k?void 0:k[w],Q=l.items&&l.items[w];C.push(()=>{var le,Te=this._getRowElements(g),He=Te.eq(M);switch(G){case"update":if(Q){var Ee=null===(le=l.columnIndices)||void 0===le?void 0:le[w];T(Q.visible)&&Q.visible!==He.is(":visible")?He.toggle(Q.visible):Ee?this._updateCells(He,L,Ee):He.replaceWith(L)}break;case"insert":if(Te.length)He.length?L.insertBefore(He):L.insertAfter(Te.last());else if(g){var ze=L.is("tbody")?g:g.children("tbody");L.prependTo(ze)}b&&l.isLiveUpdate&&L.addClass(E);break;case"remove":He.remove()}})}),B(C,function(){this()}),s.remove()):(this.setTableElement(s,h),_.addClass(this.addWidgetPrefix("content")),this._renderContent(_,s,h))})}).fail(()=>{this._contentChanges=[]})}_createEmptyRow(n,t,i){var r,o=this._createRow(),s=t?this.getFixedColumns():this.getColumns();o.addClass(n).toggleClass(nK,this.option("showColumnLines"));for(var l=0;l<s.length;l++)r=this._createCell({column:s[l],rowType:"freeSpace",columnIndex:l,columns:s}),Vt(i)&&r.css("height",i),o.append(r);return this.setAria("role","presentation",o),o}getFixedColumns(){throw new Error("Method not implemented.")}_appendEmptyRow(n,t,i){var r=this._getBodies(n),o=!r.length||t.is("tbody"),s=o?n:r;if("top"===i){if(s.first().prepend(t),o){var l=s.children("colgroup");s.prepend(l)}}else s.last().append(t)}_renderFreeSpaceRow(n,t){var i=this._createEmptyRow(m0);i=this._wrapRowIfNeed(n,i,"refresh"===t?.changeType),this._appendEmptyRow(n,i)}_checkRowKeys(n){var t=this,i=t._getRows(n),r=t._dataController.store()&&t._dataController.store().key();r&&i.some(o=>{if("data"===o.rowType&&void 0===o.key)return t._dataController.fireError("E1046",r),!0})}_needUpdateRowHeight(n){return n>0&&!this._rowHeight}_getRowsHeight(n){return(n=n||this._tableElement).children("tbody").children().not(".dx-virtual-row").not(".".concat(m0)).toArray().reduce((i,r)=>i+Zn(r).height,0)}_updateRowHeight(){var n=this.getTableElement(),t=this._dataController.items().length;if(n&&this._needUpdateRowHeight(t)){var i=this._getRowsHeight(n);this._rowHeight=i/t}}_findContentElement(n){var t=this.element(),i=this.getScrollable();if(t)return i&&(t=x(i.content())),t.children().first()}_getRowElements(n){var t=super._getRowElements(n);return t&&t.not(".".concat(m0))}_getFreeSpaceRowElements(n){var t=n||this.getTableElements();return t&&t.children("tbody").children(".".concat(m0))}_getNoDataText(){return this.option("noDataText")}_rowClick(n){var t=this._dataController.items()[n.rowIndex]||{};this.executeAction("onRowClick",A({evaluate:i=>Yt(i)(t.data)},n,t))}_rowDblClick(n){var t=this._dataController.items()[n.rowIndex]||{};this.executeAction("onRowDblClick",A({},n,t))}_getColumnsCountBeforeGroups(n){for(var t=0;t<n.length;t++)if("groupExpand"===n[t].type)return t;return 0}_getGroupCellOptions(n){var t=this._getColumnsCountBeforeGroups(n.columns),i=(n.row.groupIndex||0)+t;return{columnIndex:i,colspan:n.columns.length-i-1}}_needWrapRow(){return super._needWrapRow.apply(this,arguments)||!!this.option("dataRowTemplate")}_renderCells(n,t){"group"===t.row.rowType?this._renderGroupedCells(n,t):t.row.values&&super._renderCells(n,t)}_renderGroupedCells(n,t){for(var r,l,{row:i}=t,{columns:o}=t,{rowIndex:s}=i,h=this._getGroupCellOptions(t),g=0;g<=h.columnIndex;g++)g===h.columnIndex&&o[g].allowCollapsing&&"infinite"!==t.scrollingMode?(l=!!i.isExpanded,r=o[g]):(l=null,r={command:"expand",cssClass:o[g].cssClass}),this._needRenderCell(g,t.columnIndices)&&this._renderCell(n,{value:l,row:i,rowIndex:s,column:r,columnIndex:g,columnIndices:t.columnIndices,change:t.change});var _=Lu(this.option("rtlEnabled")),v=A({},o[h.columnIndex],{command:null,type:null,cssClass:null,width:null,showWhenGrouped:!1,alignment:_});h.colspan>1&&(v.colspan=h.colspan),this._needRenderCell(h.columnIndex+1,t.columnIndices)&&this._renderCell(n,{value:i.values[i.groupIndex],row:i,rowIndex:s,column:v,columnIndex:h.columnIndex+1,columnIndices:t.columnIndices,change:t.change})}_renderRows(n,t){var i=this.option("scrolling.mode");super._renderRows(n,A({scrollingMode:i},t)),this._checkRowKeys(t.change),this._renderFreeSpaceRow(n,t.change),this._hasHeight||this.updateFreeSpaceRowHeight(n)}_renderDataRowByTemplate(n,t,i){var{row:r}=t,o=A({columns:t.columns},r),s=this._createRow(r,"tbody");s.appendTo(n),this.renderTemplate(s,i,o,!0,t.change),this._rowPrepared(s,o,t.row)}_renderRow(n,t){var{row:i}=t,{rowTemplate:r}=this.option(),o=this.option("dataRowTemplate");"data"===i.rowType&&o?this._renderDataRowByTemplate(n,t,o):"data"!==i.rowType&&"group"!==i.rowType||T(i.groupIndex)||!r?super._renderRow(n,t):this.renderTemplate(n,r,A({columns:t.columns},i),!0)}_renderTable(n){var t=this,i=super._renderTable(n);return T(t.getTableElement())?t._renderScrollable():(t.setTableElement(i),t._renderScrollable(!0),t.resizeCompleted.add(function r(){var o=t.getScrollable();o&&t.element().closest(ut().document).length&&(t.resizeCompleted.remove(r),o._visibilityChanged(!0))})),i}_createTable(){var n=super._createTable.apply(this,arguments);return(this.option().rowTemplate||this.option().dataRowTemplate)&&n.appendTo(this.component.$element()),n}_renderCore(n){var t=this.element();t.addClass(this.addWidgetPrefix("rowsview")).toggleClass(this.addWidgetPrefix("nowrap"),!this.option("wordWrapEnabled")),t.toggleClass("dx-empty",this._dataController.isEmpty()),this.setAria("role","presentation",t);var i=this._renderTable({change:n}),r=this._updateContent(i,n);return super._renderCore(n),this._lastColumnWidths=null,r}_getRows(n){return n&&n.items||this._dataController.items()}_getCellOptions(n){var{column:t}=n,{row:i}=n,{data:r}=i,o=i&&i.summaryCells,{value:s}=n,l=xe.getDisplayValue(t,s,r,i.rowType),h=super._getCellOptions(n);if(h.value=s,h.oldValue=n.oldValue,h.displayValue=l,h.row=i,h.key=i.key,h.data=r,h.rowType=i.rowType,h.values=i.values,h.text=t.command?"":xe.formatValue(l,t),h.rowIndex=i.rowIndex,h.summaryItems=o&&o[n.columnIndex],h.resized=t.resizedCallbacks,T(t.groupIndex)&&!t.command){var g=this.option("grouping.texts"),_=this.option("scrolling.mode");"virtual"!==_&&"infinite"!==_&&(h.groupContinuesMessage=r&&r.isContinuationOnNextPage&&g&&g.groupContinuesMessage,h.groupContinuedMessage=r&&r.isContinuation&&g&&g.groupContinuedMessage)}return h}_setRowsOpacityCore(n,t,i,r){var o=this._columnsController,s=o.getColumns(),l=s&&s[i],h=l&&l.isBand&&l.index;B(n,(g,_)=>{if(!x(_).hasClass(BB))for(var v=0;v<t.length&&(!(Vt(h)&&o.isParentBandColumn(t[v].index,h)||t[v].index===i)||(n.eq(g).children().eq(v).css({opacity:r}),Vt(h)));v++);})}_getDevicePixelRatio(){return ut().devicePixelRatio}renderNoDataText(){return xe.renderNoDataText.apply(this,arguments)}getCellOptions(n,t){var r,o,i=this._dataController.items()[n];return i&&(o=je(t)?this._columnsController.columnOption(t):this._columnsController.getVisibleColumns()[t])&&(r=this._getCellOptions({value:o.calculateCellValue(i.data),rowIndex:i.rowIndex,row:i,column:o})),r}getRow(n){if(n>=0){var t=this._getRowElements();if(t.length>n)return x(t[n])}}updateFreeSpaceRowHeight(n){var t=this._dataController,i=t.items(!0).length,r=this._findContentElement(),o=this._getFreeSpaceRowElements(n);if(o&&r&&t.totalCount()>=0){var s=!1;if(i>0)if(this._hasHeight)o.hide(),er(()=>{var g=this.getScrollbarWidth(!0),_=gt(this.element())-g,C=_-_t(r)>0,b=this._getRowsHeight(r.children().first()),E=n||this.getTableElements(),k=_-b-Math.ceil(parseFloat(E.css("borderTopWidth")))-this._getHeightCorrection();C&&Xn(()=>{o.css("height",k),s=!0,o.show()}),Xn(()=>this._updateLastRowBorder(s))});else{var l=t.pageSize()-i,h=this.option("scrolling.mode");l>0&&t.pageCount()>1&&"virtual"!==h&&"infinite"!==h&&(Df(o,l*this._rowHeight),s=!0),!s&&n?Df(o,0):o.toggle(s),this._updateLastRowBorder(s)}else o.css("height",0),o.show(),this._updateLastRowBorder(!0)}}_getHeightCorrection(){var n=Gt.webkit&&this._getDevicePixelRatio()>=2,t=Gt.chrome&&Gt.version>=91,i=Gt.mozilla&&Gt.version>=70&&!this.option("showRowLines");return n||i||t?1:0}_columnOptionChanged(n){var{optionNames:t}=n;n.changeTypes.grouping||(t.width||t.visibleWidth)&&(super._columnOptionChanged(n),this._fireColumnResizedCallbacks())}getScrollable(){return this._scrollable}init(){var n=this,t=n.getController("data");super.init(),n._editorFactoryController=n.getController("editorFactory"),n._rowHeight=0,n._scrollTop=0,n._scrollLeft=-1,n._scrollRight=0,n._hasHeight=!1,n._contentChanges=[],t.loadingChanged.add((i,r)=>{n.setLoading(i,r)}),t.dataSourceChanged.add(()=>{this._scrollLeft>=0&&!this._dataController.isLoading()&&this._handleScroll({component:this.getScrollable(),forceUpdateScrollPosition:!0,scrollOffset:{top:this._scrollTop,left:this._scrollLeft}})})}_handleDataChanged(n){switch(n.changeType){case"refresh":case"prepend":case"append":case"update":this.render(null,n);break;default:this._update(n)}}publicMethods(){return["isScrollbarVisible","getTopVisibleRowData","getScrollbarWidth","getCellElement","getRowElement","getScrollable"]}contentWidth(){return Ze(this.element())-this.getScrollbarWidth()}getScrollbarWidth(n){var t=this._scrollableContainer&&this._scrollableContainer.get(0),i=0;return t&&(n?(i=t.clientHeight?t.offsetHeight-t.clientHeight:0,i+=function(e){var n=e.getScrollable();return n?Math.ceil(parseFloat(x(n.content()).css("paddingBottom"))):0}(this)):i=t.clientWidth?t.offsetWidth-t.clientWidth:0),i>0?i:0}_fireColumnResizedCallbacks(){for(var n=this._lastColumnWidths||[],t=[],i=this.getColumns(),r=0;r<i.length;r++)t[r]=i[r].visibleWidth,i[r].resizedCallbacks&&!T(i[r].groupIndex)&&n[r]!==t[r]&&i[r].resizedCallbacks.fire(t[r]);this._lastColumnWidths=t}_updateLastRowBorder(n){this.option("showBorders")&&this.option("showRowLines")&&!n?this.element().addClass(rK):this.element().removeClass(rK)}_updateScrollable(){var n=Fa.getInstance(this.element());n&&(n.update(),(n.option("useNative")||!n?.isRenovated())&&this._updateHorizontalScrollPosition())}_updateHorizontalScrollPosition(){var n=this.getScrollable(),t=n&&n.scrollOffset().left;if(this.option("rtlEnabled")){var r=oK(n);r-t!==this._scrollRight&&(this._scrollLeft=r-this._scrollRight)}this._scrollLeft>=0&&t!==this._scrollLeft&&n.scrollTo({x:this._scrollLeft})}_resizeCore(){var n=this;n._fireColumnResizedCallbacks(),n._updateRowHeight(),Xn(()=>{n._renderScrollable(),n.renderNoDataText(),n.updateFreeSpaceRowHeight(),er(()=>{n._updateScrollable()})})}scrollTo(n){var t=this.element(),i=t&&Fa.getInstance(t);i&&i.scrollTo(n)}height(n){var t=this.element();if(0===arguments.length)return t?_t(t,!0):0;T(n)&&t&&(this.hasHeight("auto"!==n),Df(t,n))}hasHeight(n){if(0===arguments.length)return!!this._hasHeight;this._hasHeight=n}setLoading(n,t){var i=this._loadPanel,r=this._dataController,o=this.option("loadPanel")||{},s=r.isLoaded()?o.animation:null,l=this.element();if(rt()&&(!i&&void 0!==t&&r.isLocalStore()&&"auto"===o.enabled&&l&&(this._renderLoadPanel(l,l.parent()),i=this._loadPanel),i)){var h={message:t||o.text,animation:s,visible:n};n&&(h.position=xe.calculateLoadPanelPosition(l)),clearTimeout(this._hideLoadingTimeoutID),i.option("visible")&&!n?this._hideLoadingTimeoutID=setTimeout(()=>{i.option(h)},200):i.option(h)}}setRowsOpacity(n,t){var i=this._getRowElements().not(".".concat(BB))||[];this._setRowsOpacityCore(i,this.getColumns(),n,t)}_getCellElementsCore(n){var t=super._getCellElementsCore.apply(this,arguments);if(t){var i=t.filter(".".concat(tK)).index();if(i>=0&&t.length>i+1)return t.slice(0,i+1)}return t}_getBoundaryVisibleItemIndex(n,t){var i=0,r=0,o=0,s=this._scrollTop,l=this._findContentElement(),h=l&&l.offset().top,_=this.getController("data").items(),v=this.getTableElement();if(_.length&&v){var C=this._getRowElements(v).filter(":visible");for(n||(s+=_t(this._hasHeight?this.element():ut())),i=0;i<_.length;i++){r=o;var E=x(C).eq(i);if(E.length&&(o=E.offset(),(o=(n?o.top:o.top+_t(E))-h)>s)){i&&(t||2*s<Math.round(o+r))&&i--;break}}i&&i===_.length&&i--}return i}getTopVisibleItemIndex(n){return this._getBoundaryVisibleItemIndex(!0,n)}getBottomVisibleItemIndex(n){return this._getBoundaryVisibleItemIndex(!1,n)}getTopVisibleRowData(){var n=this.getTopVisibleItemIndex(),t=this._dataController.items();if(t[n])return t[n].data}_scrollToElement(n,t){var i=this.getScrollable();i&&i.scrollToElement(n,t)}optionChanged(n){switch(super.optionChanged(n),n.name){case"wordWrapEnabled":case"showColumnLines":case"showRowLines":case"rowAlternationEnabled":case"rowTemplate":case"dataRowTemplate":case"twoWayBindingEnabled":this._invalidate(!0,!0),n.handled=!0;break;case"scrolling":this._rowHeight=null,this._tableElement=null,n.handled=!0;break;case"rtlEnabled":this._rowHeight=null,this._tableElement=null;break;case"loadPanel":this._tableElement=null,this._invalidate(!0,"loadPanel.enabled"!==n.fullName),n.handled=!0;break;case"noDataText":this.renderNoDataText(),n.handled=!0}}dispose(){super.dispose(),clearTimeout(this._hideLoadingTimeoutID),this._scrollable&&this._scrollable.dispose()}setScrollerSpacing(){}_restoreErrorRow(){}}}};Ge.registerModule("rows",aK);var Sse=kt.inherit({ctor:function(){this._dataStructure=[],this._itemsCount=0,this._visibleItemsCount=0},_indexByKey:{},_convertItemsToNodes:function(e,n){var t=this;B(e,function(i,r){var o=T(n)?n:t._getParentId(r),s=t._convertItemToNode(r,o);t._dataStructure.push(s),t._checkForDuplicateId(s.internalFields.key),t._indexByKey[s.internalFields.key]=t._dataStructure.length-1,t._itemHasChildren(r)&&t._convertItemsToNodes(t._dataAccessors.getters.items(r),s.internalFields.key)})},_checkForDuplicateId:function(e){if(T(this._indexByKey[e]))throw It.Error("E1040",e)},_getParentId:function(e){return"plain"===this._dataType?this._dataAccessors.getters.parentKey(e):void 0},_itemHasChildren:function(e){if("plain"!==this._dataType){var n=this._dataAccessors.getters.items(e);return n&&n.length}},_getUniqueKey:function(e){var n=this._dataAccessors.getters.key,t=n(e);return n&&(t||0===t)&&cu(t)?t:this.getItemsCount()},_convertItemToNode:function(e,n){this._itemsCount++,!1!==e.visible&&this._visibleItemsCount++;var t={internalFields:{disabled:this._dataAccessors.getters.disabled(e,{defaultValue:!1}),expanded:this._dataAccessors.getters.expanded(e,{defaultValue:!1}),selected:this._dataAccessors.getters.selected(e,{defaultValue:!1}),key:this._getUniqueKey(e),parentKey:T(n)?n:this._rootValue,item:this._makeObjectFromPrimitive(e),childrenKeys:[]}};return A(t,e),delete t.items,t},setChildrenKeys:function(){var e=this;B(this._dataStructure,function(n,t){if(t.internalFields.parentKey!==e._rootValue){var i=e.getParentNode(t);i&&i.internalFields.childrenKeys.push(t.internalFields.key)}})},_makeObjectFromPrimitive:function(e){if(cu(e)){var n=e;this._dataAccessors.setters.key(e={},n)}return e},_convertToPublicNode:function(e,n){if(!e)return null;var t={text:this._dataAccessors.getters.display(e),key:e.internalFields.key,selected:e.internalFields.selected,expanded:e.internalFields.expanded,disabled:e.internalFields.disabled,parent:n||null,itemData:e.internalFields.item,children:[],items:[]};return t.parent&&(t.parent.children.push(t),t.parent.items.push(t)),t},convertToPublicNodes:function(e,n){if(!e.length)return[];var t=this,i=[];return B(e,function(r,o){o=cu(o)?t._getByKey(o):o;var s=t._convertToPublicNode(o,n);s.children=t.convertToPublicNodes(o.internalFields.childrenKeys,s),i.push(s),o.internalFields.publicNode=s}),i},setDataAccessors:function(e){this._dataAccessors=e},_getByKey:function(e){return this._dataStructure[this.getIndexByKey(e)]||null},getParentNode:function(e){return this._getByKey(e.internalFields.parentKey)},getByKey:function(e,n){if(null==n)return null;var s,t=null,i=this;return s=n,B(e,function(l,h){if((h.internalFields&&h.internalFields.key||i._dataAccessors.getters.key(h)).toString()===s.toString())return t=h,!1}),t},getItemsCount:function(){return this._itemsCount},getVisibleItemsCount:function(){return this._visibleItemsCount},updateIndexByKey:function(){var e=this;this._indexByKey={},B(this._dataStructure,function(n,t){e._checkForDuplicateId(t.internalFields.key),e._indexByKey[t.internalFields.key]=n})},updateChildrenKeys:function(){this._indexByKey={},this.removeChildrenKeys(),this.updateIndexByKey(),this.setChildrenKeys()},removeChildrenKeys:function(){this._indexByKey={},B(this._dataStructure,function(e,n){n.internalFields.childrenKeys=[]})},getIndexByKey:function(e){return this._indexByKey[e]},createPlainStructure:function(e,n,t){return this._itemsCount=0,this._visibleItemsCount=0,this._rootValue=n,this._dataType=t,this._indexByKey={},this._convertItemsToNodes(e),this.setChildrenKeys(),this._dataStructure}});const Ese=Sse;var V_="expanded",Dp="selected";Cp.setEditorClass(jy);var Ise=kt.inherit({ctor:function(e){this.options={},A(this.options,this._defaultOptions(),e),this.options.dataConverter.setDataAccessors(this.options.dataAccessors),this._selectedNodesKeys=[],this._expandedNodesKeys=[],this._dataStructure=[],this._createInternalDataStructure(),this.getTreeNodes()},setOption:function(e,n){this.options[e]=n,"recursiveSelection"===e&&this._updateSelection()},_defaultOptions:function(){return{dataAccessors:void 0,items:[],multipleSelection:!0,recursiveSelection:!1,recursiveExpansion:!1,rootValue:0,searchValue:"",dataType:"tree",searchMode:"contains",dataConverter:new Ese,onNodeChanged:U,sort:null}},_createInternalDataStructure:function(){this._initialDataStructure=this.options.dataConverter.createPlainStructure(this.options.items,this.options.rootValue,this.options.dataType),this._dataStructure=this.options.searchValue.length?this.search(this.options.searchValue):this._initialDataStructure,this.options.dataConverter._dataStructure=this._dataStructure,this._updateSelection(),this._updateExpansion()},_updateSelection:function(){this.options.recursiveSelection&&(this._setChildrenSelection(),this._setParentSelection()),this._selectedNodesKeys=this._updateNodesKeysArray(Dp)},_updateExpansion:function(e){this.options.recursiveExpansion&&(e?this._updateOneBranch(e):this._setParentExpansion()),this._expandedNodesKeys=this._updateNodesKeysArray(V_)},_updateNodesKeysArray:function(e){var n=this,t=[];return B(n._getDataBySelectionMode(),function(i,r){n._isNodeVisible(r)&&r.internalFields[e]&&(e===V_||n.options.multipleSelection?t.push(r.internalFields.key):(t.length&&n.toggleSelection(t[0],!1,!0),t=[r.internalFields.key]))}),t},_getDataBySelectionMode:function(){return this.options.multipleSelection?this.getData():this.getFullData()},_isNodeVisible:function(e){return!1!==e.internalFields.item.visible},_getByKey:function(e,n){return e===this._dataStructure?this.options.dataConverter._getByKey(n):this.options.dataConverter.getByKey(e,n)},_setChildrenSelection:function(){var e=this;B(this._dataStructure,function(n,t){if(t.internalFields.childrenKeys.length){var i=t.internalFields.selected;!0===i&&e._toggleChildrenSelection(t,i)}})},_setParentSelection:function(){var e=this;B(this._dataStructure,function(n,t){e.options.dataConverter.getParentNode(t)&&t.internalFields.parentKey!==e.options.rootValue&&e._iterateParents(t,function(r){var o=e._calculateSelectedState(r);e._setFieldState(r,Dp,o)})})},_setParentExpansion:function(){var e=this;B(this._dataStructure,function(n,t){t.internalFields.expanded&&e._updateOneBranch(t.internalFields.key)})},_updateOneBranch:function(e){var n=this,t=this.getNodeByKey(e);n._iterateParents(t,function(i){n._setFieldState(i,V_,!0)})},_iterateChildren:function(e,n,t,i){if(Re(t)){var r=this,o=e.internalFields.key;-1===(i=i||[]).indexOf(o)&&(i.push(o),B(e.internalFields.childrenKeys,function(s,l){var h=r.getNodeByKey(l);t(h),h.internalFields.childrenKeys.length&&n&&r._iterateChildren(h,n,t,i)}))}},_iterateParents:function(e,n,t){if(e.internalFields.parentKey!==this.options.rootValue&&Re(n)){var i=e.internalFields.key;if(-1===(t=t||[]).indexOf(i)){t.push(i);var r=this.options.dataConverter.getParentNode(e);r&&(n(r),r.internalFields.parentKey!==this.options.rootValue&&this._iterateParents(r,n,t))}}},_calculateSelectedState:function(e){for(var n=e.internalFields.childrenKeys.length,t=0,i=0,r=!1,o=0;o<=n-1;o++){var s=this.getNodeByKey(e.internalFields.childrenKeys[o]),h=s.internalFields.selected;!1===s.internalFields.item.visible?i++:h?t++:void 0===h&&(t+=.5)}return t&&(r=t===n-i||void 0),r},_toggleChildrenSelection:function(e,n){var t=this;this._iterateChildren(e,!0,function(i){t._isNodeVisible(i)&&t._setFieldState(i,Dp,n)})},_setFieldState:function(e,n,t){e.internalFields[n]!==t&&(e.internalFields[n]=t,e.internalFields.publicNode&&(e.internalFields.publicNode[n]=t),this.options.dataAccessors.setters[n](e.internalFields.item,t),this.options.onNodeChanged(e))},_markChildren:function(e){var n=this;B(e,function(t,i){var r=n.getIndexByKey(i),o=n.getNodeByKey(i);n._dataStructure[r]=0,o.internalFields.childrenKeys.length&&n._markChildren(o.internalFields.childrenKeys)})},_removeNode:function(e){var n=this.getNodeByKey(e);this._dataStructure[this.getIndexByKey(e)]=0,this._markChildren(n.internalFields.childrenKeys);var t=this,i=0,r=A([],this._dataStructure);B(r,function(o,s){s||(t._dataStructure.splice(o-i,1),i++)})},_addNode:function(e){var n=this.options.dataConverter,t=n._convertItemToNode(e,this.options.dataAccessors.getters.parentKey(e));this._dataStructure=this._dataStructure.concat(t),this._initialDataStructure=this._initialDataStructure.concat(t),n._dataStructure=n._dataStructure.concat(t)},_updateFields:function(){this.options.dataConverter.updateChildrenKeys(),this._updateSelection(),this._updateExpansion()},getSelectedNodesKeys:function(){return this._selectedNodesKeys},getExpandedNodesKeys:function(){return this._expandedNodesKeys},getData:function(){return this._dataStructure},getFullData:function(){return this._initialDataStructure},getNodeByItem:function(e){var n=null;return B(this._dataStructure,function(t,i){if(i.internalFields.item===e)return n=i,!1}),n},getNodesByItems:function(e){var n=this,t=[];return B(e,function(i,r){var o=n.getNodeByItem(r);o&&t.push(o)}),t},getNodeByKey:function(e,n){return this._getByKey(n||this._getDataBySelectionMode(),e)},getTreeNodes:function(){return this.options.dataConverter.convertToPublicNodes(this.getRootNodes())},getItemsCount:function(){return this.options.dataConverter.getItemsCount()},getVisibleItemsCount:function(){return this.options.dataConverter.getVisibleItemsCount()},getPublicNode:function(e){return e.internalFields.publicNode},getRootNodes:function(){return this.getChildrenNodes(this.options.rootValue)},getChildrenNodes:function(e){return zr(this._dataStructure,{langParams:this.options.langParams}).filter(["internalFields.parentKey",e]).toArray()},getIndexByKey:function(e){return this.options.dataConverter.getIndexByKey(e)},addItem:function(e){this._addNode(e),this._updateFields()},removeItem:function(e){this._removeNode(e),this._updateFields()},toggleSelection:function(e,n,t){var i=this._isSingleModeUnselect(n),r=this._getByKey(t||i?this._initialDataStructure:this._dataStructure,e);this._setFieldState(r,Dp,n),this.options.recursiveSelection&&!t&&(n?this._setChildrenSelection():this._toggleChildrenSelection(r,n),this._setParentSelection()),this._selectedNodesKeys=this._updateNodesKeysArray(Dp)},_isSingleModeUnselect:function(e){return!this.options.multipleSelection&&!e},toggleNodeDisabledState:function(e,n){var t=this.getNodeByKey(e);this._setFieldState(t,"disabled",n)},toggleSelectAll:function(e){if(T(e)){var n=this,t=n._selectedNodesKeys[n._selectedNodesKeys.length-1],i=n._isSingleModeUnselect(e)?this._initialDataStructure:this._dataStructure;B(i,function(r,o){n._isNodeVisible(o)&&n._setFieldState(o,Dp,e)}),n._selectedNodesKeys=n._updateNodesKeysArray(Dp),!e&&n.options.selectionRequired&&n.toggleSelection(t,!0)}},isAllSelected:function(){return!!this.getSelectedNodesKeys().length&&(this.getSelectedNodesKeys().length===this.getVisibleItemsCount()||void 0)},toggleExpansion:function(e,n){var t=this.getNodeByKey(e);this._setFieldState(t,V_,n),n&&this._updateExpansion(e),this._expandedNodesKeys=this._updateNodesKeysArray(V_)},isFiltered:function(e){return!this.options.searchValue.length||!!this._filterDataStructure(this.options.searchValue,[e]).length},_createCriteria:function(e,n,t){var i=[];return Array.isArray(e)?(B(e,function(r,o){i.push([o,t,n],"or")}),i.pop(),i):[e,t,n]},_filterDataStructure:function(e,n){var t=this.options.searchExpr||this.options.dataAccessors.getters.display,i=Cp.getOperationBySearchMode(this.options.searchMode),r=this._createCriteria(t,e,i);return zr(n=n||this._initialDataStructure,{langParams:this.options.langParams}).filter(r).toArray()},search:function(e){var n=this,t=this._filterDataStructure(e),i=this.options.dataConverter;return function r(o,s){for(var l=o.length;s<l;){var h=o[s];if(h.internalFields.parentKey!==n.options.rootValue){var g=i.getParentNode(h);g?(g.internalFields.expanded||n._setFieldState(g,V_,!0),o.includes(g)?s++:(o.splice(s,0,g),r(o,s))):(It.log("W1007",h.internalFields.parentKey,h.internalFields.key),s++)}else s++}}(t,0),this.options.sort&&(t=Kl.queryByOptions(zr(t),{sort:this.options.sort,langParams:this.options.langParams}).toArray()),i._indexByKey={},B(t,function(r,o){o.internalFields.childrenKeys=[],i._indexByKey[o.internalFields.key]=r}),i._dataStructure=t,i.setChildrenKeys(),i._dataStructure}});const Tse=Ise;var Ase=_p.inherit({_getDefaultOptions:function(){return A(this.callBase(),{keyExpr:"id",displayExpr:"text",selectedExpr:"selected",disabledExpr:"disabled",itemsExpr:"items",hoverStateEnabled:!0,parentIdExpr:"parentId",expandedExpr:"expanded"})},_defaultOptionsRules:function(){return this.callBase().concat([{device:function(){return"desktop"===$e.real().deviceType&&!$e.isSimulator()},options:{focusStateEnabled:!0}}])},_init:function(){this.callBase(),this._initAccessors(),this._initDataAdapter(),this._initDynamicTemplates()},_initDataSource:function(){this.callBase(),this._dataSource&&this._dataSource.paginate(!1)},_initDataAdapter:function(){var e=this._createDataAdapterAccessors();this._dataAdapter=new Tse(A({dataAccessors:{getters:e.getters,setters:e.setters},items:this.option("items")},this._getDataAdapterOptions()))},_getDataAdapterOptions:U,_getItemExtraPropNames:U,_initDynamicTemplates:function(){var e=["text","html","items","icon"].concat(this._getItemExtraPropNames());this._templateManager.addDefaultTemplates({item:new fp(this._addContent.bind(this),e,this.option("integrationOptions.watchMethod"),{text:this._displayGetter,items:this._itemsGetter})})},_addContent:function(e,n){e.html(n.html).append(this._getIconContainer(n)).append(this._getTextContainer(n))},_getIconContainer:function(e){return e.icon?Ll(e.icon):void 0},_getTextContainer:function(e){return x("<span>").text(e.text)},_initAccessors:function(){var e=this;B(this._getAccessors(),function(n,t){e._compileAccessor(t)}),this._compileDisplayGetter()},_getAccessors:function(){return["key","selected","items","disabled","parentId","expanded"]},_getChildNodes:function(e){var n=this,t=[];return B(e.internalFields.childrenKeys,function(i,r){var o=n._dataAdapter.getNodeByKey(r);t.push(o)}),t},_hasChildren:function(e){return e&&e.internalFields.childrenKeys.length},_compileAccessor:function(e){var n="_"+e+"Getter",t="_"+e+"Setter",i=this.option(e+"Expr");return i?Re(i)?(this[t]=function(r,o){r[i()]=o},void(this[n]=function(r){return r[i()]})):(this[n]=Yt(i),void(this[t]=Wv(i))):(this[n]=U,void(this[t]=U))},_createDataAdapterAccessors:function(){var e=this,n={getters:{},setters:{}};return B(this._getAccessors(),function(t,i){var o="_"+i+"Setter",s="parentId"===i?"parentKey":i;n.getters[s]=e["_"+i+"Getter"],n.setters[s]=e[o]}),n.getters.display=this._displayGetter?this._displayGetter:t=>t.text,n},_initMarkup:function(){this.callBase(),this._addWidgetClass()},_addWidgetClass:function(){this._focusTarget().addClass(this._widgetClass())},_widgetClass:U,_renderItemFrame:function(e,n){var t=this.callBase.apply(this,arguments);return t.toggleClass("dx-state-disabled",!!this._disabledGetter(n)),t},_optionChanged:function(e){switch(e.name){case"displayExpr":case"keyExpr":this._initAccessors(),this._initDynamicTemplates(),this.repaint();break;case"itemsExpr":case"selectedExpr":case"disabledExpr":case"expandedExpr":case"parentIdExpr":this._initAccessors(),this._initDataAdapter(),this.repaint();break;case"items":this._initDataAdapter(),this.callBase(e);break;default:this.callBase(e)}}});const lK=Ase,Pse=class Rse extends bk{_getPlainItems(){return Fn(this._collectionWidget.option("items"),function n(t){return t.items?[t].concat(Fn(t.items,n)):t})}_stringifyItem(n){return JSON.stringify(n,(t,i)=>"template"===t?this._getTemplateString(i):i)}_getTemplateString(n){return"object"==typeof n?x(n).text():n.toString()}};var Dx="dx-menu",Fse=Dx+"-no-icons",os=Dx+"-item",Bse=os+"-content",LB=os+"-selected",dK=os+"-wrapper",Lse=Dx+"-items-container",Vse=os+"-expanded",Nse=Dx+"-separator",Hse=Dx+"-last-group-item",zse=os+"-has-text",Wse=os+"-has-icon",$se=os+"-has-submenu",uK=os+"-popout",Gse=uK+"-container",cK=os+"-text",jse={show:50,hide:300},Kse="".concat(cK,"-with-url"),hK="dx-item-url";const pK=(()=>{class e extends lK{_getDefaultOptions(){return A(super._getDefaultOptions(),{items:[],cssClass:"",activeStateEnabled:!0,showSubmenuMode:{name:"onHover",delay:{show:50,hide:300}},animation:{show:{type:"fade",from:0,to:1,duration:100},hide:{type:"fade",from:1,to:0,duration:100}},selectByClick:!1,focusOnSelectedItem:!1,keyExpr:null,_itemAttributes:{role:"menuitem"},useInkRipple:!1})}_itemDataKey(){return"dxMenuItemDataKey"}_itemClass(){return os}_setAriaSelectionAttribute(){}_selectedItemClass(){return LB}_widgetClass(){return"dx-menu-base"}_focusTarget(){return this._itemContainer()}_clean(){this.option("focusedElement",null),super._clean()}_supportedKeys(){return A(super._supportedKeys(),{space:()=>{var t=x(this.option("focusedElement"));!t.length||!this._isSelectionEnabled()||this.selectItem(t[0])},pageUp:U,pageDown:U})}_isSelectionEnabled(){return"single"===this.option("selectionMode")}_init(){this._activeStateUnit=".".concat(os),super._init(),this._renderSelectedItem(),this._initActions()}_getLinkContainer(t,i,r){var{linkAttr:o,url:s}=r;t?.addClass("dx-icon-with-url"),i?.addClass(Kse);var l=qe(o)?o:{};return x("<a>").addClass(hK).attr(de({},l,{href:s})).append(t).append(i)}_addContent(t,i){var{html:r,url:o}=i,s=this._getIconContainer(i),l=this._getTextContainer(i);if(t.html(r),o){var h=this._getLinkContainer(s,l,i);t.append(h)}else t.append(s).append(l);t.append(this._getPopoutContainer(i)),this._addContentClasses(i,t.parent())}_getTextContainer(t){var{text:i}=t,r=x("<span>").addClass(cK),o=ft(t)?i:String(t);return i&&r.text(o)}_getItemExtraPropNames(){return["url","linkAttr"]}_getPopoutContainer(t){var r,i=t.items;if(i&&i.length){var o=x("<div>").addClass(uK);r=x("<span>").addClass(Gse).append(o)}return r}_getDataAdapterOptions(){return{rootValue:0,multipleSelection:!1,recursiveSelection:!1,recursiveExpansion:!1,searchValue:""}}_selectByItem(t){if(t){var i=this._dataAdapter.getNodeByItem(t);this._dataAdapter.toggleSelection(i.internalFields.key,!0)}}_renderSelectedItem(){var t=this._dataAdapter.getSelectedNodesKeys(),i=t.length&&t[0],r=this.option("selectedItem");if(i){var o=this._dataAdapter.getNodeByKey(i);if(!1!==o.selectable){if(!r)return void this.option("selectedItem",o.internalFields.item);r!==o.internalFields.item&&(this._dataAdapter.toggleSelection(i,!1),this._selectByItem(r))}}else this._selectByItem(r)}_initActions(){}_initMarkup(){super._initMarkup(),this.option("useInkRipple")&&this._renderInkRipple()}_renderInkRipple(){this._inkRipple=tF()}_toggleActiveState(t,i,r){if(super._toggleActiveState.apply(this,arguments),this._inkRipple){var o={element:t,event:r};i?this._inkRipple.showWave(o):this._inkRipple.hideWave(o)}}_getShowSubmenuMode(){var t=this.option("showSubmenuMode");return t=qe(t)?t.name:t,this._isDesktopDevice()?t:"onClick"}_initSelectedItems(){}_isDesktopDevice(){return"desktop"===$e.real().deviceType}_initEditStrategy(){this._editStrategy=new Pse(this)}_addCustomCssClass(t){t.addClass(this.option("cssClass"))}_itemWrapperSelector(){return".".concat(dK)}_hoverStartHandler(t){var i=this._getItemElementByEventArgs(t);!i||this._isItemDisabled(i)||(t.stopPropagation(),"onHover"===this._getShowSubmenuMode()&&(clearTimeout(this._showSubmenusTimeout),this._showSubmenusTimeout=setTimeout(this._showSubmenu.bind(this,i),this._getSubmenuDelay("show"))))}_getAvailableItems(t){return super._getAvailableItems(t).filter(function(){return"hidden"!==x(this).css("visibility")})}_isItemDisabled(t){return this._disabledGetter(t.data(this._itemDataKey()))}_showSubmenu(t){this._addExpandedClass(t)}_addExpandedClass(t){x(t).addClass(Vse)}_getSubmenuDelay(t){var{delay:i}=this.option("showSubmenuMode");return T(i)?qe(i)?i[t]:i:jse[t]}_getItemElementByEventArgs(t){var i=x(t.target);if(i.hasClass(this._itemClass())||i.get(0)===t.currentTarget)return i;for(;!i.hasClass(this._itemClass());)if((i=i.parent()).hasClass("dx-submenu"))return null;return i}_hoverEndHandler(){clearTimeout(this._showSubmenusTimeout)}_hasSubmenu(t){return t&&t.internalFields.childrenKeys.length}_renderContentImpl(){this._renderItems(this._dataAdapter.getRootNodes())}_renderItems(t,i){if(t.length){this.hasIcons=!1;var r=this._renderContainer(this.$element(),i),o=-1,s=-1;B(t,(l,h)=>{var g=!1!==h.visible;g&&o<0&&(o=l),o<l&&(h.beginGroup||l===s)&&(s=g?l:l+1),l===s&&o<l&&this._renderSeparator(r),this._renderItem(l,h,r)}),this.hasIcons||r.addClass(Fse)}}_renderContainer(t){var i=x("<ul>");return this.setAria("role","none",i),i.appendTo(t).addClass(Lse)}_createDOMElement(t){var i=x("<li>");return this.setAria("role","none",i),i.appendTo(t).addClass(dK)}_renderItem(t,i,r,o){var s=this.option("items"),l=o||this._createDOMElement(r);s[t+1]&&s[t+1].beginGroup&&l.addClass(Hse);var h=super._renderItem(t,i.internalFields.item,l);i.internalFields.item===this.option("selectedItem")&&h.addClass(LB),h.attr("tabIndex",-1),this._hasSubmenu(i)&&this.setAria("haspopup","true",h)}_renderItemFrame(t,i,r){var o=r.children(".".concat(os));return o.length?o:super._renderItemFrame.apply(this,arguments)}_refreshItem(t,i){var r=this._dataAdapter.getNodeByItem(i),o=t.data(this._itemIndexKey()),s=t.closest("ul"),l=t.closest("li");this._renderItem(o,r,s,l)}_addContentClasses(t,i){var o=!!t.icon,s=!!t.items&&!!t.items.length;i.toggleClass(zse,!!t.text&&!!t.text.length),i.toggleClass(Wse,o),this.hasIcons||(this.hasIcons=o),i.toggleClass($se,s)}_getItemContent(t){var i=super._getItemContent(t);return i.length||(i=t.children(".".concat(Bse))),i}_postprocessRenderItem(t){var i=x(t.itemElement),r=this._dataAdapter.getSelectedNodesKeys();r.length&&this._selectedGetter(t.itemData)&&this._isItemSelectable(t.itemData)&&this._dataAdapter.getNodeByItem(t.itemData).internalFields.key===r[0]?(i.addClass(this._selectedItemClass()),this._setAriaSelectionAttribute(i,"true")):this._setAriaSelectionAttribute(i,"false")}_isItemSelectable(t){return!1!==t.selectable}_renderSeparator(t){x("<li>").appendTo(t).addClass(Nse)}_itemClickHandler(t){if(!t._skipHandling){var i=this._createAction(this._updateSubmenuVisibilityOnClick.bind(this));this._itemDXEventHandler(t,"onItemClick",{},{beforeExecute:this._itemClick,afterExecute:i.bind(this)}),t._skipHandling=!0}}_itemClick(t){var i=t.args[0],r=i.event.target.getElementsByClassName(hK)[0];i.itemData.url&&r&&r.click()}_updateSubmenuVisibilityOnClick(t){this._updateSelectedItemOnClick(t),"onClick"===this._getShowSubmenuMode()&&this._addExpandedClass(t.args[0].itemElement)}_updateSelectedItemOnClick(t){var i=t.args?t.args[0]:t;if(this._isItemSelectAllowed(i.itemData)){var r=this._dataAdapter.getSelectedNodesKeys(),o=r.length&&this._dataAdapter.getNodeByKey(r[0]);o&&this._toggleItemSelection(o,!1),o&&o.internalFields.item===i.itemData?(this._fireSelectionChangeEvent(null,this.option("selectedItem")),this._setOptionWithoutOptionChange("selectedItem",null)):this.selectItem(i.itemData)}}_isItemSelectAllowed(t){var i=this._isSelectionEnabled()&&this.option("selectByClick");return!this._isContainerEmpty()&&i&&this._isItemSelectable(t)&&!this._itemsGetter(t)}_isContainerEmpty(){return this._itemContainer().is(":empty")}_syncSelectionOptions(){return FD()}_optionChanged(t){switch(t.name){case"showSubmenuMode":break;case"selectedItem":var i=this._dataAdapter.getNodeByItem(t.value),r=this._dataAdapter.getSelectedNodesKeys()[0];if(i&&i.internalFields.key!==r){if(!1===i.selectable)break;r&&this._toggleItemSelection(this._dataAdapter.getNodeByKey(r),!1),this._toggleItemSelection(i,!0),this._updateSelectedItems()}break;case"cssClass":case"position":case"selectByClick":case"animation":case"useInkRipple":this._invalidate();break;default:super._optionChanged(t)}}_toggleItemSelection(t,i){var r=this._getElementByItem(t.internalFields.item);r&&x(r).toggleClass(LB),this._dataAdapter.toggleSelection(t.internalFields.key,i)}_getElementByItem(t){var i;return B(this._itemElements(),(r,o)=>x(o).data(this._itemDataKey())!==t||(i=o,!1)),i}_updateSelectedItems(t,i){(t||i)&&this._fireSelectionChangeEvent(i,t)}_fireSelectionChangeEvent(t,i){this._createActionByOption("onSelectionChanged",{excludeValidators:["disabled","readOnly"]})({addedItems:[t],removedItems:[i]})}selectItem(t){var i=t.nodeType?this._getItemData(t):t,r=this._dataAdapter.getSelectedNodesKeys()[0],o=this.option("selectedItem"),s=this._dataAdapter.getNodeByItem(i);s.internalFields.key!==r&&(r&&this._toggleItemSelection(this._dataAdapter.getNodeByKey(r),!1),this._toggleItemSelection(s,!0),this._updateSelectedItems(o,i),this._setOptionWithoutOptionChange("selectedItem",i))}unselectItem(t){var i=t.nodeType?this._getItemData(t):t,r=this._dataAdapter.getNodeByItem(i),o=this.option("selectedItem");r.internalFields.selected&&(this._toggleItemSelection(r,!1),this._updateSelectedItems(o,null),this._setOptionWithoutOptionChange("selectedItem",null))}}return e.ItemClass=I_,e})();var gK="dx-menu",Sx=gK+"-item",N_=Sx+"-expanded",v0=gK+"-items-container",fK=Sx+"-wrapper",io="dx-submenu",_K="dx-state-hover",xK=["onShowing","onShown","onSubmenuCreated","onHiding","onHidden","onPositioning","onLeftFirstItem","onLeftLastItem","onCloseRootSubmenu","onExpandLastSubmenu"],iae=["up","down","first","last"],bK="dxcontextmenu",rae=ut();class OK extends pK{getShowEvent(n){var t=null;return qe(n)?null!==n.name&&(t=n.name||bK):t=n,t}getShowDelay(n){return qe(n)&&n.delay}_getDefaultOptions(){return A(super._getDefaultOptions(),{showEvent:bK,hideOnOutsideClick:!0,position:{at:"top left",my:"top left"},onShowing:null,onShown:null,onSubmenuCreated:null,onHiding:null,onHidden:null,onPositioning:null,submenuDirection:"auto",visible:!1,target:void 0,onLeftFirstItem:null,onLeftLastItem:null,onCloseRootSubmenu:null,onExpandLastSubmenu:null})}_defaultOptionsRules(){return super._defaultOptionsRules().concat([{device:()=>!rt(),options:{animation:null}}])}_setDeprecatedOptions(){super._setDeprecatedOptions(),A(this._deprecatedOptions,{closeOnOutsideClick:{since:"22.2",alias:"hideOnOutsideClick"}})}_initActions(){this._actions={},B(xK,(n,t)=>{this._actions[t]=this._createActionByOption(t)||U})}_setOptionsByReference(){super._setOptionsByReference(),A(this._optionsByReference,{animation:!0,selectedItem:!0})}_focusInHandler(){}_itemContainer(){return this._overlay?this._overlay.$content():x()}_eventBindingTarget(){return this._itemContainer()}itemsContainer(){return this._overlay?this._overlay.$content():void 0}_supportedKeys(){return A(super._supportedKeys(),{space:()=>{var n=x(this.option("focusedElement"));this.hide(),n.length&&this._isSelectionEnabled()&&this.selectItem(n[0])},escape:this.hide})}_getActiveItem(){var n=this._getAvailableItems(),t=n.filter(".".concat("dx-state-focused")),i=n.filter(".".concat(_K));return i.closest(".".concat(v0)).find(".".concat(Sx)).index(t)>=0?t:i.length?i:super._getActiveItem()}_moveFocus(n){var l,t=this._getItemsByLocation(n),i=this._getActiveItem(!0),r=this.itemsContainer().find(".".concat(_K)),s=!(!x(this.option("focusedElement")).length&&!r.length);switch(n){case"up":l=s?this._prevItem(t):i,this._setFocusedElement(l),i.is(t.first())&&this._actions.onLeftFirstItem(i);break;case"down":l=s?this._nextItem(t):i,this._setFocusedElement(l),i.is(t.last())&&this._actions.onLeftLastItem(i);break;case"right":l=this.option("rtlEnabled")?this._hideSubmenuHandler():this._expandSubmenuHandler(t,n),this._setFocusedElement(l);break;case"left":l=this.option("rtlEnabled")?this._expandSubmenuHandler(t,n):this._hideSubmenuHandler(),this._setFocusedElement(l);break;case"first":l=t.first(),this._setFocusedElement(l);break;case"last":l=t.last(),this._setFocusedElement(l);break;default:return super._moveFocus(n)}}_setFocusedElement(n){n&&0!==n.length&&this.option("focusedElement",Ke(n))}_getItemsByLocation(n){var i,t=this._getActiveItem(!0);return iae.includes(n)&&(i=t.closest(".".concat(v0)).children().children()),this._getAvailableItems(i)}_getAriaTarget(){return this.$element()}_refreshActiveDescendant(){if(T(this._overlay)){var n=this._overlay.$content();super._refreshActiveDescendant(n)}}_hideSubmenuHandler(){var n=this._getActiveItem(!0),t=n.parents(".".concat(N_)).first();return t.length?(this._hideSubmenusOnSameLevel(t),this._hideSubmenu(n.closest(".".concat(io))),t):(this._actions.onCloseRootSubmenu(n),n)}_expandSubmenuHandler(n,t){var i=this._getActiveItem(!0),r=this._getItemData(i),o=this._dataAdapter.getNodeByItem(r),s=this._hasSubmenu(o),l=i.children(".".concat(io));if(s&&!i.hasClass("dx-state-disabled"))return(!l.length||"hidden"===l.css("visibility"))&&this._showSubmenu(i),this._nextItem(this._getItemsByLocation(t));this._actions.onExpandLastSubmenu(i)}_clean(){this._overlay&&(this._overlay.$element().remove(),this._overlay=null),this._detachShowContextMenuEvents(this._getTarget()),super._clean()}_initMarkup(){this.$element().addClass("dx-has-context-menu"),super._initMarkup()}_render(){super._render(),this._renderVisibility(this.option("visible")),this._addWidgetClass()}_renderContentImpl(){this._detachShowContextMenuEvents(this._getTarget()),this._attachShowContextMenuEvents()}_attachKeyboardEvents(){!this._keyboardListenerId&&this._focusTarget().length&&super._attachKeyboardEvents()}_renderContextMenuOverlay(){if(!this._overlay){var n=this._getOverlayOptions();this._overlay=this._createComponent(x("<div>").appendTo(this._$element),Nu,n);var t=this._overlay.$content();t.addClass("dx-context-menu"),this._addCustomCssClass(t),this._addPlatformDependentClass(t),this._attachContextMenuEvent()}}preventShowingDefaultContextMenuAboveOverlay(){var n=this._itemContainer(),t=fe(L$,this.NAME);R.off(n,t,".".concat(io)),R.on(n,t,".".concat(io),(i=>{i.stopPropagation(),i.preventDefault(),R.off(n,t,".".concat(io))}).bind(this))}_itemContextMenuHandler(n){super._itemContextMenuHandler(n),n.stopPropagation()}_addPlatformDependentClass(n){$e.current().phone&&n.addClass("dx-menu-phone-overlay")}_detachShowContextMenuEvents(n){var t=this.getShowEvent(this.option("showEvent"));if(t){var i=fe(t,this.NAME);this._showContextMenuEventHandler?R.off(se.getDocument(),i,n,this._showContextMenuEventHandler):R.off(x(n),i)}}_attachShowContextMenuEvents(){var n=this._getTarget(),t=this.getShowEvent(this.option("showEvent"));if(t){var i=fe(t,this.NAME),r=this._createAction(s=>{var l=this.getShowDelay(this.option("showEvent"));l?setTimeout(()=>this._show(s.event),l):this._show(s.event)},{validatingTargetName:"target"}),o=s=>r({event:s,target:x(s.currentTarget)});r=this._createAction(r),Fr(n)||n.nodeType||Sn(n)?(this._showContextMenuEventHandler=void 0,R.on(n,i,o)):(this._showContextMenuEventHandler=o,R.on(se.getDocument(),i,n,this._showContextMenuEventHandler))}}_hoverEndHandler(n){super._hoverEndHandler(n),n.stopPropagation()}_renderDimensions(){}_renderContainer(n,t){var i=t||this._itemContainer();(n=x("<div>")).appendTo(i).addClass(io).css("visibility",t?"hidden":"visible"),n.parent().hasClass("dx-overlay-content")||this._addCustomCssClass(n);var r=super._renderContainer(n);return t?r:this.option("width")?r.css("minWidth",this.option("width")):this.option("height")?r.css("minHeight",this.option("height")):r}_renderSubmenuItems(n,t){this._renderItems(this._getChildNodes(n),t),this._actions.onSubmenuCreated({itemElement:Ke(t),itemData:n.internalFields.item,submenuElement:Ke(t.children(".".concat(io)))})}_getOverlayOptions(){var n=this.option("position");return{focusStateEnabled:this.option("focusStateEnabled"),animation:this.option("animation"),innerOverlay:!0,hideOnOutsideClick:i=>this._hideOnOutsideClickHandler(i),propagateOutsideClick:!0,hideOnParentScroll:!0,deferRendering:!1,position:{at:n.at,my:n.my,of:this._getTarget(),collision:"flipfit"},shading:!1,showTitle:!1,height:"auto",width:"auto",onShown:this._overlayShownActionHandler.bind(this),onHiding:this._overlayHidingActionHandler.bind(this),onHidden:this._overlayHiddenActionHandler.bind(this),visualContainer:rae}}_overlayShownActionHandler(n){this._actions.onShown(n)}_overlayHidingActionHandler(n){this._actions.onHiding(n),n.cancel||(this._hideAllShownSubmenus(),this._setOptionWithoutOptionChange("visible",!1))}_overlayHiddenActionHandler(n){this._actions.onHidden(n)}_shouldHideOnOutsideClick(n){var{closeOnOutsideClick:t,hideOnOutsideClick:i}=this.option();return Re(i)?i(n):Re(t)?t(n):i||t}_hideOnOutsideClickHandler(n){if(!this._shouldHideOnOutsideClick(n))return!1;if(se.isDocument(n.target))return!0;var t=this._getActiveItemsContainer(n.target),i=this._getItemsContainers(),r=this._searchActiveItem(n.target),o=this.$element().parents(".".concat(Sx)),s=r[0]===o[0]&&r.length&&o.length;return!(this._isIncludeOverlay(t,i)&&r.length)&&!s||("onClick"===this._getShowSubmenuMode()&&this._hideAllShownChildSubmenus(r),!1)}_getActiveItemsContainer(n){return x(n).closest(".".concat(v0))}_getItemsContainers(){return this._overlay.$content().find(".".concat(v0))}_searchActiveItem(n){return x(n).closest(".".concat(Sx)).eq(0)}_isIncludeOverlay(n,t){var i=!1;return B(t,(r,o)=>{n.is(o)&&!i&&(i=!0)}),i}_hideAllShownChildSubmenus(n){var t=n.find(".".concat(io)),i=A([],this._shownSubmenus);t.length>0&&B(i,(r,o)=>{var s=this._searchActiveItem(o.context).parent();s.parent().is(n.parent().parent())&&!s.is(n.parent())&&this._hideSubmenu(o)})}_showSubmenu(n){var t=this._dataAdapter.getNodeByItem(this._getItemData(n));if(this._hideSubmenusOnSameLevel(n),this._hasSubmenu(t)){var i=n.children(".".concat(io)),r=i.length;super._showSubmenu(n),r||this._renderSubmenuItems(t,n),this._isSubmenuVisible(i)||this._drawSubmenu(n)}}_hideSubmenusOnSameLevel(n){var t=n.parent(".".concat(fK)).siblings().find(".".concat(N_));t.length&&(t.removeClass(N_),this._hideSubmenu(t.find(".".concat(io))))}_hideSubmenuGroup(n){this._isSubmenuVisible(n)&&this._hideSubmenuCore(n)}_isSubmenuVisible(n){return"visible"===n.css("visibility")}_drawSubmenu(n){var t=this.option("animation")?this.option("animation").show:{},i=n.children(".".concat(io)),r=this._getSubmenuPosition(n);this._overlay&&this._overlay.option("visible")&&(T(this._shownSubmenus)||(this._shownSubmenus=[]),this._shownSubmenus.includes(i)||this._shownSubmenus.push(i),t&&An.stop(i),Ns.setup(i,r),t&&(ft(t.to)&&(t.to.position=r),this._animate(i,t)),i.css("visibility","visible"))}_animate(n,t){An.animate(n,t)}_getSubmenuPosition(n){var t=this.option("submenuDirection").toLowerCase(),r={collision:"flip",of:n.parent(".".concat(fK)),offset:{h:0,v:-1}};switch(t){case"left":r.at="left top",r.my="right top";break;case"right":r.at="right top",r.my="left top";break;default:this.option("rtlEnabled")?(r.at="left top",r.my="right top"):(r.at="right top",r.my="left top")}return r}_updateSubmenuVisibilityOnClick(n){if(n.args.length){var t=n.args[0].itemData,i=this._dataAdapter.getNodeByItem(t);if(i){var r=x(n.args[0].itemElement),o=r.find(".".concat(io));if(this._hasSubmenu(i)&&!o.length&&(this._renderSubmenuItems(i,r),o=r.find(".".concat(io))),(r.context!==o.context||"visible"!==o.css("visibility"))&&(this._updateSelectedItemOnClick(n),t&&!t.disabled&&(!t||!1!==t.closeMenuOnClick)))if(0===o.length){var h=x(r.parents(".".concat(io))[0]);this._hideSubmenu(h),!n.canceled&&this._overlay&&this._overlay.option("visible")&&this.option("visible",!1)}else this._shownSubmenus&&this._shownSubmenus.length>0&&this._shownSubmenus[0].is(o)&&this._hideSubmenu(o),this._showSubmenu(r)}}}_hideSubmenu(n){var t=A([],this._shownSubmenus);B(t,(i,r)=>{(n.is(r)||Ia(n[0],r[0]))&&(r.parent().removeClass(N_),this._hideSubmenuCore(r))})}_hideSubmenuCore(n){var t=this._shownSubmenus.indexOf(n),i=this.option("animation")?this.option("animation").hide:null;t>=0&&this._shownSubmenus.splice(t,1),this._stopAnimate(n),i&&this._animate(n,i),n.css("visibility","hidden")}_stopAnimate(n){An.stop(n,!0)}_hideAllShownSubmenus(){var n=A([],this._shownSubmenus);this._overlay.$content().find(".".concat(N_)).removeClass(N_),B(n,(i,r)=>{this._hideSubmenu(r)})}_visibilityChanged(n){n&&this._renderContentImpl()}_optionChanged(n){if(xK.includes(n.name))this._initActions();else switch(n.name){case"visible":this._renderVisibility(n.value);break;case"showEvent":case"position":case"submenuDirection":this._invalidate();break;case"target":n.previousValue&&this._detachShowContextMenuEvents(n.previousValue),this._invalidate();break;case"closeOnOutsideClick":case"hideOnOutsideClick":break;default:super._optionChanged(n)}}_renderVisibility(n){return n?this._show():this._hide()}_toggleVisibility(){}_show(n){var t={jQEvent:n},i=(new W).reject().promise();if(this._actions.onShowing(t),t.cancel)return i;var o,r=this._positionContextMenu(n);return r&&(this._overlay||(this._renderContextMenuOverlay(),this._overlay.$content().addClass(this._widgetClass()),this._renderFocusState(),this._attachHoverEvents(),this._attachClickEvent(),this._renderItems(this._dataAdapter.getRootNodes())),this._setOptionWithoutOptionChange("visible",!0),this._overlay.option("position",r),i=this._overlay.show(),n&&n.stopPropagation(),this._setAriaAttributes(),(null==n||null===(o=n.originalEvent)||void 0===o?void 0:o.type)===ec_name&&this.preventShowingDefaultContextMenuAboveOverlay()),i}_setAriaAttributes(){this._overlayContentId="dx-".concat(new En),this.setAria("owns",this._overlayContentId),this.setAria({id:this._overlayContentId,role:"menu"},this._overlay.$content())}_cleanAriaAttributes(){this._overlay&&this.setAria("id",null,this._overlay.$content()),this.setAria("owns",void 0)}_getTarget(){return this.option("target")||this.option("position").of||x(se.getDocument())}_getContextMenuPosition(){return A({},this.option("position"),{of:this._getTarget()})}_positionContextMenu(n){var t=this._getContextMenuPosition(),i=this._isInitialOptionValue("position"),r=this._createActionByOption("onPositioning");n&&n.preventDefault&&i&&(t.of=n);var o={position:t,event:n};return r(o),o.cancel?t=null:o.event&&(o.event.cancel=!0,n.preventDefault()),t}_refresh(){if(rt())if(this._overlay){var n=this._overlay.option("position");super._refresh(),this._overlay&&this._overlay.option("position",n)}else super._refresh();else super._refresh()}_hide(){var n;return this._overlay&&(n=this._overlay.hide(),this._setOptionWithoutOptionChange("visible",!1)),this._cleanAriaAttributes(),this.option("focusedElement",null),n||(new W).reject().promise()}toggle(n){var t=this.option("visible");return this._renderVisibility(n=void 0===n?!t:n)}show(){return this.toggle(!0)}hide(){return this.toggle(!1)}}Dt("dxContextMenu",OK);const DK=OK;var sae={columnHeadersView:"header",rowsView:"content",footerView:"footer",headerPanel:"headerPanel"},aae=["columnHeadersView","rowsView","footerView","headerPanel"],lae=dn.ViewController.inherit({init(){this.createAction("onContextMenuPreparing")},getContextMenuItems(e){if(!e)return!1;var i,r,o,s,n=this,t=x(e.target);return B(aae,function(){var l,h,g=n.getView(this);if((i=g&&g.element())&&(i.is(t)||i.find(t).length)){o=t.closest(".dx-row > td, .dx-row > tr"),r=o.parent();var _=g.getRowIndex(r),v=o[0]&&o[0].cellIndex,C=r.data("options"),b={event:e,targetElement:Ke(t),target:sae[this],rowIndex:_,row:g._getRows()[_],columnIndex:v,column:null===(h=null===(l=C?.cells)||void 0===l?void 0:l[v])||void 0===h?void 0:h.column};if(b.items=g.getContextMenuItems&&g.getContextMenuItems(b),n.executeAction("onContextMenuPreparing",b),n._contextMenuPrepared(b),s=b.items)return!1}}),s},_contextMenuPrepared:U}),dae=dn.View.inherit({_renderCore(){var e=this,n=e.element().addClass("dx-context-menu");this.setAria("role","presentation",n),this._createComponent(n,DK,{onPositioning(t){var{event:i}=t,r=t.component,o=e.getController("contextMenu").getContextMenuItems(i);o?(r.option("items",o),i.stopPropagation()):t.cancel=!0},onItemClick(t){t.itemData.onItemClick&&t.itemData.onItemClick(t)},cssClass:e.getWidgetContainerClass(),target:e.component.$element()})}});Ge.registerModule("contextMenu",{defaultOptions:()=>({onContextMenuPreparing:null}),controllers:{contextMenu:lae},views:{contextMenuView:dae}});var Ex="dx-error-row",SK="dx-error-message",pae=dn.ViewController.inherit({init(){this._columnHeadersView=this.getView("columnHeadersView"),this._rowsView=this.getView("rowsView")},_createErrorRow(e,n){var i,r,t=this,o=this._renderErrorMessage(e);return n?(i=x("<tr>").addClass(Ex),r=x("<div>").addClass("dx-closebutton").addClass(t.addWidgetPrefix("action")),R.on(r,Kt,t.createAction(s=>{var h,l=s.event,g=x(l.currentTarget).closest(".".concat(Ex)).index();l.stopPropagation(),B(n,(_,v)=>{h=x(v).children("tbody").children("tr").eq(g),t.removeErrorRow(h)}),t.getController("resizing")&&t.getController("resizing").fireContentReadyAction()})),x("<td>").attr({colSpan:t.getController("columns").getVisibleColumns().length,role:"presentation"}).prepend(r).append(o).appendTo(i),i):o},_renderErrorMessage(e){var n=e.url?e.message.replace(e.url,""):e.message||e,t=x("<div>").addClass(SK).text(n);return e.url&&x("<a>").attr("href",e.url).text(e.url).appendTo(t),t},renderErrorRow(e,n,t){var r,o,i=this;if(t)return t.find(".".concat(SK)).remove(),r=i._createErrorRow(e),t.prepend(r),r;var s=n>=0||!i._columnHeadersView.isVisible()?i._rowsView:i._columnHeadersView,l=s.getTableElements();B(l,(g,_)=>{if(r=i._createErrorRow(e,l),o=o||r,n>=0){var v=s._getRowElements(x(_)).eq(n);i.removeErrorRow(v.next()),r.insertAfter(v)}else{var C=x(_).children("tbody"),b=C.children("tr");i._columnHeadersView.isVisible()?(i.removeErrorRow(b.last()),x(_).append(r)):(i.removeErrorRow(b.first()),C.first().prepend(r))}});var h=i.getController("resizing");return h&&h.fireContentReadyAction(),o},removeErrorRow(e){if(!e){var n=this._columnHeadersView&&this._columnHeadersView.element();if(!(e=n&&n.find(".".concat(Ex)))||!e.length){var t=this._rowsView.element();e=t&&t.find(".".concat(Ex))}}e&&e.hasClass(Ex)&&e.remove()},optionChanged(e){"errorRowEnabled"===e.name?e.handled=!0:this.callBase(e)}}),gae={defaultOptions:()=>({errorRowEnabled:!0}),controllers:{errorHandling:pae},extenders:{controllers:{data:{init(){var e=this,n=e.getController("errorHandling");e.callBase(),e.dataErrorOccurred.add((t,i)=>{e.option("errorRowEnabled")&&n.renderErrorRow(t,void 0,i)}),e.changed.add(t=>{if(!t||"loadError"!==t.changeType){var i=e.getController("errorHandling"),r=e.getController("editing");r&&!r.hasChanges()&&i&&i.removeErrorRow()}})}}}}};Ge.registerModule("errorHandling",gae);var EK="borders",wK="dx-gridbase-container",C0="adaptiveHidden",VB=["columnsSeparatorView","blockSeparatorView","trackerView","headerPanel","columnHeadersView","rowsView","footerView","columnChooserView","filterPanelView","pagerView","draggingHeaderView","contextMenuView","errorView","headerFilterView","filterBuilderView"],wx=function(e){return je(e)&&e.endsWith("%")},IK=function(e,n){var t=e._rowsView.contentWidth();return t-e._getTotalWidth(n,t)},xae={_initPostRenderHandlers(){var e=this._dataController;this._refreshSizesHandler||(this._refreshSizesHandler=n=>{e.changed.remove(this._refreshSizesHandler),this._refreshSizes(n)},e.changed.add(()=>{e.changed.add(this._refreshSizesHandler)}))},_refreshSizes(e){var n,t,i=this,r=e&&e.changeType,o=e&&e.isDelayed,s=i._dataController.items();if(e&&"refresh"!==r&&"prepend"!==r&&"append"!==r){if("update"===r){if(0===(null===(n=e.changeTypes)||void 0===n?void 0:n.length))return;!(s.length>1||"insert"!==e.changeTypes[0])||0===s.length&&"remove"===e.changeTypes[0]||e.needUpdateDimensions?t=i.resize():(t=new W,this._waitAsyncTemplates().done(()=>{er(()=>Xn(()=>er(()=>{i._setScrollerSpacing(),i._rowsView.resize(),t.resolve()})))}).fail(t.reject))}}else o||(t=i.resize());r&&"updateSelection"!==r&&"updateFocusedRow"!==r&&"pageIndex"!==r&&!o&&ke(t).done(()=>{i._setAriaLabel(),i.fireContentReadyAction()})},fireContentReadyAction(){this.component._fireContentReadyAction()},_getWidgetAriaLabel:()=>"dxDataGrid-ariaDataGrid",_setAriaLabel(){this.component.setAria("label",J.format(this._getWidgetAriaLabel(),this._dataController.totalItemsCount(),this.component.columnCount()),this.component.$element().children(".".concat(wK)))},_getBestFitWidths(){var e,n=this._rowsView,t=this._columnHeadersView,i=n.getColumnWidths();if(!i?.length){var r=t.getTableElement();t.setTableElement(null===(e=n.getTableElement())||void 0===e?void 0:e.children(".dx-header")),i=t.getColumnWidths(),t.setTableElement(r)}return i},_setVisibleWidths(e,n){var t=this._columnsController;t.beginUpdate(),B(e,(i,r)=>{var o=t.getColumnId(r);t.columnOption(o,"visibleWidth",n[i])}),t.endUpdate()},_toggleBestFitModeForView(e,n,t){if(e&&e.isVisible()){var i=this._rowsView.getTableElements(),r=e.getTableElements();B(i,(o,s)=>{var l,h=x(s),g=r.eq(o);g&&g.length&&((l=t?g.children("tbody").appendTo(h):h.children(".".concat(n)).appendTo(g)).toggleClass(n,t),l.toggleClass(this.addWidgetPrefix("best-fit"),t))})}},_toggleBestFitMode(e){var n=this._rowsView.getTableElement(),t=this._rowsView.getTableElements().eq(1);n&&(n.css("tableLayout",e?"auto":"fixed"),n.children("colgroup").css("display",e?"none":""),B(t.find("tr.dx-group-row"),(i,r)=>{x(r).css("display",e?"none":"")}),t.toggleClass(this.addWidgetPrefix("table-fixed"),!e),this._toggleBestFitModeForView(this._columnHeadersView,"dx-header",e),this._toggleBestFitModeForView(this._footerView,"dx-footer",e),this._needStretch()&&(n.get(0).style.width=e?"auto":""))},_toggleContentMinHeight(e){var n=this._rowsView.getScrollable(),t=this._rowsView._findContentElement();!1===n?.option("useNative")&&t.css({minHeight:e?xe.getContentHeightLimit(Gt):""})},_synchronizeColumns(){var s,g,_,e=this._columnsController,n=e.getVisibleColumns(),t=this.option("columnAutoWidth"),i=this.option("wordWrapEnabled"),r=this._needBestFit(),o=!1,l=!1,h=[];!r&&B(n,(C,b)=>{if("auto"===b.width)return r=!0,!1}),B(n,(C,b)=>{if(b.minWidth)return o=!0,!1}),this._setVisibleWidths(n,[]);var v=this.component.$element();r&&(g=se.getActiveElement(v.get(0)),_=xe.getSelectionRange(g),this._toggleBestFitMode(!0),s=!0),this._toggleContentMinHeight(i),v&&v.get(0)&&this._maxWidth&&(delete this._maxWidth,v[0].style.maxWidth=""),er(()=>{var b;r?(h=this._getBestFitWidths(),B(n,(b,E)=>{var w=e.getColumnId(E);e.columnOption(w,"bestFitWidth",h[b],!0)})):o&&(h=this._getBestFitWidths()),B(n,function(b){var{width:E}=this;"auto"!==E&&(T(E)?h[b]=Vt(E)||function(e){return je(e)&&e.endsWith("px")}(E)?parseFloat(E):E:t||(h[b]=void 0))}),s&&(this._toggleBestFitMode(!1),s=!1,g&&g!==se.getActiveElement())&&(Zn(g).bottom<0||function(e,n){(function nie(e){o0=!0,e.focus(),o0=!1})(e),xe.setSelectionRange(e,n)}(g,_)),l=this._correctColumnWidths(h,n),t&&(B(n,(E,w)=>{"groupExpand"===w.type&&(b=h[E])}),B(n,(E,w)=>{"groupExpand"===w.type&&b&&(h[E]=b)}),this._needStretch()&&this._processStretch(h,n)),Xn(()=>{(r||l)&&this._setVisibleWidths(n,h),i&&this._toggleContentMinHeight(!1)})})},_needBestFit(){return this.option("columnAutoWidth")},_needStretch(){return this._columnsController.getVisibleColumns().some(e=>"auto"===e.width&&!e.command)},_getAverageColumnsWidth(e){return IK(this,e)/e.filter(i=>void 0===i).length},_correctColumnWidths(e,n){var i,t=this,r=!1,o=!1,s=!1,l=t.component.$element(),h=t._hasWidth,g=function(){var M=i,k=n[M],L=e[M]===C0,G=e[M],{minWidth:Q}=k;if(Q)if(void 0===G){var le=t._getAverageColumnsWidth(e);G=le}else if(wx(G)){var Te=function(e,n,t,i){return IK(e,i.map((r,o)=>o===n?t:r))}(t,M,Q,e);Te<0&&(G=-1)}var He=t._getRealColumnWidth(M,e.map((Ee,ze)=>M===ze?G:Ee));Q&&!L&&He<Q&&(e[M]=Q,s=!0,i=-1),T(k.width)||(o=!0),wx(k.width)&&(r=!0)};for(i=0;i<n.length;i++)g();if(!o&&e.length){var _=t._rowsView.element(),v=t._rowsView.contentWidth(),C=t._rowsView.getScrollbarWidth(),b=t._getTotalWidth(e,v);if(b<v){var E=xe.getLastResizableColumnIndex(n,e);if(E>=0&&(e[E]="auto",s=!0,!1===h&&!r)){var w=t.option("showBorders")?Math.ceil(wt(_)-gC(_)):0;t._maxWidth=b+C+w,l.css("maxWidth",t._maxWidth)}}}return s},_processStretch(e,n){var t=this._rowsView.contentWidth(),i=this._getTotalWidth(e,t),r={length:0};if(e.length){B(n,function(g){(this.width||e[g]===C0)&&(r[g]=!0,r.length++)});var o=t-i,s=Math.floor(o/(e.length-r.length)),l=o-s*(e.length-r.length);if(o>=0)for(var h=0;h<e.length;h++)r[h]||(e[h]+=s,l>0&&(l<1?(e[h]+=l,l=0):(e[h]++,l--)))}},_getRealColumnWidth(e,n,t){var i=1,r=n[e];if(!wx(r))return parseFloat(r);var o=n.reduce((g,_,v)=>wx(_)?g+parseFloat(_):g,0),s=n.reduce((g,_)=>!_||_===C0||wx(_)?g:g+parseFloat(_),0),l=(t=t||this._rowsView.contentWidth())-s,h=o*t/100;return s>0&&h+s>=t&&(i=h>l?l/h:1),parseFloat(r)*t*i/100},_getTotalWidth(e,n){for(var t=0,i=0;i<e.length;i++){var r=e[i];r&&r!==C0&&(t+=this._getRealColumnWidth(i,e,n))}return Math.ceil(t)},_getGroupElement(){return this.component.$element().children().get(0)},updateSize(e){var n=x(e),t=this.addWidgetPrefix("important-margin");if(void 0===this._hasHeight&&n&&n.is(":visible")&&Ze(n)){var i=n.children(".".concat(this.getWidgetContainerClass()));i.length&&i.detach(),this._hasHeight=!!gt(n);var r=Ze(n);n.addClass(t),this._hasWidth=Ze(n)===r,n.removeClass(t),i.length&&i.appendTo(n)}},publicMethods:()=>["resize","updateDimensions"],_waitAsyncTemplates(){var e,n,t;return ke(null===(e=this._columnHeadersView)||void 0===e?void 0:e.waitAsyncTemplates(!0),null===(n=this._rowsView)||void 0===n?void 0:n.waitAsyncTemplates(!0),null===(t=this._footerView)||void 0===t?void 0:t.waitAsyncTemplates(!0))},resize(){if(!this.component._requireResize){var e=new W;return this._waitAsyncTemplates().done(()=>{ke(this.updateDimensions()).done(e.resolve).fail(e.reject)}).fail(e.reject),e.promise()}},updateDimensions(e){var n=this;if(n._initPostRenderHandlers(),n._checkSize(e)){var t=n._resizeDeferred,i=n._resizeDeferred=new W;return ke(t).always(()=>{Xn(()=>{n._dataController.isLoaded()&&n._synchronizeColumns(),n._resetGroupElementHeight(),er(()=>{Xn(()=>{er(()=>{n._updateDimensionsCore()})})})}).done(i.resolve).fail(i.reject)}),i.promise()}},_resetGroupElementHeight(){var e=this._getGroupElement(),n=this._rowsView.getScrollable();e&&e.style.height&&(!n||!n.scrollTop())&&(e.style.height="")},_checkSize(e){var n=this.component.$element();return!(e&&(this._lastWidth===Ze(n)&&this._lastHeight===gt(n)&&this._devicePixelRatio===ut().devicePixelRatio||!n.is(":visible")))},_setScrollerSpacingCore(){var e=this,n=e._rowsView.getScrollbarWidth(),t=e._rowsView.getScrollbarWidth(!0);Xn(()=>{e._columnHeadersView&&e._columnHeadersView.setScrollerSpacing(n),e._footerView&&e._footerView.setScrollerSpacing(n),e._rowsView.setScrollerSpacing(n,t)})},_setScrollerSpacing(){var e=this._rowsView.getScrollable(),n=!0===this.option("scrolling.useNative");!e||n?Xn(()=>{er(()=>{this._setScrollerSpacingCore()})}):this._setScrollerSpacingCore()},_updateDimensionsCore(){var e=this,n=e._dataController,t=e.getController("editorFactory"),i=e._rowsView,r=e.component.$element(),o=this._getGroupElement(),s=gt(r),l=e.option("height")||r.get(0).style.height,h=!!l&&"auto"!==l,g=parseInt(r.css("maxHeight")),_=g&&s>=g,v=o&&o.scrollHeight===o.offsetHeight;e.updateSize(r),Xn(()=>{i.hasHeight(e._hasHeight||!!g||h),_&&!v&&x(o).css("height",g),n.isLoaded()?er(()=>{e._updateLastSizes(r),e._setScrollerSpacing(),B(VB,(b,E)=>{var w=e.getView(E);w&&w.resize()}),t&&t.resize()}):i.setLoading(n.isLoading())})},_updateLastSizes(e){this._lastWidth=Ze(e),this._lastHeight=gt(e),this._devicePixelRatio=ut().devicePixelRatio},optionChanged(e){switch(e.name){case"width":case"height":this.component._renderDimensions(),this.resize();case"renderAsync":return void(e.handled=!0);default:this.callBase(e)}},init(){this._dataController=this.getController("data"),this._columnsController=this.getController("columns"),this._columnHeadersView=this.getView("columnHeadersView"),this._footerView=this.getView("footerView"),this._rowsView=this.getView("rowsView")}},bae=dn.ViewController.inherit(xae),Oae=dn.ViewController.inherit({_scrollChangedHandler(e,n,t){for(var i=0;i<e.length;i++)e[i]&&e[i].name!==t&&e[i].scrollTo({left:n.left,top:n.top})},init(){for(var e=[this.getView("columnHeadersView"),this.getView("footerView"),this.getView("rowsView")],n=0;n<e.length;n++){var t=e[n];t&&t.scrollChanged.add(this._scrollChangedHandler.bind(this,e))}}}),Dae=dn.View.inherit({_endUpdateCore(){this.component._requireResize&&(this.component._requireResize=!1,this._resizingController.resize())},init(){this._resizingController=this.getController("resizing"),this._dataController=this.getController("data")},getView(e){return this.component._views[e]},element(){return this._groupElement},optionChanged(e){T(this._groupElement)&&"showBorders"===e.name?(this._groupElement.toggleClass(this.addWidgetPrefix(EK),!!e.value),e.handled=!0):this.callBase(e)},_renderViews(e){var n=this;B(VB,(t,i)=>{var r=n.getView(i);r&&r.render(e)})},_getTableRoleName:()=>"group",render(e){var n=!this._groupElement,t=this._groupElement||x("<div>").addClass(this.getWidgetContainerClass());t.addClass(wK),t.toggleClass(this.addWidgetPrefix(EK),!!this.option("showBorders")),this.setAria("role","presentation",e),this.component.setAria("role",this._getTableRoleName(),t),this._rootElement=e||this._rootElement,n&&(this._groupElement=t,rt()&&this.getController("resizing").updateSize(e),t.appendTo(e)),this._renderViews(t)},update(){var e=this._rootElement,n=this._groupElement,t=this.getController("resizing");e&&n&&(t.resize(),this._dataController.isLoaded()&&this._resizingController.fireContentReadyAction())}});Ge.registerModule("gridView",{defaultOptions:()=>({showBorders:!1,renderAsync:!1}),controllers:{resizing:bae,synchronizeScrolling:Oae},views:{gridView:Dae},VIEW_NAMES:VB});var wae=["dxAutocomplete","dxButton","dxCheckBox","dxDateBox","dxMenu","dxSelectBox","dxTabs","dxTextBox","dxButtonGroup","dxDropDownButton"];function y0(e,n){var t;if(e){var i=e._findItemElementByItem(n);if(i.length){var r=e._getItemData(i),o=!!(null!==(t=r.options)&&void 0!==t&&t.disabled||r.disabled||e.option("disabled")),{widget:s}=r;if(s&&-1!==wae.indexOf(s)){var l=i.find(s.toLowerCase().replace("dx",".dx-"));if(l.length){var h,g,_=function(e){var n=e.data&&e.data(),t=n&&n.dxComponents,i=t&&t[0];return i&&n[i]}(l);if(!_)return;var C,v=null===(h=_._focusTarget)||void 0===h?void 0:h.call(_);v="dxDropDownButton"===s?v&&v.find(".".concat("dx-buttongroup")):null!==(C=v)&&void 0!==C?C:x(_.element());var b=null===(g=r.options)||void 0===g?void 0:g.tabIndex;v.attr("tabIndex",o?-1:b??0)}}}}}class Mae{constructor(n){this._toolbar=n}_initMarkup(){}_updateMenuVisibility(){}_renderMenuItems(){}_renderItem(){}_getMenuItems(){}_getToolbarItems(){var n;return null!==(n=this._toolbar.option("items"))&&void 0!==n?n:[]}_getItemsWidth(){return this._toolbar._getSummaryItemsWidth(this._toolbar.itemElements(),!0)}_arrangeItems(){var n=this._toolbar._$toolbarItemsContainer.find(".".concat("dx-toolbar-label")).eq(0);if(n.length){var t=Ze(this._toolbar.$element()),i=wt(n)-Ze(n);n.css("maxWidth",t-i)}}_hideOverflowItems(){}_dimensionChanged(){}_itemOptionChanged(){}_optionChanged(){}}var NB="dx-toolbar-menu-action",TK="dx-toolbar-hidden-button-group",MK="dx-toolbar-menu-section",AK="dx-toolbar-menu-last-section";class Fae extends qk{_init(){super._init(),this._activeStateUnit=".".concat(NB,":not(.").concat(TK,")")}_initMarkup(){this._renderSections(),super._initMarkup(),this._setMenuRole()}_getSections(){return this._itemContainer().children()}_itemElements(){return this._getSections().children(this._itemSelector())}_renderSections(){var n=this._itemContainer();B(["before","center","after","menu"],(t,i)=>{var r="_$".concat(i,"Section");this[r]||(this[r]=x("<div>").addClass(MK)),this[r].appendTo(n)})}_renderItems(){super._renderItems.apply(this,arguments),this._updateSections()}_setMenuRole(){this.$element().find(".".concat("dx-scrollview-content")).attr("role","menu")}_updateSections(){var n=this.$element().find(".".concat(MK));n.removeClass(AK),n.not(":empty").eq(-1).addClass(AK)}_renderItem(n,t,i,r){var o,s=null!==(o=t.location)&&void 0!==o?o:"menu",l=this["_$".concat(s,"Section")],h=super._renderItem(n,t,l,r);return this._getItemTemplateName({itemData:t})&&h.addClass("dx-toolbar-menu-custom"),("menu"===s||"dxButton"===t.widget||"dxButtonGroup"===t.widget||t.isAction)&&h.addClass(NB),"dxButton"===t.widget&&h.addClass("dx-toolbar-hidden-button"),"dxButtonGroup"===t.widget&&h.addClass(TK),h.addClass(t.cssClass),h}_getItemTemplateName(n){var t=super._getItemTemplateName(n),i=n.itemData;return i&&i.menuItemTemplate||t}_dataSourceOptions(){return{paginate:!1}}_itemClickHandler(n,t,i){x(n.target).closest(".".concat(NB)).length&&super._itemClickHandler(n,t,i)}_clean(){this._getSections().empty(),super._clean()}}let RK=(()=>{class e extends Ma{_getDefaultOptions(){return A(super._getDefaultOptions(),{preventScrollEvents:!1})}_getToolbarName(){return"dxToolbar"}}return e.defaultOptions=function(n){Ma.defaultOptions(n)},e})();Dt("dxPopup",RK);const kae=RK;class Wae extends Ki{_supportedKeys(){var n={};return(!this.option("opened")||!this._list.option("focusedElement"))&&(n=this._button._supportedKeys()),A(super._supportedKeys(),n,{tab:function(){this._popup&&this._popup.hide()}})}_getDefaultOptions(){return A(super._getDefaultOptions(),{items:[],onItemClick:null,dataSource:null,itemTemplate:"item",onButtonClick:null,activeStateEnabled:!0,hoverStateEnabled:!0,opened:!1,onItemRendered:null,closeOnClick:!0,useInkRipple:!1,container:void 0,animation:{show:{type:"fade",from:0,to:1},hide:{type:"fade",to:0}}})}_defaultOptionsRules(){return super._defaultOptionsRules().concat([{device:function(){return"desktop"===$e.real().deviceType&&!$e.isSimulator()},options:{focusStateEnabled:!0}},{device:function(){return Wn()},options:{useInkRipple:!0,animation:{show:{type:"pop",duration:200,from:{scale:0},to:{scale:1}},hide:{type:"pop",duration:200,from:{scale:1},to:{scale:0}}}}}])}_init(){super._init(),this.$element().addClass("dx-dropdownmenu"),this._initItemClickAction(),this._initButtonClickAction()}_initItemClickAction(){this._itemClickAction=this._createActionByOption("onItemClick")}_initButtonClickAction(){this._buttonClickAction=this._createActionByOption("onButtonClick")}_initTemplates(){this._templateManager.addDefaultTemplates({content:new ep("content")}),super._initTemplates()}_initMarkup(){this._renderButton(),super._initMarkup()}_render(){super._render(),this.setAria({haspopup:!0,expanded:this.option("opened")})}_renderContentImpl(){this.option("opened")&&this._renderPopup()}_clean(){this._cleanFocusState(),this._list&&this._list.$element().remove(),this._popup&&this._popup.$element().remove(),delete this._list,delete this._popup}_renderButton(){var n=this.$element().addClass("dx-dropdownmenu-button");this._button=this._createComponent(n,Ui,{icon:"overflow",template:"content",useInkRipple:this.option("useInkRipple"),hoverStateEnabled:!1,focusStateEnabled:!1,onClick:t=>{this.option("opened",!this.option("opened")),this._buttonClickAction(t)}})}_toggleActiveState(n,t,i){this._button._toggleActiveState(n,t,i)}_toggleMenuVisibility(n){var t=n??!this._popup.option("visible");n&&this._renderPopup(),this._popup.toggle(t),this.setAria("expanded",t)}_renderPopup(){if(!this._$popup){this._$popup=x("<div>").appendTo(this.$element());var{rtlEnabled:n,container:t,animation:i}=this.option();this._popup=this._createComponent(this._$popup,"dxPopup",{onInitialized(r){var{component:o}=r;o.$wrapper().addClass("dx-dropdownmenu-popup-wrapper").addClass("dx-dropdownmenu-popup")},deferRendering:!1,contentTemplate:r=>this._renderList(r),_ignoreFunctionValueDeprecation:!0,maxHeight:()=>this._getMaxHeight(),position:{my:"top ".concat(n?"left":"right"),at:"bottom ".concat(n?"left":"right"),collision:"fit flip",offset:{v:3},of:this.$element()},animation:i,onOptionChanged:r=>{var{name:o,value:s}=r;"visible"===o&&this.option("opened",s)},container:t,autoResizeEnabled:!1,height:"auto",width:"auto",hideOnOutsideClick:r=>this._closeOutsideDropDownHandler(r),hideOnParentScroll:!0,shading:!1,dragEnabled:!1,showTitle:!1,fullScreen:!1,_fixWrapperPosition:!0})}}_getMaxHeight(){var n=this.$element(),t=n.offset().top,i=_t(ut()),r=Math.max(t,i-t-_t(n));return Math.min(i,r-3-10)}_closeOutsideDropDownHandler(n){return!x(n.target).closest(this.$element()).length}_renderList(n){var t=x(n);t.addClass("dx-dropdownmenu-list"),this._list=this._createComponent(t,Fae,{dataSource:this._getListDataSource(),pageLoadMode:"scrollBottom",indicateLoading:!1,noDataText:"",itemTemplate:this.option("itemTemplate"),onItemClick:i=>{this.option("closeOnClick")&&this.option("opened",!1),this._itemClickAction(i)},tabIndex:-1,focusStateEnabled:!1,activeStateEnabled:!0,onItemRendered:this.option("onItemRendered"),_itemAttributes:{role:"menuitem"}})}_itemOptionChanged(n,t,i){var r;null===(r=this._list)||void 0===r||r._itemOptionChanged(n,t,i),y0(this._list,n)}_getListDataSource(){var n;return null!==(n=this.option("dataSource"))&&void 0!==n?n:this.option("items")}_setListDataSource(){var n;null===(n=this._list)||void 0===n||n.option("dataSource",this._getListDataSource()),delete this._deferRendering}_getKeyboardListeners(){return super._getKeyboardListeners().concat([this._list])}_toggleVisibility(n){super._toggleVisibility(n),this._button.option("visible",n)}_optionChanged(n){var t,i,r,{name:o,value:s}=n;switch(o){case"items":case"dataSource":this.option("opened")?this._setListDataSource():this._deferRendering=!0;break;case"itemTemplate":null===(t=this._list)||void 0===t||t.option(o,this._getTemplate(s));break;case"onItemClick":this._initItemClickAction();break;case"onButtonClick":this._buttonClickAction();break;case"useInkRipple":this._invalidate();break;case"focusStateEnabled":null===(i=this._list)||void 0===i||i.option(o,s),super._optionChanged(n);break;case"onItemRendered":null===(r=this._list)||void 0===r||r.option(o,s);break;case"opened":this._deferRendering&&this._setListDataSource(),this._toggleMenuVisibility(s),this._updateFocusableItemsTabIndex();break;case"closeOnClick":break;case"container":this._popup&&this._popup.option(o,s);break;case"disabled":this._list&&this._updateFocusableItemsTabIndex();break;default:super._optionChanged(n)}}_updateFocusableItemsTabIndex(){this.option("items").forEach(n=>y0(this._list,n))}}var FK="dx-state-invisible",x0="dx-toolbar-item-auto-hide",HB="dx-toolbar-item-invisible";class Uae{constructor(n){this._toolbar=n}_initMarkup(){Xn(()=>{this._renderOverflowMenu(),this._renderMenuItems()})}_renderOverflowMenu(){if(this._hasVisibleMenuItems()){this._renderMenuButtonContainer();var n=x("<div>").appendTo(this._overflowMenuContainer()),t=this._toolbar._createActionByOption("onItemClick"),i=this._toolbar._getTemplateByOption("menuItemTemplate");this._menu=this._toolbar._createComponent(n,Wae,{disabled:this._toolbar.option("disabled"),itemTemplate:()=>i,onItemClick:r=>{t(r)},container:this._toolbar.option("menuContainer"),onOptionChanged:r=>{var{name:o,value:s}=r;"opened"===o&&this._toolbar.option("overflowMenuVisible",s),"items"===o&&this._updateMenuVisibility(s)}})}}renderMenuItems(){this._menu||this._renderOverflowMenu(),this._menu&&this._menu.option("items",this._getMenuItems()),this._menu&&!this._menu.option("items").length&&this._menu.option("opened",!1)}_renderMenuButtonContainer(){this._$overflowMenuContainer=x("<div>").appendTo(this._toolbar._$afterSection).addClass("dx-toolbar-button").addClass("dx-toolbar-menu-container")}_overflowMenuContainer(){return this._$overflowMenuContainer}_updateMenuVisibility(n){var t=n??this._getMenuItems(),i=t.length&&this._hasVisibleMenuItems(t);this._toggleMenuVisibility(i)}_toggleMenuVisibility(n){this._overflowMenuContainer()&&this._overflowMenuContainer().toggleClass(FK,!n)}_renderMenuItems(){Xn(()=>{this.renderMenuItems()})}_dimensionChanged(){this.renderMenuItems()}_getToolbarItems(){var n;return Ii(null!==(n=this._toolbar.option("items"))&&void 0!==n?n:[],t=>!this._toolbar._isMenuItem(t))}_getMenuItems(){var n,t,i=Ii(null!==(n=this._toolbar.option("items"))&&void 0!==n?n:[],s=>this._toolbar._isMenuItem(s)),r=this._toolbar._itemContainer().children(".".concat(x0,".").concat(HB)).not(".".concat(FK));return this._restoreItems=null!==(t=this._restoreItems)&&void 0!==t?t:[],[...[].slice.call(r).map(s=>{var l=this._toolbar._getItemData(s),h=x(s),g=h.children();return A({menuItemTemplate:()=>(this._restoreItems.push({container:h,item:g}),x("<div>").addClass(x0).append(g))},l)}),...i]}_hasVisibleMenuItems(n){var t=n??this._toolbar.option("items"),i=!1,r=Yt("visible"),o=Yt("locateInMenu");return B(t,function(s,l){var h=r(l,{functionsAsIs:!0}),g=o(l,{functionsAsIs:!0});(!1!==h&&("auto"===g||"always"===g)||"menu"===l.location)&&(i=!0)}),i}_arrangeItems(){var n;this._toolbar._$centerSection.css({margin:"0 auto",float:"none"}),B(null!==(n=this._restoreItems)&&void 0!==n?n:[],function(i,r){x(r.container).append(r.item)}),this._restoreItems=[];var t=Ze(this._toolbar.$element());return this._hideOverflowItems(t),t}_hideOverflowItems(n){var t,i=this._toolbar.$element().find(".".concat(x0));if(i.length){n=null!==(t=n)&&void 0!==t?t:Ze(this._toolbar.$element()),x(i).removeClass(HB);for(var r=this._getItemsWidth();i.length&&n<r;){var o=i.eq(-1);r-=wt(o),o.addClass(HB),i.splice(-1,1)}}}_getItemsWidth(){return this._toolbar._getSummaryItemsWidth([this._toolbar._$beforeSection,this._toolbar._$centerSection,this._toolbar._$afterSection])}_itemOptionChanged(n,t,i){var r;!this._toolbar._isMenuItem(n)||"disabled"!==t&&"options.disabled"!==t?this.renderMenuItems():null===(r=this._menu)||void 0===r||r._itemOptionChanged(n,t,i)}_renderItem(n,t){"auto"===n.locateInMenu&&t.addClass(x0)}_optionChanged(n,t){var i,r,o,s,l;switch(n){case"disabled":null===(i=this._menu)||void 0===i||i.option(n,t);break;case"overflowMenuVisible":null===(r=this._menu)||void 0===r||r.option("opened",t);break;case"onItemClick":null===(o=this._menu)||void 0===o||o.option(n,t);break;case"menuContainer":null===(s=this._menu)||void 0===s||s.option("container",t);break;case"menuItemTemplate":null===(l=this._menu)||void 0===l||l.option("itemTemplate",t)}}}class kK extends oQ{_getDefaultOptions(){return A(super._getDefaultOptions(),{menuItemTemplate:"menuItem",menuContainer:void 0,overflowMenuVisible:!1,multiline:!1})}_isMultiline(){return this.option("multiline")}_dimensionChanged(n){"height"!==n&&(super._dimensionChanged(),this._layoutStrategy._dimensionChanged())}_initMarkup(){super._initMarkup(),this._updateFocusableItemsTabIndex(),this._layoutStrategy._initMarkup()}_renderToolbar(){super._renderToolbar(),this._renderLayoutStrategy()}_itemContainer(){return this._isMultiline()?this._$toolbarItemsContainer:super._itemContainer()}_renderLayoutStrategy(){this.$element().toggleClass("dx-toolbar-multiline",this._isMultiline()),this._layoutStrategy=this._isMultiline()?new Mae(this):new Uae(this)}_renderSections(){if(!this._isMultiline())return super._renderSections()}_postProcessRenderItems(){this._layoutStrategy._hideOverflowItems(),this._layoutStrategy._updateMenuVisibility(),super._postProcessRenderItems(),this._layoutStrategy._renderMenuItems()}_renderItem(n,t,i,r){var o=super._renderItem(n,t,i,r);this._layoutStrategy._renderItem(t,o);var{widget:s,showText:l}=t;return"dxButton"===s&&"inMenu"===l&&o.toggleClass("dx-toolbar-text-auto-hide"),o}_getItemsWidth(){return this._layoutStrategy._getItemsWidth()}_getMenuItems(){return this._layoutStrategy._getMenuItems()}_getToolbarItems(){return this._layoutStrategy._getToolbarItems()}_arrangeItems(){if(!this.$element().is(":hidden")){var n=this._layoutStrategy._arrangeItems();this._isMultiline()||super._arrangeItems(n)}}_itemOptionChanged(n,t,i){this._layoutStrategy._itemOptionChanged(n,t,i),this._isMenuItem(n)||super._itemOptionChanged(n,t,i),("disabled"===t||"options.disabled"===t)&&y0(this,n),"location"===t&&this.repaint()}_updateFocusableItemsTabIndex(){this._getToolbarItems().forEach(n=>y0(this,n))}_isMenuItem(n){return"menu"===n.location||"always"===n.locateInMenu}_isToolbarItem(n){return void 0===n.location||"never"===n.locateInMenu}_optionChanged(n){var{name:t,value:i}=n;switch(this._layoutStrategy._optionChanged(t,i),t){case"menuContainer":case"menuItemTemplate":case"overflowMenuVisible":break;case"multiline":this._invalidate();break;case"disabled":super._optionChanged.apply(this,arguments),this._updateFocusableItemsTabIndex();break;default:super._optionChanged.apply(this,arguments)}}updateDimensions(){this._dimensionChanged()}}Dt("dxToolbar",kK);const Yae=kK;var BK="toolbar-button",LK=["addRowButton","applyFilterButton","columnChooserButton","exportButton","groupPanel","revertButton","saveButton","searchPanel"],Xae={_getToolbarItems:()=>[],_getButtonContainer(){return x("<div>").addClass(this.addWidgetPrefix(BK))},_getToolbarButtonClass(e){var n=e?" ".concat(e):"";return this.addWidgetPrefix(BK)+n},_getToolbarOptions(){var e=this.option("toolbar"),n={toolbarOptions:{items:this._getToolbarItems(),visible:e?.visible,disabled:e?.disabled,onItemRendered(r){var o=r.itemData.onItemRendered;o&&o(r)}}},t=e?.items;if(n.toolbarOptions.items=this._normalizeToolbarItems(n.toolbarOptions.items,t),this.executeAction("onToolbarPreparing",n),n.toolbarOptions&&!T(n.toolbarOptions.visible)){var i=n.toolbarOptions.items;n.toolbarOptions.visible=!!i?.length}return n.toolbarOptions},_normalizeToolbarItems(e,n){e.forEach(s=>{if(!LK.includes(s.name))throw new Error("Default toolbar item '".concat(s.name,"' is not added to DEFAULT_TOOLBAR_ITEM_NAMES"))});var t={location:"after"},i=Array.isArray(n);if(!T(n))return e;i||(n=[n]);var r={};e.forEach(s=>{r[s.name]=s});var o=n.map(s=>(je(s)&&(s={name:s}),T(s.name)&&(T(r[s.name])?s=A(!0,{},r[s.name],s):LK.includes(s.name)&&(s=de(de({},s),{visible:!1}))),A(!0,{},t,s)));return i?o:o[0]},_renderCore(){if(this._toolbar)this._toolbar.option(this._toolbarOptions);else{var e=this.element();e.addClass(this.addWidgetPrefix("header-panel"));var n=J.format(this.component.NAME+"-ariaToolbar"),t=x("<div>").attr("aria-label",n).appendTo(e);this._toolbar=this._createComponent(t,Yae,this._toolbarOptions)}},_columnOptionChanged:U,_handleDataChanged(){this._requireReady&&this.render()},init(){this.callBase(),this.createAction("onToolbarPreparing",{excludeValidators:["disabled","readOnly"]})},render(){this._toolbarOptions=this._getToolbarOptions(),this.callBase.apply(this,arguments)},setToolbarItemDisabled(e,n){var t=this._toolbar;if(t){var r=(t.option("items")||[]).findIndex(s=>s.name===e);if(!(r<0)){var o=t.option("items[".concat(r,"]"));t.option("items[".concat(r,"].disabled"),n),o.options&&t.option("items[".concat(r,"].options.disabled"),n)}}},updateToolbarDimensions(){var e;null===(e=this._toolbar)||void 0===e||e.updateDimensions()},getHeaderPanel(){return this.element()},getHeight(){return this.getElementHeight()},optionChanged(e){if("onToolbarPreparing"===e.name&&(this._invalidate(),e.handled=!0),"toolbar"===e.name&&(e.handled=!0,this._toolbar)){var n=ca(e.fullName),t=e.fullName.replace(/^toolbar\./,"");if(1===n.length){var i=this._getToolbarOptions();this._toolbar.option(i)}else if("items"===n[1])if(2===n.length){var r=this._getToolbarOptions();this._toolbar.option("items",r.items)}else if(3===n.length){var o=this._normalizeToolbarItems(this._getToolbarItems(),e.value);this._toolbar.option(t,o)}else n.length>=4&&this._toolbar.option(t,e.value);else this._toolbar.option(t,e.value)}this.callBase(e)},isVisible(){return!(!this._toolbarOptions||!this._toolbarOptions.visible)},allowDragging:U,hasGroupedColumns:U},VK={defaultOptions:()=>({}),views:{headerPanel:xx.inherit(Xae)},extenders:{controllers:{resizing:{_updateDimensionsCore(){this.callBase.apply(this,arguments),this.getView("headerPanel").updateToolbarDimensions()}}}}};Ge.registerModule("headerPanel",VK),Ge.registerModulesOrder(["stateStoring","columns","selection","editorFactory","columnChooser","grouping","editing","editingRowBased","editingFormBased","editingCellBased","masterDetail","validating","adaptivity","data","virtualScrolling","columnHeaders","filterRow","headerPanel","headerFilter","sorting","search","rows","pager","columnsResizingReordering","contextMenu","keyboardNavigation","errorHandling","summary","columnFixing","export","gridView"]);var zB=Ki.inherit({_activeStateUnit:".dx-row",_getDefaultOptions(){var e=this.callBase();return B(Ge.modules,function(){Re(this.defaultOptions)&&A(!0,e,this.defaultOptions())}),e},_setDeprecatedOptions(){this.callBase(),A(this._deprecatedOptions,{useKeyboard:{since:"19.2",alias:"keyboardNavigation.enabled"},rowTemplate:{since:"21.2",message:'Use the "dataRowTemplate" option instead'},"columnChooser.allowSearch":{since:"23.1",message:'Use the "columnChooser.search.enabled" option instead'},"columnChooser.searchTimeout":{since:"23.1",message:'Use the "columnChooser.search.timeout" option instead'}})},_defaultOptionsRules(){return this.callBase().concat([{device:{platform:"ios"},options:{showRowLines:!0}},{device:()=>Wn(),options:{showRowLines:!0,showColumnLines:!1,headerFilter:{height:315},editing:{useIcons:!0},selection:{showCheckBoxesMode:"always"}}},{device:()=>Gt.webkit,options:{loadingTimeout:30,loadPanel:{animation:{show:{easing:"cubic-bezier(1, 0, 1, 0)",duration:500,from:{opacity:0},to:{opacity:1}}}}}},{device:e=>"desktop"!==e.deviceType,options:{grouping:{expandMode:"rowClick"}}}])},_init(){this.callBase(),xe.logHeaderFilterDeprecatedWarningIfNeed(this),Ge.processModules(this,Ge),Ge.callModuleItemsMethod(this,"init")},_clean:U,_optionChanged(e){Ge.callModuleItemsMethod(this,"optionChanged",[e]),e.handled||this.callBase(e)},_dimensionChanged(){this.updateDimensions(!0)},_visibilityChanged(e){e&&this.updateDimensions()},_initMarkup(){this.callBase.apply(this,arguments),this.getView("gridView").render(this.$element())},_renderContentImpl(){this.getView("gridView").update()},_renderContent(){var e=this;Xn(()=>{e._renderContentImpl()})},_getTemplate(e){var n=e;return je(n)&&n.startsWith("#")&&(n=x(e),sf.warn("Specifying grid templates with the jQuery selector name is now deprecated. Use the DOM Node or the jQuery object that references this selector instead.")),this.callBase(n)},_dispose(){this.callBase(),Ge.callModuleItemsMethod(this,"dispose")},isReady(){return this.getController("data").isReady()},beginUpdate(){this.callBase(),Ge.callModuleItemsMethod(this,"beginUpdate")},endUpdate(){Ge.callModuleItemsMethod(this,"endUpdate"),this.callBase()},getController(e){return this._controllers[e]},getView(e){return this._views[e]},focus(e){this.getController("keyboardNavigation").focus(e)}});zB.registerModule=Ge.registerModule.bind(Ge),Dt("dxDataGrid",zB);const tle=zB;var nle=/^(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2}):(\d{2}(?:\.\d*)?)Z$/,ile=function e(n){n&&B(n,(t,i)=>{if(ft(i)||Array.isArray(i))e(i);else if("string"==typeof i){var r=nle.exec(i);r&&(n[t]=new Date(Date.UTC(+r[1],+r[2]-1,+r[3],+r[4],+r[5],+r[6])))}})},rle=dn.ViewController.inherit(function(){var e=function(t){var i="sessionStorage"===t.type?s_():ut().localStorage;if(!i)throw new Error("E1007");return i},n=function(t){return T(t.storageKey)?t.storageKey:"storage"};return{_loadState(){var t=this.option("stateStoring");if("custom"===t.type)return t.customLoad&&t.customLoad();try{return JSON.parse(e(t).getItem(n(t)))}catch(i){It.log("W1022","State storing",i.message)}},_saveState(t){var i=this.option("stateStoring");if("custom"!==i.type)try{e(i).setItem(n(i),JSON.stringify(t))}catch(r){It.log(r.message)}else i.customSave&&i.customSave(t)},publicMethods:()=>["state"],isEnabled(){return this.option("stateStoring.enabled")},init(){var t=this;return t._state={},t._isLoaded=!1,t._isLoading=!1,t._windowUnloadHandler=function(){void 0!==t._savingTimeoutID&&t._saveState(t.state())},R.on(ut(),"unload",t._windowUnloadHandler),t},isLoaded(){return this._isLoaded},isLoading(){return this._isLoading},load(){this._isLoading=!0;var t=Gn(this._loadState());return t.always(()=>{this._isLoaded=!0,this._isLoading=!1}).done(i=>{null!==i&&!Pr(i)&&this.state(i)}),t},state(t){if(!arguments.length)return A(!0,{},this._state);this._state=A({},t),ile(this._state)},save(){var t=this;clearTimeout(t._savingTimeoutID),t._savingTimeoutID=setTimeout(()=>{t._saveState(t.state()),t._savingTimeoutID=void 0},t.option("stateStoring.savingTimeout"))},optionChanged(t){"stateStoring"===t.name?(this.isEnabled()&&!this.isLoading()&&this.load(),t.handled=!0):this.callBase(t)},dispose(){clearTimeout(this._savingTimeoutID),R.off(ut(),"unload",this._windowUnloadHandler)}}}()),ule={defaultOptions:()=>({stateStoring:{enabled:!1,storageKey:null,type:"localStorage",customLoad:null,customSave:null,savingTimeout:2e3}}),controllers:{stateStoring:rle},extenders:{views:{rowsView:{init(){var e=this,n=e.getController("data");e.callBase(),n.stateLoaded.add(()=>{if(n.isLoaded()&&!n.getDataSource()){e.setLoading(!1),e.renderNoDataText();var t=e.component.getView("columnHeadersView");t&&t.render(),e.component._fireContentReadyAction()}})}}},controllers:{stateStoring:{init(){this.callBase.apply(this,arguments),(e=>{var n=e.getController("columns"),t=e.getController("selection"),i=e.getController("export"),r=e.getController("data");n&&n.columnsChanged.add(()=>{e.updateState({columns:n.getUserState()})}),t&&t.selectionChanged.add(o=>{e.updateState({selectedRowKeys:o.selectedRowKeys,selectionFilter:o.selectionFilter})}),r&&(e._initialPageSize=e.option("paging.pageSize"),e._initialFilterValue=e.option("filterValue"),r.changed.add(()=>{var o=(e=>{var n=e.getView("pagerView"),t=e.getController("data"),i={allowedPageSizes:n?n.getPageSizes():void 0,filterPanel:{filterEnabled:e.option("filterPanel.filterEnabled")},filterValue:e.option("filterValue"),focusedRowKey:e.option("focusedRowEnabled")?e.option("focusedRowKey"):void 0};return A(i,t.getUserState())})(e);e.updateState(o)})),i&&i.selectionOnlyChanged.add(()=>{e.updateState({exportSelectionOnly:i.selectionOnly()})})})(this)},isLoading(){return this.callBase()||this.getController("data").isStateLoading()},state(e){var n=this.callBase.apply(this,arguments);return void 0!==e&&this.applyState(A(!0,{},e)),n},updateState(e){if(this.isEnabled()){var n=this.state(),t=A({},n,e),i=cr(n),r=cr(t);Jt(i,r)||(e=A(!0,{},e),A(this._state,e),this.save())}else A(this._state,e)},applyState(e){var n,{allowedPageSizes:t}=e,{searchText:i}=e,{selectedRowKeys:r}=e,{selectionFilter:o}=e,s=this.getController("export"),l=this.getController("columns"),h=this.getController("data"),g=this.option("scrolling.mode"),_="virtual"===g||"infinite"===g,v=!0===this.option("pager.visible")&&this.option("pager.showPageSizeSelector"),C=null===(n=this.getView("rowsView"))||void 0===n?void 0:n.hasHeight();this.component.beginUpdate(),l&&l.setUserState(e.columns),s&&s.selectionOnly(e.exportSelectionOnly),this.option("selection.deferred")||this.option("selectedRowKeys",r||[]),this.option("selectionFilter",o),t&&"auto"===this.option("pager.allowedPageSizes")&&(this.option("pager").allowedPageSizes=t),this.option("focusedRowEnabled")&&(this.option("focusedRowIndex",-1),this.option("focusedRowKey",e.focusedRowKey||null)),this.component.endUpdate(),this.option("searchPanel.text",i||""),this.option("filterValue",((e,n)=>{var t=e.getController("filterSync"),i=e.getController("columns");return t?n.columns||void 0!==n.filterValue?n.filterValue||t.getFilterValueFromColumns(n.columns):e._initialFilterValue||t.getFilterValueFromColumns(i.getColumns()):null})(this,e)),this.option("filterPanel.filterEnabled",!e.filterPanel||e.filterPanel.filterEnabled),this.option("paging.pageIndex",(!_||C)&&e.pageIndex||0),this.option("paging.pageSize",_&&!v||!T(e.pageSize)?this._initialPageSize:e.pageSize),h&&h.reset()}},columns:{_shouldReturnVisibleColumns(){var e=this.callBase.apply(this,arguments),n=this.getController("stateStoring");return e&&(!n.isEnabled()||n.isLoaded())}},data:{callbackNames(){return this.callBase().concat(["stateLoaded"])},_refreshDataSource(){var{callBase:e}=this,n=this.getController("stateStoring");if(n.isEnabled()&&!n.isLoaded()){clearTimeout(this._restoreStateTimeoutID);var t=new W;return this._restoreStateTimeoutID=setTimeout(()=>{n.load().always(()=>{this._restoreStateTimeoutID=null}).done(()=>{e.call(this),this.stateLoaded.fire(),t.resolve()}).fail(i=>{this.stateLoaded.fire(),this._handleLoadError(i||"Unknown error"),t.reject()})}),t.promise()}this.isStateLoading()||e.call(this)},isLoading(){var e=this.getController("stateStoring");return this.callBase()||e.isLoading()},isStateLoading(){return T(this._restoreStateTimeoutID)},isLoaded(){return this.callBase()&&!this.isStateLoading()},dispose(){clearTimeout(this._restoreStateTimeoutID),this.callBase()}},selection:{_fireSelectionChanged(e){var n=this.getController("stateStoring"),t=this.option("selection.deferred");n.isLoading()&&t||this.callBase.apply(this,arguments)}}}}};Ge.registerModule("stateStoring",ule);var NK="dx-editor-cell",HK="dx-selection",Sp="dx-select-checkbox",zK="dx-command-select",WK="dx-data-row",Ba="selection.showCheckBoxesMode",Ix="selection.mode",$K=function(e,n){var t=e.getController("selection"),i=e.getView("rowsView"),r=x(n.target).closest(".".concat(WK)),o=i.getRowIndex(r);o<0||("onLongTap"===e.option(Ba)?t.isSelectionWithCheckboxes()?t.stopSelectionWithCheckboxes():t.startSelectionWithCheckboxes():("onClick"===e.option(Ba)&&t.startSelectionWithCheckboxes(),"always"!==e.option(Ba)&&t.changeItemSelection(o,{control:!0})))},fle=(e,n)=>{var{component:t}=n,i=t.getView("rowsView");t.option("renderAsync")&&!t.option("selection.deferred")&&(n.value=t.isRowSelected(n.row.key)),i.renderSelectCheckBoxContainer(x(e),n)},_le=(e,n)=>{var{column:t}=n,i=x(e),r=n.component.getView("columnHeadersView");i.addClass(NK),r._renderSelectAllCheckBox(i,t),r._attachSelectAllCheckBoxClickEvent(i)},vle={defaultOptions:()=>({selection:{mode:"none",showCheckBoxesMode:"onClick",allowSelectAll:!0,selectAllMode:"allPages",maxFilterLengthInRequest:1500,deferred:!1},selectionFilter:[],selectedRowKeys:[]}),controllers:{selection:class mle extends dn.Controller{init(){var n,{deferred:t,selectAllMode:i,mode:r}=null!==(n=this.option("selection"))&&void 0!==n?n:{};"infinite"===this.option("scrolling.mode")&&!t&&"multiple"===r&&"allPages"===i&&It.log("W1018"),this._dataController=this.getController("data"),this._selectionMode=r,this._isSelectionWithCheckboxes=!1,this._selection=this._createSelection(),this._updateSelectColumn(),this.createAction("onSelectionChanged",{excludeValidators:["disabled","readOnly"]}),this._dataPushedHandler||(this._dataPushedHandler=this._handleDataPushed.bind(this),this._dataController.pushed.add(this._dataPushedHandler))}_handleDataPushed(n){this._deselectRemovedOnPush(n),this._updateSelectedOnPush(n)}_deselectRemovedOnPush(n){var t=this.option("selection.deferred"),i=n.filter(o=>"remove"===o.type).map(o=>o.key);if(t){var r=this._dataController.items().filter(o=>o.isSelected).map(o=>o.key);i=i.filter(o=>r.find(s=>Jt(s,o)))}i.length&&this.deselectRows(i)}_updateSelectedOnPush(n){if(!this.option("selection.deferred")){var i=n.filter(o=>"update"===o.type),r=this.getSelectedRowsData();Qu({keyInfo:this._selection.options,data:r,changes:i})}}_getSelectionConfig(){var n,t=this._dataController,i=this.getController("columns"),r=null!==(n=this.option("selection"))&&void 0!==n?n:{},{deferred:o}=r,s=this.option("scrolling.mode"),l="virtual"===s||"infinite"===s,h=this.option("selection.allowSelectAll"),g=this.option("scrolling.legacyMode");return{selectedKeys:this.option("selectedRowKeys"),mode:this._selectionMode,deferred:o,maxFilterLengthInRequest:r.maxFilterLengthInRequest,selectionFilter:this.option("selectionFilter"),ignoreDisabledItems:!0,allowLoadByRange(){var _=i.getGroupColumns().length>0;return l&&!g&&!_&&h&&!o},key:()=>t?.key(),keyOf:_=>t?.keyOf(_),dataFields(){var _;return null===(_=t.dataSource())||void 0===_?void 0:_.select()},load(_){var v;return(null===(v=t.dataSource())||void 0===v?void 0:v.load(_))||(new W).resolve([])},plainItems:()=>t.items(!0),isItemSelected:_=>_.selected,isSelectableItem:_=>"data"===_?.rowType&&!_.isNewRow,getItemData:_=>T(_?.rowType)?_?.oldData||_?.data:_,filter:()=>t.getCombinedFilter(o),totalCount:()=>t.totalCount(),getLoadOptions(_,v,C){var b,E,{sort:w,filter:M}=null!==(E=null===(b=t.dataSource())||void 0===b?void 0:b.lastLoadOptions())&&void 0!==E?E:{},k=Math.min(_,v),L=Math.max(_,v);return T(C)&&(k=Math.min(C,k),L=Math.max(C,L)),{skip:k,take:L-k+1,filter:M,sort:w}},onSelectionChanged:this._updateSelectedItems.bind(this)}}_updateSelectColumn(){var n=this.getController("columns"),t=this.isSelectColumnVisible();n.addCommandColumn({type:"selection",command:"select",visible:t,visibleIndex:-1,dataType:"boolean",alignment:"center",cssClass:zK,width:"auto",cellTemplate:fle,headerCellTemplate:_le}),n.columnOption("command:select","visible",t)}_createSelection(){var n=this._getSelectionConfig();return new q$(n)}_fireSelectionChanged(n){var t=this.option("selection.deferred")?{selectionFilter:this.option("selectionFilter")}:{selectedRowKeys:this.option("selectedRowKeys")};this.selectionChanged.fire(t),n&&this.executeAction("onSelectionChanged",n)}_updateCheckboxesState(n){var{isDeferredMode:t}=n,{selectionFilter:i}=n,{selectedItemKeys:r}=n,{removedItemKeys:o}=n;"onClick"===this.option(Ba)&&((t?i&&function(e,n){var t=0,i=e._dataController.store(),r=i&&i.key(),o=Array.isArray(r);if(!n.length)return!1;if(o&&Array.isArray(n[0])&&"and"===n[1]){for(var s=0;s<n.length;s++)if(Array.isArray(n[s])){if(n[s][0]!==r[t]||"="!==n[s][1])return!0;t++}return!1}return r!==n[0]}(this,i):r.length>1)?this.startSelectionWithCheckboxes():(t?i&&!i.length:0===r.length&&o.length)&&this.stopSelectionWithCheckboxes())}_updateSelectedItems(n){var t,i=this.option("selection.deferred"),r=this._selection.selectionFilter(),o=this._dataController,s=o.items(!0),l=o.items();if(s){var h=this.isSelectionWithCheckboxes(),g=this.getChangedItemIndexes(s),_=this.getChangedItemIndexes(l);this._updateCheckboxesState({selectedItemKeys:n.selectedItemKeys,removedItemKeys:n.removedItemKeys,selectionFilter:r,isDeferredMode:i}),(g.length||h!==this.isSelectionWithCheckboxes())&&o.updateItems({changeType:"updateSelection",itemIndexes:_}),i?(this.option("selectionFilter",r),t={}):(n.addedItemKeys.length||n.removedItemKeys.length)&&(this._selectedItemsInternalChange=!0,this.option("selectedRowKeys",n.selectedItemKeys.slice(0)),this._selectedItemsInternalChange=!1,t={selectedRowsData:n.selectedItems.slice(0),selectedRowKeys:n.selectedItemKeys.slice(0),currentSelectedRowKeys:n.addedItemKeys.slice(0),currentDeselectedRowKeys:n.removedItemKeys.slice(0)}),this._fireSelectionChanged(t)}}getChangedItemIndexes(n){for(var t=[],i=this.option("selection.deferred"),r=0,{length:o}=n;r<o;r++){var s=n[r],l=this.isRowSelected(i?s.data:s.key);this._selection.isDataItem(s)&&s.isSelected!==l&&t.push(r)}return t}callbackNames(){return["selectionChanged"]}optionChanged(n){switch(super.optionChanged(n),n.name){case"selection":var t=this._selectionMode;if(this.init(),"selection.showCheckBoxesMode"!==n.fullName){var i=this._selectionMode,r=this.option("selectedRowKeys");t!==i&&("single"===i?r.length>1&&(r=[r[0]]):"multiple"!==i&&(r=[])),this.selectRows(r).always(()=>{this._fireSelectionChanged()})}this.getController("columns").updateColumns(),n.handled=!0;break;case"selectionFilter":this._selection.selectionFilter(n.value),n.handled=!0;break;case"selectedRowKeys":var o=n.value||[];Array.isArray(o)&&!this._selectedItemsInternalChange&&(this.component.getDataSource()||!o.length)&&this.selectRows(o),n.handled=!0}}publicMethods(){return["selectRows","deselectRows","selectRowsByIndexes","getSelectedRowKeys","getSelectedRowsData","clearSelection","selectAll","deselectAll","startSelectionWithCheckboxes","stopSelectionWithCheckboxes","isRowSelected"]}isRowSelected(n){return this._selection.isItemSelected(n)}isSelectColumnVisible(){return"multiple"===this.option(Ix)&&("always"===this.option(Ba)||"onClick"===this.option(Ba)||this._isSelectionWithCheckboxes)}_isOnePageSelectAll(){return"page"===this.option("selection.selectAllMode")}isSelectAll(){return this._selection.getSelectAllState(this._isOnePageSelectAll())}selectAll(){return"onClick"===this.option(Ba)&&this.startSelectionWithCheckboxes(),this._selection.selectAll(this._isOnePageSelectAll())}deselectAll(){return this._selection.deselectAll(this._isOnePageSelectAll())}clearSelection(){return this.selectedItemKeys([])}refresh(){var n,t=null!==(n=this.option("selectedRowKeys"))&&void 0!==n?n:[];return!this.option("selection.deferred")&&t.length?this.selectedItemKeys(t):(new W).resolve().promise()}selectedItemKeys(n,t,i,r){return this._selection.selectedItemKeys(n,t,i,r)}getSelectedRowKeys(){return this._selection.getSelectedItemKeys()}selectRows(n,t){return this.selectedItemKeys(n,t)}deselectRows(n){return this.selectedItemKeys(n,!0,!0)}selectRowsByIndexes(n){var t=this._dataController.items(),i=[];return Array.isArray(n)||(n=Array.prototype.slice.call(arguments,0)),B(n,function(){var r=t[this];r&&"data"===r.rowType&&i.push(r.key)}),this.selectRows(i)}getSelectedRowsData(){return this._selection.getSelectedItems()}loadSelectedItemsWithFilter(){return this._selection.loadSelectedItemsWithFilter()}changeItemSelection(n,t,i){t=t||{},this.isSelectionWithCheckboxes()&&(t.control=!0);var r=n+this._dataController.getRowIndexOffset()-this._dataController.getRowIndexOffset(!0);return this._selection.changeItemSelection(r,t,i)}focusedItemIndex(n){if(!T(n))return this._selection._focusedItemIndex;this._selection._focusedItemIndex=n}isSelectionWithCheckboxes(){return"multiple"===this.option(Ix)&&("always"===this.option(Ba)||this._isSelectionWithCheckboxes)}startSelectionWithCheckboxes(){return"multiple"===this.option(Ix)&&!this.isSelectionWithCheckboxes()&&(this._isSelectionWithCheckboxes=!0,this._updateSelectColumn(),!0)}stopSelectionWithCheckboxes(){return!!this._isSelectionWithCheckboxes&&(this._isSelectionWithCheckboxes=!1,this._updateSelectColumn(),!0)}}},extenders:{controllers:{data:{init(){var e=this.getController("selection"),n=this.option("selection.deferred");this.callBase.apply(this,arguments),n&&e._updateCheckboxesState({isDeferredMode:!0,selectionFilter:this.option("selectionFilter")})},_loadDataSource(){var e=this;return e.callBase().always(()=>{e.getController("selection").refresh()})},_processDataItem(e,n){var t=this.getController("selection"),i=t.isSelectColumnVisible(),r=n.isDeferredSelection=void 0===n.isDeferredSelection?this.option("selection.deferred"):n.isDeferredSelection,o=this.callBase.apply(this,arguments);if(o.isSelected=t.isRowSelected(r?o.data:o.key),i&&o.values)for(var s=0;s<n.visibleColumns.length;s++)if("select"===n.visibleColumns[s].command){o.values[s]=o.isSelected;break}return o},refresh(e){var n=this,t=new W;return this.callBase.apply(this,arguments).done(()=>{!e||e.selection?n.getController("selection").refresh().done(t.resolve).fail(t.reject):t.resolve()}).fail(t.reject),t.promise()},_handleDataChanged(e){this.callBase.apply(this,arguments),(!e||"refresh"===e.changeType)&&!this._repaintChangesOnly&&this.getController("selection").focusedItemIndex(-1)},_applyChange(e){if(!e||"updateSelection"!==e.changeType)return this.callBase.apply(this,arguments);e.items.forEach((n,t)=>{var i=this._items[t];i&&(i.isSelected=n.isSelected,i.values=n.values)})},_endUpdateCore(){var e=this._changes;if(e.length>1&&e.every(i=>"updateSelection"===i.changeType)){var t=e.map(i=>i.itemIndexes||[]).reduce((i,r)=>i.concat(r));this._changes=[{changeType:"updateSelection",itemIndexes:t}]}this.callBase.apply(this,arguments)}},contextMenu:{_contextMenuPrepared(e){var n=e.event;n.originalEvent&&"dxhold"!==n.originalEvent.type||e.items&&e.items.length>0||$K(this,n)}}},views:{columnHeadersView:{init(){this.callBase(),this.getController("selection").selectionChanged.add(this._updateSelectAllValue.bind(this))},_updateSelectAllValue(){var e=this.element(),n=e&&e.find(".".concat(Sp));if(e&&n.length&&"multiple"===this.option("selection.mode")){var t=this.getController("selection").isSelectAll(),i=!1!==t,r=this.option("selection.allowSelectAll")?!this.getController("data").isEmpty():i;n.dxCheckBox("instance").option({visible:r,value:t})}},_handleDataChanged(e){this.callBase(e),(!e||"refresh"===e.changeType||e.repaintChangesOnly&&"update"===e.changeType)&&this.waitAsyncTemplates().done(()=>{this._updateSelectAllValue()})},_renderSelectAllCheckBox(e,n){var t=this,i=t.getController("selection"),r=t.getController("data").isEmpty(),o=x("<div>").appendTo(e).addClass(Sp);return t.setAria("label",J.format("dxDataGrid-ariaSelectAll"),o),t.getController("editorFactory").createEditor(o,A({},n,{parentType:"headerRow",dataType:"boolean",value:i.isSelectAll(),editorOptions:{visible:!r&&(t.option("selection.allowSelectAll")||!1!==i.isSelectAll())},tabIndex:t.option("useLegacyKeyboardNavigation")?-1:t.option("tabIndex")||0,setValue(s,l){var h=t.option("selection.allowSelectAll");l.component.option("visible",h||!1!==l.component.option("value")),l.event&&i.isSelectAll()!==s&&(l.value&&!h?l.component.option("value",!1):l.value?i.selectAll():i.deselectAll(),l.event.preventDefault())}})),o},_attachSelectAllCheckBoxClickEvent(e){R.on(e,Kt,this.createAction(n=>{var{event:t}=n;x(t.target).closest(".".concat(Sp)).length||R.trigger(x(t.currentTarget).children(".".concat(Sp)),Kt),t.preventDefault()}))}},rowsView:{renderSelectCheckBoxContainer(e,n){"data"!==n.rowType||n.row.isNewRow?xe.setEmptyText(e):(e.addClass(NK),this._attachCheckBoxClickEvent(e),this._renderSelectCheckBox(e,n))},_renderSelectCheckBox(e,n){var t=x("<div>").addClass(Sp).appendTo(e);return this.setAria("label",J.format("dxDataGrid-ariaSelectRow"),t),this.getController("editorFactory").createEditor(t,A({},n.column,{parentType:"dataRow",dataType:"boolean",lookup:null,value:n.value,setValue(i,r){var o;"keydown"===(null===(o=r?.event)||void 0===o?void 0:o.type)&&R.trigger(r.element,Kt,r)},row:n.row})),t},_attachCheckBoxClickEvent(e){R.on(e,Kt,this.createAction(function(n){var t=this.getController("selection"),{event:i}=n,r=this.getRowIndex(x(i.currentTarget).closest(".".concat("dx-row")));r>=0&&(t.startSelectionWithCheckboxes(),t.changeItemSelection(r,{shift:i.shiftKey}),x(i.target).closest(".".concat(Sp)).length&&this.getController("data").updateItems({changeType:"updateSelection",itemIndexes:[r]}))}))},_update(e){var n=this,t=n.getTableElements();"updateSelection"===e.changeType?t.length>0&&(B(t,(i,r)=>{B(e.itemIndexes||[],(o,s)=>{var l;if(e.items[s]&&(l=n._getRowElements(x(r)).eq(s)).length){var{isSelected:h}=e.items[s];l.toggleClass(HK,void 0!==h&&h).find(".".concat(Sp)).dxCheckBox("option","value",h),n.setAria("selected",h,l)}})}),n._updateCheckboxesClass()):n.callBase(e)},_createTable(){var e=this,n=e.option("selection.mode"),t=e.callBase.apply(e,arguments);return"none"!==n&&(("onLongTap"===e.option(Ba)||!_e)&&R.on(t,fe(ec_name,"dxDataGridRowsView"),".".concat(WK),e.createAction(i=>{$K(e.component,i.event),i.event.stopPropagation()})),R.on(t,"mousedown selectstart",e.createAction(i=>{var{event:r}=i;r.shiftKey&&r.preventDefault()}))),t},_createRow(e){var n=this.callBase.apply(this,arguments);if(e){var{isSelected:t}=e;t&&n.addClass(HK),"none"!==this.option(Ix)&&this.setAria("selected",t,n)}return n},_rowClick(e){var n=e.event,t=x(n.target).closest(".".concat("dx-selection-disabled")).length;this.isClickableElement(x(n.target))||(!t&&("multiple"!==this.option(Ix)||"always"!==this.option(Ba))&&this.getController("selection").changeItemSelection(e.rowIndex,{control:Un(n),shift:n.shiftKey})&&(n.preventDefault(),e.handled=!0),this.callBase(e))},isClickableElement:e=>!!e.closest(".".concat(zK)).length,_renderCore(e){var n=this.callBase(e);return this._updateCheckboxesClass(),n},_updateCheckboxesClass(){var e=this.getTableElements(),n=this.getController("selection"),t=n.isSelectColumnVisible()&&!n.isSelectionWithCheckboxes();B(e,(i,r)=>{x(r).toggleClass("dx-select-checkboxes-hidden",t)})}}}}};Ge.registerModule("selection",vle);var $s="dx-treeview",Wr="".concat($s,"-node"),ed="".concat(Wr,"-container"),WB="".concat(Wr,"-loadindicator"),rc="".concat(Wr,"-container-opened"),Tx="".concat(Wr,"-is-leaf"),Ai="".concat($s,"-item"),Cle="".concat(Ai,"-with-checkbox"),yle="".concat(Ai,"-with-custom-expander-icon"),xle="".concat($s,"-custom-expander-icon-item-container"),ble="".concat(Ai,"-without-checkbox"),Ole="".concat(Ai,"-data"),Mx="".concat($s,"-toggle-item-visibility"),$B="".concat($s,"-custom-collapse-icon"),GB="".concat($s,"-custom-expand-icon"),Dle="".concat($s,"-loadindicator"),Sle="".concat($s,"-loadindicator-wrapper"),GK="".concat($s,"-toggle-item-visibility-opened"),b0="".concat($s,"-select-all-item"),UK="dx-state-invisible",Ax="dx-state-disabled",UB="dxTreeView_expand",O0="data-item-id",wle=lK.inherit({_supportedKeys:function(e){var n=r=>{var o=x(this.option("focusedElement"));o.length&&(r.target=o,r.currentTarget=o,this._itemClickHandler(r,o.children("."+Ai)),this._getEventNameByOption(this.option("expandEvent"))===fe(Kt,UB)&&this._expandEventHandler(r))},t=r=>{r.preventDefault();var o=x(this.option("focusedElement")),s=this._getCheckBoxInstance(o);if(!s.option("disabled")){var l=s.option("value");this._updateItemSelection(!l,o.find("."+Ai).get(0),!0)}},i=function(r,o){if(this.option("expandAllEnabled")){o.preventDefault();var s=x(this.option("focusedElement"));if(s.length){var l=this._getItemData(s.find(".".concat(Ai)));this._toggleExpandedNestedItems([l],r)}}};return A(this.callBase(),{enter:this._showCheckboxes()?t:n,space:this._showCheckboxes()?t:n,asterisk:i.bind(this,!0),minus:i.bind(this,!1)})},_toggleExpandedNestedItems:function(e,n){if(e)for(var t=0,i=e.length;t<i;t++){var r=e[t],o=this._dataAdapter.getNodeByItem(r);this._toggleExpandedState(o,n),this._toggleExpandedNestedItems(r.items,n)}},_getNodeElement:function(e,n){var t=this._encodeString(e.internalFields.key);if(n)return n.$nodeByKey||(n.$nodeByKey={},this.$element().find(".".concat(Wr)).each(function(){var r=x(this),o=r.attr(O0);n.$nodeByKey[o]=r})),n.$nodeByKey[t]||x();var i=this.$element().get(0).querySelector("[".concat(O0,'="').concat(t,'"]'));return x(i)},_activeStateUnit:"."+Ai,_widgetClass:function(){return $s},_getDefaultOptions:function(){var e=A(this.callBase(),{animationEnabled:!0,dataStructure:"tree",deferRendering:!0,expandAllEnabled:!1,hasItemsExpr:"hasItems",selectNodesRecursive:!0,expandNodesRecursive:!0,showCheckBoxesMode:"none",expandIcon:null,collapseIcon:null,selectAllText:J.format("dxList-selectAll"),onItemSelectionChanged:null,onItemExpanded:null,onItemCollapsed:null,scrollDirection:"vertical",useNativeScrolling:!0,virtualModeEnabled:!1,rootValue:0,focusStateEnabled:!1,selectionMode:"multiple",expandEvent:"dblclick",selectByClick:!1,createChildren:null,onSelectAllValueChanged:null});return A(!0,e,{integrationOptions:{useDeferUpdateForTemplates:!1}})},_defaultOptionsRules:function(){return this.callBase().concat([{device:function(){return!we},options:{useNativeScrolling:!1}}])},_initSelectedItems:U,_syncSelectionOptions:FD,_fireSelectionChanged:function(){ke(this._selectionChangePromise).done(function(){this._createActionByOption("onSelectionChanged",{excludeValidators:["disabled","readOnly"]})()}.bind(this))},_createSelectAllValueChangedAction:function(){this._selectAllValueChangedAction=this._createActionByOption("onSelectAllValueChanged",{excludeValidators:["disabled","readOnly"]})},_fireSelectAllValueChanged:function(e){this._selectAllValueChangedAction({value:e})},_checkBoxModeChange:function(e,n){if("none"!==n&&"none"!==e){var t=this._$selectAllItem&&this._$selectAllItem.length;switch(e){case"selectAll":t||(this._createSelectAllValueChangedAction(),this._renderSelectAllItem());break;case"normal":t&&(this._$selectAllItem.remove(),delete this._$selectAllItem)}}},_removeSelection:function(){var e=this;B(this._dataAdapter.getFullData(),function(n,t){e._hasChildren(t)&&e._dataAdapter.toggleSelection(t.internalFields.key,!1,!0)})},_optionChanged:function(e){var{name:n,value:t,previousValue:i}=e;switch(n){case"selectAllText":this._$selectAllItem&&this._$selectAllItem.dxCheckBox("instance").option("text",t);break;case"showCheckBoxesMode":this._checkBoxModeChange(t,i),this._invalidate();break;case"scrollDirection":this.getScrollable().option("direction",t);break;case"useNativeScrolling":this.getScrollable().option("useNative",t);break;case"items":delete this._$selectAllItem,this.callBase(e);break;case"dataSource":this.callBase(e),this._initDataAdapter(),this._filter={};break;case"hasItemsExpr":this._initAccessors(),this.repaint();break;case"expandEvent":this._initExpandEvent();break;case"deferRendering":case"dataStructure":case"rootValue":case"createChildren":case"expandNodesRecursive":case"onItemSelectionChanged":case"onItemExpanded":case"onItemCollapsed":case"expandAllEnabled":case"animationEnabled":case"virtualModeEnabled":case"selectByClick":break;case"selectionMode":this._initDataAdapter(),this.callBase(e);break;case"onSelectAllValueChanged":this._createSelectAllValueChangedAction();break;case"selectNodesRecursive":this._dataAdapter.setOption("recursiveSelection",e.value),this.repaint();break;case"expandIcon":case"collapseIcon":this.repaint();break;default:this.callBase(e)}},_initDataSource:function(){this._useCustomChildrenLoader()?this._loadChildrenByCustomLoader(null).done(function(e){e&&e.length&&this.option("items",e)}.bind(this)):(this.callBase(),this._isVirtualMode()&&this._initVirtualMode())},_initVirtualMode:function(){var e=this._filter;e.custom||(e.custom=this._dataSource.filter()),e.internal||(e.internal=[this.option("parentIdExpr"),this.option("rootValue")])},_useCustomChildrenLoader:function(){return Re(this.option("createChildren"))&&this._isDataStructurePlain()},_loadChildrenByCustomLoader:function(e){var n=this.option("createChildren").call(this,e);return Array.isArray(n)?(new W).resolve(n).promise():n&&Re(n.then)?Gn(n):(new W).resolve([]).promise()},_combineFilter:function(){return this._filter.custom&&this._filter.custom.length?[this._filter.custom,this._filter.internal]:this._filter.internal},_dataSourceLoadErrorHandler:function(){this._renderEmptyMessage()},_init:function(){this._filter={},this.callBase(),this._initStoreChangeHandlers()},_dataSourceChangedHandler:function(e){var n=this.option("items");this._initialized&&this._isVirtualMode()&&n.length||this.option("items",e)},_removeTreeViewLoadIndicator:function(){this._treeViewLoadIndicator&&(this._treeViewLoadIndicator.remove(),this._treeViewLoadIndicator=null)},_createTreeViewLoadIndicator:function(){return this._treeViewLoadIndicator=x("<div>").addClass(Dle),this._createComponent(this._treeViewLoadIndicator,Do,{}),this._treeViewLoadIndicator},_dataSourceLoadingChangedHandler:function(e){var n;if(this._isVirtualMode()&&(n=this._combineFilter(),this._dataSource.filter(n)),e&&!this._dataSource.isLoaded()){this.option("items",[]);var t=x("<div>").addClass(Sle);this._createTreeViewLoadIndicator().appendTo(t),this.itemsContainer().append(t),this._isVirtualMode()&&this._dataSource.filter()!==n&&this._dataSource.filter([])}else this._removeTreeViewLoadIndicator()},_initStoreChangeHandlers:function(){"plain"===this.option("dataStructure")&&this._dataSource&&this._dataSource.store().on("inserted",e=>{this.option().items=this.option("items").concat(e),this._dataAdapter.addItem(e),this._dataAdapter.isFiltered(e)&&this._updateLevel(this._parentIdGetter(e))}).on("removed",e=>{var n=this._dataAdapter.getNodeByKey(e);T(n)&&(this.option("items")[this._dataAdapter.getIndexByKey(n.internalFields.key)]=0,this._markChildrenItemsToRemove(n),this._removeItems(),this._dataAdapter.removeItem(e),this._updateLevel(this._parentIdGetter(n)))})},_markChildrenItemsToRemove:function(e){B(e.internalFields.childrenKeys,(t,i)=>{this.option("items")[this._dataAdapter.getIndexByKey(i)]=0,this._markChildrenItemsToRemove(this._dataAdapter.getNodeByKey(i))})},_removeItems:function(){var e=A(!0,[],this.option("items")),n=0;B(e,(t,i)=>{i||(this.option("items").splice(t-n,1),n++)})},_updateLevel:function(e){var n=this._getContainerByParentKey(e);this._renderItems(n,this._dataAdapter.getChildrenNodes(e))},_getOldContainer:function(e){if(e.length)return e.children(".".concat(ed));var n=this.getScrollable();return n?x(n.content()).children():x()},_getContainerByParentKey:function(e){var n=this._dataAdapter.getNodeByKey(e),t=n?this._getNodeElement(n):[];this._getOldContainer(t).remove();var i=this._renderNodeContainer(t);if(this._isRootLevel(e)){var r=this.getScrollable();r||this._renderScrollableContainer(),x(r.content()).append(i)}return i},_isRootLevel:function(e){return e===this.option("rootValue")},_getAccessors:function(){var e=this.callBase();return e.push("hasItems"),e},_getDataAdapterOptions:function(){var e,n,t;return{rootValue:this.option("rootValue"),multipleSelection:!this._isSingleSelection(),recursiveSelection:this._isRecursiveSelection(),recursiveExpansion:this.option("expandNodesRecursive"),selectionRequired:this.option("selectionRequired"),dataType:this.option("dataStructure"),sort:this._dataSource&&this._dataSource.sort(),langParams:null===(e=this._dataSource)||void 0===e||null===(n=e.loadOptions)||void 0===n||null===(t=n.call(e))||void 0===t?void 0:t.langParams}},_initMarkup:function(){this._renderScrollableContainer(),this._renderEmptyMessage(this._dataAdapter.getRootNodes()),this.callBase(),this.setAria("role","tree")},_renderContentImpl:function(){var e=this._renderNodeContainer();x(this.getScrollable().content()).append(e),this.option("items")&&this.option("items").length&&(this._renderItems(e,this._dataAdapter.getRootNodes()),this._initExpandEvent(),this._selectAllEnabled()&&(this._createSelectAllValueChangedAction(),this._renderSelectAllItem(e)))},_isVirtualMode:function(){return this.option("virtualModeEnabled")&&this._isDataStructurePlain()&&!!this.option("dataSource")},_isDataStructurePlain:function(){return"plain"===this.option("dataStructure")},_fireContentReadyAction:function(){var e=this.getDataSource(),n=e&&!e.isLoaded()||this._skipContentReadyAndItemExpanded,t=this.getScrollable();t&&rt()&&t.update(),n||this.callBase(),t&&rt()&&t.update()},_renderScrollableContainer:function(){this._scrollable=this._createComponent(x("<div>").appendTo(this.$element()),Fa,{useNative:this.option("useNativeScrolling"),direction:this.option("scrollDirection"),useKeyboard:!1})},_renderNodeContainer:function(e){var n=x("<ul>").addClass(ed);if(this.setAria("role","group",n),e&&e.length){var t=this._getItemData(e.children("."+Ai));this._expandedGetter(t)&&n.addClass(rc),n.appendTo(e)}return n},_createDOMElement:function(e,n){var t,i,r=x("<li>").addClass(Wr).attr(O0,this._encodeString(n.internalFields.key)).prependTo(e),o={role:"treeitem",label:this._displayGetter(n.internalFields.item)||"",level:this._getLevel(e)};return!(null==n||null===(t=n.internalFields)||void 0===t||null===(i=t.childrenKeys)||void 0===i||!i.length)&&(o.expanded=n.internalFields.expanded||!1),this.setAria(o,r),r},_getLevel:function(e){var n=e.parent();return n.hasClass("dx-scrollable-content")?1:parseInt(n.attr("aria-level"))+1},_showCheckboxes:function(){return"none"!==this.option("showCheckBoxesMode")},_hasCustomExpanderIcons:function(){return this.option("expandIcon")||this.option("collapseIcon")},_selectAllEnabled:function(){return"selectAll"===this.option("showCheckBoxesMode")&&!this._isSingleSelection()},_renderItems:function(e,n){for(var i=n.length-1;i>=0;i--)this._renderItem(i,n[i],e);this._renderedItemsCount+=n.length},_renderItem:function(e,n,t){var i=this._createDOMElement(t,n),r=n.internalFields,o=this._showCheckboxes();i.addClass(o?Cle:ble),i.toggleClass(UK,!1===r.item.visible),this._hasCustomExpanderIcons()&&(i.addClass(yle),t.addClass(xle)),o&&this._renderCheckBox(i,n),this.setAria("selected",r.selected,i),this._toggleSelectedClass(i,r.selected),r.disabled&&this.setAria("disabled",r.disabled,i),this.callBase(this._renderedItemsCount+e,r.item,i),!1!==r.item.visible&&this._renderChildren(i,n)},_setAriaSelectionAttribute:U,_renderChildren:function(e,n){this._hasChildren(n)?(this._hasCustomExpanderIcons()?this._renderCustomExpanderIcons(e,n):this._renderDefaultExpanderIcons(e,n),(!this.option("deferRendering")||n.internalFields.expanded)&&this._loadSublevel(n).done(t=>{this._renderSublevel(e,this._getActualNode(n),t)})):this._addLeafClass(e)},_getActualNode:function(e){return this._dataAdapter.getNodeByKey(e.internalFields.key)},_hasChildren:function(e){return this._isVirtualMode()||this._useCustomChildrenLoader()?!1!==this._hasItemsGetter(e.internalFields.item):this.callBase(e)},_loadSublevel:function(e){var n=new W,t=this._getChildNodes(e);return t.length?n.resolve(t):this._loadNestedItems(e).done(i=>{n.resolve(this._dataAdapter.getNodesByItems(i))}),n.promise()},_renderSublevel:function(e,n,t){var i=this._renderNodeContainer(e,n),r=t.filter(s=>-1!==n.internalFields.childrenKeys.indexOf(s.internalFields.key));if(this._renderItems(i,r),r.length&&!n.internalFields.selected){var o=r[0];this._updateParentsState(o,this._getNodeElement(o))}this._normalizeIconState(e,r.length),n.internalFields.expanded&&i.addClass(rc)},_executeItemRenderAction:function(e,n,t){var i=this._getNode(t);this._getItemRenderAction()({itemElement:t,itemIndex:e,itemData:n,node:this._dataAdapter.getPublicNode(i)})},_addLeafClass:function(e){e.addClass(Tx)},_expandEventHandler:function(e){x(e.currentTarget.parentNode).hasClass(Tx)||this._toggleExpandedState(e.currentTarget,void 0,e)},_initExpandEvent:function(){var e=this._getEventNameByOption(this.option("expandEvent")),n=this._itemContainer(),t=this._itemSelector();R.off(n,"."+UB,t),R.on(n,e,t,this._expandEventHandler.bind(this))},_getEventNameByOption:function(e){return fe("click"===e?Kt:px,UB)},_getNode:function(e){if(!T(e))return null;if(e.internalFields)return e;if(cu(e))return this._dataAdapter.getNodeByKey(e);var n=x(e).get(0);return n?se.isElementNode(n)?this._getNodeByElement(n):this._dataAdapter.getNodeByItem(n):null},_getNodeByElement:function(e){var n=x(e).closest("."+Wr),t=this._decodeString(n.attr(O0));return this._dataAdapter.getNodeByKey(t)},_toggleExpandedState:function(e,n,t){var i=this._getNode(e);if(!i)return(new W).reject().promise();if(i.internalFields.disabled)return(new W).reject().promise();var r=i.internalFields.expanded;if(r===n)return(new W).resolve().promise();if(this._hasChildren(i)){var o=this._getNodeElement(i);if(o.find(".".concat(WB,":not(.").concat(UK,")")).length)return(new W).reject().promise();!r&&!this._nodeHasRenderedChildren(o)&&this._createLoadIndicator(o)}return T(n)||(n=!r),this._dataAdapter.toggleExpansion(i.internalFields.key,n),this._updateExpandedItemsUI(i,n,t)},_nodeHasRenderedChildren:e=>e.children(".".concat(ed)).not(":empty").length,_createLoadIndicator:function(e){this._createComponent(x("<div>").addClass(WB),Do,{}).$element().appendTo(e),e.children(".".concat(Mx,",.").concat(GB)).hide()},_renderExpanderIcon:function(e,n,t,i){t.appendTo(e),t.addClass(i),n.internalFields.disabled&&t.addClass(Ax),this._renderToggleItemVisibilityIconClick(t,n)},_renderDefaultExpanderIcons:function(e,n){var t=x("<div>").addClass(Mx).appendTo(e);n.internalFields.expanded&&(t.addClass(GK),e.parent().addClass(rc)),n.internalFields.disabled&&t.addClass(Ax),this._renderToggleItemVisibilityIconClick(t,n)},_renderCustomExpanderIcons:function(e,n){var{expandIcon:t,collapseIcon:i}=this.option(),r=Ll(t??i),o=Ll(i??t);this._renderExpanderIcon(e,n,r,GB),this._renderExpanderIcon(e,n,o,$B);var s=n.internalFields.expanded;s&&e.parent().addClass(rc),this._toggleCustomExpanderIcons(r,o,s)},_renderToggleItemVisibilityIconClick:function(e,n){var t=fe(Kt,this.NAME);R.off(e,t),R.on(e,t,i=>{this._toggleExpandedState(n.internalFields.key,void 0,i)})},_toggleCustomExpanderIcons:function(e,n,t){n.toggle(t),e.toggle(!t)},_updateExpandedItemsUI:function(e,n,t){var i=this._getNodeElement(e),r=!i.length||n&&i.is(":hidden");if(this.option("expandNodesRecursive")&&r){var o=this._getNode(e.internalFields.parentKey);o&&this._updateExpandedItemsUI(o,n,t)}if(this._hasCustomExpanderIcons()){if(this._nodeHasRenderedChildren(i)){var l=i.children(".".concat(GB)),h=i.children(".".concat($B));this._toggleCustomExpanderIcons(l,h,n)}}else i.children(".".concat(Mx)).toggleClass(GK,n);var g=i.children(".".concat(ed)),_=g.length>0,v=new W;return!n||_&&!g.is(":empty")?(this._animateNodeContainer(e,n,t,v),v.promise()):0===e.internalFields.childrenKeys.length&&(this._isVirtualMode()||this._useCustomChildrenLoader())?(this._loadNestedItemsWithUpdate(e,n,t,v),v.promise()):(this._renderSublevel(i,e,this._getChildNodes(e)),this._fireContentReadyAction(),this._animateNodeContainer(e,n,t,v),v.promise())},_loadNestedItemsWithUpdate:function(e,n,t,i){var r=this._getNodeElement(e);this._loadNestedItems(e).done(o=>{var s=this._getActualNode(e);this._renderSublevel(r,s,this._dataAdapter.getNodesByItems(o)),o&&o.length?(this._fireContentReadyAction(),this._animateNodeContainer(s,n,t,i)):i.resolve()})},_loadNestedItems:function(e){if(this._useCustomChildrenLoader()){var n=this._dataAdapter.getPublicNode(e);return this._loadChildrenByCustomLoader(n).done(t=>{this._areNodesExists(t)||this._appendItems(t)})}return this._isVirtualMode()?(this._filter.internal=[this.option("parentIdExpr"),e.internalFields.key],this._dataSource.filter(this._combineFilter()),this._dataSource.load().done(t=>{this._areNodesExists(t)||this._appendItems(t)})):(new W).resolve([]).promise()},_areNodesExists:function(e,n){var t=this.keyOf(e[0]),i=this._dataAdapter.getFullData();return!!this._dataAdapter.getNodeByKey(t,i)},_appendItems:function(e){this.option().items=this.option("items").concat(e),this._initDataAdapter()},_animateNodeContainer:function(e,n,t,i){var r=this._getNodeElement(e),o=r.children(".".concat(ed));e&&i&&0===o.length&&i.resolve(),o.addClass(rc);var s=gt(o);An.stop(o,!0),An.animate(o,{type:"custom",duration:this.option("animationEnabled")?400:0,from:{maxHeight:n?0:s},to:{maxHeight:n?s:0},complete:function(){o.css("maxHeight","none"),o.toggleClass(rc,n),this.setAria("expanded",n,r),this.getScrollable().update(),this._fireExpandedStateUpdatedEvent(n,e,t),i&&i.resolve()}.bind(this)})},_fireExpandedStateUpdatedEvent:function(e,n,t){if(this._hasChildren(n)&&!this._skipContentReadyAndItemExpanded){var i=e?"onItemExpanded":"onItemCollapsed";if(T(t))this._itemDXEventHandler(t,i,{node:this._dataAdapter.getPublicNode(n)});else{var r=this._getNodeElement(n);this._itemEventHandler(r,i,{event:t,node:this._dataAdapter.getPublicNode(n)})}}},_normalizeIconState:function(e,n){var i,t=e.find(".".concat(WB));t.length&&(null===(i=Do.getInstance(t))||void 0===i||i.option("visible",!1));var r=e.children(".".concat($B,",.").concat(Mx));n?r.show():(r.removeClass(Mx),e.addClass(Tx))},_emptyMessageContainer:function(){var e=this.getScrollable();return e?x(e.content()):this.callBase()},_renderContent:function(){var e=this.option("items");e&&e.length&&(this._contentAlreadyRendered=!0),this.callBase()},_renderSelectAllItem:function(e){e=e||this.$element().find(".".concat(ed)).first(),this._$selectAllItem=x("<div>").addClass(b0);var n=this._dataAdapter.isAllSelected();this._createComponent(this._$selectAllItem,cx,{value:n,elementAttr:{"aria-label":"Select All"},text:this.option("selectAllText"),onValueChanged:this._onSelectAllCheckboxValueChanged.bind(this)}),this._toggleSelectedClass(this._$selectAllItem,n),e.before(this._$selectAllItem)},_onSelectAllCheckboxValueChanged:function(e){this._toggleSelectAll(e),this._fireSelectAllValueChanged(e.value)},_toggleSelectAll:function(e){this._dataAdapter.toggleSelectAll(e.value),this._updateItemsUI(),this._fireSelectionChanged()},_renderCheckBox:function(e,n){var t=x("<div>").appendTo(e);this._createComponent(t,cx,{value:n.internalFields.selected,onValueChanged:this._changeCheckboxValue.bind(this),focusStateEnabled:!1,elementAttr:{"aria-label":"Check State"},disabled:this._disabledGetter(n)})},_toggleSelectedClass:function(e,n){e.toggleClass("dx-state-selected",!!n)},_toggleNodeDisabledState:function(e,n){var t=this._getNodeElement(e),i=t.find("."+Ai).eq(0);this._dataAdapter.toggleNodeDisabledState(e.internalFields.key,n),i.toggleClass(Ax,!!n),this._showCheckboxes()&&this._getCheckBoxInstance(t).option("disabled",!!n)},_itemOptionChanged:function(e,n,t){var i=this._dataAdapter.getNodeByItem(e);n===this.option("disabledExpr")&&this._toggleNodeDisabledState(i,t)},_changeCheckboxValue:function(e){var t=x(e.element).parent("."+Wr).children("."+Ai),i=this._getItemData(t),r=this._getNodeByElement(t),o=e.value;r&&r.internalFields.selected===o||this._updateItemSelection(o,i,e.event)},_isSingleSelection:function(){return"single"===this.option("selectionMode")},_isRecursiveSelection:function(){return this.option("selectNodesRecursive")&&"single"!==this.option("selectionMode")},_isLastSelectedBranch:function(e,n,t){var i=n.indexOf(e.key);return i>=0&&n.splice(i,1),t&&B(e.children,function(r,o){this._isLastSelectedBranch(o,n,!0)}.bind(this)),e.parent&&this._isLastSelectedBranch(e.parent,n),0===n.length},_isLastRequired:function(e){var n=this.option("selectionRequired"),t=this._isSingleSelection(),i=this.getSelectedNodeKeys();if(n)return t?1===i.length:this._isLastSelectedBranch(e.internalFields.publicNode,i.slice(),!0)},_updateItemSelection:function(e,n,t){var i=this._getNode(n);if(!i||!1===i.visible)return!1;if(i.internalFields.selected===e)return!0;if(!e&&this._isLastRequired(i)){if(this._showCheckboxes()){var r=this._getNodeElement(i);this._getCheckBoxInstance(r).option("value",!0)}return!1}if(e&&this._isSingleSelection()){var o=this.getSelectedNodeKeys();B(o,(h,g)=>{this._dataAdapter.toggleSelection(g,!1),this._updateItemsUI(),this._fireItemSelectionChanged(this._getNode(g))})}this._dataAdapter.toggleSelection(i.internalFields.key,e);var s=this._dataAdapter.isAllSelected(),l=this._selectAllEnabled()&&this._$selectAllItem.dxCheckBox("instance").option("value")!==s;return this._updateItemsUI(),this._fireItemSelectionChanged(i,t),this._fireSelectionChanged(),l&&this._fireSelectAllValueChanged(s),!0},_fireItemSelectionChanged:function(e,n){var t=n||this._findItemElementByItem(e.internalFields.item);(n?this._itemDXEventHandler:this._itemEventHandler).call(this,t,"onItemSelectionChanged",{node:this._dataAdapter.getPublicNode(e),itemData:e.internalFields.item})},_getCheckBoxInstance:function(e){return e.children(".dx-checkbox").dxCheckBox("instance")},_updateItemsUI:function(){var e={};if(B(this._dataAdapter.getData(),(t,i)=>{var r=this._getNodeElement(i,e),o=i.internalFields.selected;r.length&&(this._toggleSelectedClass(r,o),this.setAria("selected",o,r),this._showCheckboxes()&&this._getCheckBoxInstance(r).option("value",o))}),this._selectAllEnabled()){var n=this._$selectAllItem.dxCheckBox("instance");n.option("onValueChanged",void 0),n.option("value",this._dataAdapter.isAllSelected()),n.option("onValueChanged",this._onSelectAllCheckboxValueChanged.bind(this))}},_updateParentsState:function(e,n){if(n){var t=this._dataAdapter.getNodeByKey(e.internalFields.parentKey),i=x(n.parents("."+Wr)[0]);if(this._showCheckboxes()){var r=t.internalFields.selected;this._getCheckBoxInstance(i).option("value",r),this._toggleSelectedClass(i,r)}t.internalFields.parentKey!==this.option("rootValue")&&this._updateParentsState(t,i)}},_itemEventHandlerImpl:function(e,n,t){var i=x(e).closest("."+Wr).children("."+Ai);return n(A(this._extendActionArgs(i),t))},_itemContextMenuHandler:function(e){this._createEventHandler("onItemContextMenu",e)},_itemHoldHandler:function(e){this._createEventHandler("onItemHold",e)},_createEventHandler:function(e,n){var t=this._getNodeByElement(n.currentTarget);this._itemDXEventHandler(n,e,{node:this._dataAdapter.getPublicNode(t)})},_itemClass:function(){return Ai},_itemDataKey:function(){return Ole},_attachClickEvent:function(){var e="."+this._itemClass(),n="."+Wr+", ."+b0,t=fe(Kt,this.NAME),i=fe(Rt.down,this.NAME),r=this._itemContainer(),o=this;R.off(r,t,e),R.off(r,i,n),R.on(r,t,e,function(s){o._itemClickHandler(s,x(this))}),R.on(r,i,n,function(s){o._itemPointerDownHandler(s)})},_itemClickHandler:function(e,n){var t=this._getItemData(n),i=this._getNodeByElement(n);this._itemDXEventHandler(e,"onItemClick",{node:this._dataAdapter.getPublicNode(i)}),this.option("selectByClick")&&!e.isDefaultPrevented()&&this._updateItemSelection(!i.internalFields.selected,t,e)},_updateSelectionToFirstItem:function(e,n){for(var t=n;t>=0;){var i=x(e[t]);this._updateItemSelection(!0,i.find("."+Ai).get(0)),t--}},_updateSelectionToLastItem:function(e,n){for(var t=e.length,i=n;i<t;){var r=x(e[i]);this._updateItemSelection(!0,r.find("."+Ai).get(0)),i++}},focus:function(){this._selectAllEnabled()?R.trigger(this._$selectAllItem,"focus"):this.callBase()},_focusInHandler:function(e){this._updateFocusState(e,!0);var n=x(e.target).hasClass(b0);if(n||this.option("focusedElement")){clearTimeout(this._setFocusedItemTimeout);var t=n?Ke(this._$selectAllItem):x(this.option("focusedElement"));this._setFocusedItemTimeout=setTimeout(()=>{this._setFocusedItem(t)})}else{var i=this._getActiveItem();this.option("focusedElement",Ke(i.closest("."+Wr)))}},_itemPointerDownHandler:function(e){if(this.option("focusStateEnabled")){var n=x(e.target).closest("."+Wr+", ."+b0);if(n.length){var t=n.hasClass(Ax)?null:n;this.option("focusedElement",Ke(t))}}},_findNonDisabledNodes:function(e){return e.not(function(){return x(this).children("."+Ai).hasClass(Ax)})},_moveFocus:function(e,n){var s=this.option("rtlEnabled")?"right":"left",l=this.option("rtlEnabled")?"left":"right";this.$element().find(".".concat(ed)).each(function(){An.stop(this,!0)});var h=this._nodeElements();if(h&&h.length)switch(e){case"up":var g=this._prevItem(h);this.option("focusedElement",Ke(g));var _=this._getNodeItemElement(g);this.getScrollable().scrollToElement(_),n.shiftKey&&this._showCheckboxes()&&this._updateItemSelection(!0,_);break;case"down":var v=this._nextItem(h);this.option("focusedElement",Ke(v));var C=this._getNodeItemElement(v);this.getScrollable().scrollToElement(C),n.shiftKey&&this._showCheckboxes()&&this._updateItemSelection(!0,C);break;case"first":var b=h.first();n.shiftKey&&this._showCheckboxes()&&this._updateSelectionToFirstItem(h,h.index(this._prevItem(h))),this.option("focusedElement",Ke(b)),this.getScrollable().scrollToElement(this._getNodeItemElement(b));break;case"last":var E=h.last();n.shiftKey&&this._showCheckboxes()&&this._updateSelectionToLastItem(h,h.index(this._nextItem(h))),this.option("focusedElement",Ke(E)),this.getScrollable().scrollToElement(this._getNodeItemElement(E));break;case l:this._expandFocusedContainer();break;case s:this._collapseFocusedContainer();break;default:return void this.callBase.apply(this,arguments)}},_getNodeItemElement:function(e){return e.find("."+Ai).get(0)},_nodeElements:function(){return this.$element().find("."+Wr).not(":hidden")},_expandFocusedContainer:function(){var e=x(this.option("focusedElement"));if(e.length&&!e.hasClass(Tx)){if(e.find(".".concat(ed)).eq(0).hasClass(rc)){var t=this._nextItem(this._findNonDisabledNodes(this._nodeElements()));return this.option("focusedElement",Ke(t)),void this.getScrollable().scrollToElement(this._getNodeItemElement(t))}var i=this._getNodeByElement(e.children("."+Ai));this._toggleExpandedState(i,!0)}},_getClosestNonDisabledNode:function(e){do{e=e.parent().closest("."+Wr)}while(e.children(".dx-treeview-item.dx-state-disabled").length);return e},_collapseFocusedContainer:function(){var e=x(this.option("focusedElement"));if(e.length){var n=e.find(".".concat(ed)).eq(0);if(!e.hasClass(Tx)&&n.hasClass(rc)){var t=this._getNodeByElement(e.children("."+Ai));this._toggleExpandedState(t,!1)}else{var i=this._getClosestNonDisabledNode(e);i.length&&this.option("focusedElement",Ke(i)),this.getScrollable().scrollToElement(this._getNodeItemElement(i))}}},_encodeString:function(e){return je(e)?encodeURI(e):e},_decodeString:function(e){return je(e)?decodeURI(e):e},getScrollable:function(){return this._scrollable},updateDimensions:function(){var e=new W,n=this.getScrollable();return n?n.update().done(()=>{e.resolveWith(this)}):e.resolveWith(this),e.promise()},selectItem:function(e){return this._updateItemSelection(!0,e)},unselectItem:function(e){return this._updateItemSelection(!1,e)},expandItem:function(e){return this._toggleExpandedState(e,!0)},collapseItem:function(e){return this._toggleExpandedState(e,!1)},getNodes:function(){return this._dataAdapter.getTreeNodes()},getSelectedNodes:function(){return this.getSelectedNodeKeys().map(e=>{var n=this._dataAdapter.getNodeByKey(e);return this._dataAdapter.getPublicNode(n)})},getSelectedNodeKeys:function(){return this._dataAdapter.getSelectedNodesKeys()},selectAll:function(){this._selectAllEnabled()?this._$selectAllItem.dxCheckBox("instance").option("value",!0):this._toggleSelectAll({value:!0})},unselectAll:function(){this._selectAllEnabled()?this._$selectAllItem.dxCheckBox("instance").option("value",!1):this._toggleSelectAll({value:!1})},_allItemsExpandedHandler:function(){this._skipContentReadyAndItemExpanded=!1,this._fireContentReadyAction()},expandAll:function(){var e=this._dataAdapter.getData(),n=[];this._skipContentReadyAndItemExpanded=!0,e.forEach(t=>n.push(this._toggleExpandedState(t.internalFields.key,!0))),Promise.allSettled(n).then(()=>{var t;return null===(t=this._allItemsExpanded)||void 0===t?void 0:t.call(this)})},collapseAll:function(){B(this._dataAdapter.getExpandedNodesKeys(),function(e,n){this._toggleExpandedState(n,!1)}.bind(this))},scrollToItem:function(e){var n=this._getNode(e);if(!n)return(new W).reject().promise();for(var t=[],i=n.internalFields.publicNode.parent;null!=i;)i.expanded||t.push(i.key),i=i.parent;var r=new W;return this._expandNodes(t.reverse()).always(()=>{var o=this._getNodeElement(n);o&&o.length?(this.scrollToElementTopLeft(o.get(0)),r.resolve()):r.reject()}),r.promise()},scrollToElementTopLeft:function(e){var n=this.getScrollable(),{scrollDirection:t,rtlEnabled:i}=this.option(),r={top:0,left:0},o=RG(FG,e);if(t!==Zw){var s=x(n.container()).get(0);r.left=i?o.left+e.offsetWidth-s.clientWidth:o.left}t!==PG&&(r.top=o.top),n.scrollTo(r)},_expandNodes:function(e){if(!e||0===e.length)return(new W).resolve().promise();var n=new W,t=e.map(i=>this.expandItem(i));return ke.apply(x,t).done(()=>n.resolve()).fail(()=>n.reject()),n.promise()},_dispose:function(){this.callBase(),clearTimeout(this._setFocusedItemTimeout),this._allItemsExpandedHandler=null}});const Ile=wle;Cp.setEditorClass(jy);var jK="dx-treeview",Tle="".concat(jK,"-node-container"),KK=Ile.inherit(Cp).inherit({_addWidgetPrefix:function(e){return"".concat(jK,"-").concat(e)},_optionChanged:function(e){switch(e.name){case"searchValue":this._showCheckboxes()&&this._isRecursiveSelection()&&this._removeSelection(),this._initDataAdapter(),this._updateSearch(),this._repaintContainer(),this.option("focusedElement",null);break;case"searchExpr":this._initDataAdapter(),this.repaint();break;case"searchMode":this.option("expandNodesRecursive")?this._updateDataAdapter():this._initDataAdapter(),this.repaint();break;default:this.callBase(e)}},_updateDataAdapter:function(){this._setOptionWithoutOptionChange("expandNodesRecursive",!1),this._initDataAdapter(),this._setOptionWithoutOptionChange("expandNodesRecursive",!0)},_getDataAdapterOptions:function(){return A(this.callBase(),{searchValue:this.option("searchValue"),searchMode:this.option("searchMode")||"contains",searchExpr:this.option("searchExpr")})},_getNodeContainer:function(){return this.$element().find(".".concat(Tle)).first()},_updateSearch:function(){if(this._searchEditor){var e=this._getSearchEditorOptions();this._searchEditor.option(e)}},_repaintContainer:function(){var n,e=this._getNodeContainer();e.length&&(e.empty(),n=this._dataAdapter.getRootNodes(),this._renderEmptyMessage(n),this._renderItems(e,n),this._fireContentReadyAction())},_focusTarget:function(){return this._itemContainer(this.option("searchEnabled"))},_cleanItemContainer:function(){this.$element().empty()},_itemContainer:function(e){return this._selectAllEnabled()?this._getNodeContainer():this._scrollable&&e?x(this._scrollable.content()):this.callBase()},_addWidgetClass:function(){this.$element().addClass(this._widgetClass())},_clean:function(){this.callBase(),this._removeSearchBox()}});Dt("dxTreeView",KK);const D0=KK;var YK="column-chooser-button",qK="notouch-action",JK="column-chooser",XK="dx-column-chooser-item",kle=["showInColumnChooser","caption","allowHiding","visible","cssClass","ownerBand"],Lle={renderShowColumnChooserButton(e){var o,n=this,t=n.addWidgetPrefix(YK),i=n.option("columnChooser.enabled"),r=e.find(".".concat(t));i?r.length?r.show():(o=x("<div>").addClass(t).appendTo(e),n._createComponent(o,Ui,{icon:JK,onClick(){n.getView("columnChooserView").showColumnChooser()},hint:n.option("columnChooser.title"),integrationOptions:{}})):r.hide()},getPosition(){var e=this.getView("rowsView"),n=this.option("columnChooser.position");return T(n)?n:{my:"right bottom",at:"right bottom",of:e&&e.element(),collision:"fit",offset:"-2 -2",boundaryOffset:"2 2"}}},Vle=dn.ViewController.inherit(Lle),Nle={_resizeCore:U,_isWinDevice:()=>!!$e.real().win,_initializePopupContainer(){var e=this,n=e.addWidgetPrefix("column-chooser"),t=e.element().addClass(n),i=e.option("columnChooser"),r=es(),o=QP(r),s=Wn(r),l={visible:!1,shading:!1,showCloseButton:!1,dragEnabled:!0,resizeEnabled:!0,wrapperAttr:{class:n},toolbarItems:[{text:i.title,toolbar:"top",location:o||s?"before":"center"}],position:e.getController("columnChooser").getPosition(),width:i.width,height:i.height,rtlEnabled:e.option("rtlEnabled"),onHidden(){e._isWinDevice()&&x("body").removeClass(e.addWidgetPrefix(qK))},container:i.container};o||s?A(l,{showCloseButton:!0}):l.toolbarItems[l.toolbarItems.length]={shortcut:"cancel"},T(this._popupContainer)?this._popupContainer.option(l):(e._popupContainer=e._createComponent(t,Ma,l),e._popupContainer.on("optionChanged",h=>{"visible"===h.name&&e.renderCompleted.fire()})),this.setPopupAttributes()},setPopupAttributes(){var e=this.isSelectMode(),n=this._columnsController.isBandColumnsUsed();this._popupContainer.setAria({role:"dialog",label:J.format("dxDataGrid-columnChooserTitle")}),this._popupContainer.$wrapper().toggleClass(this.addWidgetPrefix("column-chooser-mode-drag"),!e).toggleClass(this.addWidgetPrefix("column-chooser-mode-select"),e),this._popupContainer.$content().addClass(this.addWidgetPrefix("column-chooser-list")),e&&!n&&this._popupContainer.$content().addClass(this.addWidgetPrefix("column-chooser-plain"))},_renderCore(e){if(this._popupContainer){var n=!this.isSelectMode();this._columnChooserList&&"full"!==e?n&&this._updateItems():this._renderTreeView()}},_renderTreeView(){var e,n,t,i=this,r=this._popupContainer.$content(),o=this.option("columnChooser"),s=this.isSelectMode(),g={dataStructure:"plain",activeStateEnabled:!0,focusStateEnabled:!0,hoverStateEnabled:!0,itemTemplate:"item",showCheckBoxesMode:"none",rootValue:null,searchEnabled:T(o.allowSearch)?o.allowSearch:null===(e=o.search)||void 0===e?void 0:e.enabled,searchTimeout:T(o.searchTimeout)?o.searchTimeout:null===(n=o.search)||void 0===n?void 0:n.timeout,searchEditorOptions:null===(t=o.search)||void 0===t?void 0:t.editorOptions};if(this._isWinDevice()&&(g.useNativeScrolling=!1),A(g,s?this._prepareSelectModeConfig():this._prepareDragModeConfig()),this._columnChooserList)g.searchEnabled||(g.searchValue=""),this._columnChooserList.option(g),this._updateItems();else{this._columnChooserList=this._createComponent(r,D0,g),this._updateItems();var _=0;this._columnChooserList.on("optionChanged",v=>{var C=v.component.getScrollable();_=C.scrollTop()}),this._columnChooserList.on("contentReady",v=>{er(()=>{v.component.getScrollable().scrollTo({y:_}),i.renderCompleted.fire()})})}},_prepareDragModeConfig(){return{noDataText:this.option("columnChooser").emptyPanelText,activeStateEnabled:!1,focusStateEnabled:!1,hoverStateEnabled:!1,itemTemplate(n,t,i){x(i).text(n.text).parent().addClass(n.cssClass).addClass(XK)}}},_prepareSelectModeConfig(){var e=this,n=this.option("columnChooser.selection")||{},t=!1;return{selectByClick:n.selectByClick,selectNodesRecursive:n.recursive,showCheckBoxesMode:n.allowSelectAll?"selectAll":"normal",onSelectionChanged:i=>{if(!t){var r=(o=i.component.getNodes(),(s=(l,h)=>l.reduce((g,_)=>(g.push(_),_.children.length&&s(_.children,g),g),h))(o,[]));i.component.beginUpdate(),t=!0,((o,s)=>{s.filter(l=>!1===l.itemData.allowHiding).forEach(l=>o.component.selectItem(l.key))})(i,r),i.component.endUpdate(),t=!1,e.component.beginUpdate(),this._isUpdatingColumnVisibility=!0,(o=>{o.forEach(s=>{e._columnsController.columnOption(s.itemData.id,"visible",!1!==s.selected)})})(r),e.component.endUpdate(),this._isUpdatingColumnVisibility=!1}var o,s}}},_updateItems(){var e=this.isSelectMode(),t=function(e,n){var t=[],i=e.isSelectMode(),r=e.option("columnChooser.selection.recursive");return n.length&&B(n,(o,s)=>{var l={text:s.caption,cssClass:s.cssClass,allowHiding:s.allowHiding,expanded:!0,id:s.index,disabled:!1===s.allowHiding,parentId:T(s.ownerBand)?s.ownerBand:null};i&&!(r&&s.hasColumns)&&(l.selected=s.visible),t.push(l)}),t}(this,this._columnsController.getChooserColumns(e));this._columnChooserList.option("items",t)},_updateItemsSelection(e){var n=e?.map(t=>this._columnsController.columnOption(t));this._columnChooserList.beginUpdate(),n?.forEach(t=>{var{visible:i,index:r}=t;i?this._columnChooserList.selectItem(r):this._columnChooserList.unselectItem(r)}),this._columnChooserList.endUpdate()},_columnOptionChanged(e){if(this.callBase(e),this.isSelectMode()&&this._columnChooserList&&!0!==this._isUpdatingColumnVisibility){var{optionNames:t}=e,i=t.visible&&1===t.length,r=T(e.columnIndex)?[e.columnIndex]:e.columnIndices;(kle.some(s=>t[s])||e.changeTypes.columns&&t.all)&&(this._updateItemsSelection(r),i||this._updateItems())}},optionChanged(e){"columnChooser"===e.name?(this._initializePopupContainer(),this.render(null,"full")):this.callBase(e)},getColumnElements(){var e=[],n=this.isSelectMode(),t=this._columnsController.getChooserColumns(n),i=this._popupContainer&&this._popupContainer.$content(),r=i&&i.find(".dx-treeview-node");return r&&t.forEach(o=>{var s=r.filter("[data-item-id = '".concat(o.index,"']")),l=s.length?s.children(".".concat(XK)).get(0):null;e.push(l)}),x(e)},getName:()=>"columnChooser",getColumns(){return this._columnsController.getChooserColumns()},allowDragging(e){var n=this._columnsController.isParentColumnVisible(e.index),t=!e.visible&&e.allowHiding;return this.isColumnChooserVisible()&&n&&t},allowColumnHeaderDragging(e){return!this.isSelectMode()&&this.isColumnChooserVisible()&&e.allowHiding},getBoundingRect(){var e=this._popupContainer&&this._popupContainer.$overlayContent();if(e&&e.is(":visible")){var n=e.offset();return{left:n.left,top:n.top,right:n.left+wt(e),bottom:n.top+_t(e)}}return null},showColumnChooser(){this._popupContainer||(this._initializePopupContainer(),this.render()),this._popupContainer.show(),this._isWinDevice()&&x("body").addClass(this.addWidgetPrefix(qK))},hideColumnChooser(){this._popupContainer&&this._popupContainer.hide()},isColumnChooserVisible(){var e=this._popupContainer;return e&&e.option("visible")},isSelectMode(){return"select"===this.option("columnChooser.mode")},hasHiddenColumns(){var e=this.option("columnChooser.enabled"),n=this.getColumns().filter(t=>!t.visible);return e&&n.length},publicMethods:()=>["showColumnChooser","hideColumnChooser"]},jB={defaultOptions:()=>({columnChooser:{enabled:!1,search:{enabled:!1,timeout:500,editorOptions:{}},selection:{allowSelectAll:!1,selectByClick:!1,recursive:!1},position:void 0,mode:"dragAndDrop",width:250,height:260,title:J.format("dxDataGrid-columnChooserTitle"),emptyPanelText:J.format("dxDataGrid-columnChooserEmptyText"),container:void 0}}),controllers:{columnChooser:Vle},views:{columnChooserView:xx.inherit(Nle)},extenders:{views:{headerPanel:{_getToolbarItems(){var e=this.callBase();return this._appendColumnChooserItem(e)},_appendColumnChooserItem(e){var n=this;if(n.option("columnChooser.enabled")){var i=n.option("columnChooser.title");e.push({widget:"dxButton",options:{icon:JK,onClick:function(){n.component.getView("columnChooserView").showColumnChooser()},hint:i,text:i,onInitialized:function(o){x(o.element).addClass(n._getToolbarButtonClass(n.addWidgetPrefix(YK)))},elementAttr:{"aria-haspopup":"dialog"}},showText:"inMenu",location:"after",name:"columnChooserButton",locateInMenu:"auto",sortIndex:40})}return e},optionChanged(e){"columnChooser"===e.name?(this._invalidate(),e.handled=!0):this.callBase(e)},isVisible(){var e=this.option("columnChooser.enabled");return this.callBase()||e}},columnHeadersView:{allowDragging(e){var n=this.component.getView("columnChooserView"),t=!n.isSelectMode(),i=n.isColumnChooserVisible();return t&&i&&e.allowHiding||this.callBase(e)}}},controllers:{columns:{allowMoveColumn(e,n,t,i){return!("select"===this.option("columnChooser.mode")&&"columnChooser"===i)&&this.callBase(e,n,t,i)}}}}};function Ep(e,n){for(var t=jl(n.group),i=[],r=0;r<e.length;r++)i.push([t[r].selector,"=",e[r]]);return n.filter&&i.push(n.filter),xe.combineFilters(i)}function ZK(e,n,t){for(var i=jl(n.group),r=[],o=t?e.length-1:0;o<e.length;o++){for(var s=[],l=0;l<=o;l++){var{selector:h}=i[l];if(o!==l||null!==e[l]&&!1!==e[l]&&!0!==e[l]){var g=[h,o===l?i[l].desc?">":"<":"=",e[l]];s.push("<"===g[1]?[g,"or",[h,"=",null]]:g)}else!1===e[l]?s.push([h,"=",!!i[l].desc||null]):(e[l]?!i[l].desc:i[l].desc)?s.push([h,"<>",e[l]]):(s.push([h,"<>",null]),s.push([h,"=",null]))}r.push(Ge.combineFilters(s))}return r=Ge.combineFilters(r,"or"),Ge.combineFilters([r,n.filter])}Ge.registerModule("columnChooser",jB);var QK=kt.inherit(function(){var e=function(t,i){var{hash:r}=t;return r&&r[JSON.stringify(i)]},n=function(t,i){var l,r=0,o=t.length-1;if(!t.length)return 0;do{var s=o+r>>1;t[s].offset>i?o=s:r=s}while(o-r>1);for(l=r;l<=o&&!(t[l].offset>i);l++);return l};return{ctor(t){this._dataSource=t,this.reset()},reset(){this._groupsInfo=[],this._totalCountCorrection=0},totalCountCorrection(){return this._totalCountCorrection},updateTotalItemsCount(t){this._totalCountCorrection=t||0},isGroupItemCountable(t){return!this._isVirtualPaging()||!t.isContinuation},_isVirtualPaging(){var t=this._dataSource.option("scrolling.mode");return"virtual"===t||"infinite"===t},itemsCount(){var i=this._dataSource._dataSource,r=Ge.normalizeSortingInfo(i.group()||[]).length;return function s(l,h,g){var _=0;if(h)if(g)for(var v=0;v<h.length;v++)l.isGroupItemCountable(h[v])&&_++,_+=s(l,h[v].items,g-1);else _=h.length;return _}(this,i.items(),r)},foreachGroups(t,i,r,o,s){var l=this;return function h(g,_,v,C){var b=[];function E(G,Q,le,Te){var He=Q&&G(Q,le);return He&&Te.push(He),He}for(var w=0;w<g.length;w++){if(C.push(g[w].data),!v&&!1===E(_,g[w].data,C,b))return!1;if(!g[w].data||g[w].data.isExpanded||r){var{children:M}=g[w],k=M.length&&h(M,_,v,C);if(k&&b.push(k),!1===k)return!1}if(v&&!1===E(_,g[w].data,C,b))return!1;(!g[w].data||g[w].data.offset!==g[w].offset)&&(o=!0),C.pop()}var L=s&&C.slice(0);return o&&ke.apply(x,b).always(()=>{l._updateGroupInfoOffsets(g,L)})}(l._groupsInfo,t,i,[])},_updateGroupInfoOffsets(t,i){i=i||[];for(var r=0;r<t.length;r++){var o=t[r];if(o.data&&o.data.offset!==o.offset){o.offset=o.data.offset;for(var s=0;s<i.length;s++)i[s].offset=o.offset}}t.sort((l,h)=>l.offset-h.offset)},findGroupInfo(t){for(var i,r=this._groupsInfo,o=0;r&&o<t.length;o++)r=(i=e(r,t[o]))&&i.children;return i&&i.data},addGroupInfo(t){for(var i,{path:r}=t,o=this._groupsInfo,s=0;s<r.length;s++){if(!(i=e(o,r[s]))){i={key:r[s],offset:t.offset,data:{offset:t.offset,isExpanded:!0,path:r.slice(0,s+1)},children:[]};var l=n(o,t.offset);o.splice(l,0,i),o.hash=o.hash||{},o.hash[JSON.stringify(i.key)]=i}s===r.length-1&&(i.data=t,i.offset!==t.offset&&this._updateGroupInfoOffsets(o)),o=i.children}},allowCollapseAll:()=>!0,refresh(t){var{storeLoadOptions:i}=t,r=jl(i.group||[]),o="_group"in this?jl(this._group||[]):r,s=Math.min(o.length,r.length);this._group=i.group;for(var l=0;l<s;l++)if(o[l].selector!==r[l].selector){s=l;break}s?function h(g,_,v){for(var C=0;C<g.length;C++)_+1>=v?g[C].children=[]:h(g[C].children,_+1,v)}(this._groupsInfo,0,s):this.reset()},handleDataLoading(){},handleDataLoaded(t,i){i(t)},handleDataLoadedCore(t,i){i(t)}}}());function KB(e,n,t,i){if(i=i||0,n>1&&t>0){var r=e-Math.floor(e/n)*n||n;return(r+=t-i-2)<0&&(r+=n),Math.floor(r/(n-i-1))}return 0}var e2=QK.inherit(function(){var e=function(v,C,b){return v.foreachGroups((E,w)=>{if(E.isExpanded)return C(E,w)},!0,!1,b,b)},n=function v(C,b,E,w,M,k,L){var G;if(w.items=w.items||[],w.paths=w.paths||[],w.count=w.count||0,w.lastCount=w.lastCount||0,E)for(var Q=0;Q<b.length;Q++){var le=b[Q];if(void 0!==le.items){if(M.push(le.key),k)G=!0;else{var Te=C.findGroupInfo(M);G=Te&&Te.isExpanded}G?le.items?v(C,le.items,E-1,w,M,k,L):1===E&&le.count&&(!k||L)&&(w.items.push(le),w.paths.push(M.slice(0)),w.count+=w.lastCount,w.lastCount=le.count):(le.collapsedItems=le.items,le.items=null),M.pop()}}},t=function(v,C,b,E,w){var k,M=v.findGroupInfo(E);M?(b?M.count=C.count>0?C.count:C.items&&C.items.length||0:C.count=M.count||C.count,M.offset=w):(b&&(k=C.count>0?C.count:C.items.length),v.addGroupInfo({isExpanded:v._isGroupExpanded(E.length-1),path:E.slice(0),offset:w,count:k||0}))},i=function v(C,b,E,w,M,k,L){var Ee,Q=(b.group?b.group.length:0)===w,Te=0,He=0;if(M=M||0,k=k||[],b.remoteOperations.paging&&!L&&(Te=0===M?b.skip||0:b.skips[M-1]||0),M>=w)return E.length;for(var ze=0;ze<E.length;ze++){var ot=E[ze];if(ot){if(k.push(ot.key),!ot.count&&!ot.items||void 0===ot.items||(t(C,ot,Q,k,Te+ze),(Ee=ot.items?v(C,b,ot.items,w,M+1,k,ze):ot.count||-1)<0))return-1;He+=Ee,k.pop()}}return He},r=function(v,C){return v&&v.length&&v[C]&&!!v[C].isExpanded},o=function(v,C,b){for(var E,w=b,M=0;M<v.length;M++)E=v[M].offset+1,M>0&&(E+=v[M-1].childrenTotalCount,C&&(E+=KB(w,C,E,M-1)*M)),w+=E;return w};function s(v,C,b,E){var w=C.items[E],M=v.skips&&v.skips[b],k=v.takes&&v.takes[b],L=E===C.items.length-1,G=0===E,le=w.count>k+(G&&M||0);G&&void 0!==M&&(w.isContinuation=!0),L&&void 0!==k&&le&&(w.isContinuationOnNextPage=!0)}function l(v){return!Array.isArray(v)}function h(v){l(v.data)||(v.data=new W)}function g(v,C,b,E,w,M){var L,G,Q,le,Te;C.isCustomLoading||(n(v,M,b,E={},[]),le=(Q=b)-1,Te=(L=C).group?L.group.length:0,(G=E).skip=L.skips&&L.skips[le],L.takes&&void 0!==L.takes[le]&&(G.take=Te===Q&&G.count?G.count-(G.skip||0):0,G.take+=L.takes[le])),E.paths.length&&(C.group?C.group.length:0)-b>0?(h(C),function(L,G,Q,le,Te,He){var Ee=G.group||[],ze=Ee[Te+1],ot=[];B(Q.paths,ht=>{var Xt,on={requireTotalCount:!1,requireGroupCount:!0,group:[ze],groupSummary:G.storeLoadOptions.groupSummary,filter:Ep(Q.paths[ht],{filter:G.storeLoadOptions.filter,group:Ee}),select:G.storeLoadOptions.select,langParams:null===(Xt=G.storeLoadOptions)||void 0===Xt?void 0:Xt.langParams};0===ht&&(on.skip=Q.skip||0),ht===Q.paths.length-1&&(on.take=Q.take);var On=0===on.take?[]:L._dataSource.loadFromStore(on);ke(On).done(Ga=>{var Ua=Q.items[ht];s(G,Q,Te,ht),Ua.items=Ga}),ot.push(On)}),ke.apply(null,ot).done(()=>{i(L,G,He,le+1),g(L,G,le+1,Q,Te+1,He)})}(v,C,E,b,w,M)):E.paths.length&&C.storeLoadOptions.group?(h(C),function(L,G,Q,le){var Te=[],He=G.group||[];B(Q.paths,(ht,Xt)=>{Te.push(Ep(Xt,{group:G.isCustomLoading?G.storeLoadOptions.group:He}))});var{filter:Ee}=G.storeLoadOptions;G.storeLoadOptions.isLoadingAll||(Ee=Ge.combineFilters([Ee,Ge.combineFilters(Te,"or")]));var ze=A({},G.storeLoadOptions,{requireTotalCount:!1,requireGroupCount:!1,group:null,sort:He.concat(Ge.normalizeSortingInfo(G.storeLoadOptions.sort||[])),filter:Ee}),ot=L._dataSource.isLastLevelGroupItemsPagingLocal();ot||(ze.skip=Q.skip,ze.take=Q.take),ke(0===Q.take?[]:L._dataSource.loadFromStore(ze)).done(ht=>{ot&&(ht=L._dataSource.sortLastLevelGroupItems(ht,He,Q.paths),ht=Q.skip?ht.slice(Q.skip):ht,ht=Q.take?ht.slice(0,Q.take):ht),B(Q.items,(Xt,on)=>{var Ga=ht.splice(0,on.count-(0===Xt&&Q.skip||0));s(G,Q,He.length-1,Xt),on.items=Ga}),G.data.resolve(le)}).fail(G.data.reject)}(v,C,E,M)):l(C.data)&&C.data.resolve(M)}var _=function(v,C){var b=new W,E=!(!C.group||!C.group.length),w=A({skip:0,take:1,requireGroupCount:E,requireTotalCount:!E},C,{group:E?C.group:null});return v.load(w).done((M,k)=>{var L=k&&(E?k.groupCount:k.totalCount);isFinite(L)?b.resolve(L):b.reject(si.Error(E?"E4022":"E4021"))}).fail(b.reject.bind(b)),b};return{updateTotalItemsCount(v){var C=0,b=v.extra&&v.extra.totalCount||0,E=v.extra&&v.extra.groupCount||0,w=this._dataSource.pageSize(),M=this._isVirtualPaging();e(this,k=>{k.childrenTotalCount=0}),e(this,(k,L)=>{var G=o(L,M?0:w,C),Q=k.count+k.childrenTotalCount;M||(Q+=KB(G,w,Q,L.length-1)),L[L.length-2]?L[L.length-2].childrenTotalCount+=Q:C+=Q}),this.callBase(C-b+E)},_isGroupExpanded(v){var C=this._dataSource.group();return r(C,v)},_updatePagingOptions(v,C){var b=this._isVirtualPaging(),E=this._dataSource.pageSize(),w=[],M=[],k=0,L=0;v.take&&(e(this,G=>{G.childrenTotalCount=0,G.skipChildrenTotalCount=0}),e(this,(G,Q)=>{var le,Te=0,He=0,Ee=o(Q,b?0:E,L),ze=0,ot=0,ht=G.count+G.childrenTotalCount,Xt=ht;C&&C(G,Ee);var on=v.skip-Ee;Ee<=v.skip+v.take&&ht&&(le=v.take,b||(ht+=(ze=KB(Ee,E,ht,Q.length-1))*Q.length,Xt+=ze,E&&on>=0&&(Te=Q.length,He=Q.length-1,ot=Math.floor(on/E))),on>=0?(Ee+ht>v.skip&&w.unshift(on-ot*Te-G.skipChildrenTotalCount),Ee+ht>=v.skip+le&&M.unshift(le-Te-G.childrenTotalCount+G.skipChildrenTotalCount)):Ee+ht>=v.skip+le&&M.unshift(le+on-G.childrenTotalCount)),Ee<=v.skip&&(Q[Q.length-2]?Q[Q.length-2].skipChildrenTotalCount+=Math.min(Xt,on+1-ot*He):k+=Math.min(Xt,on+1)),Ee<=v.skip+le&&(ht=Math.min(Xt,on+le-(ot+1)*He),Q[Q.length-2]?Q[Q.length-2].childrenTotalCount+=ht:L+=ht)}),v.skip-=k,v.take-=L-k),v.skips=w,v.takes=M},changeRowExpand(v){var C=this.findGroupInfo(v),b=this._dataSource,E=b.remoteOperations().groupPaging,w=Ge.normalizeSortingInfo(b.group());return C?(C.isExpanded=!C.isExpanded,E&&C.isExpanded&&v.length<w.length?_(b,{filter:Ep(v,{filter:b.lastLoadOptions().filter,group:b.group()}),group:[w[v.length]],select:b.select()}).done(M=>{C.count=M}):(new W).resolve()):(new W).reject()},handleDataLoading(v){var{storeLoadOptions:C}=v,b=Ge.normalizeSortingInfo(C.group||v.loadOptions.group);if(!v.isCustomLoading&&b.length){if(v.remoteOperations.grouping){var E=this._dataSource.remoteOperations().paging;C.group=Ge.normalizeSortingInfo(C.group),C.group.forEach((w,M)=>{w.isExpanded=!(E&&M===C.group.length-1)})}v.group=v.group||b,v.remoteOperations.paging?(v.skip=C.skip,v.take=C.take,C.requireGroupCount=!0,C.group=b.slice(0,1),this._updatePagingOptions(v),C.skip=v.skip,C.take=v.take):(v.skip=v.loadOptions.skip,v.take=v.loadOptions.take,this._updatePagingOptions(v))}},handleDataLoadedCore(v,C){var w,b=Ge.normalizeSortingInfo(v.storeLoadOptions.group||v.loadOptions.group).length,E=v.group?v.group.length:0,M={};if(v.isCustomLoading)C(v),n(this,v.data,b,M,[],v.isCustomLoading,v.storeLoadOptions.isLoadingAll);else{if(v.remoteOperations.paging||this.foreachGroups(k=>{k.count=0}),(w=i(this,v,v.data,b))<0)return void(v.data=(new W).reject(It.Error("E1037")));if(v.remoteOperations.paging||b&&v.extra&&v.loadOptions.requireTotalCount&&(v.extra.totalCount=w,v.extra.groupCount=v.data.length),E&&v.storeLoadOptions.requireGroupCount&&!isFinite(v.extra.groupCount))return void(v.data=(new W).reject(si.Error("E4022")));this.updateTotalItemsCount(v),v.remoteOperations.paging||this._updatePagingOptions(v),C(v),v.remoteOperations.paging||this._processPaging(v,b)}g(this,v,b,M,0,v.data)},_processSkips(v,C,b){if(b){var E=v[0],w=C[0],M=E&&E.items;void 0!==w&&(E.isContinuation=!0,M&&(E.items=M.slice(w),this._processSkips(E.items,C.slice(1),b-1)))}},_processTakes(v,C,b,E,w){if(E&&v){w=w||[];var M=v[v.length-1],k=M&&M.items,L=b[0];M&&(void 0!==L&&(M.count-(M.isContinuation&&C[0]||0)||k.length)>L&&(M.isContinuationOnNextPage=!0,w.forEach(le=>{le.isContinuationOnNextPage=!0}),k&&(k=k.slice(0,L),M.items=k)),w.push(M),this._processTakes(k,C.slice(1),b.slice(1),E-1,w))}},_processPaging(v,C){this._processSkips(v.data,v.skips,C),this._processTakes(v.data,v.skips,v.takes,C)},isLastLevelGroupItemsPagingLocal:()=>!1,sortLastLevelGroupItems:v=>v,refresh(v,C){var L,G,b=this,E=b._dataSource,{storeLoadOptions:w}=v,M=v.group||v.storeLoadOptions.group,k=Ge.normalizeSortingInfo(b._group);function Q(le,Te){Te.length===G+1&&(le.isExpanded=L)}for(G=0;G<k.length;G++)L=r(M,G),r(b._group,G)!==L&&b.foreachGroups(Q);if(b.callBase.apply(this,arguments),M&&v.remoteOperations.paging&&C.reload)return e(b,le=>{var Te=_(E,{filter:Ep(le.path,{filter:w.filter,group:M}),group:M.slice(le.path.length),select:w.select});return ke(_(E,{filter:ZK(le.path,{filter:w.filter,group:M},!0),group:M.slice(le.path.length-1,le.path.length),select:w.select}),Te).done((Ee,ze)=>{Ee=parseInt(Ee.length?Ee[0]:Ee),ze=parseInt(ze.length?ze[0]:ze),le.offset=Ee,le.count!==ze&&(le.count=ze,b.updateTotalItemsCount(v))})},!0)}}}()),YB=function(e,n){var t=new W,i=A({skip:0,take:1,requireTotalCount:!0},n);return e.load(i).done((r,o)=>{t.resolve(o&&o.totalCount)}).fail(t.reject.bind(t)),t},t2=QK.inherit(function(){var e=function(o,s,l){return o.foreachGroups(h=>{if(!h.isExpanded)return s(h)},!1,!1,l,!0)},n=function(o,s){var l=0,h=s||0;return s&&(e(o,g=>{if(g.offset-l>=s)return!1;l+=g.count-1}),h+=l),h},t=function(o,s){if(o.length!==s.length)return!1;for(var l=0;l<o.length;l++)if(!Jy(null,o[l],s[l]))return!1;return!0},i=function o(s,l,h,g,_){if(l){for(var v=0;v<l.length;v++){var C=l[v];if("key"in C&&void 0!==C.items){h.push(C.key),_&&t(_.path,h)&&!C.isContinuation&&(_.offset=g);var b=s.findGroupInfo(h);b&&!C.isContinuation&&(b.offset=g),b&&!b.isExpanded?g+=b.count:g=o(s,C.items,h,g,_),h.pop()}else g++}return g}},r=function o(s,l){var h=s.count||s.items.length;if(!s.count&&l>1){h=0;for(var g=0;g<s.items.length;g++)h+=o(s.items[g],l-1)}return h};return{handleDataLoading(o){var _,{storeLoadOptions:s}=o,l=[],h=0,g=!1,{group:v}=o.loadOptions,C=0;if(function(E,w){if(w.group){var M=Ge.normalizeSortingInfo(w.group),k=Ge.normalizeSortingInfo(E.sort);E.sort=Kl.arrangeSortingInfo(M,k),delete w.group}}(s,o.loadOptions),o.group=o.group||v,!o.isCustomLoading){var b=A({},s);b.skip=n(this,s.skip),b.skip&&b.take&&v&&(b.skip--,b.take++,g=!0),b.take&&v&&(_=b.take,b.take++),e(this,E=>{if(E.offset>=b.skip+b.take+C)return!1;E.offset>=b.skip+C&&E.count&&(C+=E.count-1,l.push(E),h+=E.count)}),B(l,function(){b.filter=function(E,w,M){for(var k=Ge.normalizeSortingInfo(M||w.group),L=[],G=0;G<E.length;G++){for(var Q=[],le=0;le<=G;le++)Q.push([k[le].selector,G===le?"<>":"=",E[le]]);L.push(Ge.combineFilters(Q))}return L=Ge.combineFilters(L,"or"),Ge.combineFilters([L,w.filter])}(this.path,b,v)}),o.storeLoadOptions=b,o.collapsedGroups=l,o.collapsedItemsCount=h,o.skip=b.skip||0,o.skipFirstItem=g,o.take=_}},handleDataLoaded(o,s){var{collapsedGroups:l}=o,h=Ge.normalizeSortingInfo(o.group),g=h.length;function _(E,w,M,k,L){if(E&&w.length&&M.length){var G,Q,le=wi(w[0],!0);for(Q=0;Q<E.length&&(G=wi(E[Q].key,!0),!(L>=k.offset||le===G));Q++)L+=r(E[Q],M.length);(!E.length||le!==G)&&E.splice(Q,0,{key:w[0],items:[],count:1===w.length?k.count:void 0}),_(E[Q].items,w.slice(1),M.slice(1),k,L)}}if(o.collapsedItemsCount&&o.extra&&o.extra.totalCount>=0&&(o.extra._totalCountWasIncreasedByCollapsedItems||(o.extra.totalCount+=o.collapsedItemsCount,o.extra._totalCountWasIncreasedByCollapsedItems=!0)),s(o),g){var{data:v}=o,C=zr(v);if(Kl.multiLevelGroup(C,h).enumerate().done(E=>{v=E}),l)for(var b=0;b<l.length;b++)_(v,l[b].path,h,l[b],o.skip);o.isCustomLoading||function E(w,M,k,L,G,Q){for(var le=0,Te=!1,He=0;He<M.length;He++){var Ee=M[He];if(void 0!==Ee.items){k.push(Ee.key);var ze=w.findGroupInfo(k);if(ze&&!ze.isExpanded)Ee.collapsedItems=Ee.items,Ee.items=null,L+=ze.count,--Q<0&&le++,G&&(Te=!0);else if(Ee.items){var ot=E(w,Ee.items,k,L,G,Q);G&&(ot.offset-L>1?Ee.isContinuation=!0:Te=!0),L=ot.offset,(Q=ot.take)<0&&(Ee.items.length?Ee.isContinuationOnNextPage=!0:le++)}k.pop()}else G&&(Te=!0),L++,--Q<0&&le++;G=!1}return Te&&M.splice(0,1),le&&M.splice(-le,le),{offset:L,take:Q}}(this,v,[],o.skip,o.skipFirstItem,o.take),o.data=v}},isGroupItemCountable:o=>null===o.items,updateTotalItemsCount(){var o=0;e(this,s=>{s.count&&(o-=s.count-1)}),this.callBase(o)},changeRowExpand(o){var s=this,l=s._dataSource,h=l.beginPageIndex?l.beginPageIndex():l.pageIndex(),g=l.items(),_=n(s,h*l.pageSize()),v=s.findGroupInfo(o);return ke(v&&!v.isExpanded?(new W).resolve(v.count):YB(l,{filter:Ep(o,{filter:l.filter(),group:l.group()})})).done(b=>{b=parseInt(b.length?b[0]:b),v?(i(s,g,[],_),v.isExpanded=!v.isExpanded,v.count=b):(i(s,g,[],_,v={offset:-1,count:b,path:o,isExpanded:!1}),v.offset>=0&&s.addGroupInfo(v)),s.updateTotalItemsCount()}).fail(function(){l._eventsStrategy.fireEvent("loadError",arguments)})},allowCollapseAll:()=>!1,refresh(o,s){var l=this,{storeLoadOptions:h}=o,g=l._dataSource;if(this.callBase.apply(this,arguments),s.reload)return e(l,_=>{var v=YB(g,{filter:Ep(_.path,h)});return ke(YB(g,{filter:ZK(_.path,h)}),v).done((b,E)=>{b=parseInt(b.length?b[0]:b),E=parseInt(E.length?E[0]:E),_.offset=b,_.count!==E&&(_.count=E,l.updateTotalItemsCount())})},!0)}}}()),qB="dx-datagrid-group-panel",S0="dx-group-panel-item",n2="dx-toolbar-label",jle={init(){this.callBase.apply(this,arguments),this._initGroupingHelper()},_initGroupingHelper(e){var n=this._grouping,t=this.option("grouping.autoExpandAll"),i=this.option("focusedRowEnabled"),r=e?e.remoteOperations:this.remoteOperations();!(r.filtering&&r.sorting&&r.paging)||r.grouping||!t&&i?(!n||n instanceof t2)&&(this._grouping=new e2(this)):(!n||n instanceof e2)&&(this._grouping=new t2(this))},totalItemsCount(){var e=this.callBase();return e>0&&this._dataSource.group()&&this._dataSource.requireTotalCount()?e+this._grouping.totalCountCorrection():e},itemsCount(){return this._dataSource.group()?this._grouping.itemsCount()||0:this.callBase.apply(this,arguments)},allowCollapseAll(){return this._grouping.allowCollapseAll()},isGroupItemCountable(e){return this._grouping.isGroupItemCountable(e)},isRowExpanded(e){var n=this._grouping.findGroupInfo(e);return n?n.isExpanded:!this._grouping.allowCollapseAll()},collapseAll(e){return this._collapseExpandAll(e,!1)},expandAll(e){return this._collapseExpandAll(e,!0)},_collapseExpandAll(e,n){var t=this._dataSource,i=t.group(),r=Ge.normalizeSortingInfo(i||[]);if(r.length){for(var o=0;o<r.length;o++)void 0===e||e===o?r[o].isExpanded=n:i&&i[o]&&(r[o].isExpanded=i[o].isExpanded);t.group(r),this._grouping.foreachGroups((s,l)=>{(void 0===e||e===l.length-1)&&(s.isExpanded=n)},!1,!0),this.resetPagesCache()}return!0},refresh(){return this.callBase.apply(this,arguments),this._grouping.refresh.apply(this._grouping,arguments)},changeRowExpand(e){var n=this._dataSource;if(n.group())return n.beginLoading(),this._lastLoadOptions&&(this._lastLoadOptions.groupExpand=!0),this._changeRowExpandCore(e).always(()=>{n.endLoading()})},_changeRowExpandCore(e){return this._grouping.changeRowExpand(e)},_hasGroupLevelsExpandState(e,n){if(e&&Array.isArray(e))for(var t=0;t<e.length;t++)if(e[t].isExpanded===n)return!0},_customizeRemoteOperations(e,n){var{remoteOperations:t}=e;e.storeLoadOptions.group?(t.grouping&&!e.isCustomLoading&&(!t.groupPaging||this._hasGroupLevelsExpandState(e.storeLoadOptions.group,!0))&&(t.paging=!1),!t.grouping&&(!t.sorting||!t.filtering||e.isCustomLoading||this._hasGroupLevelsExpandState(e.storeLoadOptions.group,!1))&&(t.paging=!1)):!e.isCustomLoading&&t.paging&&n.grouping&&this.resetCache(),this.callBase.apply(this,arguments)},_handleDataLoading(e){return this.callBase(e),this._initGroupingHelper(e),this._grouping.handleDataLoading(e)},_handleDataLoaded(e){return this._grouping.handleDataLoaded(e,this.callBase.bind(this))},_handleDataLoadedCore(e){return this._grouping.handleDataLoadedCore(e,this.callBase.bind(this))}};Ox.extend(jle);var Kle={init(){this.callBase(),this.createAction("onRowExpanding"),this.createAction("onRowExpanded"),this.createAction("onRowCollapsing"),this.createAction("onRowCollapsed")},_beforeProcessItems(e){var n=this._columnsController.getGroupColumns();return(e=this.callBase(e)).length&&n.length&&(e=this._processGroupItems(e,n.length)),e},_processItem(e,n){return T(e.groupIndex)&&je(e.rowType)&&0===e.rowType.indexOf("group")?(e=this._processGroupItem(e,n),n.dataIndex=0):e=this.callBase.apply(this,arguments),e},_processGroupItem:e=>e,_processGroupItems(e,n,t){var i=this._columnsController.getGroupColumns(),r=i[i.length-n];if(!t){var o=this.option("scrolling.mode");t={collectContinuationItems:"virtual"!==o&&"infinite"!==o,resultItems:[],path:[],values:[]}}var{resultItems:s}=t;if(t.data&&(t.collectContinuationItems||!t.data.isContinuation)&&s.push({rowType:"group",data:t.data,groupIndex:t.path.length-1,isExpanded:!!t.data.items,key:t.path.slice(0),values:t.values.slice(0)}),e)if(0===n)s.push.apply(s,e);else for(var l=0;l<e.length;l++){var h=e[l];h&&"items"in h?(t.data=h,t.path.push(h.key),t.values.push(r&&r.deserializeValue&&!r.calculateDisplayValue?r.deserializeValue(h.key):h.key),this._processGroupItems(h.items,n-1,t),t.data=void 0,t.path.pop(),t.values.pop()):s.push(h)}return s},publicMethods(){return this.callBase().concat(["collapseAll","expandAll","isRowExpanded","expandRow","collapseRow"])},collapseAll(e){var n=this._dataSource;n&&n.collapseAll(e)&&(n.pageIndex(0),n.reload())},expandAll(e){var n=this._dataSource;n&&n.expandAll(e)&&(n.pageIndex(0),n.reload())},changeRowExpand(e){var n=this,t=n.isRowExpanded(e),i={key:e,expanded:t};return n.executeAction(t?"onRowCollapsing":"onRowExpanding",i),i.cancel?(new W).resolve():ke(n._changeRowExpandCore(e)).done(()=>{i.expanded=!t,n.executeAction(t?"onRowCollapsed":"onRowExpanded",i)})},_changeRowExpandCore(e){var n=this,t=this._dataSource,i=new W;return t?ke(t.changeRowExpand(e)).done(()=>{n.load().done(i.resolve).fail(i.reject)}).fail(i.reject):i.resolve(),i},isRowExpanded(e){var n=this._dataSource;return n&&n.isRowExpanded(e)},expandRow(e){return this.isRowExpanded(e)?(new W).resolve():this.changeRowExpand(e)},collapseRow(e){return this.isRowExpanded(e)?this.changeRowExpand(e):(new W).resolve()},optionChanged(e){"grouping"===e.name&&(e.name="dataSource"),this.callBase(e)}},JB=function(e,n){var t=this._columnsController;switch(n.itemData.value){case"group":var i=t._dataSource.group()||[];t.columnOption(e.dataField,"groupIndex",i.length);break;case"ungroup":t.columnOption(e.dataField,"groupIndex",-1);break;case"ungroupAll":this.component.clearGrouping()}},i2=e=>{var n=e?.visible;return"auto"===n?"desktop"===$e.current().deviceType:!!n},r2=(e,n)=>i2(e)&&!(!e?.allowColumnDragging||!n.allowGrouping),Yle={_getToolbarItems(){var e=this.callBase();return this._appendGroupingItem(e)},_appendGroupingItem(e){if(this._isGroupPanelVisible()){var n=!1;e.push({template:()=>{var i=x("<div>").addClass(qB);return this._updateGroupPanelContent(i),hx("groupPanel",this,i,void 0,this._handleActionKeyDown.bind(this)),i},name:"groupPanel",onItemRendered:()=>{n&&this.renderCompleted.fire(),n=!0},location:"before",locateInMenu:"never",sortIndex:1}),this.updateToolbarDimensions()}return e},_handleActionKeyDown(e){var{event:n}=e,t=x(n.target),i=t.closest(".".concat(S0)).index(),r=this._columnsController.getGroupColumns()[i],o=r&&r.index;t.is(".dx-header-filter")?this.getController("headerFilter").showHeaderFilterMenu(o,!0):this._processGroupItemAction(o),n.preventDefault()},_isGroupPanelVisible(){return i2(this.option("groupPanel"))},_renderGroupPanelItems(e,n){var t=this;e.empty(),B(n,(i,r)=>{t._createGroupPanelItem(e,r)}),rB(this)},_createGroupPanelItem(e,n){var t=x("<div>").addClass(n.cssClass).addClass(S0).data("columnData",n).appendTo(e).text(n.caption);return function iie(e,n){e.option("useLegacyKeyboardnavigation")||n.attr("tabindex",e.option("tabindex")||0)}(this,t),t},_columnOptionChanged(e){if(!this._requireReady&&!Ge.checkChanges(e.optionNames,["width","visibleWidth"])){var n=this.element(),t=n&&n.find(".".concat(qB));t&&t.length&&(this._updateGroupPanelContent(t),this.updateToolbarDimensions(),this.renderCompleted.fire())}this.callBase()},_updateGroupPanelContent(e){var n=this.getController("columns").getGroupColumns(),t=this.option("groupPanel");this._renderGroupPanelItems(e,n),t.allowColumnDragging&&!n.length&&(x("<div>").addClass("dx-group-panel-message").text(t.emptyPanelText).appendTo(e),e.closest(".".concat("dx-toolbar-item")).addClass(n2),e.closest(".".concat(n2)).css("maxWidth","none"))},allowDragging(e){var n=this.option("groupPanel");return r2(n,e)},getColumnElements(){var e=this.element();return e&&e.find(".".concat(S0))},getColumns(){return this.getController("columns").getGroupColumns()},getBoundingRect(){var e=this.element();if(e&&e.find(".".concat(qB)).length){var n=e.offset();return{top:n.top,bottom:n.top+gt(e)}}return null},getName:()=>"group",getContextMenuItems(e){var i,n=this.option("grouping.contextMenuEnabled"),t=x(e.targetElement).closest(".".concat(S0));if(t.length&&(e.column=t.data("columnData")),n&&e.column){var{column:r}=e;if(!T(r.allowGrouping)||r.allowGrouping){var s=T(r.groupIndex)&&r.groupIndex>-1,l=this.option("grouping.texts"),h=JB.bind(this,r);i=[{text:l.ungroup,value:"ungroup",disabled:!s,onItemClick:h},{text:l.ungroupAll,value:"ungroupAll",onItemClick:h}]}}return i},isVisible(){return this.callBase()||this._isGroupPanelVisible()},hasGroupedColumns(){return this._isGroupPanelVisible()&&!!this.getColumns().length},optionChanged(e){"groupPanel"===e.name?(this._invalidate(),e.handled=!0):this.callBase(e)}},qle={getContextMenuItems(e){var t;if(this.option("grouping.contextMenuEnabled")&&e.row&&"group"===e.row.rowType){var r=this._columnsController.columnOption("groupIndex:".concat(e.row.groupIndex));if(r&&r.allowGrouping){var o=this.option("grouping.texts"),s=JB.bind(this,r);(t=[]).push({text:o.ungroup,value:"ungroup",onItemClick:s},{text:o.ungroupAll,value:"ungroupAll",onItemClick:s})}}return t},_rowClick(e){var n=this.option("grouping.expandMode"),i="infinite"!==this.option("scrolling.mode")&&"rowClick"===n&&x(e.event.target).closest(".".concat("dx-group-row")).length,r=x(e.event.target).closest(".".concat("dx-datagrid-expand")).length;(i||r)&&this._changeGroupRowState(e),this.callBase(e)},_changeGroupRowState(e){var n=this.getController("data"),t=n.items()[e.rowIndex],i=this._columnsController.columnOption("groupIndex:".concat(t.groupIndex),"allowCollapsing");("data"===t.rowType||"group"===t.rowType&&!1!==i)&&(n.changeRowExpand(t.key,!0),e.event.preventDefault(),e.handled=!0)}},Jle={getContextMenuItems(e){var n=this.option("grouping.contextMenuEnabled"),t=this.callBase(e);if(n&&e.row&&("header"===e.row.rowType||"detailAdaptive"===e.row.rowType)){var{column:i}=e;if(!i.command&&(!T(i.allowGrouping)||i.allowGrouping)){var r=this.option("grouping.texts"),o=T(i.groupIndex)&&i.groupIndex>-1,s=JB.bind(this,i);(t=t||[]).push({text:r.groupByThisColumn,value:"group",beginGroup:!0,disabled:o,onItemClick:s}),i.showWhenGrouped&&t.push({text:r.ungroup,value:"ungroup",disabled:!o,onItemClick:s}),t.push({text:r.ungroupAll,value:"ungroupAll",onItemClick:s})}}return t},allowDragging(e){var n=this.option("groupPanel");return r2(n,e)||this.callBase(e)}};Ge.registerModule("grouping",{defaultOptions:()=>({grouping:{autoExpandAll:!0,allowCollapsing:!0,contextMenuEnabled:!1,expandMode:"buttonClick",texts:{groupContinuesMessage:J.format("dxDataGrid-groupContinuesMessage"),groupContinuedMessage:J.format("dxDataGrid-groupContinuedMessage"),groupByThisColumn:J.format("dxDataGrid-groupHeaderText"),ungroup:J.format("dxDataGrid-ungroupHeaderText"),ungroupAll:J.format("dxDataGrid-ungroupAllText")}},groupPanel:{visible:!1,emptyPanelText:J.format("dxDataGrid-groupPanelEmptyText"),allowColumnDragging:!0}}),extenders:{controllers:{data:Kle,columns:{_getExpandColumnOptions(){var e=this.callBase.apply(this,arguments);return e.cellTemplate=Ge.getExpandCellTemplate(),e}},editing:{_isProcessedItem:e=>T(e.groupIndex)&&je(e.rowType)&&0===e.rowType.indexOf("group")}},views:{headerPanel:Yle,rowsView:qle,columnHeadersView:Jle}}});var o2="dx-master-detail-row",ede={defaultOptions:()=>({masterDetail:{enabled:!1,autoExpandAll:!1,template:null}}),extenders:{controllers:{columns:{_getExpandColumnsCore(){var e=this.callBase();return this.option("masterDetail.enabled")&&e.push({type:"detailExpand",cellTemplate:xe.getExpandCellTemplate()}),e}},data:function(){var e=function(n){n._expandedItems=[],n._isExpandAll=n.option("masterDetail.autoExpandAll")};return{init(){e(this),this.callBase()},expandAll(n){n<0?(this._isExpandAll=!0,this._expandedItems=[],this.updateItems()):this.callBase.apply(this,arguments)},collapseAll(n){n<0?(this._isExpandAll=!1,this._expandedItems=[],this.updateItems()):this.callBase.apply(this,arguments)},isRowExpanded(n){var t=xe.getIndexByKey(n,this._expandedItems);return Array.isArray(n)?this.callBase.apply(this,arguments):!!(this._isExpandAll^(t>=0&&this._expandedItems[t].visible))},_getRowIndicesForExpand(n){var t=this.getRowIndexByKey(n);return[t,t+1]},_changeRowExpandCore(n){var t;if(Array.isArray(n))t=this.callBase.apply(this,arguments);else{var i=xe.getIndexByKey(n,this._expandedItems);if(i>=0){var{visible:r}=this._expandedItems[i];this._expandedItems[i].visible=!r}else this._expandedItems.push({key:n,visible:!0});this.updateItems({changeType:"update",rowIndices:this._getRowIndicesForExpand(n)}),t=(new W).resolve()}return t},_processDataItem(n,t){var i=this.callBase.apply(this,arguments);return i.isExpanded=this.isRowExpanded(i.key),void 0===t.detailColumnIndex&&(t.detailColumnIndex=-1,B(t.visibleColumns,(r,o)=>{if("expand"===o.command&&!T(o.groupIndex))return t.detailColumnIndex=r,!1})),t.detailColumnIndex>=0&&(i.values[t.detailColumnIndex]=i.isExpanded),i},_processItems(n,t){var i=this,{changeType:r}=t,o=[];return n=i.callBase.apply(i,arguments),"loadingAll"===r?n:("refresh"===r&&(i._expandedItems=Ii(i._expandedItems,s=>s.visible)),B(n,(s,l)=>{o.push(l);var h=xe.getIndexByKey(l.key,i._expandedItems);"data"===l.rowType&&(l.isExpanded||h>=0)&&!l.isNewRow&&o.push({visible:l.isExpanded,rowType:"detail",key:l.key,data:l.data,values:[]})}),o)},optionChanged(n){var t,i;if("masterDetail"===n.name){switch(n.name="dataSource",n.fullName){case"masterDetail":var r=n.value||{},o=n.previousValue||{};t=r.enabled!==o.enabled,i=r.autoExpandAll!==o.autoExpandAll;break;case"masterDetail.template":e(this);break;case"masterDetail.enabled":t=!0;break;case"masterDetail.autoExpandAll":i=!0}(t||i)&&e(this)}this.callBase(n)}}}(),resizing:{fireContentReadyAction(){this.callBase.apply(this,arguments),this._updateParentDataGrids(this.component.$element())},_updateParentDataGrids(e){var n=e.closest(".".concat(o2));n.length&&ke(this._updateMasterDataGrid(n,e)).done(()=>{this._updateParentDataGrids(n.parent())})},_updateMasterDataGrid(e,n){var t=x(e).data("options"),i=x(e).closest(".".concat(this.getWidgetContainerClass())).parent().data("dxDataGrid");if(t&&i)return this._updateMasterDataGridCore(i,t)},_updateMasterDataGridCore(e,n){var t=W();if(e.getView("rowsView").isFixedColumns())this._updateFixedMasterDetailGrids(e,n.rowIndex,x(n.rowElement)).done(t.resolve);else{if(!0===e.option("scrolling.useNative"))return void e.updateDimensions().done(()=>t.resolve(!0));var i=e.getScrollable();i?i?.update().done(()=>t.resolve()):t.resolve()}return t.promise()},_updateFixedMasterDetailGrids(e,n,t){var i=W(),r=x(e.getRowElement(n)),o=x(e.getView("rowsView").getTableElements()),s=2===r?.length&&gt(r.eq(0))!==gt(r.eq(1)),l=2===o?.length&&gt(o.eq(0))!==gt(o.eq(1));if(s||l){var h=Ze(t);return e.updateDimensions().done(()=>{var g=this.option("columnAutoWidth")&&!0===e.option("scrolling.useNative"),_=g&&h!==Ze(t);g&&_?this.updateDimensions().done(()=>i.resolve(!0)):i.resolve(!0)}),i.promise()}return W().resolve()},_toggleBestFitMode(e){if(this.callBase.apply(this,arguments),this.option("masterDetail.template")){var n=this._rowsView.getTableElement();n&&n.find(".dx-master-detail-cell").css("maxWidth",e?0:"")}}}},views:{rowsView:{_getCellTemplate(e){var{column:n}=e,t=this.getController("editing"),i=t&&t.isEditRow(e.rowIndex);return"detail"!==n.command||i?this.callBase.apply(this,arguments):this.option("masterDetail.template")||{allowRenderToDetachedContainer:!1,render:this._getDefaultTemplate(n)}},_isDetailRow:e=>e&&e.rowType&&0===e.rowType.indexOf("detail"),_createRow(e){var n=this.callBase.apply(this,arguments);return e&&this._isDetailRow(e)&&(this.option("showRowLines")&&n.addClass("dx-row-lines"),n.addClass(o2),T(e.visible)&&n.toggle(e.visible)),n},_renderCells(e,n){var{row:t}=n,r=this._columnsController.getVisibleColumns();t.rowType&&this._isDetailRow(t)?this._needRenderCell(0,n.columnIndices)&&this._renderCell(e,{value:null,row:t,rowIndex:t.rowIndex,column:{command:"detail"},columnIndex:0,change:n.change}).addClass("dx-cell-focus-disabled").addClass("dx-master-detail-cell").attr("colSpan",r.length):this.callBase.apply(this,arguments)}}}}};Ge.registerModule("masterDetail",ede);var E0=function(e){for(var n=0,t=0,i=0;i<e.length;++i)if("'"===e[i]&&n++,"."===e[i]&&(++t,n%2==0))return{occurrence:t,index:i};return{occurrence:1,index:-1}},XB=function(e,n,t){for(var i=-1;t--&&i++<e.length;)i=e.indexOf(n,i);return i},ZB=function(e,n){return-1===n?[e]:[e.slice(0,n),e.slice(n+1)]},w0=function(e,n){if("string"==typeof n){var t=n.split(";"),i=en.getSign(e,n);t[1]=t[1]||"-"+t[0],n=(n=t[i<0?1:0]).replace(/'([^']*)'/g,l=>l.split("").map(()=>" ").join("").substr(2));var r=/^[^#0.,]*/.exec(n)[0].length,o=/[^#0.,]*$/.exec(n)[0].length;return{start:r,end:e.length-o}}return{start:0,end:e.length}},s2=function(e,n){var t=en.getDecimalSeparator(),i=new RegExp("[^0-9"+pa(t)+"]","g");return n.slice(0,e).replace(i,"").length},a2=function(e){return e.split("").reverse().join("")},l2=function(e,n){if(!e)return-1;for(var t=/[0-9]/g,i=1,r=null,o=t.exec(n);o;){if(r=o.index,i>=e)return r;i++,o=t.exec(n)}return null===r?n.length:r},wp=function(e,n){return void 0===e.start&&(e={start:e,end:e}),{start:e.start+n,end:e.end+n}};function oc(e,n,t){e=wp(e,0);var i=w0(n,t);return{start:cn(e.start,i.start,i.end),end:cn(e.end,i.start,i.end)}}var d2="dxNumberBox",u2=fe(Rt.up,d2),c2=fe(Rt.cancel,d2),ude=Ki.inherit({_getDefaultOptions:function(){return A(this.callBase(),{direction:"up",onChange:null,activeStateEnabled:!0,hoverStateEnabled:!0})},_initMarkup:function(){this.callBase();var e="dx-numberbox-spin-"+this.option("direction");this.$element().addClass("dx-numberbox-spin-button").addClass(e),this._spinIcon=x("<div>").addClass(e+"-icon").appendTo(this.$element())},_render:function(){this.callBase();var e=fe(Rt.down,this.NAME),n=this.$element();R.off(n,e),R.on(n,e,this._spinDownHandler.bind(this)),this._spinChangeHandler=this._createActionByOption("onChange")},_spinDownHandler:function(e){e.preventDefault(),this._clearTimer(),R.on(this.$element(),ec_name,function(){this._feedBackDeferred=new W,nJ(this._feedBackDeferred),this._spinChangeHandler({event:e}),this._holdTimer=setInterval(this._spinChangeHandler,100,{event:e})}.bind(this));var n=se.getDocument();R.on(n,u2,this._clearTimer.bind(this)),R.on(n,c2,this._clearTimer.bind(this)),this._spinChangeHandler({event:e})},_dispose:function(){this._clearTimer(),this.callBase()},_clearTimer:function(){R.off(this.$element(),ec_name);var e=se.getDocument();R.off(e,u2),R.off(e,c2),this._feedBackDeferred&&this._feedBackDeferred.resolve(),this._holdTimer&&clearInterval(this._holdTimer)},_optionChanged:function(e){switch(e.name){case"onChange":case"direction":this._invalidate();break;default:this.callBase(e)}}});const H_=ude;class gde extends Cw{_attachEvents(n,t){var{editor:i}=this,r=fe(Rt.down,i.NAME),o=t.children(),s=i._createAction(l=>i._spinButtonsPointerDownHandler(l));R.off(t,r),R.on(t,r,l=>s({event:l})),H_.getInstance(o.eq(0)).option("onChange",l=>i._spinUpChangeHandler(l)),H_.getInstance(o.eq(1)).option("onChange",l=>i._spinDownChangeHandler(l))}_create(){var{editor:n}=this,t=x("<div>").addClass("dx-numberbox-spin-container"),i=x("<div>").appendTo(t),r=x("<div>").appendTo(t),o=this._getOptions();return this._addToContainer(t),n._createComponent(i,H_,A({direction:"up"},o)),n._createComponent(r,H_,A({direction:"down"},o)),this._legacyRender(n.$element(),this._isTouchFriendly(),o.visible),{instance:t,$element:t}}_getOptions(){var{editor:n}=this;return{visible:this._isVisible(),disabled:n.option("disabled")}}_isVisible(){var{editor:n}=this;return super._isVisible()&&n.option("showSpinButtons")}_isTouchFriendly(){var{editor:n}=this;return n.option("showSpinButtons")&&n.option("useLargeSpinButtons")}_legacyRender(n,t,i){n.toggleClass("dx-numberbox-spin-touch-friendly",t),n.toggleClass("dx-numberbox-spin",i)}update(){if(super.update()){var{editor:t,instance:i}=this,r=t.$element(),o=this._isVisible(),s=this._isTouchFriendly(),l=i.children(),h=H_.getInstance(l.eq(0)),g=H_.getInstance(l.eq(1)),_=this._getOptions();h.option(_),g.option(_),this._legacyRender(r,s,o)}}}var fde=Math,mde=["tab","del","backspace","leftArrow","rightArrow","home","end","enter"],Cde=Qz.inherit({_supportedKeys:function(){return A(this.callBase(),{upArrow:function(e){Un(e)||(e.preventDefault(),e.stopPropagation(),this._spinUpChangeHandler(e))},downArrow:function(e){Un(e)||(e.preventDefault(),e.stopPropagation(),this._spinDownChangeHandler(e))},enter:function(){}})},_getDefaultOptions:function(){return A(this.callBase(),{value:0,min:void 0,max:void 0,step:1,showSpinButtons:!1,useLargeSpinButtons:!0,mode:"text",invalidValueMessage:J.format("dxNumberBox-invalidValueMessage"),buttons:void 0})},_useTemplates:function(){return!1},_getDefaultButtons:function(){return this.callBase().concat([{name:"spins",Ctor:gde}])},_isSupportInputMode:function(){var e=parseFloat(Gt.version);return Gt.chrome&&e>=66||Gt.safari&&e>=12},_defaultOptionsRules:function(){return this.callBase().concat([{device:function(){return $e.real().generic&&!$e.isSimulator()},options:{useLargeSpinButtons:!1}},{device:function(){return"desktop"!==$e.real().deviceType&&!this._isSupportInputMode()}.bind(this),options:{mode:"number"}}])},_initMarkup:function(){this._renderSubmitElement(),this.$element().addClass("dx-numberbox"),this.callBase()},_getDefaultAttributes:function(){var e=this.callBase();return e.inputmode="decimal",e},_renderContentImpl:function(){this.option("isValid")&&this._validateValue(this.option("value")),this.setAria("role","spinbutton")},_renderSubmitElement:function(){this._$submitElement=x("<input>").attr("type","hidden").appendTo(this.$element()),this._setSubmitValue(this.option("value"))},_setSubmitValue:function(e){this._getSubmitElement().val(function(e){var n=un().serverDecimalSeparator;return T(e)&&(e=e.toString().replace(".",n)),e}(e))},_getSubmitElement:function(){return this._$submitElement},_keyPressHandler:function(e){this.callBase(e);var n=_E(e);if(!/[\d.,eE\-+]/.test(n)){var i=xn(e);return Un(e)||i&&mde.includes(i)?void 0:(e.preventDefault(),!1)}this._keyPressed=!0},_onMouseWheel:function(e){this._spinValueChange(e.delta>0?1:-1,e)},_renderValue:function(){var e=this._input().val(),n=this.option("value");(!e.length||Number(e)!==n)&&(this._forceValueRender(),this._toggleEmptinessEventHandler());var t=T(n)?null:J.format("dxNumberBox-noDataText");return this.setAria({valuenow:Cn(n,""),valuetext:t}),this.option("text",this._input().val()),this._updateButtons(),(new W).resolve()},_forceValueRender:function(){var e=this.option("value"),n=Number(e),t=isNaN(n)?"":this._applyDisplayValueFormatter(e);this._renderDisplayText(t)},_applyDisplayValueFormatter:function(e){return this.option("displayValueFormatter")(e)},_renderProps:function(){this._input().prop({min:this.option("min"),max:this.option("max"),step:this.option("step")}),this.setAria({valuemin:Cn(this.option("min"),""),valuemax:Cn(this.option("max"),"")})},_spinButtonsPointerDownHandler:function(){var e=this._input();!this.option("useLargeSpinButtons")&&se.getActiveElement()!==e[0]&&R.trigger(e,"focus")},_spinUpChangeHandler:function(e){this.option("readOnly")||this._spinValueChange(1,e.event||e)},_spinDownChangeHandler:function(e){this.option("readOnly")||this._spinValueChange(-1,e.event||e)},_spinValueChange:function(e,n){var t=parseFloat(this.option("step"));if(0!==t){var i=parseFloat(this._normalizeInputValue())||0;i=this._correctRounding(i,t*e);var r=this.option("min"),o=this.option("max");T(r)&&(i=Math.max(r,i)),T(o)&&(i=Math.min(o,i)),this._saveValueChangeEvent(n),this.option("value",i)}},_correctRounding:function(e,n){var t=/[,.](.*)/,i=t.test(e),r=t.test(n);if(i||r){var o=i?t.exec(e)[0].length:0,s=r?t.exec(n)[0].length:0,l=fde.max(o,s);return this._round(e+n,l)}return e+n},_round:function(e,n){n=n||0;var t=Math.pow(10,n);return e*=t,Math.round(e)/t},_renderValueChangeEvent:function(){this.callBase();var e=fe("focusout","NumberBoxForceValueChange");R.off(this.element(),e),R.on(this.element(),e,this._forceRefreshInputValue.bind(this))},_forceRefreshInputValue:function(){if("number"!==this.option("mode")){var e=this._input(),n=this._applyDisplayValueFormatter(this.option("value"));e.val(null),e.val(n)}},_valueChangeEventHandler:function(e){var n=this._input(),t=this._normalizeText(),i=this._parseValue(t),r="."!==t&&"-"!==t;!this._isValueValid()||this._validateValue(i)?(r&&this.callBase(e,isNaN(i)?null:i),this._applyValueBoundaries(t,i),this.validationRequest.fire({value:i,editor:this})):n.val(this._applyDisplayValueFormatter(i))},_applyValueBoundaries:function(e,n){var t=this._isValueIncomplete(e),i=this._isValueInRange(e);!t&&!i&&null!==n&&Number(e)!==n&&this._input().val(this._applyDisplayValueFormatter(n))},_replaceCommaWithPoint:function(e){return e.replace(",",".")},_inputIsInvalid:function(){var e="number"===this.option("mode"),n=this._input().get(0).validity;return e&&n&&n.badInput},_renderDisplayText:function(e){this._inputIsInvalid()||this.callBase(e)},_isValueIncomplete:function(e){return/(^-$)|(^-?\d*\.$)|(\d+e-?$)/i.test(e)},_isValueInRange:function(e){return va(e,this.option("min"),this.option("max"))},_isNumber:function(e){return null!==this._parseValue(e)},_validateValue:function(e){var n=this._normalizeText(),t=this._isValueValid(),i=!0,r=this._isNumber(n);return isNaN(Number(e))&&(i=!1),!e&&t?i=!0:!r&&!t&&(i=!1),this.option({isValid:i,validationError:i?null:{editorSpecific:!0,message:this.option("invalidValueMessage")}}),i},_normalizeInputValue:function(){return this._parseValue(this._normalizeText())},_normalizeText:function(){var e=this._input().val().trim();return this._replaceCommaWithPoint(e)},_parseValue:function(e){var n=parseFloat(e);return isNaN(n)?null:cn(n,this.option("min"),this.option("max"))},_clearValue:function(){this._inputIsInvalid()&&(this._input().val(""),this._validateValue()),this.callBase()},reset:function(){null===this.option("value")?(this.option("text",""),this._input().length&&this._renderValue()):this.option("value",null)},_optionChanged:function(e){switch(e.name){case"value":this._validateValue(e.value),this._setSubmitValue(e.value),this.callBase(e),this._resumeValueChangeAction();break;case"step":this._renderProps();break;case"min":case"max":this._renderProps(),this.option("value",this._parseValue(this.option("value")));break;case"showSpinButtons":case"useLargeSpinButtons":this._updateButtons(["spins"]);break;case"invalidValueMessage":break;default:this.callBase(e)}}}),QB="dxNumberFormatter",Rx="minus",bde=Cde.inherit({_getDefaultOptions:function(){return A(this.callBase(),{useMaskBehavior:!0,format:null})},_isDeleteKey:function(e){return"del"===e},_supportedKeys:function(){return this._useMaskBehavior()?A(this.callBase(),{minus:this._revertSign.bind(this),del:this._removeHandler.bind(this),backspace:this._removeHandler.bind(this),leftArrow:this._arrowHandler.bind(this,-1),rightArrow:this._arrowHandler.bind(this,1),home:this._moveCaretToBoundaryEventHandler.bind(this,1),enter:this._updateFormattedValue.bind(this),end:this._moveCaretToBoundaryEventHandler.bind(this,-1)}):this.callBase()},_getTextSeparatorIndex:function(e){var n=en.getDecimalSeparator(),t=E0(this.option("format")).occurrence;return XB(e,n,t)},_focusInHandler:function(e){this._preventNestedFocusEvent(e)||(this.clearCaretTimeout(),this._caretTimeout=setTimeout(function(){this._caretTimeout=void 0;var n=this._caret();if(n.start===n.end&&this._useMaskBehavior()){var t=this._getInputVal(),i=this._getTextSeparatorIndex(t);i>=0?this._caret({start:i,end:i}):this._moveCaretToBoundaryEventHandler(-1,e)}}.bind(this),0)),this.callBase(e)},_focusOutHandler:function(e){var n=!this._preventNestedFocusEvent(e);n&&(this._focusOutOccurs=!0,this._useMaskBehavior()&&this._updateFormattedValue()),this.callBase(e),n&&(this._focusOutOccurs=!1)},_hasValueBeenChanged(e){var n=this._getFormatPattern(),t=this.option("value");return(this._format(t,n)||"")!==e},_updateFormattedValue:function(){var e=this._getInputVal();this._hasValueBeenChanged(e)&&(this._updateParsedValue(),this._adjustParsedValue(),this._setTextByParsedValue(),this._parsedValue!==this.option("value")&&R.trigger(this._input(),"change"))},_arrowHandler:function(e,n){if(this._useMaskBehavior()){var t=this._getInputVal(),i=this._getFormatPattern(),r=wp(this._caret(),e);(function(e,n,t){var i=oc(e=wp(e,0),n,t);return e.start>=i.start&&e.end<=i.end})(r,t,i)||(r=1===e?r.end:r.start,n.preventDefault(),this._caret(oc(r,t,i)))}},_moveCaretToBoundary:function(e){var n=w0(this._getInputVal(),this._getFormatPattern()),t=wp(1===e?n.start:n.end,0);this._caret(t)},_moveCaretToBoundaryEventHandler:function(e,n){!this._useMaskBehavior()||n&&n.shiftKey||(this._moveCaretToBoundary(e),n&&n.preventDefault())},_shouldMoveCaret:function(e,n){var t=en.getDecimalSeparator(),i=e.charAt(n.end)===t;return(this._lastKey===t||"."===this._lastKey||","===this._lastKey)&&i},_getInputVal:function(){return en.convertDigits(this._input().val(),!0)},_keyboardHandler:function(e){if(this.clearCaretTimeout(),this._lastKey=en.convertDigits(_E(e),!0),this._lastKeyName=xn(e),!this._shouldHandleKey(e.originalEvent))return this.callBase(e);var n=this._getInputVal(),t=this._caret(),r=this._tryParse(n,t,this._lastKeyName===Rx?"":this._lastKey);return this._shouldMoveCaret(n,t)&&(this._moveCaret(1),e.originalEvent.preventDefault()),void 0===r?this._lastKeyName!==Rx&&e.originalEvent.preventDefault():this._parsedValue=r,this.callBase(e)},_keyPressHandler:function(e){this._useMaskBehavior()||this.callBase(e)},_removeHandler:function(e){var n=this._caret(),t=this._getInputVal(),i=n.start,r=n.end;this._lastKey=_E(e),this._lastKeyName=xn(e);var o=this._isDeleteKey(this._lastKeyName),s=!o;if(i===r){if(!(s&&i>0||o&&i<t.length))return void e.preventDefault();o&&r++,s&&i--}var g=t.slice(i,r);if(this._isStub(g))this._moveCaret(o?1:-1),(this._parsedValue<0||1/this._parsedValue==-1/0)&&(this._revertSign(e),this._setTextByParsedValue(),this.option("valueChangeEvent").split(" ").includes("input")&&R.trigger(this._input(),"input")),e.preventDefault();else{var v=en.getDecimalSeparator();if(g!==v){if(r-i<t.length&&this._replaceSelectedText(t,{start:i,end:r},"").search(/[0-9]/)<0&&this._isValueInRange(0))return void(this._parsedValue=this._parsedValue<0||1/this._parsedValue==-1/0?-0:0);var w=this._tryParse(t,{start:i,end:r},"");void 0===w?e.preventDefault():this._parsedValue=w}else{var C=t.indexOf(v);this._isNonStubAfter(C+1)&&(this._moveCaret(o?1:-1),e.preventDefault())}}},_isPercentFormat:function(){return-1!==this._getFormatPattern().replace(/'[^']+'/g,"").indexOf("%")},_parse:function(e,n){var t=this.option("format"),i=Re(t.parser),r=i?t.parser:en.parse,o=0;if(!i){var s=E0(n).index,l=this._getTextSeparatorIndex(e),h=-1!==s?s:n.length,g=-1!==l?l:e.length;g>h&&-1===n.indexOf("#")&&(o=g-h)}return r(e=e.substr(o),n)},_format:function(e,n){var t=this.option("format"),i=t?.formatter||t,r=Re(i)?i:en.format;return null===e?"":r(e,n)},_getFormatPattern:function(){return this._currentFormat||this._updateFormat(),this._currentFormat},_updateFormat:function(){var e=this.option("format"),n=Re(e?.parser),t=je(e)&&(e.indexOf("0")>=0||e.indexOf("#")>=0);this._currentFormat=n||t||"exponential"===e||"exponential"===e?.type?e:function OS(e){var n=".",t=e(1).indexOf("100")>=0;n=GA(n,e,t,!0);var i=UA(n=GA(n,e,t,!1),e,t,!1),r=UA(n,e,t,!0);return r==="-"+i?i:i+";"+r}(o=>{var s=this._format(o,e);return en.convertDigits(s,!0)})},_getFormatForSign:function(e){var n=this._getFormatPattern();if(je(n)){var t=n.split(";"),i=en.getSign(e,n);return t[1]=t[1]||"-"+t[0],i<0?t[1]:t[0]}return en.getSign(e)<0?"-":""},_removeStubs:function(e,n){var t=this._getFormatForSign(e),i=en.getThousandsSeparator(),r=this._getStubs(t),o=e;if(r.length){var s=r[0],l=new RegExp("("+pa(r[1]||"")+")$","g"),h=new RegExp("[-"+pa(n?"":i)+"]","g");o=o.replace(s,"").replace(l,"").replace(h,"")}return o},_getStubs:function(e){var n=/[^']([#0.,]+)/g.exec(e),t=n&&n[0].trim();return e.split(t).map(function(i){return i.replace(/'/g,"")})},_truncateToPrecision:function(e,n){if(T(e)){var t=e.toString(),i=t.indexOf(".");if(t&&i>-1){var r=parseFloat(t.substr(0,i+n+1));return isNaN(r)?e:r}}return e},_tryParse:function(e,n,t){var i=this._replaceSelectedText(e,n,t),r=this._getFormatPattern(),o=n.start!==n.end,s=this._getParsedValue(i,r),l=!r.parser&&this._getPrecisionLimits(i).max,h=s!==this._parsedValue,_=t===en.getDecimalSeparator()&&0===l,v=!o&&!h&&"-"!==t&&!this._isValueIncomplete(i)&&this._isStub(t);if(!_&&!v&&(""===this._removeStubs(i)&&(s=Math.abs(0*this._parsedValue)),!isNaN(s)))return s=l?this._truncateToPrecision(null===s?this._parsedValue:s,l):s,!r.parser&&this._isPercentFormat()?function(e,n){return e&&bC(e/100,n)}(s,l):s},_getParsedValue:function(e,n){var t=en.getSign(e,n?.formatter||n),i=this._removeStubs(e,!0),r=this._parse(i,n),o=r<0?-1:1;return Vt(r)&&t!==o?t*r:r},_isValueIncomplete:function(e){if(!this._useMaskBehavior())return this.callBase(e);var n=this._caret(),t=en.getDecimalSeparator(),i=this._getTextSeparatorIndex(e),r=i>=0&&i<n.start,o=this._removeStubs(e,!0).split(t);if(!r||2!==o.length)return!1;var s=o[1].length,h=!!this._getFormatPattern().parser,g=!h&&this._getPrecisionLimits(this._getFormatPattern(),e),_=!!h||va(s,g.min,g.max),v="0"===o[1].charAt(s-1);return _&&(v||!s)},_isValueInRange:function(e){var n=Cn(this.option("min"),-1/0),t=Cn(this.option("max"),1/0);return va(e,n,t)},_setInputText:function(e){var n=en.convertDigits(e,!0),t=function(e,n,t,i){t=wp(t,0);var r=en.getDecimalSeparator(),o=function rde(e){return 1===e.length&&!!e.match(/^[,.][0-9]*$/g)}(e),s=E0(i).occurrence,l=o?0:XB(e,r,s),h=XB(n,r,s),g=ZB(e,l),_=ZB(n,h);if(-1!==l&&t.start>l){var b=s2(t.start-l-1,g[1]);return oc(_[1]?h+1+l2(b,_[1])+1:n.length,n,i)}var w=function(e){return e.replace(/[^0-9e]+$/,"")}(_[0]),k=s2(g[0].length-t.start,a2(g[0])),L=l2(k,a2(w));return oc(w.length-(L+1),n,i)}(this._getInputVal(),n,this._caret(),this._getFormatPattern());this._input().val(e),this._toggleEmptinessEventHandler(),this._formattedValue=e,this._focusOutOccurs||this._caret(t)},_useMaskBehavior:function(){return!!this.option("format")&&this.option("useMaskBehavior")},_renderInputType:function(){var e="number"===this.option("mode"),n="desktop"===$e.real().deviceType;this._useMaskBehavior()&&e?this._setInputType(n||this._isSupportInputMode()?"text":"tel"):this.callBase()},_isChar:function(e){return je(e)&&1===e.length},_moveCaret:function(e){if(e){var t=oc(wp(this._caret(),e),this._getInputVal(),this._getFormatPattern());this._caret(t)}},_shouldHandleKey:function(e){var n=xn(e),t=Un(e)||e.altKey||e.shiftKey||!this._isChar(n),i=n===Rx;return this._useMaskBehavior()&&!t&&!i},_renderInput:function(){this.callBase(),this._renderFormatter()},_renderFormatter:function(){this._clearCache(),this._detachFormatterEvents(),this._useMaskBehavior()&&this._attachFormatterEvents()},_detachFormatterEvents:function(){R.off(this._input(),"."+QB)},_isInputFromPaste:function(e){var n=e.originalEvent&&e.originalEvent.inputType;return T(n)?"insertFromPaste"===n:this._isValuePasted},_attachFormatterEvents:function(){var e=this._input();R.on(e,fe("input",QB),function(n){this._formatValue(n),this._isValuePasted=!1}.bind(this)),R.on(e,fe("dxclick",QB),function(){this._caretTimeout||(this._caretTimeout=setTimeout(function(){this._caretTimeout=void 0,this._caret(oc(this._caret(),this._getInputVal(),this._getFormatPattern()))}.bind(this),0))}.bind(this)),R.on(e,"dxdblclick",function(){this.clearCaretTimeout()}.bind(this))},clearCaretTimeout:function(){clearTimeout(this._caretTimeout),this._caretTimeout=void 0},_forceRefreshInputValue:function(){if(!this._useMaskBehavior())return this.callBase()},_isNonStubAfter:function(e){var n=this._getInputVal().slice(e);return n&&!this._isStub(n,!0)},_isStub:function(e,n){var t=pa(en.getDecimalSeparator());return new RegExp("^[^0-9"+t+"]+$","g").test(e)&&(n||this._isChar(e))},_parseValue:function(e){return this._useMaskBehavior()?this._parsedValue:this.callBase(e)},_getPrecisionLimits:function(e){var n=this._getFormatForSign(e),t=E0(n).index,i=(ZB(n,t)[1]||"").replace(/[^#0]/g,"");return{min:i.replace(/^(0*)#*/,"$1").length,max:i.length}},_revertSign:function(e){if(this._useMaskBehavior()){var n=this._caret();if(n.start!==n.end){if(xn(e)===Rx)return void this._applyRevertedSign(e,n,!0);this._caret(oc(0,this._getInputVal(),this._getFormatPattern()))}this._applyRevertedSign(e,n)}},_applyRevertedSign:function(e,n,t){var i=-1*Cn(this._parsedValue,null);if((this._isValueInRange(i)||0===i)&&(this._parsedValue=i,t)){var r=this._getFormatPattern(),o=this._getInputVal();this._setTextByParsedValue(),e.preventDefault();var s=this._getInputVal(),l=function(e,n,t){var i=w0(e,t);return w0(n,t).start-i.start}(o,s,r),h=oc(n=wp(n,l),s,r);this._caret(h)}},_removeMinusFromText:function(e,n){return this._lastKeyName===Rx&&"-"===e.charAt(n.start-1)?this._replaceSelectedText(e,{start:n.start-1,end:n.start},""):e},_setTextByParsedValue:function(){var e=this._getFormatPattern(),n=this._parseValue(),t=this._format(n,e)||"";this._setInputText(t)},_formatValue:function(e){var n=this._getInputVal(),t=this._caret(),i=this._removeMinusFromText(n,t),r=i!==n;if(n=i,!this._isInputFromPaste(e)&&this._isValueIncomplete(i))return this._formattedValue=n,void(r&&this._setTextByParsedValue());if(en.convertDigits(this._formattedValue,!0)!==n){var s=this._tryParse(n,t,"");T(s)&&(this._parsedValue=s)}this._setTextByParsedValue()},_renderDisplayText:function(){this._useMaskBehavior()?this._toggleEmptinessEventHandler():this.callBase.apply(this,arguments)},_renderValue:function(){return this._useMaskBehavior()&&(this._parsedValue=this.option("value"),this._setTextByParsedValue()),this.callBase()},_updateParsedValue:function(){var e=this._getInputVal();this._parsedValue=this._tryParse(e,this._caret())},_adjustParsedValue:function(){if(this._useMaskBehavior()){var n=this._removeStubs(this._getInputVal())?this._parseValue():null;if(!Vt(n))return void(this._parsedValue=n);this._parsedValue=cn(n,this.option("min"),this.option("max"))}},_valueChangeEventHandler:function(e){if(!this._useMaskBehavior())return this.callBase(e);var n=this._caret();this._saveValueChangeEvent(e),this._lastKey=null,this._lastKeyName=null,this._updateParsedValue(),this._adjustParsedValue(),this.option("value",this._parsedValue),n&&this._caret(n)},_optionChanged:function(e){switch(e.name){case"format":case"useMaskBehavior":this._renderInputType(),this._updateFormat(),this._renderFormatter(),this._renderValue(),this._refreshValueChangeEvent(),this._refreshEvents();break;case"min":case"max":this._adjustParsedValue(),this.callBase(e);break;default:this.callBase(e)}},_clearCache:function(){delete this._formattedValue,delete this._lastKey,delete this._lastKeyName,delete this._parsedValue,delete this._focusOutOccurs,clearTimeout(this._caretTimeout),delete this._caretTimeout},_clean:function(){this._clearCache(),this.callBase()}});const g2=bde;Dt("dxNumberBox",g2);const T0=g2;var f2=e=>e.getMonth()+1,_2=(e,n)=>{var t=e.getDate(),i=Px("M",e),r=cn(parseInt(n),i.min,i.max);e.setMonth(r-1,1);var{min:o,max:s}=Px("dM",e),l=cn(t,o,s);e.setDate(l)},Ode={a:e=>e.getHours()<12?0:1,E:"getDay",y:"getFullYear",M:f2,L:f2,d:"getDate",H:"getHours",h:"getHours",m:"getMinutes",s:"getSeconds",S:"getMilliseconds"},Dde=A({},hB,{a:(e,n)=>{var t=e.getHours();t>=12!=!!parseInt(n)&&e.setHours((t+12)%24)},d:(e,n)=>{n>Px("dM",e).max&&e.setMonth(e.getMonth()+1),e.setDate(n)},h:(e,n)=>{var t=e.getHours()>=12;e.setHours(+n%12+(t?12:0))},M:_2,L:_2,E:(e,n)=>{n<0||e.setDate(e.getDate()-e.getDay()+parseInt(n))},y:(e,n)=>{var t=e.getFullYear(),i=String(n).length,r=String(Px("y",e).max).length,o=parseInt(String(t).substr(0,r-i)+n);e.setFullYear(o)}}),Px=(e,n,t)=>{var i={y:{min:0,max:9999},M:{min:1,max:12},L:{min:1,max:12},d:{min:1,max:31},dM:{min:1,max:new Date(n.getFullYear(),n.getMonth()+1,0).getDate()},E:{min:0,max:6},H:{min:0,max:23},h:{min:0,max:12},m:{min:0,max:59},s:{min:0,max:59},S:{min:0,max:999},a:{min:0,max:1}};return i[t||e]||i.getAmPm},tL=["year","day","month","day"],m2=["hours","minutes","seconds","milliseconds"],La={SUPPORTED_FORMATS:["date","time","datetime"],ONE_MINUTE:6e4,ONE_DAY:864e5,ONE_YEAR:31536e6,MIN_DATEVIEW_DEFAULT_DATE:new Date(1900,0,1),MAX_DATEVIEW_DEFAULT_DATE:function(){var e=new Date;return new Date(e.getFullYear()+50,e.getMonth(),e.getDate(),23,59,59)}(),FORMATS_INFO:{date:{getStandardPattern:function(){return"yyyy-MM-dd"},components:tL},time:{getStandardPattern:function(){return"HH:mm"},components:m2},datetime:{getStandardPattern:function(){var e,n;return(n=x("<input>").attr("type","datetime")).val("2000-01-01T01:01Z"),n.val()&&(e="yyyy-MM-ddTHH:mmZ"),e||(e="yyyy-MM-ddTHH:mm:ssZ"),La.FORMATS_INFO.datetime.getStandardPattern=function(){return e},e},components:[...tL,...m2]},"datetime-local":{getStandardPattern:function(){return"yyyy-MM-ddTHH:mm:ss"},components:[...tL,"hours","minutes","seconds"]}},FORMATS_MAP:{date:"shortdate",time:"shorttime",datetime:"shortdateshorttime"},SUBMIT_FORMATS_MAP:{date:"date",time:"time",datetime:"datetime-local"},toStandardDateFormat:function(e,n){var t=La.FORMATS_INFO[n].getStandardPattern();return Qn.serializeDate(e,t)},fromStandardDateFormat:function(e){var n=Qn.dateParser(e);return ur(n)?n:void 0},getMaxMonthDay:function(e,n){return new Date(e,n+1,0).getDate()},mergeDates:function(e,n,t){if(!n)return n||null;if(!e||isNaN(e.getTime())){var i=new Date(null);e=new Date(i.getFullYear(),i.getMonth(),i.getDate())}var r=new Date(e.valueOf());return B(La.FORMATS_INFO[t].components,function(){var s=La.DATE_COMPONENTS_INFO[this];r[s.setter](n[s.getter]())}),r},getLongestCaptionIndex:function(e){var i,n=0,t=0;for(i=0;i<e.length;++i)e[i].length>t&&(n=i,t=e[i].length);return n},formatUsesMonthName:function(e){return Ct.formatUsesMonthName(e)},formatUsesDayName:function(e){return Ct.formatUsesDayName(e)},getLongestDate:function(e,n,t){var i=function(e){var n=typeof e;return"string"===n?"format":"object"===n&&void 0!==e.type?e.type:null}(e),r=9;(!i||La.formatUsesMonthName(i))&&(r=La.getLongestCaptionIndex(n));var o=new Date(1888,r,21,23,59,59,999);if(!i||La.formatUsesDayName(i)){var s=o.getDate()-o.getDay()+La.getLongestCaptionIndex(t);o.setDate(s)}return o},normalizeTime:function(e){e.setSeconds(0),e.setMilliseconds(0)}};La.DATE_COMPONENTS_INFO={year:{getter:"getFullYear",setter:"setFullYear",formatter:function(e,n){var t=new Date(n.getTime());return t.setFullYear(e),Ct.format(t,"yyyy")},startValue:void 0,endValue:void 0},day:{getter:"getDate",setter:"setDate",formatter:function(e,n){var t=new Date(n.getTime());return t.setDate(e),Ct.format(t,"d")},startValue:1,endValue:void 0},month:{getter:"getMonth",setter:"setMonth",formatter:function(e){return Ct.getMonthNames()[e]},startValue:0,endValue:11},hours:{getter:"getHours",setter:"setHours",formatter:function(e){return Ct.format(new Date(0,0,0,e),"hour")},startValue:0,endValue:23},minutes:{getter:"getMinutes",setter:"setMinutes",formatter:function(e){return Ct.format(new Date(0,0,0,0,e),"minute")},startValue:0,endValue:59},seconds:{getter:"getSeconds",setter:"setSeconds",formatter:function(e){return Ct.format(new Date(0,0,0,0,0,e),"second")},startValue:0,endValue:59},milliseconds:{getter:"getMilliseconds",setter:"setMilliseconds",formatter:function(e){return Ct.format(new Date(0,0,0,0,0,0,e),"millisecond")},startValue:0,endValue:999}};const bn=La;var y2="dxSwipeable",Ade={onStart:Gw,onUpdated:Uw,onEnd:ix,onCancel:"dxswipecancel"},x2=Ta.inherit({_getDefaultOptions:function(){return A(this.callBase(),{elastic:!0,immediate:!1,immediateTimeout:180,direction:"horizontal",itemSizeFunc:null,onStart:null,onUpdated:null,onEnd:null,onCancel:null})},_render:function(){this.callBase(),this.$element().addClass("dx-swipeable"),this._attachEventHandlers()},_attachEventHandlers:function(){if(this._detachEventHandlers(),!this.option("disabled")){var e=this.NAME;this._createEventData(),B(Ade,function(n,t){var i=this._createActionByOption(n,{context:this});t=fe(t,e),R.on(this.$element(),t,this._eventData,function(r){return i({event:r})})}.bind(this))}},_createEventData:function(){this._eventData={elastic:this.option("elastic"),itemSizeFunc:this.option("itemSizeFunc"),direction:this.option("direction"),immediate:this.option("immediate"),immediateTimeout:this.option("immediateTimeout")}},_detachEventHandlers:function(){R.off(this.$element(),"."+y2)},_optionChanged:function(e){switch(e.name){case"disabled":case"onStart":case"onUpdated":case"onEnd":case"onCancel":case"elastic":case"immediate":case"itemSizeFunc":case"direction":this._detachEventHandlers(),this._attachEventHandlers();break;case"rtlEnabled":break;default:this.callBase(e)}},_useTemplates:function(){return!1}});Yo(x2,y2);const nL=x2,Wde=class zde extends Ki{_getDefaultOptions(){return A(super._getDefaultOptions(),{onClick:null,onCaptionClick:null,type:"normal",stylingMode:"outlined",text:""})}_defaultOptionsRules(){return super._defaultOptionsRules().concat([{device:function(){return Wn()},options:{type:"default",stylingMode:"text"}}])}_init(){super._init(),this._initActions()}_initActions(){this._clickAction=this._createActionByOption("onClick"),this._captionClickAction=this._createActionByOption("onCaptionClick")}_initMarkup(){super._initMarkup(),this.$element().addClass("dx-calendar-navigator"),this._renderButtons(),this._renderCaption()}_renderButtons(){var{rtlEnabled:n,type:t,stylingMode:i}=this.option();this._prevButton=this._createComponent(x("<div>"),Ui,{focusStateEnabled:!1,icon:n?"chevronright":"chevronleft",onClick:l=>{this._clickAction({direction:-1,event:l})},type:t,stylingMode:i,integrationOptions:{}});var r=this._prevButton.$element().addClass("dx-calendar-navigator-previous-view").addClass("dx-calendar-navigator-previous-month");this._nextButton=this._createComponent(x("<div>"),Ui,{focusStateEnabled:!1,icon:n?"chevronleft":"chevronright",onClick:l=>{this._clickAction({direction:1,event:l})},type:t,stylingMode:i,integrationOptions:{}});var o=this._nextButton.$element().addClass("dx-calendar-navigator-next-view").addClass("dx-calendar-navigator-next-month");this._caption=this._createComponent(x("<div>").addClass("dx-calendar-caption-button"),Ui,{focusStateEnabled:!1,onClick:l=>{this._captionClickAction({event:l})},type:t,stylingMode:i,template:(l,h)=>{var{text:g}=this.option();g.split(" - ").forEach(v=>{x(h).append(x("<span>").addClass("dx-button-text").text(v))})},integrationOptions:{}});var s=this._caption.$element();this.$element().append(r,s,o)}_renderCaption(){this._caption.option("text",this.option("text"))}toggleButton(n,t){var r=this["_"+n+"Button"];r&&(r.option("disabled",t),r.$element().toggleClass("dx-calendar-disabled-navigator-link",t))}_optionChanged(n){"text"===n.name?this._renderCaption():super._optionChanged(n)}};var{abstract:Va}=Ki,iL="dx-calendar-empty-cell",b2="dx-calendar-selected-date",O2="dx-calendar-cell-in-range",rL="dx-calendar-cell-range-hover",oL="dx-calendar-cell-range-hover-start",sL="dx-calendar-cell-range-hover-end",D2="dx-calendar-range-start-date",S2="dx-calendar-range-end-date",aL="dx-calendar-contoured-date",E2="td:not(.".concat("dx-calendar-week-number-cell",")"),w2=fe(Kt,"dxCalendar"),I2=fe(tw,"dxCalendar"),lL="dxDateValueKey",Xde=Ki.inherit({_getViewName:function(){return"base"},_getDefaultOptions:function(){return A(this.callBase(),{date:new Date,focusStateEnabled:!1,cellTemplate:null,disabledDates:null,onCellClick:null,onCellHover:null,rowCount:3,colCount:4,allowValueSelection:!0,_todayDate:()=>new Date})},_initMarkup:function(){this.callBase(),this._renderImpl()},_renderImpl:function(){this.$element().append(this._createTable()),this._createDisabledDatesHandler(),this._renderBody(),this._renderContouredDate(),this._renderValue(),this._renderRange(),this._renderEvents()},_createTable:function(){this._$table=x("<table>");var e=J.format("dxCalendar-ariaWidgetName"),n=J.format("dxCalendar-ariaHotKeysInfo");return this.setAria({label:"".concat(e,". ").concat(n),role:"grid"},this._$table),this._$table},_renderBody:function(){this.$body=x("<tbody>").appendTo(this._$table);for(var e={cellDate:this._getFirstCellData(),prevCellDate:null},n=0,t=this.option("rowCount");n<t;n++){e.row=this._createRow();for(var i=0,r=this.option("colCount");i<r;i++)this._renderCell(e,i);this._renderWeekNumberCell(e)}},_createRow:function(){var e=se.createElement("tr");return this.setAria("role","row",x(e)),this.$body.get(0).appendChild(e),e},_createCell:function(e,n){var t=se.createElement("td"),i=x(t);return t.className=this._getClassNameByDate(e,n),t.setAttribute("data-value",Qn.serializeDate(e,Je.getShortDateFormat())),_n(t,lL,e),this.setAria({role:"gridcell",label:this.getCellAriaLabel(e)},i),{cell:t,$cell:i}},_renderCell:function(e,n){var{cellDate:t,prevCellDate:i,row:r}=e;i&&Je.fixTimezoneGap(i,t),e.prevCellDate=t;var{cell:o,$cell:s}=this._createCell(t,n),l=this.option("cellTemplate");x(r).append(o),l?l.render(this._prepareCellTemplateData(t,n,s)):o.innerHTML=this._getCellText(t),e.cellDate=this._getNextCellData(t)},_getClassNameByDate:function(e,n){var t="dx-calendar-cell";return this._isTodayCell(e)&&(t+=" ".concat("dx-calendar-today")),(this._isDateOutOfRange(e)||this.isDateDisabled(e))&&(t+=" ".concat(iL)),this._isOtherView(e)&&(t+=" ".concat("dx-calendar-other-view")),"range"===this.option("selectionMode")&&(0===n&&(t+=" ".concat("dx-calendar-cell-start-in-row")),n===this.option("colCount")-1&&(t+=" ".concat("dx-calendar-cell-end-in-row")),this._isStartDayOfMonth(e)&&(t+=" ".concat("dx-calendar-cell-start")),this._isEndDayOfMonth(e)&&(t+=" ".concat("dx-calendar-cell-end"))),t},_prepareCellTemplateData:function(e,n,t){var i=e instanceof Date;return{model:{text:i?this._getCellText(e):e,date:i?e:void 0,view:this._getViewName()},container:Ke(t),index:n}},_renderEvents:function(){this._createCellClickAction(),R.off(this._$table,w2),R.on(this._$table,w2,E2,e=>{x(e.currentTarget).hasClass(iL)||this._cellClickAction({event:e,value:x(e.currentTarget).data(lL)})}),R.off(this._$table,I2),"range"===this.option("selectionMode")&&(this._createCellHoverAction(),R.on(this._$table,I2,E2,e=>{x(e.currentTarget).hasClass(iL)||this._cellHoverAction({event:e,value:x(e.currentTarget).data(lL)})}))},_createCellClickAction:function(){this._cellClickAction=this._createActionByOption("onCellClick")},_createCellHoverAction:function(){this._cellHoverAction=this._createActionByOption("onCellHover")},_createDisabledDatesHandler:function(){var e=this.option("disabledDates");this._disabledDatesHandler=Array.isArray(e)?this._getDefaultDisabledDatesHandler(e):e||U},_getDefaultDisabledDatesHandler:function(e){return U},_isTodayCell:Va,_isDateOutOfRange:Va,isDateDisabled:function(e){var n={date:e,view:this._getViewName()};return this._disabledDatesHandler(n)},_isOtherView:Va,_isStartDayOfMonth:Va,_isEndDayOfMonth:Va,_getCellText:Va,_getFirstCellData:Va,_getNextCellData:Va,_renderContouredDate:function(e){if(this.option("focusStateEnabled")){e=e||this.option("contouredDate");var n=this._getContouredCell(),t=this._getCellByDate(e);n.removeClass(aL),e&&t.addClass(aL)}},_getContouredCell:function(){return this._$table.find(".".concat(aL))},_renderValue:function(){if(this.option("allowValueSelection")){var e=this.option("value");Array.isArray(e)||(e=[e]),this._updateSelectedClass(e)}},_updateSelectedClass:function(e){var n;null===(n=this._$selectedCells)||void 0===n||n.forEach(t=>{t.removeClass(b2)}),this._$selectedCells=e.map(t=>this._getCellByDate(t)),this._$selectedCells.forEach(t=>{t.addClass(b2)})},_renderRange:function(){var e,n,t,i,r,o,s,l,{allowValueSelection:h,selectionMode:g,value:_,range:v}=this.option();!h||"range"!==g||(null===(e=this._$rangeCells)||void 0===e||e.forEach(C=>{C.removeClass(O2)}),null===(n=this._$hoveredRangeCells)||void 0===n||n.forEach(C=>{C.removeClass(rL)}),null===(t=this._$rangeStartHoverCell)||void 0===t||t.removeClass(oL),null===(i=this._$rangeEndHoverCell)||void 0===i||i.removeClass(sL),null===(r=this._$rangeStartDateCell)||void 0===r||r.removeClass(D2),null===(o=this._$rangeEndDateCell)||void 0===o||o.removeClass(S2),this._$rangeCells=v.map(C=>this._getCellByDate(C)),this._$rangeStartDateCell=this._getCellByDate(_[0]),this._$rangeEndDateCell=this._getCellByDate(_[1]),this._$rangeCells.forEach(C=>{C.addClass(O2)}),null===(s=this._$rangeStartDateCell)||void 0===s||s.addClass(D2),null===(l=this._$rangeEndDateCell)||void 0===l||l.addClass(S2))},_renderHoveredRange(){var e,n,t,i,r,{allowValueSelection:o,selectionMode:s,hoveredRange:l}=this.option();!o||"range"!==s||(null===(e=this._$hoveredRangeCells)||void 0===e||e.forEach(h=>{h.removeClass(rL)}),null===(n=this._$rangeStartHoverCell)||void 0===n||n.removeClass(oL),null===(t=this._$rangeEndHoverCell)||void 0===t||t.removeClass(sL),this._$hoveredRangeCells=l.map(h=>this._getCellByDate(h)),this._$rangeStartHoverCell=this._getCellByDate(l[0]),this._$rangeEndHoverCell=this._getCellByDate(l[l.length-1]),this._$hoveredRangeCells.forEach(h=>{h.addClass(rL)}),null===(i=this._$rangeStartHoverCell)||void 0===i||i.addClass(oL),null===(r=this._$rangeEndHoverCell)||void 0===r||r.addClass(sL))},getCellAriaLabel:function(e){return this._getCellText(e)},_getFirstAvailableDate:function(){var e=this.option("date"),n=this.option("min");return e=Je.getViewFirstCellDate(this._getViewName(),e),new Date(n&&e<n?n:e)},_getCellByDate:Va,isBoundary:Va,_optionChanged:function(e){var{name:n,value:t}=e;switch(n){case"value":this._renderValue();break;case"range":this._renderRange();break;case"hoveredRange":this._renderHoveredRange();break;case"contouredDate":this._renderContouredDate(t);break;case"onCellClick":this._createCellClickAction();break;case"onCellHover":this._createCellHoverAction();break;case"min":case"max":case"disabledDates":case"cellTemplate":case"selectionMode":this._invalidate();break;case"_todayDate":this._renderBody();break;default:this.callBase(e)}}});const M0=Xde;var tue={month:M0.inherit({_getViewName:function(){return"month"},_getDefaultOptions:function(){return A(this.callBase(),{firstDayOfWeek:0,rowCount:6,colCount:7})},_renderImpl:function(){this.callBase(),this._renderHeader()},_renderBody:function(){this.callBase(),this._$table.find(".".concat("dx-calendar-other-view")).addClass("dx-calendar-other-month")},_renderFocusTarget:U,getCellAriaLabel:function(e){return Ct.format(e,"longdate")},_renderHeader:function(){var e=x("<tr>"),n=x("<thead>").append(e);this._$table.prepend(n);for(var t=0,i=this.option("colCount");t<i;t++)this._renderHeaderCell(t,e);this.option("showWeekNumbers")&&this._renderWeekHeaderCell(e)},_renderHeaderCell:function(e,n){var{firstDayOfWeek:t}=this.option(),{full:i,abbreviated:r}=this._getDayCaption(t+e),o=x("<th>").attr({scope:"col",abbr:i}).text(r);n.append(o)},_renderWeekHeaderCell:function(e){var n=x("<th>").attr({scope:"col",abbr:"WeekNumber",class:"dx-week-number-header"});e.prepend(n)},_renderWeekNumberCell:function(e){var{showWeekNumbers:n,cellTemplate:t}=this.option();if(n){var i=this._getWeekNumber(e.prevCellDate),r=se.createElement("td"),o=x(r);r.className="dx-calendar-week-number-cell",t?t.render(this._prepareCellTemplateData(i,-1,o)):r.innerHTML=i,e.row.prepend(r),this.setAria({role:"gridcell",label:"Week ".concat(i)},o)}},_getWeekNumber:function(e){var{weekNumberRule:n,firstDayOfWeek:t}=this.option();return Je.getWeekNumber(e,t,"auto"===n?1===t?"firstFourDays":"firstDay":n)},getNavigatorCaption:function(){return Ct.format(this.option("date"),"monthandyear")},_isTodayCell:function(e){var n=this.option("_todayDate")();return Je.sameDate(e,n)},_isDateOutOfRange:function(e){var n=this.option("min"),t=this.option("max");return!Je.dateInRange(e,n,t,"date")},_isOtherView:function(e){return e.getMonth()!==this.option("date").getMonth()},_isStartDayOfMonth:function(e){return Je.sameDate(e,Je.getFirstMonthDate(this.option("date")))},_isEndDayOfMonth:function(e){return Je.sameDate(e,Je.getLastMonthDate(this.option("date")))},_getCellText:function(e){return Ct.format(e,"d")},_getDayCaption:function(e){var t=e%this.option("colCount");return{full:Ct.getDayNames()[t],abbreviated:Ct.getDayNames("abbreviated")[t]}},_getFirstCellData:function(){var{firstDayOfWeek:e}=this.option(),n=Je.getFirstMonthDate(this.option("date")),t=e-n.getDay(),i=this.option("colCount");return t>=0&&(t-=i),n.setDate(n.getDate()+t),n},_getNextCellData:function(e){return(e=new Date(e)).setDate(e.getDate()+1),e},_getCellByDate:function(e){return this._$table.find("td[data-value='".concat(Qn.serializeDate(e,Je.getShortDateFormat()),"']"))},isBoundary:function(e){return Je.sameMonthAndYear(e,this.option("min"))||Je.sameMonthAndYear(e,this.option("max"))},_getDefaultDisabledDatesHandler:function(e){return function(n){if(e.some(function(i){return Je.sameDate(i,n.date)}))return!0}}}),year:M0.inherit({_getViewName:function(){return"year"},_isTodayCell:function(e){var n=this.option("_todayDate")();return Je.sameMonthAndYear(e,n)},_isDateOutOfRange:function(e){return!Je.dateInRange(e,Je.getFirstMonthDate(this.option("min")),Je.getLastMonthDate(this.option("max")))},_isOtherView:function(){return!1},_isStartDayOfMonth:function(){return!1},_isEndDayOfMonth:function(){return!1},_getCellText:function(e){return Ct.getMonthNames("abbreviated")[e.getMonth()]},_getFirstCellData:function(){var e=this.option("date"),n=new Date(e);return n.setDate(1),n.setMonth(0),n},_getNextCellData:function(e){return(e=new Date(e)).setMonth(e.getMonth()+1),e},_getCellByDate:function(e){var n=new Date(e);return n.setDate(1),this._$table.find("td[data-value='".concat(Qn.serializeDate(n,Je.getShortDateFormat()),"']"))},getCellAriaLabel:function(e){return Ct.format(e,"monthandyear")},getNavigatorCaption:function(){return Ct.format(this.option("date"),"yyyy")},isBoundary:function(e){return Je.sameYear(e,this.option("min"))||Je.sameYear(e,this.option("max"))},_renderWeekNumberCell:U}),decade:M0.inherit({_getViewName:function(){return"decade"},_isTodayCell:function(e){var n=this.option("_todayDate")();return Je.sameYear(e,n)},_isDateOutOfRange:function(e){var n=this.option("min"),t=this.option("max");return!Je.dateInRange(e.getFullYear(),n&&n.getFullYear(),t&&t.getFullYear())},_isOtherView:function(e){var n=new Date(e);return n.setMonth(1),!Je.sameDecade(n,this.option("date"))},_isStartDayOfMonth:function(){return!1},_isEndDayOfMonth:function(){return!1},_getCellText:function(e){return Ct.format(e,"yyyy")},_getFirstCellData:function(){var e=Je.getFirstYearInDecade(this.option("date"))-1;return Je.createDateWithFullYear(e,0,1)},_getNextCellData:function(e){return(e=new Date(e)).setFullYear(e.getFullYear()+1),e},getNavigatorCaption:function(){var e=this.option("date"),n=Je.getFirstYearInDecade(e),t=new Date(e),i=new Date(e);return t.setFullYear(n),i.setFullYear(n+9),Ct.format(t,"yyyy")+"-"+Ct.format(i,"yyyy")},_isValueOnCurrentView:function(e,n){return Je.sameDecade(e,n)},_getCellByDate:function(e){var n=new Date(e);return n.setDate(1),n.setMonth(0),this._$table.find("td[data-value='".concat(Qn.serializeDate(n,Je.getShortDateFormat()),"']"))},isBoundary:function(e){return Je.sameDecade(e,this.option("min"))||Je.sameDecade(e,this.option("max"))},_renderWeekNumberCell:U}),century:M0.inherit({_getViewName:function(){return"century"},_isTodayCell:function(e){var n=this.option("_todayDate")();return Je.sameDecade(e,n)},_isDateOutOfRange:function(e){var n=Je.getFirstYearInDecade(e),t=Je.getFirstYearInDecade(this.option("min")),i=Je.getFirstYearInDecade(this.option("max"));return!Je.dateInRange(n,t,i)},_isOtherView:function(e){var n=new Date(e);return n.setMonth(1),!Je.sameCentury(n,this.option("date"))},_isStartDayOfMonth:function(){return!1},_isEndDayOfMonth:function(){return!1},_getCellText:function(e){var n=Ct.format(e,"yyyy"),t=new Date(e);return t.setFullYear(t.getFullYear()+9),n+" - "+Ct.format(t,"yyyy")},_getFirstCellData:function(){var e=Je.getFirstDecadeInCentury(this.option("date"))-10;return Je.createDateWithFullYear(e,0,1)},_getNextCellData:function(e){return(e=new Date(e)).setFullYear(e.getFullYear()+10),e},_getCellByDate:function(e){var n=new Date(e);return n.setDate(1),n.setMonth(0),n.setFullYear(Je.getFirstYearInDecade(n)),this._$table.find("td[data-value='".concat(Qn.serializeDate(n,Je.getShortDateFormat()),"']"))},getNavigatorCaption:function(){var e=this.option("date"),n=Je.getFirstDecadeInCentury(e),t=new Date(e),i=new Date(e);return t.setFullYear(n),i.setFullYear(n+99),Ct.format(t,"yyyy")+"-"+Ct.format(i,"yyyy")},isBoundary:function(e){return Je.sameCentury(e,this.option("min"))||Je.sameCentury(e,this.option("max"))},_renderWeekNumberCell:U})};const nue=tue,dL=class iue{constructor(n){this.calendar=n}dateOption(n){return this.calendar._dateOption(n)}dateValue(n,t){this.calendar._dateValue(n,t)}skipNavigate(){this.calendar._skipNavigate=!0}updateAriaSelected(n,t){this.calendar._updateAriaSelected(n,t),n[0]&&this.calendar.option("currentDate").getTime()===n[0].getTime()&&this.calendar._updateAriaId(n[0])}processValueChanged(n,t){var i,r;n=(null===(i=n)||void 0===i?void 0:i.map(o=>this._convertToDate(o)))||[],t=(null===(r=t)||void 0===r?void 0:r.map(o=>this._convertToDate(o)))||[],this._updateViewsValue(n),this.updateAriaSelected(n,t),this._currentDateChanged||this.calendar._initCurrentDate(),this._currentDateChanged=!1}_getLowestDateInArray(n){if(n.length)return new Date(Math.min(...n))}_convertToDate(n){return this.calendar._convertToDate(n)}_isMaxZoomLevel(){return this.calendar._isMaxZoomLevel()}_updateViewsOption(n,t){this.calendar._updateViewsOption(n,t)}_updateViewsValue(n){this._updateViewsOption("value",n)}_updateCurrentDate(n){this.calendar.option("currentDate",n??new Date)}};var M2=10368e6;var A2="dx-calendar-view",F2=fe(Py,"dxCalendar"),z_={month:3,year:2,decade:1,century:0},Oue={SingleSelection:class rue extends dL{constructor(n){super(n),this.NAME="SingleSelection"}getViewOptions(){return{value:this.dateOption("value"),range:[],selectionMode:"single"}}selectValue(n,t){this.skipNavigate(),this.dateValue(n,t)}updateAriaSelected(n,t){var i,r;null!==(i=n)&&void 0!==i||(n=[this.dateOption("value")]),null!==(r=t)&&void 0!==r||(t=[]),super.updateAriaSelected(n,t)}getDefaultCurrentDate(){return this.dateOption("value")}_updateViewsValue(n){this._updateViewsOption("value",n[0])}},MultiSelection:class sue extends dL{constructor(n){super(n),this.NAME="MultiSelection"}getViewOptions(){return{value:this.dateOption("values"),range:[],selectionMode:"multi"}}selectValue(n,t){var i=[...this.dateOption("values")],r=i.findIndex(o=>o?.toDateString()===n.toDateString());r>-1?i.splice(r,1):i.push(n),this.skipNavigate(),this._updateCurrentDate(n),this._currentDateChanged=!0,this.dateValue(i,t)}updateAriaSelected(n,t){var i,r;null!==(i=n)&&void 0!==i||(n=this.dateOption("values")),null!==(r=t)&&void 0!==r||(t=[]),super.updateAriaSelected(n,t)}getDefaultCurrentDate(){var n=this.dateOption("values").filter(t=>t);return this._getLowestDateInArray(n)}},RangeSelection:class lue extends dL{constructor(n){super(n),this.NAME="RangeSelection"}getViewOptions(){var n=this._getValues();return{value:n,range:this._getDaysInRange(n[0],n[1]),selectionMode:"range",onCellHover:this._cellHoverHandler.bind(this)}}selectValue(n,t){var[i,r]=this._getValues();this.skipNavigate(),this._updateCurrentDate(n),this._currentDateChanged=!0,!0===this.calendar.option("_allowChangeSelectionOrder")?(this.calendar._valueSelected=!0,"startDate"===this.calendar.option("_currentSelection")?this.calendar._convertToDate(n)>this.calendar._convertToDate(r)?this.dateValue([n,null],t):this.dateValue([n,r],t):this.calendar._convertToDate(n)>=this.calendar._convertToDate(i)?this.dateValue([i,n],t):this.dateValue([n,null],t)):this.dateValue(!i||r?[n,null]:i<n?[i,n]:[n,i],t)}updateAriaSelected(n,t){var i,r;null!==(i=n)&&void 0!==i||(n=this._getValues()),null!==(r=t)&&void 0!==r||(t=[]),super.updateAriaSelected(n,t)}processValueChanged(n,t){super.processValueChanged(n,t);var i=this._getRange();this._updateViewsOption("range",i)}getDefaultCurrentDate(){var{_allowChangeSelectionOrder:n,_currentSelection:t}=this.calendar.option(),i=this.dateOption("values");if(n){if("startDate"===t&&i[0])return i[0];if("endDate"===t&&i[1])return i[1]}var r=i.filter(o=>o);return this._getLowestDateInArray(r)}_getValues(){var n=this.dateOption("values");if(!n.length)return n;var[t,i]=n;return t&&i&&t>i&&([t,i]=[i,t]),[t,i]}_getRange(){var[n,t]=this._getValues();return this._getDaysInRange(n,t)}_getDaysInRange(n,t){if(!n||!t)return[];var i=this.calendar.option("currentDate").getTime(),r=new Date(Math.max(i-M2,n)),o=new Date(Math.min(i+M2,t));return[...Je.getDatesOfInterval(r,o,864e5),o]}_cellHoverHandler(n){var t=this._isMaxZoomLevel(),[i,r]=this._getValues(),{_allowChangeSelectionOrder:o,_currentSelection:s}=this.calendar.option();if(t){if(!i||r||o&&"startDate"===s){if(i||!r||o&&"endDate"===s){if(i&&r){if("startDate"===s&&n.value<i)return void this._updateViewsOption("hoveredRange",this._getDaysInRange(n.value,i));if("endDate"===s&&n.value>r)return void this._updateViewsOption("hoveredRange",this._getDaysInRange(r,n.value))}}else if(n.value<r)return void this._updateViewsOption("hoveredRange",this._getDaysInRange(n.value,r))}else if(n.value>i)return void this._updateViewsOption("hoveredRange",this._getDaysInRange(i,n.value));this._updateViewsOption("hoveredRange",[])}}}},k2=Ul.inherit({_activeStateUnit:".dx-calendar-cell",_getDefaultOptions:function(){return A(this.callBase(),{hoverStateEnabled:!0,activeStateEnabled:!0,currentDate:new Date,value:null,values:[],dateSerializationFormat:void 0,min:new Date(1e3,0),max:new Date(3e3,0),firstDayOfWeek:void 0,viewsCount:1,zoomLevel:"month",maxZoomLevel:"month",minZoomLevel:"century",selectionMode:"single",showTodayButton:!1,showWeekNumbers:!1,weekNumberRule:"auto",cellTemplate:"cell",disabledDates:null,onCellClick:null,onContouredChanged:null,skipFocusCheck:!1,_todayDate:()=>new Date})},_defaultOptionsRules:function(){return this.callBase().concat([{device:function(){return"desktop"===$e.real().deviceType&&!$e.isSimulator()},options:{focusStateEnabled:!0}}])},_supportedKeys:function(){return A(this.callBase(),{rightArrow:function(e){e.preventDefault(),Un(e)?this._waitRenderView(1):this._moveCurrentDateByOffset(1*this._getRtlCorrection())},leftArrow:function(e){e.preventDefault(),Un(e)?this._waitRenderView(-1):this._moveCurrentDateByOffset(-1*this._getRtlCorrection())},upArrow:function(e){if(e.preventDefault(),Un(e))this._navigateUp();else{if(An.isAnimating(this._view.$element()))return;this._moveCurrentDateByOffset(-1*this._view.option("colCount"))}},downArrow:function(e){if(e.preventDefault(),Un(e))this._navigateDown();else{if(An.isAnimating(this._view.$element()))return;this._moveCurrentDateByOffset(1*this._view.option("colCount"))}},home:function(e){e.preventDefault();var n=this.option("zoomLevel"),t=this.option("currentDate"),i=this._dateOption("min");if(!this._view.isDateDisabled(t)){var r=Je.sameView(n,t,i)?i:Je.getViewFirstCellDate(n,t);this._moveToClosestAvailableDate(r)}},end:function(e){e.preventDefault();var n=this.option("zoomLevel"),t=this.option("currentDate"),i=this._dateOption("max");if(!this._view.isDateDisabled(t)){var r=Je.sameView(n,t,i)?i:Je.getViewLastCellDate(n,t);this._moveToClosestAvailableDate(r)}},pageUp:function(e){e.preventDefault(),this._waitRenderView(-1*this._getRtlCorrection())},pageDown:function(e){e.preventDefault(),this._waitRenderView(1*this._getRtlCorrection())},tab:U,enter:this._enterKeyHandler})},_enterKeyHandler:function(e){if(this._isMaxZoomLevel()){if(!this._view.isDateDisabled(this.option("currentDate"))){var n=this._updateTimeComponent(this.option("currentDate"));this._selectionStrategy.selectValue(n,e)}}else this._navigateDown()},_getSerializationFormat:function(e){var n=this.option(e||"value");return this.option("dateSerializationFormat")?this.option("dateSerializationFormat"):Vt(n)?"number":je(n)?Qn.getDateSerializationFormat(n):void 0},_convertToDate:function(e){return Qn.deserializeDate(e)},_dateValue:function(e,n){var t=Array.isArray(e)?"values":"value";if(n){if("keydown"===n.type){var i=this._view._getContouredCell().get(0);n.target=i}this._saveValueChangeEvent(n)}this._dateOption(t,e)},_dateOption:function(e,n){if(1===arguments.length){var t,i=null!==(t=this.option("values"))&&void 0!==t?t:[];return"values"===e?i.map(s=>this._convertToDate(s)):this._convertToDate(this.option(e))}var r=this._getSerializationFormat(e),o="values"===e?n?.map(s=>Qn.serializeDate(s,r))||[]:Qn.serializeDate(n,r);this.option(e,o)},_shiftDate:function(e,n,t,i){switch(e){case"month":n.setDate(n.getDate()+t*i);break;case"year":n.setMonth(n.getMonth()+t*i);break;case"decade":n.setFullYear(n.getFullYear()+t*i);break;case"century":n.setFullYear(n.getFullYear()+10*t*i)}},_moveCurrentDateByOffset:function(e){var n=this.option("currentDate"),t=new Date(n),i=this.option("zoomLevel");this._shiftDate(i,t,e,1);for(var r=this._getMaxDate(),o=this._getMinDate(),s=this._areDatesInNeighborView(i,t,n),l=va(t,o,r)&&s,h=new Date(t);l;){if(!this._view.isDateDisabled(h)){t=h;break}this._shiftDate(i,h,e,1),s=this._areDatesInNeighborView(i,h,n),l=va(h,o,r)&&s}this._view.isDateDisabled(n)||this._view.isDateDisabled(t)?this._waitRenderView(e>0?1:-1):(this._skipNavigate=!0,this.option("currentDate",t))},_areDatesInSameView(e,n,t){switch(e){case"month":return n.getMonth()===t.getMonth();case"year":return n.getYear()===t.getYear();case"decade":return parseInt(n.getYear()/10)===parseInt(t.getYear()/10);case"century":return parseInt(n.getYear()/100)===parseInt(t.getYear()/100)}},_areDatesInNeighborView(e,n,t){switch(e){case"month":return i=n.getMonth(),r=t.getMonth(),o=Math.abs(i-r),Math.min(o,12-o)<=1;case"year":return Math.abs(n.getYear()-t.getYear())<=1;case"decade":return Math.abs(n.getYear()-t.getYear())<=10;case"century":return Math.abs(n.getYear()-t.getYear())<=100}var i,r,o},_moveToClosestAvailableDate:function(){var s,l,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.option("currentDate"),n=new Date(e),t=this.option("zoomLevel"),i=!this._isDateNotAvailable(n),r=i,o=i,h=new Date(n),g=new Date(n);do{if(r){n=h;break}if(o){n=g;break}this._shiftDate(t,h,1,1),this._shiftDate(t,g,1,-1),s=this._areDatesInSameView(t,h,e),l=this._areDatesInSameView(t,g,e),r=s&&!this._isDateNotAvailable(h),o=l&&!this._isDateNotAvailable(g)}while(s||l);this.option("currentDate",n)},_isDateNotAvailable:function(e){var n=this._getMaxDate(),t=this._getMinDate();return!va(e,t,n)||this._view.isDateDisabled(e)},_init:function(){this.callBase(),this._initSelectionStrategy(),this._correctZoomLevel(),this._initCurrentDate(),this._initActions()},_initSelectionStrategy:function(){var e=this._getSelectionStrategyName();(!this._selectionStrategy||this._selectionStrategy.NAME!==e)&&(this._selectionStrategy=new(0,Oue[e])(this))},_refreshSelectionStrategy:function(){this._initSelectionStrategy(),this._refresh()},_getSelectionStrategyName:function(){switch(this.option("selectionMode")){case"multi":return"MultiSelection";case"range":return"RangeSelection";default:return"SingleSelection"}},_correctZoomLevel:function(){var e=this.option("minZoomLevel"),n=this.option("maxZoomLevel"),t=this.option("zoomLevel");z_[n]<z_[e]||(z_[t]>z_[n]?this.option("zoomLevel",n):z_[t]<z_[e]&&this.option("zoomLevel",e))},_initCurrentDate:function(){var e,n=null!==(e=this._getNormalizedDate(this._selectionStrategy.getDefaultCurrentDate()))&&void 0!==e?e:this._getNormalizedDate(this.option("currentDate"));this.option("currentDate",n)},_getNormalizedDate:function(e){return e=Je.normalizeDate(e,this._getMinDate(),this._getMaxDate()),T(e)?this._getDate(e):e},_initActions:function(){this._cellClickAction=this._createActionByOption("onCellClick"),this._onContouredChanged=this._createActionByOption("onContouredChanged")},_initTemplates:function(){this._templateManager.addDefaultTemplates({cell:new kl(function(e){var n=e.model;x(e.container).append(x("<span>").text(n&&n.text||String(n)))})}),this.callBase()},_updateCurrentDate:function(e){if(An.isAnimating(this._$viewsWrapper)&&An.stop(this._$viewsWrapper,!0),this._getMinDate()>this._getMaxDate())this.option("currentDate",new Date);else{var i=this._getNormalizedDate(e);if(e.getTime()===i.getTime()){var r=this._getViewsOffset(this._view.option("date"),i);0!==r&&!this._isMaxZoomLevel()&&this._isOtherViewCellClicked&&(r=0),this._view&&0!==r&&!this._suppressNavigation?this._additionalView?r>2||r<-1?(this._refreshViews(),this._setViewContoured(i),this._updateAriaId(i),this._renderNavigator()):1===r&&this._skipNavigate?(this._setViewContoured(i),this._updateAriaId(i)):this._navigate(r,i):this._navigate(r,i):(this._renderNavigator(),this._setViewContoured(i),this._updateAriaId(i)),this._skipNavigate=!1}else this.option("currentDate",new Date(i))}},_isAdditionalViewDate(e){return!!this._additionalView&&e>=this._additionalView._getFirstAvailableDate()},_getActiveView:function(e){return this._isAdditionalViewDate(e)?this._additionalView:this._view},_setViewContoured:function(e){var n;(this.option("skipFocusCheck")||function Due(e){return e.hasClass("dx-state-focused")}(this._focusTarget()))&&(this._view.option("contouredDate",null),null===(n=this._additionalView)||void 0===n||n.option("contouredDate",null),(this._isAdditionalViewDate(e)?this._additionalView:this._view).option("contouredDate",e))},_getMinDate:function(){return this.option("_rangeMin")||(this.min||(this.min=this._dateOption("min")||new Date(1e3,0)),this.min)},_getMaxDate:function(){return this.option("_rangeMax")||(this.max||(this.max=this._dateOption("max")||new Date(3e3,0)),this.max)},_getViewsOffset:function(e,n){var i,t=this.option("zoomLevel");if("month"===t)return this._getMonthsOffset(e,n);switch(t){case"century":i=100;break;case"decade":i=10;break;default:i=1}return parseInt(n.getFullYear()/i)-parseInt(e.getFullYear()/i)},_getMonthsOffset:function(e,n){return 12*(n.getFullYear()-e.getFullYear())+(n.getMonth()-e.getMonth())},_waitRenderView:function(e){if(!this._alreadyViewRender){this._alreadyViewRender=!0;var n=this._getDateByOffset(e*this._getRtlCorrection());this._moveToClosestAvailableDate(n),this._waitRenderViewTimeout=setTimeout(()=>{this._alreadyViewRender=!1})}},_getRtlCorrection:function(){return this.option("rtlEnabled")?-1:1},_getDateByOffset:function(e,n){var t,i=(n=this._getDate(null!==(t=n)&&void 0!==t?t:this.option("currentDate"))).getDate(),r=Je.getDifferenceInMonth(this.option("zoomLevel"))*e;n.setDate(1),n.setMonth(n.getMonth()+r);var o=Je.getLastMonthDate(n).getDate();return n.setDate(i>o?o:i),n},_focusTarget:function(){return this.$element()},_initMarkup:function(){this._renderSubmitElement(),this.callBase();var e=this.$element();e.addClass("dx-calendar"),e.toggleClass("dx-calendar-range","range"===this.option("selectionMode")),this._renderBody(),e.append(this.$body),this._renderViews(),this._renderEvents(),this._renderNavigator(),e.prepend(this._navigator.$element()),this._renderSwipeable(),this._renderFooter(),this._selectionStrategy.updateAriaSelected(),this._updateAriaId(),this.setAria("role","application"),this._moveToClosestAvailableDate()},_render:function(){this.callBase(),this._setViewContoured(this.option("currentDate"))},_renderBody:function(){this._$viewsWrapper||(this.$body=x("<div>").addClass("dx-calendar-body"),this._$viewsWrapper=x("<div>").addClass("dx-calendar-views-wrapper"),this.$body.append(this._$viewsWrapper))},_getKeyboardListeners(){return this.callBase().concat([this._view])},_renderViews:function(){this.$element().addClass(A2+"-"+this.option("zoomLevel"));var{currentDate:e,viewsCount:n}=this.option();if(this.$element().toggleClass("dx-calendar-multiview",n>1),this._view=this._renderSpecificView(e),rt()){var t=this._getDateByOffset(-1,e);this._beforeView=this._isViewAvailable(t)?this._renderSpecificView(t):null;var i=this._getDateByOffset(n,e);i.setDate(1),this._afterView=this._isViewAvailable(i)?this._renderSpecificView(i):null}n>1&&(this._additionalView=this._renderSpecificView(this._getDateByOffset(1,e))),this._translateViews()},_renderSpecificView:function(e){var{zoomLevel:n}=this.option(),t=nue[n],i=x("<div>").appendTo(this._$viewsWrapper),r=this._viewConfig(e);return this._createComponent(i,t,r)},_viewConfig:function(e){var n,t=this.option("disabledDates");return t=Re(t)?this._injectComponent(t.bind(this)):t,de({},this._selectionStrategy.getViewOptions(),{date:e,min:this._getMinDate(),max:this._getMaxDate(),firstDayOfWeek:null!==(n=this.option("firstDayOfWeek"))&&void 0!==n?n:Ct.firstDayOfWeekIndex(),showWeekNumbers:this.option("showWeekNumbers"),weekNumberRule:this.option("weekNumberRule"),zoomLevel:this.option("zoomLevel"),tabIndex:void 0,focusStateEnabled:this.option("focusStateEnabled"),hoverStateEnabled:this.option("hoverStateEnabled"),disabledDates:t,onCellClick:this._cellClickHandler.bind(this),cellTemplate:this._getTemplateByOption("cellTemplate"),allowValueSelection:this._isMaxZoomLevel(),_todayDate:this.option("_todayDate")})},_renderEvents(){R.off(this._$viewsWrapper,F2),"range"===this.option("selectionMode")&&R.on(this._$viewsWrapper,F2,null,e=>{this._updateViewsOption("hoveredRange",[])})},_injectComponent:function(e){var n=this;return function(t){return A(t,{component:n}),e(t)}},_isViewAvailable:function(e){var n=this.option("zoomLevel"),t=Je.getViewMinBoundaryDate(n,this._getMinDate()),i=Je.getViewMaxBoundaryDate(n,this._getMaxDate());return Je.dateInRange(e,t,i)},_translateViews:function(){var{viewsCount:e}=this.option();Mi(this._view.$element(),{left:0,top:0}),this._moveViewElement(this._beforeView,-1),this._moveViewElement(this._afterView,e),this._moveViewElement(this._additionalView,1)},_moveViewElement(e,n){e&&Mi(e.$element(),{left:this._getViewPosition(n),top:0})},_getViewPosition:function(e){return 100*e*(this.option("rtlEnabled")?-1:1)+"%"},_cellClickHandler:function(e){var n=this.option("zoomLevel"),t=Je.getViewDown(n),i=this._isMaxZoomLevel();if(t&&!i)this._navigateDown(e.event.currentTarget);else{var r=this._updateTimeComponent(e.value);this._selectionStrategy.selectValue(r,e.event),this._cellClickAction(e)}},_updateTimeComponent:function(e){var n=new Date(e),t=this._dateOption("value");return t&&(n.setHours(t.getHours()),n.setMinutes(t.getMinutes()),n.setSeconds(t.getSeconds()),n.setMilliseconds(t.getMilliseconds())),n},_isMaxZoomLevel:function(){return this.option("zoomLevel")===this.option("maxZoomLevel")},_navigateDown:function(e){var n=this.option("zoomLevel");if(!this._isMaxZoomLevel()){var t=Je.getViewDown(n);if(t){var i=this._view.option("contouredDate")||this._view.option("date");e&&(i=x(e).data("dxDateValueKey")),this._isOtherViewCellClicked=!0,this.option("currentDate",i),this.option("zoomLevel",t),this._isOtherViewCellClicked=!1,this._renderNavigator(),this._animateShowView(),this._moveToClosestAvailableDate(),this._setViewContoured(this._getNormalizedDate(this.option("currentDate")))}}},_renderNavigator:function(){this._navigator||(this._navigator=new Wde(x("<div>"),this._navigatorConfig())),this._navigator.option("text",this._getViewsCaption(this._view,this._additionalView)),this._updateButtonsVisibility()},_navigatorConfig:function(){var{rtlEnabled:e}=this.option();return{text:this._getViewsCaption(this._view,this._additionalView),onClick:this._navigatorClickHandler.bind(this),onCaptionClick:this._navigateUp.bind(this),rtlEnabled:e}},_navigatorClickHandler:function(e){var{currentDate:n,viewsCount:t}=this.option(),i=e.direction;if(t>1){var r=this._isAdditionalViewDate(n);(r&&i<0||!r&&i>0)&&(i*=2)}var s=this._getDateByOffset(i,n);this._moveToClosestAvailableDate(s)},_navigateUp:function(){var e=this.option("zoomLevel"),n=Je.getViewUp(e);!n||this._isMinZoomLevel(e)||(this.option("zoomLevel",n),this._renderNavigator(),this._animateShowView(),this._moveToClosestAvailableDate(),this._setViewContoured(this._getNormalizedDate(this.option("currentDate"))))},_isMinZoomLevel:function(e){var n=this._getMinDate(),t=this._getMaxDate();return Je.sameView(e,n,t)||this.option("minZoomLevel")===e},_updateButtonsVisibility:function(){this._navigator.toggleButton("next",!T(this._afterView)),this._navigator.toggleButton("prev",!T(this._beforeView))},_renderSwipeable:function(){this._swipeable||(this._swipeable=this._createComponent(this.$element(),nL,{onStart:this._swipeStartHandler.bind(this),onUpdated:this._swipeUpdateHandler.bind(this),onEnd:this._swipeEndHandler.bind(this),itemSizeFunc:this._viewWidth.bind(this)}))},_swipeStartHandler:function(e){An.stop(this._$viewsWrapper,!0);var{viewsCount:n}=this.option();this._toggleGestureCoverCursor("grabbing"),e.event.maxLeftOffset=this._getRequiredView("next")?1/n:0,e.event.maxRightOffset=this._getRequiredView("prev")?1/n:0},_toggleGestureCoverCursor:function(e){x(".".concat("dx-gesture-cover")).css("cursor",e)},_getRequiredView:function(e){var n,t=this.option("rtlEnabled");return"next"===e?n=t?this._beforeView:this._afterView:"prev"===e&&(n=t?this._afterView:this._beforeView),n},_swipeUpdateHandler:function(e){var n=e.event.offset;Mi(this._$viewsWrapper,{left:n*this._viewWidth(),top:0}),this._updateNavigatorCaption(n)},_swipeEndHandler:function(e){this._toggleGestureCoverCursor("auto");var{currentDate:n,rtlEnabled:t}=this.option(),i=e.event.targetOffset,r=i?i/Math.abs(i):0,s=this._isAdditionalViewDate(n)&&(t?-1===r:1===r);if(0!==r){var l=-r*this._getRtlCorrection()*(s?2:1),h=this._getDateByOffset(l);this._isDateInInvalidRange(h)&&(h=r>=0?new Date(this._getMinDate()):new Date(this._getMaxDate())),this.option("currentDate",h)}else this._animateWrapper(0,250)},_viewWidth:function(){return this._viewWidthValue||(this._viewWidthValue=Ze(this.$element())/this.option("viewsCount")),this._viewWidthValue},_updateNavigatorCaption:function(e){e*=this._getRtlCorrection();var t,i,n=this.option("viewsCount")>1;e>.5&&this._beforeView?(t=this._beforeView,i=n&&this._view):e<-.5&&this._afterView?(t=n?this._additionalView:this._afterView,i=n?this._afterView:null):(t=this._view,i=n?this._additionalView:null),this._navigator.option("text",this._getViewsCaption(t,i))},_getViewsCaption:function(e,n){var t=e.getNavigatorCaption(),{viewsCount:i}=this.option();if(i>1&&n){var r=n.getNavigatorCaption();t="".concat(t," - ").concat(r)}return t},_isDateInInvalidRange:function(e){if(!this._view.isBoundary(e)){var n=this._getMinDate(),t=this._getMaxDate(),i=Je.normalizeDate(e,n,t);return i===n||i===t}},_renderFooter:function(){var e=this.option("showTodayButton");if(e){var n=this._createComponent(x("<div>"),Ui,{focusStateEnabled:this.option("focusStateEnabled"),text:J.format("dxCalendar-todayButtonText"),onClick:t=>{this._toTodayView(t)},type:"default",stylingMode:"text",integrationOptions:{}}).$element().addClass("dx-calendar-today-button");this._$footer=x("<div>").addClass("dx-calendar-footer").append(n),this.$element().append(this._$footer)}this.$element().toggleClass("dx-calendar-with-footer",e)},_renderSubmitElement:function(){this._$submitElement=x("<input>").attr("type","hidden").appendTo(this.$element()),this._setSubmitValue(this.option("value"))},_setSubmitValue:function(e){var n=this._convertToDate(e);this._getSubmitElement().val(Qn.serializeDate(n,"yyyy-MM-dd"))},_getSubmitElement:function(){return this._$submitElement},_animateShowView:function(){An.stop(this._view.$element(),!0),this._popAnimationView(this._view,.6,1,250),this.option("viewsCount")>1&&(An.stop(this._additionalView.$element(),!0),this._popAnimationView(this._additionalView,.6,1,250))},_popAnimationView:function(e,n,t,i){return An.animate(e.$element(),{type:"pop",from:{scale:n,opacity:n},to:{scale:t,opacity:t},duration:i})},_navigate:function(e,n){if(0!==e&&1!==Math.abs(e)&&this._isViewAvailable(n)){var t=this._renderSpecificView(n);e>0?(this._afterView&&this._afterView.$element().remove(),this._afterView=t):(this._beforeView&&this._beforeView.$element().remove(),this._beforeView=t),this._translateViews()}var o=-this._getRtlCorrection()*(e>0?1:e<0?-1:0)*this._viewWidth();this._$viewsWrapper.position().left!==o&&(this._preventViewChangeAnimation?this._wrapperAnimationEndHandler(e,n):this._animateWrapper(o,250).done(this._wrapperAnimationEndHandler.bind(this,e,n)))},_animateWrapper:function(e,n){return An.animate(this._$viewsWrapper,{type:"slide",from:{left:this._$viewsWrapper.position().left},to:{left:e},duration:n})},_getDate:e=>new Date(e),_toTodayView:function(e){var n=new Date;this._isMaxZoomLevel()?this._selectionStrategy.selectValue(n,e.event):(this._preventViewChangeAnimation=!0,this.option("zoomLevel",this.option("maxZoomLevel")),this._selectionStrategy.selectValue(n,e.event),this._animateShowView(),this._preventViewChangeAnimation=!1)},_wrapperAnimationEndHandler:function(e,n){this._rearrangeViews(e),this._translateViews(),this._resetLocation(),this._renderNavigator(),this._setViewContoured(n),this._updateAriaId(n),this._selectionStrategy.updateAriaSelected()},_rearrangeViews:function(e){var n;if(0!==e){var i,r,o,s,l,{viewsCount:t}=this.option();if(e<0?(i=1,r="_beforeView",o="_afterView",s="_view",l=1===t?"_view":"_additionalView"):(i=-1,r="_afterView",o="_beforeView",s=1===t?"_view":"_additionalView",l="_view"),this[r]){var h=this[r].option("date");null===(n=this[o])||void 0===n||n.$element().remove(),this[o]=this._renderSpecificView(this._getDateByOffset(i*t,h)),this[l].$element().remove(),1===t?this[l]=this[r]:(this[l]=this[s],this[s]=this[r]);var g=this._getDateByOffset(-i,h);this[r]=this._isViewAvailable(g)?this._renderSpecificView(g):null}}},_resetLocation:function(){Mi(this._$viewsWrapper,{left:0,top:0})},_clean:function(){this.callBase(),this._clearViewWidthCache(),delete this._$viewsWrapper,delete this._navigator,delete this._$footer},_clearViewWidthCache:function(){delete this._viewWidthValue},_disposeViews:function(){this._view.$element().remove(),this._beforeView&&this._beforeView.$element().remove(),this._additionalView&&this._additionalView.$element().remove(),this._afterView&&this._afterView.$element().remove(),delete this._view,delete this._additionalView,delete this._beforeView,delete this._afterView,delete this._skipNavigate},_dispose:function(){clearTimeout(this._waitRenderViewTimeout),this.callBase()},_refreshViews:function(){this._resetActiveState(),this._disposeViews(),this._renderViews()},_visibilityChanged:function(){this._translateViews()},_focusInHandler:function(){this.callBase.apply(this,arguments),this._setViewContoured(this.option("currentDate"))},_focusOutHandler:function(){var e;this.callBase.apply(this,arguments),this._view.option("contouredDate",null),null===(e=this._additionalView)||void 0===e||e.option("contouredDate",null)},_updateViewsOption:function(e,n){var t,i,r;this._view.option(e,n),null===(t=this._additionalView)||void 0===t||t.option(e,n),null===(i=this._beforeView)||void 0===i||i.option(e,n),null===(r=this._afterView)||void 0===r||r.option(e,n)},_setViewsMinOption:function(e){this._restoreViewsMinMaxOptions(),this.option("_rangeMin",this._convertToDate(e)),this._updateViewsOption("min",this._getMinDate())},_setViewsMaxOption:function(e){this._restoreViewsMinMaxOptions(),this.option("_rangeMax",this._convertToDate(e)),this._updateViewsOption("max",this._getMaxDate())},_restoreViewsMinMaxOptions:function(){this.option({_rangeMin:null,_rangeMax:null}),this._updateViewsOption("min",this._getMinDate()),this._updateViewsOption("max",this._getMaxDate())},_updateAriaSelected:function(e,n){n.forEach(t=>{this.setAria("selected",void 0,this._view._getCellByDate(t))}),e.forEach(t=>{this.setAria("selected",!0,this._view._getCellByDate(t))}),this.option("viewsCount")>1&&(n.forEach(t=>{this.setAria("selected",void 0,this._additionalView._getCellByDate(t))}),e.forEach(t=>{this.setAria("selected",!0,this._additionalView._getCellByDate(t))}))},_updateAriaId:function(e){var n;e=null!==(n=e)&&void 0!==n?n:this.option("currentDate");var t="dx-"+new En,r=this._getActiveView(e)._getCellByDate(e);this.setAria("id",t,r),this.setAria("activedescendant",t),this._onContouredChanged(t)},_suppressingNavigation:function(e,n){this._suppressNavigation=!0,e.apply(this,n),delete this._suppressNavigation},_optionChanged:function(e){var{value:n,previousValue:t}=e;switch(e.name){case"width":this.callBase(e),this._clearViewWidthCache();break;case"min":case"max":this.min=void 0,this.max=void 0,this._suppressingNavigation(this._updateCurrentDate,[this.option("currentDate")]),this._refreshViews(),this._renderNavigator();break;case"selectionMode":this._refreshSelectionStrategy(),this._initCurrentDate();break;case"firstDayOfWeek":this._refreshViews(),this._updateButtonsVisibility();break;case"currentDate":this.setAria("id",void 0,this._view._getCellByDate(t)),this._updateCurrentDate(n);break;case"zoomLevel":this.$element().removeClass(A2+"-"+t),this._correctZoomLevel(),this._refreshViews(),this._renderNavigator(),this._updateAriaId();break;case"minZoomLevel":case"maxZoomLevel":this._correctZoomLevel(),this._updateButtonsVisibility();break;case"value":"single"===this.option("selectionMode")&&this._selectionStrategy.processValueChanged([n],[t]),this._setSubmitValue(n),this.callBase(e);break;case"values":"single"!==this.option("selectionMode")&&this._selectionStrategy.processValueChanged(n,t),this._raiseValueChangeAction(n,t),this._saveValueChangeEvent(void 0);break;case"viewsCount":this._refreshViews(),this._renderNavigator();break;case"onCellClick":this._view.option("onCellClick",n);break;case"onContouredChanged":this._onContouredChanged=this._createActionByOption("onContouredChanged");break;case"disabledDates":case"dateSerializationFormat":case"cellTemplate":case"showTodayButton":this._invalidate();break;case"skipFocusCheck":break;case"_todayDate":case"showWeekNumbers":case"weekNumberRule":this._refreshViews();break;default:this.callBase(e)}},getContouredDate:function(){return this._view.option("contouredDate")}});Dt("dxCalendar",k2);const Sue=k2;var R0=kt.abstract,Eue=kt.inherit({ctor:function(e){this.dateBox=e},widgetOption:function(){return this._widget&&this._widget.option.apply(this._widget,arguments)},_renderWidget:function(e){e=e||x("<div>"),this._widget=this._createWidget(e),this._widget.$element().appendTo(this._getWidgetContainer())},_createWidget:function(e){var n=this._getWidgetName(),t=this._getWidgetOptions();return this.dateBox._createComponent(e,n,t)},_getWidgetOptions:R0,_getWidgetName:R0,getDefaultOptions:function(){return{mode:"text"}},getDisplayFormat:R0,supportedKeys:U,getKeyboardListener:U,customizeButtons:U,getParsedText:function(e,n){return Ct.parse(e,n)||Ct.parse(e)},renderInputMinMax:U,renderOpenedState:function(){this._updateValue()},popupConfig:R0,_dimensionChanged:function(){var e;null===(e=this._getPopup())||void 0===e||e.repaint()},renderPopupContent:function(){var e=this._getPopup();this._renderWidget();var n=e.$content().parent();R.off(n,"mousedown"),R.on(n,"mousedown",this._preventFocusOnPopup.bind(this))},getFirstPopupElement:U,getLastPopupElement:U,_preventFocusOnPopup:function(e){e.preventDefault()},_getWidgetContainer:function(){return this._getPopup().$content()},_getPopup:function(){return this.dateBox._popup},popupShowingHandler:U,popupHiddenHandler:U,_updateValue:function(){this._widget&&this._widget.option("value",this.dateBoxValue())},useCurrentDateByDefault:U,getDefaultDate:function(){return new Date},textChangedHandler:U,renderValue:function(){this.dateBox.option("opened")&&this._updateValue()},getValue:function(){return this._widget.option("value")},isAdaptivityChanged:function(){return!1},dispose:function(){var e=this._getPopup();e&&e.$content().empty()},dateBoxValue:function(){return arguments.length?this.dateBox.dateValue.apply(this.dateBox,arguments):this.dateBox.dateOption.apply(this.dateBox,["value"])}});const P0=Eue;var wue=P0.inherit({NAME:"Calendar",getDefaultOptions:function(){return A(this.callBase(),{todayButtonText:J.format("dxCalendar-todayButtonText")})},supportedKeys:function(){var e=function(n){return!!this.option("opened")&&(n.preventDefault(),!0)};return{rightArrow:function(){if(this.option("opened"))return!0},leftArrow:function(){if(this.option("opened"))return!0},enter:function(n){if(this.dateBox.option("opened")){if(n.preventDefault(),this._widget.option("zoomLevel")===this._widget.option("maxZoomLevel")){var t=this._getContouredValue(),i=this._lastActionElement,r=this._closeDropDownByEnter();return r&&t&&"calendar"===i&&this.dateBoxValue(t,n),r&&this.dateBox.close(),this.dateBox._valueChangeEventHandler(n),!r}return!0}this.dateBox._valueChangeEventHandler(n)}.bind(this),home:e,end:e}},getDisplayFormat:function(e){return e||"shortdate"},_closeDropDownByEnter:()=>!0,_getWidgetName:function(){return Sue},_getContouredValue:function(){return this._widget._view.option("contouredDate")},getKeyboardListener(){return this._widget},_getWidgetOptions:function(){var e=this.dateBox.option("disabledDates");return A(this.dateBox.option("calendarOptions"),{value:this.dateBoxValue()||null,dateSerializationFormat:null,min:this.dateBox.dateOption("min"),max:this.dateBox.dateOption("max"),onValueChanged:this._valueChangedHandler.bind(this),onCellClick:this._cellClickHandler.bind(this),tabIndex:null,disabledDates:Re(e)?this._injectComponent(e.bind(this.dateBox)):e,onContouredChanged:this._refreshActiveDescendant.bind(this),skipFocusCheck:!0})},_injectComponent:function(e){var n=this;return function(t){return A(t,{component:n.dateBox}),e(t)}},_refreshActiveDescendant:function(e){this._lastActionElement="calendar",this.dateBox.setAria("activedescendant",e.actionValue)},_getTodayButtonConfig(){var e=this.dateBox.option("buttonsLocation"),t="default"===e?["bottom","center"]:_l(e);return{widget:"dxButton",toolbar:t[0],location:"after"===t[1]?"before":t[1],options:{onInitialized:function(i){i.component.registerKeyHandler("escape",this._escapeHandler.bind(this))}.bind(this),onClick:i=>{this._widget._toTodayView(i)},text:this.dateBox.option("todayButtonText"),type:"today"}}},_isCalendarVisible:function(){var{calendarOptions:e}=this.dateBox.option();return Pr(e)||!1!==e.visible},_getPopupToolbarItems(e){return"useButtons"===this.dateBox.option("applyValueMode")&&this._isCalendarVisible()?[this._getTodayButtonConfig(),...e]:e},popupConfig:function(e){return A(!0,e,{position:{collision:"flipfit flip"},width:"auto"})},_escapeHandler:function(){this.dateBox.close(),this.dateBox.focus()},_valueChangedHandler:function(e){var n=e.value,t=e.previousValue;Je.sameDate(n,t)&&Je.sameHoursAndMinutes(n,t)||"instantly"===this.dateBox.option("applyValueMode")&&this.dateBoxValue(this.getValue(),e.event)},_updateValue:function(){this._widget&&this._widget.option("value",this.dateBoxValue())},textChangedHandler:function(){this._lastActionElement="input",this.dateBox.option("opened")&&this._widget&&this._updateValue(!0)},_cellClickHandler:function(e){var n=this.dateBox;"instantly"===n.option("applyValueMode")&&(n.option("opened",!1),this.dateBoxValue(this.getValue(),e.event))}});const B2=wue;class Iue{constructor(n){this.DIRECTION_HORIZONTAL="horizontal",this.DIRECTION_VERTICAL="vertical",this.DIRECTION_BOTH="both",this.direction=n??Zw}get isHorizontal(){return this.direction===PG||this.direction===Wk}get isVertical(){return this.direction===Zw||this.direction===Wk}get isBoth(){return this.direction===Wk}}var L2="dx-dateview-item";class V2 extends LG{_getDefaultOptions(){return A(super._getDefaultOptions(),{showScrollbar:"never",useNative:!1,selectedIndex:0,bounceEnabled:!1,items:[],showOnClick:!1,onClick:null,onSelectedIndexChanged:null,scrollByContent:!0})}_init(){super._init(),this.option("onVisibilityChange",this._visibilityChangedHandler.bind(this)),this.option("onEnd",this._endActionHandler.bind(this))}_render(){super._render(),this._renderSelectedItemFrame(),this.$element().addClass("dx-dateviewroller"),this._renderContainerClick(),this._renderItems(),this._renderSelectedValue(),this._renderItemsClick(),this._renderWheelEvent(),this._renderSelectedIndexChanged()}_renderSelectedIndexChanged(){this._selectedIndexChanged=this._createActionByOption("onSelectedIndexChanged")}_renderWheelEvent(){R.on(x(this.container()),"dxmousewheel",n=>{this._isWheelScrolled=!0})}_renderContainerClick(){if(this.option("showOnClick")){var n=fe(Kt,this.NAME),t=this._createActionByOption("onClick");R.off(x(this.container()),n),R.on(x(this.container()),n,function(i){t({event:i})})}}_renderItems(){var n=this.option("items")||[],t=x();x(this.content()).empty(),n.forEach(function(i){t=t.add(x("<div>").addClass(L2).append(i))}),x(this.content()).append(t),this._$items=t,this.update()}_renderSelectedItemFrame(){x("<div>").addClass("dx-dateview-item-selected-frame").append(x("<div>").addClass("dx-dateview-item-selected-border")).appendTo(x(this.container()))}_renderSelectedValue(n){var t=this._fitIndex(n??this.option("selectedIndex"));this._moveTo({top:this._getItemPosition(t)}),this._renderActiveStateItem()}_fitIndex(n){var i=(this.option("items")||[]).length;return n>=i?i-1:n<0?0:n}_getItemPosition(n){return Math.round(this._itemHeight()*n)}_renderItemsClick(){var n=this._getItemSelector(),t=fe(Kt,this.NAME);R.off(this.$element(),t,n),R.on(this.$element(),t,n,this._itemClickHandler.bind(this))}_getItemSelector(){return"."+L2}_itemClickHandler(n){this.option("selectedIndex",this._itemElementIndex(n.currentTarget))}_itemElementIndex(n){return this._itemElements().index(n)}_itemElements(){return this.$element().find(this._getItemSelector())}_renderActiveStateItem(){var n=this.option("selectedIndex");B(this._$items,function(t){x(this).toggleClass("dx-dateview-item-selected",n===t)})}_shouldScrollToNeighborItem(){return"desktop"===$e.real().deviceType&&this._isWheelScrolled}_moveTo(n){var{top:t,left:i}=function Tue(e,n){if(ft(e)){var t=Cn(e.left,e.x),i=Cn(e.top,e.y);return{left:T(t)?t:void 0,top:T(i)?i:void 0}}var{isHorizontal:r,isVertical:o}=new Iue(n);return{left:r&&T(e)?e:void 0,top:o&&T(e)?e:void 0}}(n),r=this.scrollOffset(),o={x:r.left-i,y:r.top-t};if(this._isVisible()&&(o.x||o.y))if(this._prepareDirections(!0),this._animation&&!this._shouldScrollToNeighborItem()){var s=this;An.stop(x(this.content())),An.animate(x(this.content()),{duration:200,type:"slide",to:{top:Math.floor(o.y)},complete(){zy(x(s.content())),s.handleMove({delta:o})}}),delete this._animation}else this.handleMove({delta:o})}_validate(n){return this._moveIsAllowed(n)}_fitSelectedIndexInRange(n){var t=this.option("items").length;return Math.max(Math.min(n,t-1),0)}_isInNullNeighborhood(n){return-.1<=n&&n<=.1}_getSelectedIndexAfterScroll(n){var r=this.scrollOffset().top-n*this._itemHeight();return this._isInNullNeighborhood(r)?n:this._fitSelectedIndexInRange(n+(r>0?1:-1))}_getNewSelectedIndex(n){if(this._shouldScrollToNeighborItem())return this._getSelectedIndexAfterScroll(n);this._animation=!0;var t=this.scrollOffset().top/this._itemHeight();return Math.round(t)}_endActionHandler(){var n=this.option("selectedIndex"),t=this._getNewSelectedIndex(n);t===n?this._renderSelectedValue(t):this.option("selectedIndex",t),this._isWheelScrolled=!1}_itemHeight(){var n=this._$items.first();return gt(n)}_toggleActive(n){this.$element().toggleClass("dx-state-active",n)}_isVisible(){return x(this.container()).is(":visible")}_fireSelectedIndexChanged(n,t){this._selectedIndexChanged({value:n,previousValue:t,event:void 0})}_visibilityChanged(n){super._visibilityChanged(n),this._visibilityChangedHandler(n)}_visibilityChangedHandler(n){n&&(this._visibilityTimer=setTimeout(()=>{this._renderSelectedValue(this.option("selectedIndex"))})),this.toggleActiveState(!1)}toggleActiveState(n){this.$element().toggleClass("dx-dateviewroller-current",n)}_refreshSelectedIndex(){var n=this.option("selectedIndex"),t=this._fitIndex(n);t===n?this._renderActiveStateItem():this.option("selectedIndex",t)}_optionChanged(n){switch(n.name){case"selectedIndex":this._fireSelectedIndexChanged(n.value,n.previousValue),this._renderSelectedValue(n.value);break;case"items":this._renderItems(),this._refreshSelectedIndex();break;case"onClick":case"showOnClick":this._renderContainerClick();break;case"onSelectedIndexChanged":this._renderSelectedIndexChanged();break;default:super._optionChanged(n)}}_dispose(){clearTimeout(this._visibilityTimer),super._dispose()}}Dt("dxDateViewRoller",V2);const Bue=V2;var uL="dx-dateview",H2=Ul.inherit({_valueOption:function(){var e=this.option("value"),n=new Date(e);return!e||isNaN(n)?this._getDefaultDate():n},_getDefaultDate:function(){var e=new Date;return"date"===this.option("type")?new Date(e.getFullYear(),e.getMonth(),e.getDate()):e},_getDefaultOptions:function(){return A(this.callBase(),{minDate:bn.MIN_DATEVIEW_DEFAULT_DATE,maxDate:bn.MAX_DATEVIEW_DEFAULT_DATE,type:"date",value:new Date,applyCompactClass:!1})},_defaultOptionsRules:function(){return this.callBase().concat([{device:function(e){return"desktop"!==e.deviceType},options:{applyCompactClass:!0}}])},_render:function(){this.callBase(),this.$element().addClass(uL),this._toggleFormatClasses(this.option("type")),this._toggleCompactClass()},_toggleFormatClasses:function(e,n){this.$element().addClass(uL+"-"+e),n&&this.$element().removeClass(uL+"-"+n)},_toggleCompactClass:function(){this.$element().toggleClass("dx-dateview-compact",this.option("applyCompactClass"))},_wrapper:function(){return this._$wrapper},_renderContentImpl:function(){this._$wrapper=x("<div>").addClass("dx-dateview-wrapper"),this._renderRollers(),this._$wrapper.appendTo(this.$element())},_renderRollers:function(){this._$rollersContainer||(this._$rollersContainer=x("<div>").addClass("dx-dateview-rollers")),this._$rollersContainer.empty(),this._createRollerConfigs(),this._rollers={};var e=this;B(e._rollerConfigs,function(n){var t=x("<div>").appendTo(e._$rollersContainer).addClass("dx-dateviewroller-"+e._rollerConfigs[n].type);e._rollers[e._rollerConfigs[n].type]=e._createComponent(t,Bue,{items:e._rollerConfigs[n].displayItems,selectedIndex:e._rollerConfigs[n].selectedIndex,showScrollbar:"never",scrollByContent:!0,onStart:function(i){var r=i.component;r._toggleActive(!0),e._setActiveRoller(e._rollerConfigs[n],r.option("selectedIndex"))},onEnd:function(i){i.component._toggleActive(!1)},onClick:function(i){var r=i.component;r._toggleActive(!0),e._setActiveRoller(e._rollerConfigs[n],r.option("selectedIndex")),e._setRollerState(e._rollerConfigs[n],r.option("selectedIndex")),r._toggleActive(!1)},onSelectedIndexChanged:function(i){e._setRollerState(e._rollerConfigs[n],i.component.option("selectedIndex"))}})}),e._$rollersContainer.appendTo(e._wrapper())},_createRollerConfigs:function(e){var n=this;e=e||n.option("type"),n._rollerConfigs={},Ct.getFormatParts(bn.FORMATS_MAP[e]).forEach(function(t){n._createRollerConfig(t)})},_createRollerConfig:function(e){for(var n=bn.DATE_COMPONENTS_INFO[e],t=this._calculateRollerConfigValueRange(e),i=t.startValue,r=t.endValue,o=n.formatter,s=this._getCurrentDate(),l={type:e,setValue:n.setter,valueItems:[],displayItems:[],getIndex:function(g){return g[n.getter]()-i}},h=i;h<=r;h++)l.valueItems.push(h),l.displayItems.push(o(h,s));l.selectedIndex=l.getIndex(s),this._rollerConfigs[e]=l},_setActiveRoller:function(e){var n=e&&this._rollers[e.type];B(this._rollers,function(){this.toggleActiveState(this===n)})},_updateRollersPosition:function(){var e=this;B(this._rollers,function(n){var t=e._rollerConfigs[n].getIndex(e._getCurrentDate());this.option("selectedIndex",t)})},_setRollerState:function(e,n){if(n!==e.selectedIndex){var t=e.valueItems[n],i=e.setValue,r=new Date(this._getCurrentDate()),o=r.getDate(),s=this.option("minDate"),l=this.option("maxDate");"month"===e.type?o=Math.min(o,bn.getMaxMonthDay(r.getFullYear(),t)):"year"===e.type&&(o=Math.min(o,bn.getMaxMonthDay(t,r.getMonth()))),r.setDate(o),r[i](t);var h=Je.normalizeDate(r,s,l);r=bn.mergeDates(h,r,"time"),r=Je.normalizeDate(r,s,l),this.option("value",r),e.selectedIndex=n}"year"===e.type&&this._refreshRollers(),"month"===e.type&&(this._refreshRoller("day"),this._refreshRoller("hours"))},_refreshRoller:function(e){var n=this._rollers[e];if(n){this._createRollerConfig(e);var t=this._rollerConfigs[e];("day"===e||t.displayItems.toString()!==n.option("items").toString())&&n.option({items:t.displayItems,selectedIndex:t.selectedIndex})}},_getCurrentDate:function(){var e=this._valueOption(),n=this.option("minDate"),t=this.option("maxDate");return Je.normalizeDate(e,n,t)},_calculateRollerConfigValueRange:function(e){var n=this._getCurrentDate(),t=this.option("minDate"),i=this.option("maxDate"),r=Je.sameYear(n,t),o=r&&n.getMonth()===t.getMonth(),s=Je.sameYear(n,i),l=s&&n.getMonth()===i.getMonth(),h=o&&n.getDate()===t.getDate(),g=l&&n.getDate()===i.getDate(),_=bn.DATE_COMPONENTS_INFO[e],v=_.startValue,C=_.endValue;return"year"===e&&(v=t.getFullYear(),C=i.getFullYear()),"month"===e&&(r&&(v=t.getMonth()),s&&(C=i.getMonth())),"day"===e&&(C=bn.getMaxMonthDay(n.getFullYear(),n.getMonth()),r&&o&&(v=t.getDate()),s&&l&&(C=i.getDate())),"hours"===e&&(v=h?t.getHours():v,C=g?i.getHours():C),{startValue:v,endValue:C}},_refreshRollers:function(){this._refreshRoller("month"),this._refreshRoller("day"),this._refreshRoller("hours")},_optionChanged:function(e){switch(e.name){case"minDate":case"maxDate":case"type":this._renderRollers(),this._toggleFormatClasses(e.value,e.previousValue);break;case"visible":this.callBase(e),e.value&&this._renderRollers();break;case"value":this.option("value",this._valueOption()),this._refreshRollers(),this._updateRollersPosition();break;default:this.callBase(e)}},_clean:function(){this.callBase(),delete this._$rollersContainer}});Dt("dxDateView",H2);const zue=H2;var Wue=ut(),$ue=P0.inherit({NAME:"DateView",getDefaultOptions:function(){return A(this.callBase(),{openOnFieldClick:!0,applyButtonText:J.format("OK"),"dropDownOptions.showTitle":!0})},getDisplayFormat:function(e){return e||bn.FORMATS_MAP[this.dateBox.option("type")]},popupConfig:function(e){return{toolbarItems:this.dateBox._popupToolbarItemsConfig(),onInitialized:e.onInitialized,defaultOptionsRules:[{device:{platform:"android"},options:{width:333,height:331}},{device:function(n){var t=n.platform;return"generic"===t||"ios"===t},options:{width:"auto",height:"auto"}},{device:function(n){return"generic"===n.platform&&n.phone},options:{width:333,maxWidth:"100%",maxHeight:"100%",height:"auto",position:{collision:"flipfit flip"}}},{device:{platform:"ios",phone:!0},options:{width:"100%",position:{my:"bottom",at:"bottom",of:Wue}}}]}},_renderWidget:function(){if(S(this.dateBox.option("mode"))&&this.dateBox._isNativeType()||this.dateBox.option("readOnly"))this._widget&&(this._widget.$element().remove(),this._widget=null);else{var e=this._getPopup();if(this._widget)this._widget.option(this._getWidgetOptions());else{var n=x("<div>").appendTo(e.$content());this._widget=this._createWidget(n)}this._widget.$element().appendTo(this._getWidgetContainer())}},_getWidgetName:function(){return zue},renderOpenedState:function(){this.callBase(),this._widget&&this._widget.option("value",this._widget._getCurrentDate())},_getWidgetOptions:function(){return{value:this.dateBoxValue()||new Date,type:this.dateBox.option("type"),minDate:this.dateBox.dateOption("min")||new Date(1900,0,1),maxDate:this.dateBox.dateOption("max")||new Date(Date.now()+50*bn.ONE_YEAR),onDisposing:function(){this._widget=null}.bind(this)}}});const Gue=$ue;var Uue=P0.inherit({NAME:"Native",popupConfig:function(e){return A({},e,{width:"auto"})},getParsedText:function(e){return e?"datetime"===this.dateBox.option("type")?new Date(e.replace(/-/g,"/").replace("T"," ").split(".")[0]):bn.fromStandardDateFormat(e):null},renderPopupContent:U,_getWidgetName:U,_getWidgetOptions:U,_getDateBoxType:function(){var e=this.dateBox.option("type");return bn.SUPPORTED_FORMATS.includes(e)?"datetime"===e&&!S(e)&&(e="datetime-local"):e="date",e},customizeButtons:function(){var e=this.dateBox.getButton("dropDown");$e.real().android&&e&&e.on("click",function(){this.dateBox._input().get(0).click()}.bind(this))},getDefaultOptions:function(){return{mode:this._getDateBoxType()}},getDisplayFormat:function(e){var n=this._getDateBoxType();return e||bn.FORMATS_MAP[n]},renderInputMinMax:function(e){e.attr({min:Qn.serializeDate(this.dateBox.dateOption("min"),"yyyy-MM-dd"),max:Qn.serializeDate(this.dateBox.dateOption("max"),"yyyy-MM-dd")})}});const jue=Uue;var z2="dxBoxItemData",Xue={row:"minWidth",col:"minHeight"},Zue={row:"maxWidth",col:"maxHeight"},W2={start:"flex-start",end:"flex-end",center:"center","space-between":"space-between","space-around":"space-around"},$2={start:"flex-start",end:"flex-end",center:"center",stretch:"stretch"},Que={row:"row",col:"column"},W_=(e,n,t)=>{if(t=_a(n,t),e.style[Cl(n)]=t,!rt()){if(""===t||!T(t))return;var i=sC(n);ZD(e,i+": "+t+";",!1)}};class ece extends I_{_renderVisible(n,t){super._renderVisible(n),T(t)&&this._options.fireItemStateChangedAction({name:"visible",state:n,oldState:t})}}class tce{constructor(n,t){this._$element=n,this._option=t}renderBox(){this._$element.css({display:Of("flexDirection")+"flex"}),W_(this._$element.get(0),"flexDirection",Que[this._option("direction")])}renderAlign(){this._$element.css({justifyContent:this._normalizedAlign()})}_normalizedAlign(){var n=this._option("align");return n in W2?W2[n]:n}renderCrossAlign(){this._$element.css({alignItems:this._normalizedCrossAlign()})}_normalizedCrossAlign(){var n=this._option("crossAlign");return n in $2?$2[n]:n}renderItems(n){var t=Of("flexDirection"),i=this._option("direction");B(n,function(){var r=x(this),o=r.data(z2);r.css({display:t+"flex"}).css(Zue[i],o.maxSize||"none").css(Xue[i],o.minSize||"0"),W_(r.get(0),"flexBasis",o.baseSize||0),W_(r.get(0),"flexGrow",o.ratio),W_(r.get(0),"flexShrink",T(o.shrink)?o.shrink:1),r.children().each((s,l)=>{x(l).css({width:"auto",height:"auto",display:Of("flexDirection")+"flex",flexBasis:0}),W_(l,"flexGrow",1),W_(l,"flexDirection",x(l)[0].style.flexDirection||"column")})})}}let G2=(()=>{class e extends _p{_getDefaultOptions(){return A(super._getDefaultOptions(),{direction:"row",align:"start",crossAlign:"stretch",activeStateEnabled:!1,focusStateEnabled:!1,onItemStateChanged:void 0,_queue:void 0})}_itemClass(){return"dx-box-item"}_itemDataKey(){return z2}_itemElements(){return this._itemContainer().children(this._itemSelector())}_init(){super._init(),this.$element().addClass("dx-box-flex"),this._initLayout(),this._initBoxQueue()}_initLayout(){this._layout=new tce(this.$element(),this.option.bind(this))}_initBoxQueue(){this._queue=this.option("_queue")||[]}_queueIsNotEmpty(){return!this.option("_queue")&&!!this._queue.length}_pushItemToQueue(t,i){this._queue.push({$item:t,config:i})}_shiftItemFromQueue(){return this._queue.shift()}_initMarkup(){this.$element().addClass("dx-box"),this._layout.renderBox(),super._initMarkup(),this._renderAlign(),this._renderActions()}_renderActions(){this._onItemStateChanged=this._createActionByOption("onItemStateChanged")}_renderAlign(){this._layout.renderAlign(),this._layout.renderCrossAlign()}_renderItems(t){for(super._renderItems(t);this._queueIsNotEmpty();){var i=this._shiftItemFromQueue();this._createComponent(i.$item,e,A({itemTemplate:this.option("itemTemplate"),itemHoldTimeout:this.option("itemHoldTimeout"),onItemHold:this.option("onItemHold"),onItemClick:this.option("onItemClick"),onItemContextMenu:this.option("onItemContextMenu"),onItemRendered:this.option("onItemRendered"),_queue:this._queue},i.config))}this._layout.renderItems(this._itemElements())}_renderItemContent(t){var i=t.itemData&&t.itemData.node;return i?this._renderItemContentByNode(t,i):super._renderItemContent(t)}_postprocessRenderItem(t){var i=t.itemData.box;i&&this._pushItemToQueue(t.itemContent,i)}_createItemByTemplate(t,i){return i.itemData.box?t.source?t.source():x():super._createItemByTemplate(t,i)}_itemOptionChanged(t,i,r,o){"visible"===i&&this._onItemStateChanged({name:i,state:r,oldState:!1!==o}),super._itemOptionChanged(t,i,r)}_optionChanged(t){switch(t.name){case"_queue":case"direction":this._invalidate();break;case"align":this._layout.renderAlign();break;case"crossAlign":this._layout.renderCrossAlign();break;default:super._optionChanged(t)}}_itemOptions(){var t=super._itemOptions();return t.fireItemStateChangedAction=i=>{this._onItemStateChanged(i)},t}}return e.ItemClass=ece,e})();Dt("dxBox",G2);const Fx=G2;var U2=function(e,n,t){dce(e,n,t)},dce=function(e,n,t){e.css("transform","rotate("+n+"deg) translate(0,"+t+"px)")},j2=Ul.inherit({_getDefaultOptions:function(){return A(this.callBase(),{value:new Date(Date.now()),use24HourFormat:!0,_showClock:!0,_arrowOffset:5,stylingMode:void 0})},_getValue:function(){return this.option("value")||new Date},_init:function(){this.callBase(),this.$element().addClass("dx-timeview")},_render:function(){this.callBase(),this._renderBox(),this._updateTime()},_renderBox:function(){var e=x("<div>").appendTo(this.$element()),n=[];this.option("_showClock")&&n.push({ratio:1,shrink:0,baseSize:"auto",template:this._renderClock.bind(this)}),n.push({ratio:0,shrink:0,baseSize:"auto",template:this._renderField.bind(this)}),this._createComponent(e,Fx,{height:"100%",width:"100%",direction:"col",items:n})},_renderClock:function(e,n,t){this._$hourArrow=x("<div>").addClass("dx-timeview-hourarrow"),this._$minuteArrow=x("<div>").addClass("dx-timeview-minutearrow");var i=x(t);i.addClass("dx-timeview-clock").append(this._$hourArrow).append(this._$minuteArrow),this.setAria("role","presentation",i)},_updateClock:function(){var e=this._getValue(),n=e.getHours()/12*360+e.getMinutes()/60*30,t=e.getMinutes()/60*360;U2(this._$hourArrow,n,this.option("_arrowOffset")),U2(this._$minuteArrow,t,this.option("_arrowOffset"))},_getBoxItems:function(e){var n=[{ratio:0,shrink:0,baseSize:"auto",template:()=>this._hourBox.$element()},{ratio:0,shrink:0,baseSize:"auto",template:x("<div>").addClass("dx-timeview-time-separator").text(Ct.getTimeSeparator())},{ratio:0,shrink:0,baseSize:"auto",template:()=>this._minuteBox.$element()}];return e&&n.push({ratio:0,shrink:0,baseSize:"auto",template:()=>this._format12.$element()}),n},_renderField:function(){var e=!this.option("use24HourFormat");return this._createHourBox(e),this._createMinuteBox(),e&&this._createFormat12Box(),this._createComponent(x("<div>").addClass("dx-timeview-field"),Fx,{direction:"row",align:"center",crossAlign:"center",items:this._getBoxItems(e)}).$element()},_createHourBox:function(e){(this._hourBox=this._createComponent(x("<div>"),T0,A({min:-1,max:e?13:24,value:this._getValue().getHours(),onValueChanged:this._onHourBoxValueChanged.bind(this),onKeyboardHandled:t=>this._keyboardHandler(t)},this._getNumberBoxConfig()))).setAria("label","hours")},_isPM:function(){return!this.option("use24HourFormat")&&1===this._format12.option("value")},_onHourBoxValueChanged:function(e){var{value:n,component:t}=e,i=this._getValue(),r=new Date(i),o=this._convertMaxHourToMin(n);t.option("value",o),this._isPM()&&(o+=12),r.setHours(o),bn.normalizeTime(r),this.option("value",r)},_convertMaxHourToMin:function(e){var n=this.option("use24HourFormat")?24:12;return(n+e)%n},_createMinuteBox:function(){(this._minuteBox=this._createComponent(x("<div>"),T0,A({min:-1,max:60,value:this._getValue().getMinutes(),onKeyboardHandled:n=>this._keyboardHandler(n),onValueChanged:n=>{var{value:t,component:i}=n,r=(60+t)%60;i.option("value",r);var o=new Date(this._getValue());o.setMinutes(r),bn.normalizeTime(o),this.option("value",o)}},this._getNumberBoxConfig()))).setAria("label","minutes")},_createFormat12Box:function(){var e=Ct.getPeriodNames();(this._format12=this._createComponent(x("<div>").addClass("dx-timeview-format12"),eB,{items:[{value:-1,text:e[0]},{value:1,text:e[1]}],valueExpr:"value",displayExpr:"text",onKeyboardHandled:t=>this._keyboardHandler(t),onValueChanged:t=>{var{value:i}=t,r=this._getValue().getHours(),o=new Date(this._getValue());o.setHours((r+12*i)%24),this.option("value",o)},value:this._getValue().getHours()>=12?1:-1,stylingMode:this.option("stylingMode")})).setAria("label","type")},_refreshFormat12:function(){if(!this.option("use24HourFormat")){var n=this._getValue().getHours();this._silentEditorValueUpdate(this._format12,n>=12?1:-1)}},_silentEditorValueUpdate:function(e,n){e&&(e._suppressValueChangeAction(),e.option("value",n),e._resumeValueChangeAction())},_getNumberBoxConfig:function(){return{showSpinButtons:!0,displayValueFormatter:function(e){return(e<10?"0":"")+e},stylingMode:this.option("stylingMode")}},_normalizeHours:function(e){return this.option("use24HourFormat")?e:e%12||12},_updateField:function(){var e=this._normalizeHours(this._getValue().getHours());this._silentEditorValueUpdate(this._hourBox,e),this._silentEditorValueUpdate(this._minuteBox,this._getValue().getMinutes()),this._refreshFormat12()},_updateTime:function(){this.option("_showClock")&&this._updateClock(),this._updateField()},_visibilityChanged:function(e){e&&this._updateTime()},_optionChanged:function(e){switch(e.name){case"value":this._updateTime(),this.callBase(e);break;case"_arrowOffset":break;case"use24HourFormat":case"_showClock":case"stylingMode":this._invalidate();break;default:this.callBase(e)}}});Dt("dxTimeView",j2);const uce=j2;var cce=ut(),K2="dx-datebox-datetime-time-side",gce=B2.inherit({NAME:"CalendarWithTime",getDefaultOptions:function(){return A(this.callBase(),{applyValueMode:"useButtons",buttonsLocation:"bottom after","dropDownOptions.showTitle":!1})},_closeDropDownByEnter:function(){return Je.sameDate(this._getContouredValue(),this.widgetOption("value"))},getDisplayFormat:function(e){return e||"shortdateshorttime"},_is24HourFormat:function(){return Ct.is24HourFormat(this.getDisplayFormat(this.dateBox.option("displayFormat")))},_getContouredValue:function(){var e=this.callBase();return this._updateDateTime(e)},_renderWidget:function(){this.callBase(),this._timeView=this.dateBox._createComponent(x("<div>"),uce,{value:this.dateBoxValue(),_showClock:!this._isShrinkView(),use24HourFormat:this._is24HourFormat(),onValueChanged:this._valueChangedHandler.bind(this),stylingMode:this.dateBox.option("stylingMode")}),this._timeView.registerKeyHandler("escape",this._escapeHandler.bind(this))},renderOpenedState:function(){this.callBase();var e=this._getPopup();e&&e.$wrapper().toggleClass("dx-datebox-adaptivity-mode",this._isSmallScreen()),clearTimeout(this._repaintTimer),this._repaintTimer=setTimeout(function(){this._getPopup()&&this._getPopup().repaint()}.bind(this),0)},isAdaptivityChanged:function(){var e=this._isShrinkView(),n=this._currentAdaptiveMode;return e!==n?(this._currentAdaptiveMode=e,void 0!==n):this.callBase()},_updateValue:function(e){var n=this.dateBoxValue();!n&&!e&&bn.normalizeTime(n=new Date),this.callBase(),this._timeView&&(n&&this._timeView.option("value",n),this._timeView.option("use24HourFormat",this._is24HourFormat()))},_isSmallScreen:function(){return Ze(cce)<=573},_isShrinkView:function(){return!this.dateBox.option("showAnalogClock")||this.dateBox.option("adaptivityEnabled")&&this._isSmallScreen()},_getBoxItems:function(){var e=[{ratio:0,shrink:0,baseSize:"auto",name:"calendar"}];return this._isShrinkView()||e.push({ratio:0,shrink:0,baseSize:"auto",name:"time"}),e},renderPopupContent:function(){this.callBase(),this._currentAdaptiveMode=this._isShrinkView();var e=this._getPopup().$content();this._box=this.dateBox._createComponent(x("<div>").appendTo(e),Fx,{direction:"row",crossAlign:"stretch",items:this._getBoxItems(),itemTemplate:function(n,t,i){var r=x("<div>");switch(n.name){case"calendar":r.append(this._widget.$element()),this._isShrinkView()&&(this._timeView.$element().addClass(K2),r.append(this._timeView.$element()));break;case"time":r.append(this._timeView.$element()),x(i).addClass(K2)}return r}.bind(this)}),this._attachTabHandler()},popupConfig:function(e){var n=this.callBase(e);return A(n,{width:"auto"})},getFirstPopupElement:function(){return this._timeView._hourBox.$element().find("input")},_attachTabHandler:function(){var e=this.dateBox;this._timeView._hourBox.registerKeyHandler("tab",function(n){n.shiftKey&&(n.preventDefault(),e.focus())})},_preventFocusOnPopup:function(e){x(e.target).hasClass("dx-texteditor-input")||(this.callBase.apply(this,arguments),this.dateBox._hasFocusClass()||this.dateBox.focus())},_updateDateTime:function(e){var n=this._timeView.option("value");return e.setHours(n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds()),e},getValue:function(){var e,n=null!==(e=this._widget.option("value"))&&void 0!==e?e:this._widget.getContouredDate();return n=n?new Date(n):new Date,this._updateDateTime(n)},dispose:function(){clearTimeout(this._removeMinWidthTimer),clearTimeout(this._repaintTimer),this.callBase()}});const fce=gce;var _ce=ut(),vce={min:new Date(0,0,0,0,0),max:new Date(0,0,0,23,59)},Cce=P0.inherit({NAME:"List",supportedKeys:function(){return{tab:function(){var{opened:e,applyValueMode:n}=this.option();e&&"instantly"===n&&this.close()},space:U,home:U,end:U}},getDefaultOptions:function(){return A(this.callBase(),{applyValueMode:"instantly"})},getDisplayFormat:function(e){return e||"shorttime"},popupConfig:function(e){return e},getValue:function(){var e=this._widget.option("selectedIndex");return-1===e?this.dateBox.option("value"):this._getDateByItemData(this._widgetItems[e])},useCurrentDateByDefault:function(){return!0},getDefaultDate:function(){return new Date(null)},popupShowingHandler:function(){this.dateBox._dimensionChanged()},_renderWidget:function(){this.callBase(),this._refreshItems()},_getWidgetName:function(){return dx},_getWidgetOptions:function(){return{itemTemplate:this._timeListItemTemplate.bind(this),onItemClick:this._listItemClickHandler.bind(this),tabIndex:-1,onFocusedItemChanged:this._refreshActiveDescendant.bind(this),selectionMode:"single"}},_refreshActiveDescendant:function(e){this.dateBox.setAria("activedescendant",""),this.dateBox.setAria("activedescendant",e.actionValue)},_refreshItems:function(){this._widgetItems=this._getTimeListItems(),this._widget.option("items",this._widgetItems)},renderOpenedState:function(){this._widget&&(this._widget.option("focusedElement",null),this._setSelectedItemsByValue(),this._widget.option("templatesRenderAsynchronously")?this._asyncScrollTimeout=setTimeout(this._scrollToSelectedItem.bind(this)):this._scrollToSelectedItem())},dispose:function(){this.callBase(),clearTimeout(this._asyncScrollTimeout)},_updateValue:function(){this._widget&&(this._refreshItems(),this._setSelectedItemsByValue(),this._scrollToSelectedItem())},_setSelectedItemsByValue:function(){var e=this.dateBoxValue(),n=this._getDateIndex(e);-1===n?this._widget.option("selectedItems",[]):this._widget.option("selectedIndex",n)},_scrollToSelectedItem:function(){this._widget.scrollToItem(this._widget.option("selectedIndex"))},_getDateIndex:function(e){for(var n=-1,t=0,i=this._widgetItems.length;t<i;t++)if(this._areDatesEqual(e,this._widgetItems[t])){n=t;break}return n},_areDatesEqual:function(e,n){return ur(e)&&ur(n)&&e.getHours()===n.getHours()&&e.getMinutes()===n.getMinutes()},_getTimeListItems:function(){var e=this.dateBox.dateOption("min")||this._getBoundaryDate("min"),n=this.dateBox.dateOption("max")||this._getBoundaryDate("max"),t=this.dateBox.dateOption("value")||null,i=n-e,r=e.getMinutes()%this.dateBox.option("interval");return i<0?[]:(i>bn.ONE_DAY&&(i=bn.ONE_DAY),t-e<bn.ONE_DAY||((e=this._getBoundaryDate("min")).setMinutes(r),t&&Math.abs(t-n)<bn.ONE_DAY&&(i=(60*n.getHours()+Math.abs(n.getMinutes()-r))*bn.ONE_MINUTE)),this._getRangeItems(e,new Date(e),i))},_getRangeItems:function(e,n,t){for(var i=[],r=this.dateBox.option("interval");n-e<=t;)i.push(new Date(n)),n.setMinutes(n.getMinutes()+r);return i},_getBoundaryDate:function(e){var n=vce[e],t=new Date(Cn(this.dateBox.dateOption("value"),0));return new Date(t.getFullYear(),t.getMonth(),t.getDate(),n.getHours(),n.getMinutes())},_timeListItemTemplate:function(e){var n=this.dateBox.option("displayFormat");return Ct.format(e,this.getDisplayFormat(n))},_listItemClickHandler:function(e){if("useButtons"!==this.dateBox.option("applyValueMode")){var n=this._getDateByItemData(e.itemData);this.dateBox.option("opened",!1),this.dateBoxValue(n,e.event)}},_getDateByItemData:function(e){var n=this.dateBox.option("value"),t=e.getHours(),i=e.getMinutes(),r=e.getSeconds(),o=e.getFullYear(),s=e.getMonth(),l=e.getDate();return n?((n=this.dateBox.option("dateSerializationFormat")?Qn.deserializeDate(n):new Date(n)).setHours(t),n.setMinutes(i),n.setSeconds(r),n.setFullYear(o),n.setMonth(s),n.setDate(l)):n=new Date(o,s,l,t,i,0,0),n},getKeyboardListener:function(){return this._widget},_updatePopupHeight:function(){var e=wk(this.dateBox.option("dropDownOptions.height"));if(void 0===e||"auto"===e){this.dateBox._setPopupOption("height","auto");var n=_t(this._widget.$element()),t=.45*gt(_ce);this.dateBox._setPopupOption("height",Math.min(n,t))}this.dateBox._timeList&&this.dateBox._timeList.updateDimensions()},getParsedText:function(e,n){var t=this.callBase(e,n);return t&&(t=bn.mergeDates(t,new Date(null),"date")),t}});const yce=Cce;var kx=ut(),Bx="dx-datebox",F0="dx-datebox-wrapper",wo={calendar:"calendar",rollers:"rollers",list:"list",native:"native"},ss={date:"date",datetime:"datetime",time:"time"},Sce={Calendar:B2,DateView:Gue,Native:jue,CalendarWithTime:fce,List:yce},Ece=dG.inherit({_supportedKeys:function(){return A(this.callBase(),this._strategy.supportedKeys())},_renderButtonContainers:function(){this.callBase.apply(this,arguments),this._strategy.customizeButtons()},_getDefaultOptions:function(){return A(this.callBase(),{type:"date",showAnalogClock:!0,value:null,dateSerializationFormat:void 0,min:void 0,max:void 0,displayFormat:null,interval:30,disabledDates:null,pickerType:wo.calendar,invalidDateMessage:J.format("dxDateBox-validation-datetime"),dateOutOfRangeMessage:J.format("validation-range"),applyButtonText:J.format("OK"),adaptivityEnabled:!1,calendarOptions:{},useHiddenSubmitElement:!0,_showValidationIcon:!0})},_defaultOptionsRules:function(){return this.callBase().concat([{device:{platform:"ios"},options:{"dropDownOptions.showTitle":!0}},{device:{platform:"android"},options:{buttonsLocation:"bottom after"}},{device:function(){var n=$e.real().platform;return"ios"===n||"android"===n},options:{pickerType:wo.native}},{device:{platform:"generic",deviceType:"desktop"},options:{buttonsLocation:"bottom after"}}])},_initOptions:function(e){this._userOptions=A({},e),this.callBase(e),this._updatePickerOptions()},_updatePickerOptions:function(){var e=this.option("pickerType"),n=this.option("type");e===wo.list&&(n===ss.datetime||n===ss.date)&&(e=wo.calendar),n===ss.time&&e===wo.calendar&&(e=wo.list),this.option("showDropDownButton","generic"!==$e.real().platform||e!==wo.native),this._pickerType=e},_init:function(){this._initStrategy(),this.option(A({},this._strategy.getDefaultOptions(),this._userOptions)),delete this._userOptions,this.callBase()},_toLowerCaseFirstLetter:function(e){return e.charAt(0).toLowerCase()+e.substr(1)},_initStrategy:function(){var e=this._getStrategyName(this._getFormatType());this._strategy&&this._strategy.NAME===e||(this._strategy=new(0,Sce[e])(this))},_getFormatType:function(){var e=this.option("type"),n=/h|m|s/g.test(e),i="";return/d|M|Y/g.test(e)&&(i+=ss.date),n&&(i+=ss.time),i},_getStrategyName:function(e){var n=this._pickerType;return n===wo.rollers?"DateView":n===wo.native?"Native":e===ss.date?"Calendar":e===ss.datetime?"CalendarWithTime":"List"},_initMarkup:function(){this.$element().addClass(Bx),this.callBase(),this._refreshFormatClass(),this._refreshPickerTypeClass(),this._strategy.renderInputMinMax(this._input())},_render:function(){this.callBase(),this._formatValidationIcon()},_renderDimensions:function(){this.callBase(),this.$element().toggleClass("dx-auto-width",!this.option("width")),this._updatePopupWidth(),this._updatePopupHeight()},_dimensionChanged:function(){this.callBase(),this._updatePopupHeight()},_updatePopupHeight:function(){var e,n;this._popup&&(null===(e=(n=this._strategy)._updatePopupHeight)||void 0===e||e.call(n))},_refreshFormatClass:function(){var e=this.$element();B(ss,function(n,t){e.removeClass(Bx+"-"+t)}),e.addClass(Bx+"-"+this.option("type"))},_refreshPickerTypeClass:function(){var e=this.$element();B(wo,function(n,t){e.removeClass(Bx+"-"+t)}),e.addClass(Bx+"-"+this._pickerType)},_formatValidationIcon:function(){if(rt()){var e=this._input().get(0),n=this.option("rtlEnabled"),t=this._getClearButtonWidth(),i=this._getLongestElementDimensions(),r=parseFloat(kx.getComputedStyle(e).width)-t,o=i.width>r,s=e.style;this.$element().toggleClass("dx-show-invalid-badge",!o&&this.option("_showValidationIcon")),o?(void 0===this._storedPadding&&(this._storedPadding=n?i.leftPadding:i.rightPadding),n?s.paddingLeft=0:s.paddingRight=0):n?s.paddingLeft=this._storedPadding+"px":s.paddingRight=this._storedPadding+"px"}},_getClearButtonWidth:function(){var e=0;if(this._isClearButtonVisible()&&""===this._input().val()){var n=this.$element().find(".dx-clear-button-area").get(0);e=parseFloat(kx.getComputedStyle(n).width)}return e},_getLongestElementDimensions:function(){var e=this._strategy.getDisplayFormat(this.option("displayFormat")),n=Ct.format(bn.getLongestDate(e,Ct.getMonthNames(),Ct.getDayNames()),e),t=this._input(),i=t.get(0),r=((e,n,t)=>{var i=Cy.getComputedStyle(x(e).get(0));return x("<div>").text(n).css({fontStyle:i.fontStyle,fontVariant:i.fontVariant,fontWeight:i.fontWeight,fontSize:i.fontSize,fontFamily:i.fontFamily,letterSpacing:i.letterSpacing,border:i.border,paddingTop:"",paddingRight:"",paddingBottom:"",paddingLeft:"",visibility:"hidden",whiteSpace:"pre",position:"absolute",float:"left"})})(t,n),s=void 0!==this._storedPadding?this._storedPadding:0;r.appendTo(this.$element());var l=parseFloat(kx.getComputedStyle(r.get(0)).width),h=parseFloat(kx.getComputedStyle(i).paddingRight),g=parseFloat(kx.getComputedStyle(i).paddingLeft),_=l+g+h+s;return r.remove(),{width:_,leftPadding:g,rightPadding:h}},_getKeyboardListeners(){return this.callBase().concat([this._strategy&&this._strategy.getKeyboardListener()])},_renderPopup:function(){this.callBase(),this._popup.$wrapper().addClass(F0),this._renderPopupWrapper()},_getPopupToolbarItems(){var e,n,t,i=this.callBase();return null!==(e=null===(n=(t=this._strategy)._getPopupToolbarItems)||void 0===n?void 0:n.call(t,i))&&void 0!==e?e:i},_popupConfig:function(){var e=this.callBase();return A(this._strategy.popupConfig(e),{title:this._getPopupTitle(),dragEnabled:!1})},_renderPopupWrapper:function(){if(this._popup){var e=this.$element(),n=A({},ss,wo);B(n,function(t,i){e.removeClass(F0+"-"+i)}.bind(this)),this._popup.$wrapper().addClass(F0+"-"+this.option("type")).addClass(F0+"-"+this._pickerType).addClass("dx-dropdowneditor-overlay")}},_renderPopupContent:function(){this.callBase(),this._strategy.renderPopupContent()},_getFirstPopupElement:function(){return this._strategy.getFirstPopupElement()||this.callBase()},_getLastPopupElement:function(){return this._strategy.getLastPopupElement()||this.callBase()},_popupShowingHandler:function(){this.callBase(),this._strategy.popupShowingHandler()},_popupShownHandler:function(){this.callBase(),this._strategy.renderOpenedState()},_popupHiddenHandler:function(){this.callBase(),this._strategy.renderOpenedState(),this._strategy.popupHiddenHandler()},_visibilityChanged:function(e){e&&this._formatValidationIcon()},_clearValueHandler:function(e){this.option("text",""),this.callBase(e)},_readOnlyPropValue:function(){if(this._pickerType===wo.rollers)return!0;var e=$e.real().platform;return!this._isNativeType()||"ios"!==e&&"android"!==e?this.callBase():this.option("readOnly")},_isClearButtonVisible:function(){return this.callBase()&&!this._isNativeType()},_renderValue:function(){var e=this.dateOption("value");return this.option("text",this._getDisplayedText(e)),this._strategy.renderValue(),this.callBase()},_setSubmitValue:function(){var e=this.dateOption("value"),n=this.option("dateSerializationFormat"),t=bn.SUBMIT_FORMATS_MAP[this.option("type")],i=n?Qn.serializeDate(e,n):bn.toStandardDateFormat(e,t);this._getSubmitElement().val(i)},_getDisplayedText:function(e){var t,n=this.option("mode");if("text"===n){var i=this._strategy.getDisplayFormat(this.option("displayFormat"));t=Ct.format(e,i)}else{var r=this._getFormatByMode(n);t=r?Ct.format(e,r):bn.toStandardDateFormat(e,n)}return t},_getFormatByMode:function(e){return S(e)?null:bn.FORMATS_MAP[e]},_valueChangeEventHandler:function(e){var{text:n,type:t,validationError:i}=this.option(),r=this.dateOption("value");if(n!==this._getDisplayedText(r)){var o=this._getParsedDate(n),s=r??this._getDateByDefault(),l=bn.mergeDates(s,o,t);if(this._applyInternalValidation(o&&"time"===t?l:o).isValid){var g=this._getDisplayedText(l);s&&l&&s.getTime()===l.getTime()&&g!==n?this._renderValue():this.dateValue(l,e)}}else this._recallInternalValidation(r,i)},_recallInternalValidation(e,n){(!n||n.editorSpecific)&&(this._applyInternalValidation(e),this._applyCustomValidation(e))},_getDateByDefault:function(){return this._strategy.useCurrentDateByDefault()&&this._strategy.getDefaultDate()},_getParsedDate:function(e){var n=this._strategy.getDisplayFormat(this.option("displayFormat"));return this._strategy.getParsedText(e,n)??void 0},_applyInternalValidation(e){var t=!!this.option("text")&&null!==e,i=!!e&&ur(e)&&!isNaN(e.getTime()),r=i&&Je.dateInRange(e,this.dateOption("min"),this.dateOption("max"),this.option("type")),o=!t&&!e||r,s="";return i?r||(s=this.option("dateOutOfRangeMessage")):s=this.option("invalidDateMessage"),this._updateInternalValidationState(o,s),{isValid:o,isDate:i}},_updateInternalValidationState(e,n){this.option({isValid:e,validationError:e?null:{editorSpecific:!0,message:n}})},_applyCustomValidation:function(e){this.validationRequest.fire({editor:this,value:this._serializeDate(e)})},_isValueChanged:function(e){var n=this.dateOption("value");return(n&&n.getTime())!==(e&&e.getTime())},_isTextChanged:function(e){return this.option("text")!==(e&&this._getDisplayedText(e)||"")},_renderProps:function(){this.callBase(),this._input().attr("autocomplete","off")},_renderOpenedState:function(){this._isNativeType()||this.callBase(),this._strategy.isAdaptivityChanged()&&this._refreshStrategy()},_getPopupTitle:function(){var e=this.option("placeholder");if(e)return e;var n=this.option("type");return n===ss.time?J.format("dxDateBox-simulatedDataPickerTitleTime"):n===ss.date||n===ss.datetime?J.format("dxDateBox-simulatedDataPickerTitleDate"):""},_refreshStrategy:function(){this._strategy.dispose(),this._initStrategy(),this.option(this._strategy.getDefaultOptions()),this._refresh()},_applyButtonHandler:function(e){var n=this._strategy.getValue();this.dateValue(n,e.event),this.callBase()},_dispose:function(){var e;this.callBase(),null===(e=this._strategy)||void 0===e||e.dispose()},_isNativeType:function(){return this._pickerType===wo.native},_updatePopupTitle:function(){var e;null===(e=this._popup)||void 0===e||e.option("title",this._getPopupTitle())},_optionChanged:function(e){switch(e.name){case"showClearButton":case"buttons":case"isValid":case"readOnly":this.callBase.apply(this,arguments),this._formatValidationIcon();break;case"pickerType":this._updatePickerOptions({pickerType:e.value}),this._refreshStrategy(),this._refreshPickerTypeClass(),this._invalidate();break;case"type":this._updatePickerOptions({format:e.value}),this._refreshStrategy(),this._refreshFormatClass(),this._renderPopupWrapper(),this._formatValidationIcon(),this._updateValue();break;case"placeholder":this.callBase.apply(this,arguments),this._updatePopupTitle();break;case"min":case"max":var n=this.option("isValid");this._applyInternalValidation(this.dateOption("value")),n||this._applyCustomValidation(this.dateOption("value")),this._invalidate();break;case"dateSerializationFormat":case"interval":case"disabledDates":case"calendarOptions":this._invalidate();break;case"displayFormat":this.option("text",this._getDisplayedText(this.dateOption("value"))),this._renderInputValue();break;case"text":this._strategy.textChangedHandler(e.value),this.callBase.apply(this,arguments);break;case"showDropDownButton":this._formatValidationIcon(),this.callBase.apply(this,arguments);break;case"todayButtonText":this._setPopupOption("toolbarItems",this._getPopupToolbarItems());break;case"invalidDateMessage":case"dateOutOfRangeMessage":case"adaptivityEnabled":case"showAnalogClock":case"_showValidationIcon":break;default:this.callBase.apply(this,arguments)}},_getSerializationFormat:function(){var e=this.option("value");return this.option("dateSerializationFormat")&&un().forceIsoDateParsing?this.option("dateSerializationFormat"):Vt(e)?"number":je(e)?Qn.getDateSerializationFormat(e):void 0},_updateValue:function(e){this.callBase(),this._applyInternalValidation(e??this.dateOption("value"))},dateValue:function(e,n){var t=this._isValueChanged(e);return t&&n&&this._saveValueChangeEvent(n),t||(this._isTextChanged(e)?this._updateValue(e):""===this.option("text")&&this._applyCustomValidation(e)),this.dateOption("value",e)},dateOption:function(e,n){if(1===arguments.length)return Qn.deserializeDate(this.option(e));this.option(e,this._serializeDate(n))},_serializeDate:function(e){var n=this._getSerializationFormat();return Qn.serializeDate(e,n)},_clearValue:function(){var e=this.option("value");this.callBase(),null===e&&this._applyCustomValidation(null)},reset:function(){var e=this.option("value");this.callBase(),null===e&&this._applyInternalValidation(null)}}),$_="dateBoxMask",Ice=Ece.inherit({_supportedKeys(e){var n=this.callBase(e),t=r=>{var o=n[xn(r)];return o&&o.apply(this,[r])},i=(r,o)=>this._shouldUseOriginalHandler(r)?t.apply(this,[r]):o.apply(this,[r]);return A({},n,{del:r=>i(r,o=>{this._revertPart(1),this._isAllSelected()||o.preventDefault()}),backspace:r=>i(r,o=>{this._revertPart(-1),this._isAllSelected()||o.preventDefault()}),home:r=>i(r,o=>{this._selectFirstPart(),o.preventDefault()}),end:r=>i(r,o=>{this._selectLastPart(),o.preventDefault()}),escape:r=>i(r,o=>{this._revertChanges(o)}),enter:r=>i(r,()=>{this._enterHandler()}),leftArrow:r=>i(r,o=>{this._selectNextPart(-1),o.preventDefault()}),rightArrow:r=>i(r,o=>{this._selectNextPart(1),o.preventDefault()}),upArrow:r=>i(r,o=>{this._upDownArrowHandler(1),o.preventDefault()}),downArrow:r=>i(r,o=>{this._upDownArrowHandler(-1),o.preventDefault()})})},_shouldUseOriginalHandler(e){var n=this.option("opened")&&e&&-1===["backspace","del"].indexOf(xn(e));return!this._useMaskBehavior()||n||e&&e.altKey},_upDownArrowHandler(e){this._setNewDateIfEmpty();var n=this._getActivePartValue(this._initialMaskValue),i=this._getActivePartValue()-n;this._loadMaskValue(this._initialMaskValue),this._partIncrease(i+e,!0)},_getDefaultOptions(){return A(this.callBase(),{useMaskBehavior:!1,emptyDateValue:new Date(2e3,0,1,0,0,0)})},_isSingleCharKey(e){var{originalEvent:n,alt:t}=e,i=n.data||n.key;return"string"==typeof i&&1===i.length&&!t&&!Un(n)},_isSingleDigitKey(e){var n,t=null===(n=e.originalEvent)||void 0===n?void 0:n.data;return 1===t?.length&&parseInt(t,10)},_useBeforeInputEvent:function(){return $e.real().android},_keyInputHandler(e,n){var t=this._input().val();this._processInputKey(n),e.preventDefault(),t!==this._input().val()&&R.trigger(this._input(),"input")},_keyboardHandler(e){var n=e.originalEvent.key,t=this.callBase(e);return!this._useMaskBehavior()||this._useBeforeInputEvent()||(Gt.chrome&&"Process"===e.key&&0===e.code.indexOf("Digit")?(n=e.code.replace("Digit",""),this._processInputKey(n),this._maskInputHandler=()=>{this._renderSelectedPart()}):this._isSingleCharKey(e)&&this._keyInputHandler(e.originalEvent,n)),t},_maskBeforeInputHandler(e){this._maskInputHandler=null;var{inputType:n}=e.originalEvent;"insertCompositionText"===n&&(this._maskInputHandler=()=>{this._renderSelectedPart()});var t="deleteContentBackward"===n;if(t||"deleteContentForward"===n){var r=t?-1:1;this._maskInputHandler=()=>{this._revertPart(),this._selectNextPart(r)}}if(this._useMaskBehavior()&&this._isSingleCharKey(e))return this._keyInputHandler(e,e.originalEvent.data),!0},_keyPressHandler(e){var{originalEvent:n}=e;"insertCompositionText"===n?.inputType&&this._isSingleDigitKey(e)&&(this._processInputKey(n.data),this._renderDisplayText(this._getDisplayedText(this._maskValue)),this._selectNextPart()),this.callBase(e),this._maskInputHandler&&(this._maskInputHandler(),this._maskInputHandler=null)},_processInputKey(e){this._isAllSelected()&&(this._activePartIndex=0),this._setNewDateIfEmpty(),isNaN(parseInt(e))?this._searchString(e):this._searchNumber(e)},_isAllSelected(){var e=this._caret();return e.end-e.start===this.option("text").length},_getFormatPattern(){if(this._formatPattern)return this._formatPattern;var e=this._strategy.getDisplayFormat(this.option("displayFormat")),n=je(e)&&!Ct._getPatternByFormat(e);return this._formatPattern=n?e:ij(function(t){return Ct.format(t,e)}),this._formatPattern},_setNewDateIfEmpty(){if(!this._maskValue){var e="time"===this.option("type")?new Date(null):new Date;this._maskValue=e,this._initialMaskValue=e,this._renderDateParts()}},_partLimitsReached(e){var n=String(e).length,t=this._getActivePartProp("pattern").length,r=1===t?n:Math.min(t,n),o=this._searchValue.length===r,s=parseInt(this._searchValue+"0")>e;return o||s},_searchNumber(e){var{max:n}=this._getActivePartLimits(),t=String(n).length;this._searchValue=(this._searchValue+e).substr(-t),isNaN(this._searchValue)&&(this._searchValue=e),this._setActivePartValue(this._searchValue),this._partLimitsReached(n)&&this._selectNextPart(1)},_searchString(e){if(isNaN(parseInt(this._getActivePartProp("text")))){for(var n=this._getActivePartProp("limits")(this._maskValue),t=this._searchValue+e.toLowerCase(),i=n.max-n.min,r=0;r<=i;r++)if(this._loadMaskValue(this._initialMaskValue),this._partIncrease(r+1),0===this._getActivePartProp("text").toLowerCase().indexOf(t))return void(this._searchValue=t);this._setNewDateIfEmpty(),this._searchValue&&(this._clearSearchValue(),this._searchString(e))}},_clearSearchValue(){this._searchValue=""},_revertPart:function(e){if(!this._isAllSelected()){var n=this._getActivePartValue(this.option("emptyDateValue"));this._setActivePartValue(n),this._selectNextPart(e)}this._clearSearchValue()},_useMaskBehavior(){return this.option("useMaskBehavior")&&"text"===this.option("mode")},_prepareRegExpInfo(){this._regExpInfo=sj(this._getFormatPattern(),Ct);var e=this._regExpInfo.regexp,n=e.source,t=e.flags,i=new RegExp(/(\{[0-9]+,?[0-9]*\})/),r=n.split(i).map(o=>i.test(o)?o:en.convertDigits(o,!1)).join("");this._regExpInfo.regexp=new RegExp(r,t)},_initMaskState(){this._activePartIndex=0,this._formatPattern=null,this._prepareRegExpInfo(),this._loadMaskValue()},_renderMask(){this.callBase(),this._detachMaskEvents(),this._clearMaskState(),this._useMaskBehavior()&&(this._attachMaskEvents(),this._initMaskState(),this._renderDateParts())},_renderDateParts(){if(this._useMaskBehavior()){var e=this.option("text")||this._getDisplayedText(this._maskValue);e&&(this._dateParts=((e,n)=>{for(var t=n.regexp.exec(e),i=0,r=0,o=[],s=function(){r=(i=r)+t[l].length;var h=n.patterns[l-1].replace(/^'|'$/g,""),g=(e=>Ode[e]||(()=>e))(h[0]);o.push({index:l-1,isStub:h===t[l],caret:{start:i,end:r},pattern:h,text:t[l],limits:function(){for(var _=arguments.length,v=new Array(_),C=0;C<_;C++)v[C]=arguments[C];return Px(h[0],...v)},setter:Dde[h[0]]||U,getter:g})},l=1;l<t.length;l++)s();return o})(e,this._regExpInfo),this._input().is(":hidden")||this._selectNextPart())}},_detachMaskEvents(){R.off(this._input(),"."+$_)},_attachMaskEvents(){R.on(this._input(),fe("dxclick",$_),this._maskClickHandler.bind(this)),R.on(this._input(),fe("paste",$_),this._maskPasteHandler.bind(this)),R.on(this._input(),fe("drop",$_),()=>{this._renderSelectedPart()}),R.on(this._input(),fe("compositionend",$_),this._maskCompositionEndHandler.bind(this)),this._useBeforeInputEvent()&&R.on(this._input(),fe("beforeinput",$_),this._maskBeforeInputHandler.bind(this))},_renderSelectedPart(){this._renderDisplayText(this._getDisplayedText(this._maskValue)),this._selectNextPart()},_selectLastPart(){this.option("text")&&(this._activePartIndex=this._dateParts.length,this._selectNextPart(-1))},_selectFirstPart(){this.option("text")&&(this._activePartIndex=-1,this._selectNextPart(1))},_onMouseWheel(e){this._useMaskBehavior()&&this._partIncrease(e.delta>0?1:-1,e)},_selectNextPart(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if(this.option("text")&&!this._disposed){e&&(this._initialMaskValue=new Date(this._maskValue));var n=cn(this._activePartIndex+e,0,this._dateParts.length-1);if(this._dateParts[n].isStub){if(!(0===n&&e<0||n===this._dateParts.length-1&&e>0))return void this._selectNextPart(e>=0?e+1:e-1);n=this._activePartIndex}this._activePartIndex!==n&&this._clearSearchValue(),this._activePartIndex=n,this._caret(this._getActivePartProp("caret"))}},_getRealLimitsPattern(){if("d"===this._getActivePartProp("pattern")[0])return"dM"},_getActivePartLimits(e){return this._getActivePartProp("limits")(this._maskValue,e&&this._getRealLimitsPattern())},_getActivePartValue(e){e=e||this._maskValue;var n=this._getActivePartProp("getter");return Re(n)?n(e):e[n]()},_addLeadingZeroes(e){var n=this._searchValue.match(/^0+/),t=this._getActivePartLimits(),i=String(t.max).length;return((n&&n[0]||"")+String(e)).substr(-i)},_setActivePartValue(e,n){n=n||this._maskValue;var t=this._getActivePartProp("setter"),i=this._getActivePartLimits();e=va(e,i.min,i.max)?e:e%10,e=this._addLeadingZeroes(cn(e,i.min,i.max)),Re(t)?t(n,e):n[t](e),this._renderDisplayText(this._getDisplayedText(n)),this._renderDateParts()},_getActivePartProp(e){if(this._dateParts&&this._dateParts[this._activePartIndex])return this._dateParts[this._activePartIndex][e]},_loadMaskValue(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.dateOption("value");this._maskValue=e&&new Date(e),this._initialMaskValue=e&&new Date(e)},_saveMaskValue(){var e=this._maskValue&&new Date(this._maskValue);e&&"date"===this.option("type")&&e.setHours(0,0,0,0),this._initialMaskValue=new Date(e),this.dateOption("value",e)},_revertChanges(){this._loadMaskValue(),this._renderDisplayText(this._getDisplayedText(this._maskValue)),this._renderDateParts()},_renderDisplayText(e){this.callBase(e),this._useMaskBehavior()&&this.option("text",e)},_partIncrease(e,n){this._setNewDateIfEmpty();var{max:t,min:i}=this._getActivePartLimits(n),r=t-i;1===r&&r++;var o=e+this._getActivePartValue();o>t?o=this._applyLimits(o,{limitBase:i,limitClosest:t,limitDelta:r}):o<i&&(o=this._applyLimits(o,{limitBase:t,limitClosest:i,limitDelta:r})),this._setActivePartValue(o)},_applyLimits(e,n){var{limitBase:t,limitClosest:i,limitDelta:r}=n,o=(e-i)%r;return o?t+o-1*Ts(o):i},_maskClickHandler(){this._loadMaskValue(this._maskValue),this.option("text")&&(this._activePartIndex=((e,n)=>{for(var t=0;t<e.length;t++)if(!e[t].isStub&&e[t].caret.end>=n)return t;return null})(this._dateParts,this._caret().start),this._isAllSelected()||(T(this._activePartIndex)?this._caret(this._getActivePartProp("caret")):this._selectLastPart()))},_maskCompositionEndHandler(e){this._input().val(this._getDisplayedText(this._maskValue)),this._selectNextPart(),this._maskInputHandler=()=>{this._renderSelectedPart()}},_maskPasteHandler(e){var n=this._replaceSelectedText(this.option("text"),this._caret(),yy(e)),t=Ct.parse(n,this._getFormatPattern());t&&this._isDateValid(t)&&(this._maskValue=t,this._renderDisplayText(this._getDisplayedText(this._maskValue)),this._renderDateParts(),this._selectNextPart()),e.preventDefault()},_isDateValid:e=>ur(e)&&!isNaN(e),_isValueDirty(){var e=this.dateOption("value");return(this._maskValue&&this._maskValue.getTime())!==(e&&e.getTime())},_fireChangeEvent(){this._clearSearchValue(),this._isValueDirty()&&R.trigger(this._input(),"change")},_enterHandler(){this._fireChangeEvent(),this._selectNextPart(1)},_focusOutHandler(e){this._useMaskBehavior()&&!e.isDefaultPrevented()?(this._fireChangeEvent(),this.callBase(e),this._selectFirstPart(e)):this.callBase(e)},_valueChangeEventHandler(e){var n=this.option("text");this._useMaskBehavior()?(this._saveValueChangeEvent(e),n?null===this._maskValue&&this._loadMaskValue(n):this._maskValue=null,this._saveMaskValue()):this.callBase(e)},_optionChanged(e){switch(e.name){case"useMaskBehavior":this._renderMask();break;case"displayFormat":case"mode":this.callBase(e),this._renderMask();break;case"value":this._loadMaskValue(),this.callBase(e),this._renderDateParts();break;case"emptyDateValue":break;default:this.callBase(e)}},_clearMaskState(){this._clearSearchValue(),delete this._dateParts,delete this._activePartIndex,delete this._maskValue},reset(){this._clearMaskState(),this._activePartIndex=0,this.callBase()},_clean(){this.callBase(),this._detachMaskEvents(),this._clearMaskState()}});Dt("dxDateBox",Ice);var{isWrapped:Tce}=Jn,Rce=function(){var e=function(_,v){return A(_,{readOnly:v.readOnly,placeholder:v.placeholder,inputAttr:{id:v.id},tabIndex:v.tabIndex},v.editorOptions)},n=function(){return Gt.mozilla||$e.real().ios},t=function(_){var v={},C=n(),b=_.sharedData||v;return e({placeholder:_.placeholder,width:_.width,value:_.value,onValueChanged:function(E){var w="filterRow"===_.parentType||"searchPanel"===_.parentType,M=E.event&&("input"===E.event.type||"keyup"===E.event.type),k=function(L,G){_&&_.setValue(L.value,G)};clearTimeout(v.valueChangeTimeout),M&&w?b.valueChangeTimeout=v.valueChangeTimeout=setTimeout(function(){k(E,v.valueChangeTimeout!==b.valueChangeTimeout)},T(_.updateValueTimeout)?_.updateValueTimeout:0):k(E)},onKeyDown:function(E){C&&"enter"===xn(E.event)&&R.trigger(x(E.component._input()),"change")},valueChangeEvent:"change"+("filterRow"===_.parentType?" keyup input":"")},_)},i=function(_){_.editorName="dxDateBox",_.editorOptions=e({value:_.value,onValueChanged:function(v){_.setValue(v.value)},onKeyDown:function(v){var{component:C,event:b}=v,E=C.option("useMaskBehavior");(n()||E)&&"enter"===xn(b)&&(C.blur(),C.focus())},displayFormat:_.format,type:_.dataType,dateSerializationFormat:null,width:"filterBuilder"===_.parentType?void 0:"auto"},_)},r=function(_){var b,v=t(_),C="searchPanel"===_.parentType;v.value=_.editorType&&"dxTextBox"!==_.editorType?_.value:T(b=_.value)?b.toString():"",v.valueChangeEvent+=C?" keyup input search":"",v.mode=v.mode||(C?"search":"text"),_.editorName="dxTextBox",_.editorOptions=v},o=function(_){var v=t(_);v.value=T(_.value)?_.value:null,_.editorName="dxNumberBox",_.editorOptions=v};function s(_){var C,b,E,v=_.lookup,w="filterRow"===_.parentType;if(v){var M;C=Yt(v.displayExpr),Re(b=v.dataSource)&&!Tce(b)&&(b=b(_.row||{}),function(L){if(L.row&&L.row.watch&&"dataRow"===L.parentType){var G=L.editorOptions||{};L.editorOptions=G;var Q,le=G.onInitialized;G.onInitialized=function(Ee){le&&le.apply(this,arguments),(Q=Ee.component).on("disposing",He)};var Te,He=L.row.watch(()=>(Te=L.lookup.dataSource(L.row))&&Te.filter,()=>{Q.option("dataSource",Te)},Ee=>{L.row=Ee})}}(_)),(qe(b)||Array.isArray(b))&&(b=w_(b),w&&(E=b.postProcess,b.postProcess=function(L){return 0===this.pageIndex()&&(L=L.slice(0)).unshift(null),E?E.call(this,L):L}));var k=!(!v.allowClearing||w);_.editorName=null!==(M=_.editorType)&&void 0!==M?M:"dxSelectBox",_.editorOptions=e({searchEnabled:!0,value:_.value,valueExpr:_.lookup.valueExpr,searchExpr:_.lookup.searchExpr||_.lookup.displayExpr,allowClearing:k,showClearButton:k,displayExpr:function(L){return null===L?_.showAllText:C(L)},dataSource:b,onValueChanged:function(L){var G=[L.value];!w&&G.push(L.component.option("text")),_.setValue.apply(this,G)}},_)}}function l(_){_.editorName="dxCheckBox",_.editorOptions=e({elementAttr:{id:_.id},value:T(_.value)?_.value:void 0,hoverStateEnabled:!_.readOnly,focusStateEnabled:!_.readOnly,activeStateEnabled:!1,onValueChanged:function(v){_.setValue&&_.setValue(v.value,v)}},_)}var h=_=>{_.editorName=_.editorType,_.editorOptions=e({value:_.value,onValueChanged:function(v){_.setValue(v.value)}},_)},g=_=>{var b,v={dxDateBox:i,dxCheckBox:l,dxNumberBox:o,dxTextBox:r};if(_.lookup)s(_);else if(_.editorType){var C;(null!==(C=v[_.editorType])&&void 0!==C?C:h)(_)}else switch(_.dataType){case"date":case"datetime":i(_);break;case"boolean":"filterRow"===(b=_).parentType||"filterBuilder"===b.parentType?s(A(b,{lookup:{displayExpr:function(E){return!0===E?b.trueText||"true":!1===E?b.falseText||"false":void 0},dataSource:[!0,!1]}})):l(b);break;case"number":o(_);break;default:r(_)}};return{createEditor:function(_,v){v.cancel=!1,v.editorElement=Ke(_),T(v.tabIndex)||(v.tabIndex=this.option("tabIndex")),g(v),this.executeAction("onEditorPreparing",v),!v.cancel&&("dataRow"===v.parentType&&!v.isOnForm&&!T(v.editorOptions.showValidationMark)&&(v.editorOptions.showValidationMark=!1),function(C,b){var E=x(b.editorElement);if(b.editorName&&b.editorOptions&&E[b.editorName]){if(("dxCheckBox"===b.editorName||"dxSwitch"===b.editorName)&&(b.isOnForm||(E.addClass(C.addWidgetPrefix("checkbox-size")),E.parent().addClass("dx-editor-inline-block"))),C._createComponent(E,b.editorName,b.editorOptions),"dxDateBox"===b.editorName){var w=E.dxDateBox("instance"),M=w._supportedKeys().enter;w.registerKeyHandler("enter",k=>(w.option("opened")&&M(k),!0))}"dxTextArea"===b.editorName&&E.dxTextArea("instance").registerKeyHandler("enter",function(k){"enter"===xn(k)&&!k.ctrlKey&&!k.shiftKey&&k.stopPropagation()})}}(this,v),this.executeAction("onEditorPrepared",v))}}}();const Y2=Rce;var pL="dx-cell-focus-disabled",q2="focus-overlay",gL="dx-focused",J2="dxDataGridEditorFactory",X2=fe([Rt.down,"focusin",Kt].join(" "),J2),fL="dx-hidden",Bce=dn.ViewController.inherit(Y2);Ge.registerModule("editorFactory",{defaultOptions:()=>({}),controllers:{editorFactory:class Lce extends Bce{_getFocusedElement(n){var t=this.option("focusedRowEnabled")?"tr[tabindex]:focus":"tr[tabindex]:not(.dx-data-row):focus",i="td[tabindex]:focus, ".concat(t,", input:focus, textarea:focus, .dx-lookup-field:focus, .dx-checkbox:focus, .dx-switch:focus, .dx-dropdownbutton .dx-buttongroup:focus, .dx-adaptive-item-text:focus"),r=n.find(i);return this.elementIsInsideGrid(r)&&r}_getFocusCellSelector(){return".dx-row > td"}_updateFocusCore(){var n=this.component&&this.component.$element();if(n){var t=this._getFocusedElement(n);if(t&&t.length){var i;if(!t.hasClass(pL)&&!t.hasClass("dx-row")){var r=t.closest("".concat(this._getFocusCellSelector(),", .").concat(pL));r.get(0)!==t.get(0)&&(i=this._needHideBorder(r),t=r)}if(t.length&&!t.hasClass(pL))return void this.focus(t,i)}}this.loseFocus()}_needHideBorder(n){return n.hasClass("dx-editor-inline-block")}_updateFocus(n){var t=this,i=n&&n.event&&x(n.event.target).hasClass(t.addWidgetPrefix(q2));t._isFocusOverlay=t._isFocusOverlay||i,clearTimeout(t._updateFocusTimeoutID),t._updateFocusTimeoutID=setTimeout(()=>{delete t._updateFocusTimeoutID,t._isFocusOverlay||t._updateFocusCore(),t._isFocusOverlay=!1})}_updateFocusOverlaySize(n,t){n.hide();var i=Ns.calculate(n,A({collision:"fit"},t));i.h.oversize>0&&iS(n,wt(n)-i.h.oversize),i.v.oversize>0&&rS(n,_t(n)-i.v.oversize),n.show()}callbackNames(){return["focused"]}focus(n,t){var i=this;if(void 0===n)return i._$focusedElement;n&&(n.is(i._$focusedElement)||i._$focusedElement&&i._$focusedElement.removeClass(gL),i._$focusedElement=n,clearTimeout(i._focusTimeoutID),i._focusTimeoutID=setTimeout(()=>{delete i._focusTimeoutID,i.renderFocusOverlay(n,t),n.addClass(gL),i.focused.fire(n)}))}refocus(){var n=this.focus();this.focus(n)}renderFocusOverlay(n,t){if(xe.isElementInCurrentGrid(this,n))if(this._$focusOverlay||(this._$focusOverlay=x("<div>").addClass(this.addWidgetPrefix(q2))),t)this._$focusOverlay.addClass(fL);else if(n.length){var i=Gt.mozilla?"right bottom":"left top",r=n.closest(".".concat(this.addWidgetPrefix("content"))),o=Zn(n.get(0));this._$focusOverlay.removeClass(fL).appendTo(r),rS(this._$focusOverlay,o.bottom-o.top+1),iS(this._$focusOverlay,o.right-o.left+1);var s={precise:!0,my:i,at:i,of:n,boundary:r.length&&r};this._updateFocusOverlaySize(this._$focusOverlay,s),Ns.setup(this._$focusOverlay,s),this._$focusOverlay.css("visibility","visible")}}resize(){var n=this._$focusedElement;n&&this.focus(n)}loseFocus(){this._$focusedElement&&this._$focusedElement.removeClass(gL),this._$focusedElement=null,this._$focusOverlay&&this._$focusOverlay.addClass(fL)}init(){this.createAction("onEditorPreparing",{excludeValidators:["disabled","readOnly"],category:"rendering"}),this.createAction("onEditorPrepared",{excludeValidators:["disabled","readOnly"],category:"rendering"}),this._updateFocusHandler=this._updateFocusHandler||this.createAction(this._updateFocus.bind(this)),this._subscribedContainerRoot=this._getContainerRoot(),R.on(this._subscribedContainerRoot,X2,this._updateFocusHandler),this._attachContainerEventHandlers()}_getContainerRoot(){var n,t=null===(n=this.component)||void 0===n?void 0:n.$element(),i=se.getRootNode(t?.get(0));return i.nodeType!==Node.DOCUMENT_FRAGMENT_NODE||i.host?i:se.getDocument()}_attachContainerEventHandlers(){var n=this,t=n.component&&n.component.$element();t&&R.on(t,fe("keydown",J2),i=>{"tab"===xn(i)&&n._updateFocusHandler(i)})}dispose(){clearTimeout(this._focusTimeoutID),clearTimeout(this._updateFocusTimeoutID),R.off(this._subscribedContainerRoot,X2,this._updateFocusHandler)}}}});var k0=ut(),Nce={text:"OK",onClick:function(){return!0}},Ip="dx-dialog",Hce="".concat(Ip,"-wrapper"),zce="".concat(Ip,"-root"),Wce="".concat(Ip,"-content"),$ce="".concat(Ip,"-message"),Gce="".concat(Ip,"-buttons"),Uce="".concat(Ip,"-button"),Z2="dx-button",B0="dx-editor-cell",ac="dx-row",e3="dx-selection",L0="edit-form",Na="insert",td="remove",V0="editing.popup",_L="editing.form",Io="editing.editRowKey",Tp="editing.editColumnName",t3="targetComponent",n3="input:not([type='hidden'])",r3="[tabindex], ".concat(n3),Vx="batch",Mp="row",N0="cell",U_="form",mL="popup",H0="last",s3="pageBottom",vL="pageTop",a3="viewportBottom",l3="viewportTop",Yce=[Vx,Mp,N0,U_,mL],qce=[Mp,U_,mL],Jce=[Mp,U_],d3="dx-command-edit",u3="".concat(d3,"-with-icons"),lc="__DX_INSERT_INDEX__",c3="dx-cell-modified",Nx="update",she={save:"dx-link-save",cancel:"dx-link-cancel",edit:"dx-link-edit",undelete:"dx-link-undelete",delete:"dx-link-delete",add:"dx-link-add"},ahe={save:"save",cancel:"revert",edit:"edit",undelete:"revert",delete:"trash",add:"add"},lhe={edit:"editRow",delete:"deleteRow",undelete:"undeleteRow",save:"saveEditData",cancel:"cancelEditData",add:"addRowByRowIndex"},dhe={add:"allowAdding",edit:"allowUpdating",delete:"allowDeleting"},uhe=["edit","save","cancel","delete","undelete"],nd="editing.changes",h3="edit-form-item",Che=Fa.IS_RENOVATED_WIDGET?"dx-scrollable":"dx-scrollable-container",p3="dx-edit-row",Hx=function(e){return function(n){var t=n instanceof Error?n:new Error(n&&String(n)||"Unknown error");e.reject(t)}},g3=function(e,n){return n.isEditing||e&&n.column.allowEditing},f3=function(e,n){var t=!!n.column.command,i=g3(e,n);return"data"===n.rowType&&!t&&(i||n.column.showEditorAlways)},j_=(e,n)=>{var t=-1;return e.some((i,r)=>{if(_3(i)===n)return t=r,!0}),t};function _3(e){return qe(e)?e.name:e}var m3=(e,n)=>{e.forEach(t=>{t.items||t.tabs?m3(t.items||t.tabs,n):n(t)})},Ehe={defaultOptions:()=>({editing:{mode:"row",refreshMode:"full",newRowPosition:l3,allowAdding:!1,allowUpdating:!1,allowDeleting:!1,useIcons:!1,selectTextOnEditStart:!1,confirmDelete:!0,texts:{editRow:J.format("dxDataGrid-editingEditRow"),saveAllChanges:J.format("dxDataGrid-editingSaveAllChanges"),saveRowChanges:J.format("dxDataGrid-editingSaveRowChanges"),cancelAllChanges:J.format("dxDataGrid-editingCancelAllChanges"),cancelRowChanges:J.format("dxDataGrid-editingCancelRowChanges"),addRow:J.format("dxDataGrid-editingAddRow"),deleteRow:J.format("dxDataGrid-editingDeleteRow"),undeleteRow:J.format("dxDataGrid-editingUndeleteRow"),confirmDeleteMessage:J.format("dxDataGrid-editingConfirmDeleteMessage"),confirmDeleteTitle:""},form:{colCount:2},popup:{},startEditAction:"click",editRowKey:null,editColumnName:null,changes:[]},useLegacyColumnButtonTemplate:!1}),controllers:{editing:class She extends dn.ViewController{init(){this._columnsController=this.getController("columns"),this._dataController=this.getController("data"),this._rowsView=this.getView("rowsView"),this._lastOperation=null,this._changes=[],this._deferreds&&this._deferreds.forEach(n=>n.reject("cancel")),this._deferreds=[],this._dataChangedHandler||(this._dataChangedHandler=this._handleDataChanged.bind(this),this._dataController.changed.add(this._dataChangedHandler)),this._saveEditorHandler||(this.createAction("onInitNewRow",{excludeValidators:["disabled","readOnly"]}),this.createAction("onRowInserting",{excludeValidators:["disabled","readOnly"]}),this.createAction("onRowInserted",{excludeValidators:["disabled","readOnly"]}),this.createAction("onEditingStart",{excludeValidators:["disabled","readOnly"]}),this.createAction("onRowUpdating",{excludeValidators:["disabled","readOnly"]}),this.createAction("onRowUpdated",{excludeValidators:["disabled","readOnly"]}),this.createAction("onRowRemoving",{excludeValidators:["disabled","readOnly"]}),this.createAction("onRowRemoved",{excludeValidators:["disabled","readOnly"]}),this.createAction("onSaved",{excludeValidators:["disabled","readOnly"]}),this.createAction("onSaving",{excludeValidators:["disabled","readOnly"]}),this.createAction("onEditCanceling",{excludeValidators:["disabled","readOnly"]}),this.createAction("onEditCanceled",{excludeValidators:["disabled","readOnly"]})),this._updateEditColumn(),this._updateEditButtons(),this._internalState||(this._internalState=[]),this.component._optionsByReference[Io]=!0,this.component._optionsByReference[nd]=!0}getEditMode(){var n=this.option("editing.mode");return Yce.includes(n)?n:Mp}_getDefaultEditorTemplate(){return(n,t)=>{var i=x("<div>").appendTo(n);this.getController("editorFactory").createEditor(i,A({},t.column,{value:t.value,setValue:t.setValue,row:t.row,parentType:"dataRow",width:null,readOnly:!t.setValue,isOnForm:t.isOnForm,id:t.id}))}}_getNewRowPosition(){var n=this.option("editing.newRowPosition");if("virtual"===this.option("scrolling.mode"))switch(n){case vL:return l3;case s3:return a3;default:return n}return n}getChanges(){return this.option(nd)}getInsertRowCount(){return this.option(nd).filter(t=>"insert"===t.type).length}resetChanges(){var n=this.getChanges(),t=n?.length;t&&this._silentOption(nd,[])}_getInternalData(n){return this._internalState.filter(t=>Jt(t.key,n))[0]}_addInternalData(n){var t=this._getInternalData(n.key);return t?A(t,n):(this._internalState.push(n),n)}_getOldData(n){var t;return null===(t=this._getInternalData(n))||void 0===t?void 0:t.oldData}getUpdatedData(n){var t=this._dataController.keyOf(n),i=this.getChanges(),r=xe.getIndexByKey(t,i);return i[r]?Zu(n,i[r].data):n}getInsertedData(){return this.getChanges().filter(n=>n.data&&n.type===Na).map(n=>n.data)}getRemovedData(){return this.getChanges().filter(n=>this._getOldData(n.key)&&n.type===td).map(n=>this._getOldData(n.key))}_fireDataErrorOccurred(n){if("cancel"!==n){var t=this.getPopupContent();this._dataController.dataErrorOccurred.fire(n,t)}}_needToCloseEditableCell(n){}_closeEditItem(n){}_handleDataChanged(n){}_isDefaultButtonVisible(n,t){var i=!0;switch(n.name){case"delete":i=this.allowDeleting(t);break;case"undelete":i=!1}return i}_isButtonVisible(n,t){var{visible:i}=n;return T(i)?Re(i)?i.call(n,{component:t.component,row:t.row,column:t.column}):i:this._isDefaultButtonVisible(n,t)}_isButtonDisabled(n,t){var{disabled:i}=n;return Re(i)?i.call(n,{component:t.component,row:t.row,column:t.column}):!!i}_getButtonConfig(n,t){var i=qe(n)?n:{},r=_3(n),o=(e=>{var n=e.component.option("editing.texts")||{};return{save:n.saveRowChanges,cancel:n.cancelRowChanges,edit:n.editRow,undelete:n.undeleteRow,delete:n.deleteRow,add:n.addRowToNode}})(t),s=lhe[r],l=this.option("editing"),h=dhe[r],g=!h||l[h];return A({name:r,text:o[r],cssClass:she[r]},{onClick:s&&(_=>{var{event:v}=_;v.stopPropagation(),v.preventDefault(),setTimeout(()=>{t.row&&g&&this[s]&&this[s](t.row.rowIndex)})})},i)}_getEditingButtons(n){var t,i=!!n.column.buttons,r=(n.column.buttons||[]).slice();return i?((t=j_(r,"edit"))>=0&&(j_(r,"save")<0&&r.splice(t+1,0,"save"),j_(r,"cancel")<0&&r.splice(j_(r,"save")+1,0,"cancel")),(t=j_(r,"delete"))>=0&&j_(r,"undelete")<0&&r.splice(t+1,0,"undelete")):r=uhe.slice(),r.map(o=>this._getButtonConfig(o,n))}_renderEditingButtons(n,t,i,r){t.forEach(o=>{this._isButtonVisible(o,i)&&this._createButton(n,o,i,r)})}_getEditCommandCellTemplate(){return(n,t,i)=>{var r=x(n);if("data"===t.rowType){var o=this._getEditingButtons(t);this._renderEditingButtons(r,o,t,i),t.watch&&t.watch(()=>o.map(s=>({visible:this._isButtonVisible(s,t),disabled:this._isButtonDisabled(s,t)})),()=>{r.empty(),this._renderEditingButtons(r,o,t)})}else xe.setEmptyText(r)}}isRowBasedEditMode(){var n=this.getEditMode();return qce.includes(n)}getFirstEditableColumnIndex(){var t,i=this.getController("columns").getVisibleColumns();return B(i,(r,o)=>{if(o.allowEditing)return t=r,!1}),t}getFirstEditableCellInRow(n){var t=this.getView("rowsView"),i=this.getFirstEditableColumnIndex();return t?._getCellElement(n||0,i)}getFocusedCellInRow(n){return this.getFirstEditableCellInRow(n)}getIndexByKey(n,t){return xe.getIndexByKey(n,t)}hasChanges(n){for(var t=this.getChanges(),i=!1,r=0;r<t?.length;r++)if(t[r].type&&(!T(n)||this._dataController.getRowIndexByKey(t[r].key)===n)){i=!0;break}return i}dispose(){super.dispose(),clearTimeout(this._inputFocusTimeoutID),R.off(se.getDocument(),Rt.up,this._pointerUpEditorHandler),R.off(se.getDocument(),Rt.down,this._pointerDownEditorHandler),R.off(se.getDocument(),Kt,this._saveEditorHandler)}_silentOption(n,t){"editing.changes"===n&&(this._changes=Ei([],t)),super._silentOption(n,t)}optionChanged(n){if("editing"===n.name){var{fullName:t}=n;t===Io?this._handleEditRowKeyChange(n):t===nd?Jt(n.value,this._changes,{maxDepth:4})||(this._changes=Ei([],n.value),this._handleChangesChange(n)):n.handled||(this._columnsController.reinit(),this.init(),this.resetChanges(),this._resetEditColumnName(),this._resetEditRowKey()),n.handled=!0}else super.optionChanged(n)}_handleEditRowKeyChange(n){var t=this._dataController.getRowIndexByKey(n.value),i=this._getEditRowIndexCorrection(),r=this._dataController.getRowIndexByKey(n.previousValue)+i;T(n.value)?n.value!==n.previousValue&&this._editRowFromOptionChanged(t,r):this.cancelEditData()}_handleChangesChange(n){var t=this._dataController;!n.value.length&&!n.previousValue.length||(n.value.forEach(r=>{var o;if("insert"===r.type)this._addInsertInfo(r);else{var s=t.getCachedStoreData()||(null===(o=t.items())||void 0===o?void 0:o.map(h=>h.data)),l=xe.getIndexByKey(r.key,s,t.key());this._addInternalData({key:r.key,oldData:s[l]})}}),t.updateItems({repaintChangesOnly:!0,isLiveUpdate:!1,isOptionChanged:!0}))}publicMethods(){return["addRow","deleteRow","undeleteRow","editRow","saveEditData","cancelEditData","hasEditData"]}refresh(){T(this._pageIndex)&&this._refreshCore.apply(this,arguments)}_refreshCore(n){}isEditing(){return T(this.option(Io))}isEditRow(n){return!1}_setEditRowKey(n,t){t?this._silentOption(Io,n):this.option(Io,n),this._refocusEditCell&&(this._refocusEditCell=!1,this._focusEditingCell())}_setEditRowKeyByIndex(n,t){var i=this._dataController.getKeyByRowIndex(n);void 0!==i?this._setEditRowKey(i,t):this._dataController.fireError("E1043")}getEditRowIndex(){return this._getVisibleEditRowIndex()}getEditFormRowIndex(){return-1}isEditRowByIndex(n){var t=this._dataController.getKeyByRowIndex(n);return T(t)&&Jt(this.option(Io),t)&&this._getVisibleEditRowIndex()===n}isEditCell(n,t){return this.isEditRowByIndex(n)&&this._getVisibleEditColumnIndex()===t}getPopupContent(){}_isProcessedItem(n){return!1}_getInsertRowIndex(n,t,i){var r=-1,o=this._dataController,s=this._getInsertAfterOrBeforeKey(t);return T(s)||0!==n.length?T(s)&&n.some((l,h)=>{var g=i||this._isProcessedItem(l);if(qe(l)&&(g||T(l[lc])?Jt(l.key,s)&&(r=h):Jt(o.keyOf(l),s)&&(r=h)),r>=0){var _=n[r+1];return _&&("detail"===_.rowType||"detailAdaptive"===_.rowType)&&T(t.insertAfterKey)?void 0:(T(t.insertAfterKey)&&(r+=1),!0)}}):r=0,r}_generateNewItem(n){var t,i={key:n},r=null===(t=this._getInternalData(n))||void 0===t?void 0:t.insertInfo;return r?.[lc]&&(i[lc]=r[lc]),i}_getLoadedRowIndex(n,t,i){var r=this._getInsertRowIndex(n,t,i),o=this._dataController;if(r<0){var s=this._getNewRowPosition(),l=o.pageIndex(),h=this._getInsertAfterOrBeforeKey(t);s===H0||0!==l||T(h)?s===H0&&o.isLastPageLoaded()&&(r=n.length):r=0}return r}processItems(n,t){var{changeType:i}=t;return this.update(i),this.getChanges().forEach(o=>{var s;if(o.type===Na){var{key:h}=o,g=null===(s=this._getInternalData(h))||void 0===s?void 0:s.insertInfo;(!T(h)||!T(g))&&(h=(g=this._addInsertInfo(o)).key);var _=this._getLoadedRowIndex(n,o),v=this._generateNewItem(h);_>=0&&n.splice(_,0,v)}}),n}processDataItem(n,t,i){var r=t.visibleColumns,o=n.data[lc]?n.data.key:n.key,s=this.getChanges(),l=xe.getIndexByKey(o,s);n.isEditing=!1,l>=0&&this._processDataItemCore(n,s[l],o,r,i)}_processDataItemCore(n,t,i,r,o){var{data:s,type:l}=t;switch(l){case Na:n.isNewRow=!0,n.key=i,n.data=s;break;case Nx:n.modified=!0,n.oldData=n.data,n.data=Zu(n.data,s),n.modifiedValues=o(s,r,!0);break;case td:n.removed=!0}}_initNewRow(n){if(this.executeAction("onInitNewRow",n),n.promise){var t=new W;return ke(Gn(n.promise)).done(t.resolve).fail(Hx(t)).fail(i=>this._fireDataErrorOccurred(i)),t}}_createInsertInfo(){var n={};return n[lc]=this._getInsertIndex(),n}_addInsertInfo(n,t){var i,r,{key:o}=n;if(T(o)||(o=String(new En),n.key=o),r=null===(i=this._getInternalData(o))||void 0===i?void 0:i.insertInfo,!T(r)){var s=this._getInsertAfterOrBeforeKey(n);r=this._createInsertInfo(),T(s)||this._setInsertAfterOrBeforeKey(n,t)}return this._addInternalData({insertInfo:r,key:o}),{insertInfo:r,key:o}}_setInsertAfterOrBeforeKey(n,t){var i=this._dataController,r=i.items(!0),o=this.getView("rowsView"),s=this._getNewRowPosition();switch(s){case"first":case H0:break;case vL:case s3:if(r.length){var l=s===vL?0:r.length-1;n[0===l?"insertBeforeKey":"insertAfterKey"]=r[l].key}break;default:var g=s===a3?o?.getBottomVisibleItemIndex():o?.getTopVisibleItemIndex(),_=i.getVisibleRows()[g];_&&(!_.isEditing&&"detail"===_.rowType||"detailAdaptive"===_.rowType)&&g++;var v=i.getKeyByRowIndex(g);T(v)&&(n.insertBeforeKey=v)}}_getInsertIndex(){var n=0;return this.getChanges().forEach(t=>{var i,r=null===(i=this._getInternalData(t.key))||void 0===i?void 0:i.insertInfo;T(r)&&t.type===Na&&r[lc]>n&&(n=r[lc])}),n+1}_getInsertAfterOrBeforeKey(n){var t;return null!==(t=n.insertAfterKey)&&void 0!==t?t:n.insertBeforeKey}_getPageIndexToInsertRow(){var n=this._getNewRowPosition(),t=this._dataController,i=t.pageIndex(),r=t.pageCount()-1;return"first"===n&&0!==i?0:n===H0&&i!==r?r:-1}addRow(n){var t=this._dataController;return t.store()?this._addRow(n):(t.fireError("E1052",this.component.NAME),(new W).reject())}_addRow(n){var i=this._dataController.store(),r=i&&i.key(),o={data:{}},s=this._getVisibleEditRowIndex(),l=new W;return this.refresh({allowCancelEditing:!0}),this._allowRowAdding()?(r||(o.data.__KEY__=String(new En)),ke(this._initNewRow(o,n)).done(()=>{this._allowRowAdding()?ke(this._addRowCore(o.data,n,s)).done(l.resolve).fail(l.reject):l.reject("cancel")}).fail(l.reject),l.promise()):(ke(this._navigateToNewRow(s)).done(l.resolve).fail(l.reject),l.promise())}_allowRowAdding(n){return!(this._getInsertIndex()>1)}_addRowCore(n,t,i){var r={data:n,type:Na},o=this._getVisibleEditRowIndex(),s=this._addInsertInfo(r,t),{key:l}=s;return this._setEditRowKey(l,!0),this._addChange(r),this._navigateToNewRow(i,r,o)}_navigateToNewRow(n,t,i){var r=new W,o=this._dataController,s=this.getController("focus");if(i=i??-1,!(t=t??this.getChanges().filter(v=>v.type===Na)[0]))return r.reject("cancel").promise();var l=this._getPageIndexToInsertRow(),h=this._getLoadedRowIndex(o.items(),t,!0),g=v=>{ke(s?.navigateToRow(v)).done(()=>{h=o.getRowIndexByKey(t.key),r.resolve()})},_=this._getInsertAfterOrBeforeKey(t);return l>=0?o.pageIndex(l).done(()=>{g(t.key)}).fail(r.reject):h<0&&T(_)?g(_):(o.updateItems({changeType:"update",rowIndices:[n,i,h]}),(h=o.getRowIndexByKey(t.key))<0?g(t.key):r.resolve()),r.done(()=>{var v;null===(v=this._rowsView)||void 0===v||v.waitAsyncTemplates(!0).done(()=>{this._showAddedRow(h),this._afterInsertRow(t.key)})}),r.promise()}_showAddedRow(n){this._focusFirstEditableCellInRow(n)}_beforeFocusElementInRow(n){}_focusFirstEditableCellInRow(n){var t=this._dataController,i=this.getController("keyboardNavigation"),r=t.getKeyByRowIndex(n),o=this.getFirstEditableCellInRow(n);i?.focus(o),this.option("focusedRowKey",r),this._editCellInProgress=!0,this._delayedInputFocus(o,()=>{n=t.getRowIndexByKey(r),this._editCellInProgress=!1,this._beforeFocusElementInRow(n)})}_isEditingStart(n){return this.executeAction("onEditingStart",n),n.cancel}_beforeUpdateItems(){}_getVisibleEditColumnIndex(){var n=this.option(Tp);return T(n)?this._columnsController.getVisibleColumnIndex(n):-1}_setEditColumnNameByIndex(n,t){var i,r=this._columnsController.getVisibleColumns();this._setEditColumnName(null===(i=r[n])||void 0===i?void 0:i.name,t)}_setEditColumnName(n,t){t?this._silentOption(Tp,n):this.option(Tp,n)}_resetEditColumnName(){this._setEditColumnName(null,!0)}_getEditColumn(){var n=this.option(Tp);return this._getColumnByName(n)}_getColumnByName(n){var i,t=this._columnsController.getVisibleColumns();return T(n)&&t.some(r=>{if(r.name===n)return i=r,!0}),i}_getVisibleEditRowIndex(n){var t=this._dataController,i=this.option(Io),r=t.getRowIndexByKey(i);return-1===r?r:r+this._getEditRowIndexCorrection(n)}_getEditRowIndexCorrection(n){var t=n?this._getColumnByName(n):this._getEditColumn();return"adaptiveHidden"===t?.visibleWidth?1:0}_resetEditRowKey(){this._refocusEditCell=!1,this._setEditRowKey(null,!0)}_resetEditIndices(){this._resetEditColumnName(),this._resetEditRowKey()}editRow(n){var t,i=this._dataController,o=i.items()[n],s={data:o&&o.data,cancel:!1},l=this._getVisibleEditRowIndex();if(o){if(n===l)return!0;if(void 0===o.key)return void this._dataController.fireError("E1043");o.isNewRow||(s.key=o.key),!this._isEditingStart(s)&&(this.resetChanges(),this.init(),this._resetEditColumnName(),this._pageIndex=i.pageIndex(),this._addInternalData({key:o.key,oldData:null!==(t=o.oldData)&&void 0!==t?t:o.data}),this._setEditRowKey(o.key))}}_editRowFromOptionChanged(n,t){var i=[t,n];this._beforeUpdateItems(i,n,t),this._editRowFromOptionChangedCore(i,n)}_editRowFromOptionChangedCore(n,t,i){this._needFocusEditor=!0,this._dataController.updateItems({changeType:"update",rowIndices:n,cancel:i})}_focusEditorIfNeed(){}_showEditPopup(n,t){}_repaintEditPopup(){}_getEditPopupHiddenHandler(){return n=>{this.isEditing()&&this.cancelEditData()}}_getPopupEditFormTemplate(n){}_getSaveButtonConfig(){return{text:this.option("editing.texts.saveRowChanges"),onClick:this.saveEditData.bind(this)}}_getCancelButtonConfig(){return{text:this.option("editing.texts.cancelRowChanges"),onClick:this.cancelEditData.bind(this)}}_removeInternalData(n){var t=this._getInternalData(n),i=this._internalState.indexOf(t);i>-1&&this._internalState.splice(i,1)}_updateInsertAfterOrBeforeKeys(n,t){var i=n[t];n.forEach(r=>{var o=this._getInsertAfterOrBeforeKey(r);Jt(o,i.key)&&(r[T(r.insertAfterKey)?"insertAfterKey":"insertBeforeKey"]=this._getInsertAfterOrBeforeKey(i))})}_removeChange(n){if(n>=0){var t=[...this.getChanges()],{key:i}=t[n];this._removeInternalData(i),this._updateInsertAfterOrBeforeKeys(t,n),t.splice(n,1),this._silentOption(nd,t),Jt(this.option(Io),i)&&this._resetEditIndices()}}executeOperation(n,t){this._lastOperation&&this._lastOperation.reject(),this._lastOperation=n,this.waitForDeferredOperations().done(()=>{"rejected"!==n.state()&&(t(),this._lastOperation=null)}).fail(()=>{n.reject(),this._lastOperation=null})}waitForDeferredOperations(){return ke(...this._deferreds)}_processCanceledEditingCell(){}_repaintEditCell(n,t,i){this._needFocusEditor=!0,!n||!n.showEditorAlways||t&&!t.showEditorAlways?(this._editCellInProgress=!0,this.getController("editorFactory").loseFocus(),this._dataController.updateItems({changeType:"update",rowIndices:[i,this._getVisibleEditRowIndex()]})):n!==t&&this._dataController.updateItems({changeType:"update",rowIndices:[]})}_delayedInputFocus(n,t,i){var r=()=>{if(t&&t(),n){var o=n.find(r3).first();xe.focusAndSelectElement(this,o)}this._beforeFocusCallback=null};$e.real().ios||$e.real().android?r():(this._beforeFocusCallback&&this._beforeFocusCallback(),clearTimeout(this._inputFocusTimeoutID),i&&(this._beforeFocusCallback=t),this._inputFocusTimeoutID=setTimeout(r))}_focusEditingCell(n,t,i){var r=this.getView("rowsView"),o=this._getVisibleEditColumnIndex();(t=t||r&&r._getCellElement(this._getVisibleEditRowIndex(),o))&&this._delayedInputFocus(t,n,i)}deleteRow(n){this._checkAndDeleteRow(n)}_checkAndDeleteRow(n){var t=this.option("editing"),i=t?.texts,r=t?.confirmDelete,o=i?.confirmDeleteMessage,s=this._dataController.items()[n],l=!this.isEditing()||s.isNewRow;if(s&&l)if(r&&o){var h=i&&i.confirmDeleteTitle;(function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",t=arguments.length>2?arguments[2]:void 0;return function(e){var n,t=new W;e=e||{};var i=x("<div>").addClass(Ip).appendTo(ks()),o="messageHtml"in e;"message"in e&&It.log("W1013");var s=String(o?e.messageHtml:e.message),l=x("<div>").addClass($ce).html(s),h=[];B(e.buttons||[Nce],function(){var v=new wa(this.onClick,{context:g});h.push({toolbar:"bottom",location:$e.current().android?"after":"center",widget:"dxButton",options:A({},this,{onClick:function(){_(v.execute(...arguments))}})})});var g=new Ma(i,A({title:null!==(n=e.title)&&void 0!==n?n:"",showTitle:Cn(e.showTitle,!0),dragEnabled:Cn(e.dragEnabled,!0),height:"auto",width:e.width,showCloseButton:e.showCloseButton||!1,ignoreChildEvents:!1,container:i,visualContainer:k0,dragAndResizeArea:k0,onContentReady:function(v){v.component.$content().addClass(Wce).append(l)},onShowing:function(v){v.component.bottomToolbar().addClass(Gce).find(".".concat(Z2)).addClass(Uce),Qh()},onShown:function(v){var C=v.component.bottomToolbar().find(".".concat(Z2)).first();R.trigger(C,"focus")},onHiding:function(){t.reject()},onHidden:function(v){var{element:C}=v;x(C).remove()},toolbarItems:h,animation:{show:{type:"pop",duration:400},hide:{type:"pop",duration:400,to:{opacity:0,scale:0},from:{opacity:1,scale:1}}},rtlEnabled:un().rtlEnabled,position:{boundaryOffset:{h:10,v:0}}},e.popupOptions));function _(v){t.resolve(v),g.hide()}return g.$wrapper().addClass(Hce),e.position&&g.option("position",e.position),g.$wrapper().addClass(zce),{show:function(){if("phone"===$e.real().deviceType){var v=gt(k0)>Ze(k0);g.option({width:v?"90%":"60%"})}return g.show(),t.promise()},hide:_}}(ft(e)?e:{title:n,messageHtml:e,showTitle:t,buttons:[{text:J.format("Yes"),onClick:function(){return!0}},{text:J.format("No"),onClick:function(){return!1}}],dragEnabled:t}).show()})(o,h,T(h)&&h.length>0).done(_=>{_&&this._deleteRowCore(n)})}else this._deleteRowCore(n)}_deleteRowCore(n){var i=this._dataController.items()[n],r=i&&i.key,o=this._getVisibleEditRowIndex();this.refresh();var s=this.getChanges(),l=xe.getIndexByKey(r,s);return l>=0?s[l].type===Na?this._removeChange(l):this._addChange({key:r,type:td}):this._addChange({key:r,oldData:i.data,type:td}),this._afterDeleteRow(n,o)}_afterDeleteRow(n,t){return this.saveEditData()}undeleteRow(n){var t=this._dataController,i=t.items()[n],r=this._getVisibleEditRowIndex(),o=i&&i.key,s=this.getChanges();if(i){var l=xe.getIndexByKey(o,s);if(l>=0){var{data:h}=s[l];Pr(h)?this._removeChange(l):this._addChange({key:o,type:Nx}),t.updateItems({changeType:"update",rowIndices:[r,n]})}}}_fireOnSaving(){var n={cancel:!1,promise:null,changes:[...this.getChanges()]};this.executeAction("onSaving",n);var t=new W;return ke(Gn(n.promise)).done(()=>{t.resolve(n)}).fail(i=>{Hx(t),this._fireDataErrorOccurred(i),t.resolve({cancel:!0})}),t}_executeEditingAction(n,t,i){if(this.component._disposed)return null;var r=new W;return this.executeAction(n,t),ke(Gn(t.cancel)).done(o=>{o?setTimeout(()=>{r.resolve("cancel")}):i(t).done(r.resolve).fail(Hx(r))}).fail(Hx(r)),r}_processChanges(n,t,i,r){var o=this._dataController.store();B(r,(s,l)=>{var C,b,h=this._getOldData(l.key),{data:g,type:_}=l,v=de({},l);if(!this._beforeSaveEditData(l,s)){switch(_){case td:C=this._executeEditingAction("onRowRemoving",b={data:h,key:l.key,cancel:!1},()=>o.remove(l.key).done(w=>{i.push({type:"remove",key:w})}));break;case Na:C=this._executeEditingAction("onRowInserting",b={data:g,cancel:!1},()=>o.insert(b.data).done((w,M)=>{T(M)&&(v.key=M),w&&qe(w)&&w!==b.data&&(v.data=w),i.push({type:"insert",data:w,index:0})}));break;case Nx:C=this._executeEditingAction("onRowUpdating",b={newData:g,oldData:h,key:l.key,cancel:!1},()=>o.update(l.key,b.newData).done((w,M)=>{w&&qe(w)&&w!==b.newData&&(v.data=w),i.push({type:"update",key:M,data:w})}))}if(r[s]=v,C){var E=new W;C.always(w=>{t.push({key:l.key,result:w})}).always(E.resolve),n.push(E.promise())}}})}_processRemoveIfError(n,t){var i=n[t];return i?.type===td&&t>=0&&n.splice(t,1),!0}_processRemove(n,t,i){var r=n[t];if(!i||!r||r.type===td)return this._processRemoveCore(n,t,!i||!r)}_processRemoveCore(n,t,i){return t>=0&&n.splice(t,1),!0}_processSaveEditDataResult(n){for(var t=!1,i=[...this.getChanges()],r=i.length,o=0;o<n.length;o++){var s=n[o].result,l="cancel"===s,h=xe.getIndexByKey(n[o].key,i),g=i[h];if(s&&s instanceof Error){if(g&&this._addInternalData({key:g.key,error:s}),this._fireDataErrorOccurred(s),this._processRemoveIfError(i,h))break}else this._processRemove(i,h,l)&&(t=!l)}return i.length<r&&this._silentOption(nd,i),t}_fireSaveEditDataEvents(n){B(n,(t,i)=>{var{data:r,key:o,type:s}=i,l=this._addInternalData({key:o}),h={key:o,data:r};switch(l.error&&(h.error=l.error),s){case td:this.executeAction("onRowRemoved",A({},h,{data:l.oldData}));break;case Na:this.executeAction("onRowInserted",h);break;case Nx:this.executeAction("onRowUpdated",h)}}),this.executeAction("onSaved",{changes:n})}saveEditData(){var n=new W;return this.waitForDeferredOperations().done(()=>{this.isSaving()?this._resolveAfterSave(n):ke(this._beforeSaveEditData()).done(t=>{t?this._resolveAfterSave(n,{cancel:t}):(this._saving=!0,this._saveEditDataInner().always(()=>{this._saving=!1,this._refocusEditCell&&this._focusEditingCell()}).done(n.resolve).fail(n.reject))}).fail(n.reject)}).fail(n.reject),n.promise()}_resolveAfterSave(n){var{cancel:t,error:i}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};ke(this._afterSaveEditData(t)).done(()=>{n.resolve(i)}).fail(n.reject)}_saveEditDataInner(){var n=new W,t=[],i=[],r=[],o=this._dataController.dataSource();return ke(this._fireOnSaving()).done(s=>{var{cancel:l,changes:h}=s;return l?n.resolve().promise():(this._processChanges(i,t,r,h),i.length?(this._refocusEditCell=!0,o?.beginLoading(),ke(...i).done(()=>{this._processSaveEditDataResult(t)?this._endSaving(r,h,n):(o?.endLoading(),n.resolve())}).fail(g=>{o?.endLoading(),n.resolve(g)}),n.always(()=>{this._refocusEditCell=!0}).promise()):void this._cancelSaving(n))}).fail(n.reject),n.promise()}_beforeEndSaving(n){this._resetEditIndices()}_endSaving(n,t,i){var r=this._dataController.dataSource();this._beforeEndSaving(t),r?.endLoading(),this._refreshDataAfterSave(n,t,i)}_cancelSaving(n){this.executeAction("onSaved",{changes:[]}),this._resolveAfterSave(n)}_refreshDataAfterSave(n,t,i){var r=this._dataController,o=this.option("editing.refreshMode"),s="reshape"!==o&&"repaint"!==o;s||r.push(n),ke(r.refresh({selection:s,reload:s,load:"reshape"===o,changesOnly:this.option("repaintChangesOnly")})).always(()=>{this._fireSaveEditDataEvents(t)}).done(()=>{this._resolveAfterSave(i)}).fail(l=>{this._resolveAfterSave(i,{error:l})})}isSaving(){return this._saving}_updateEditColumn(){var n=this._isEditColumnVisible(),t=this.option("editing.useIcons"),i=d3+(t?" ".concat(u3):"");this._columnsController.addCommandColumn({type:"buttons",command:"edit",visible:n,cssClass:i,width:"auto",alignment:"center",cellTemplate:this._getEditCommandCellTemplate(),fixedPosition:"right"}),this._columnsController.columnOption("command:edit",{visible:n,cssClass:i})}_isEditColumnVisible(){return this.option("editing").allowDeleting}_isEditButtonDisabled(){var n=this.hasChanges();return!(T(this.option("editing.editRowKey"))||n)}_updateEditButtons(){var n=this.getView("headerPanel"),t=this._isEditButtonDisabled();n&&(n.setToolbarItemDisabled("saveButton",t),n.setToolbarItemDisabled("revertButton",t))}_applyModified(n,t){n&&n.addClass(c3)}_beforeCloseEditCellInBatchMode(n){}cancelEditData(){var n=this.getChanges(),t={cancel:!1,changes:n};this.executeAction("onEditCanceling",t),t.cancel||(this._cancelEditDataCore(),this.executeAction("onEditCanceled",{changes:n}))}_cancelEditDataCore(){var n=this._getVisibleEditRowIndex();this._beforeCancelEditData(),this.init(),this.resetChanges(),this._resetEditColumnName(),this._resetEditRowKey(),this._afterCancelEditData(n)}_afterCancelEditData(n){this._dataController.updateItems({repaintChangesOnly:this.option("repaintChangesOnly")})}_hideEditPopup(){}hasEditData(){return this.hasChanges()}update(n){var t=this._dataController;t&&this._pageIndex!==t.pageIndex()&&("refresh"===n&&this.refresh({isPageChanged:!0}),this._pageIndex=t.pageIndex()),this._updateEditButtons()}_getRowIndicesForCascadeUpdating(n,t){return t?[]:[n.rowIndex]}addDeferred(n){this._deferreds.indexOf(n)<0&&(this._deferreds.push(n),n.always(()=>{var t=this._deferreds.indexOf(n);t>=0&&this._deferreds.splice(t,1)}))}_prepareChange(n,t,i){var r,o={},s=null===(r=n.row)||void 0===r?void 0:r.data,l=n.key,h=new W;return void 0!==l&&(n.value=t,Gn(n.column.setCellValue(o,t,A(!0,{},s),i)).done(()=>{h.resolve({data:o,key:l,oldData:s,type:Nx})}).fail(Hx(h)).fail(_=>this._fireDataErrorOccurred(_)),T(i)&&n.column.displayValueMap&&(n.column.displayValueMap[t]=i),this._updateRowValues(n),this.addDeferred(h)),h}_updateRowValues(n){if(n.values){var t=this._dataController,i=t.getRowIndexByKey(n.key),r=t.getVisibleRows()[i];r&&(n.row.values=r.values,n.values=r.values),n.values[n.columnIndex]=n.value}}updateFieldValue(n,t,i,r){var o=n.key,s=new W;return void 0===o&&this._dataController.fireError("E1043"),n.column.setCellValue?this._prepareChange(n,t,i).done(l=>{ke(this._applyChange(n,l,r)).always(()=>{s.resolve()})}):s.resolve(),s.promise()}_focusPreviousEditingCellIfNeed(n){if(this.hasEditData()&&!this.isEditCell(n.rowIndex,n.columnIndex))return this._focusEditingCell(),this._updateEditRow(n.row,!0),!0}_needUpdateRow(n){var t=this._columnsController.getVisibleColumns();n||(n=this._getEditColumn());var i=n&&n.setCellValue!==n.defaultSetCellValue,r=t.some(o=>o.calculateCellValue!==o.defaultCalculateCellValue);return i||r}_applyChange(n,t,i){var r=de(de({},n),{forceUpdateRow:i});return this._addChange(t,r),this._updateEditButtons(),this._applyChangeCore(n,r.forceUpdateRow)}_applyChangeCore(n,t){var i=n.column.setCellValue!==n.column.defaultSetCellValue,{row:r}=n;r&&(t||i?this._updateEditRow(r,t,i):r.update&&r.update())}_updateEditRowCore(n,t,i){this._dataController.updateItems({changeType:"update",rowIndices:this._getRowIndicesForCascadeUpdating(n,t)})}_updateEditRow(n,t,i){t?this._updateRowImmediately(n,t,i):this._updateRowWithDelay(n,i)}_updateRowImmediately(n,t,i){this._updateEditRowCore(n,!t,i),this._validateEditFormAfterUpdate(n,i),t||this._focusEditingCell()}_updateRowWithDelay(n,t){var i=new W;this.addDeferred(i),setTimeout(()=>{var r,o=(null===(r=this._editForm)||void 0===r?void 0:r.element())||this.component.$element().get(0),s=x(se.getActiveElement(o)),l=this._rowsView.getCellIndex(s,n.rowIndex),h=s.get(0),g=xe.getSelectionRange(h);if(this._updateEditRowCore(n,!1,t),this._validateEditFormAfterUpdate(n,t),l>=0){var _=this._rowsView._getCellElement(n.rowIndex,l);this._delayedInputFocus(_,()=>{setTimeout(()=>{var v;h=se.getActiveElement(null===(v=this.component.$element())||void 0===v?void 0:v.get(0)),g.selectionStart>=0&&xe.setSelectionRange(h,g)})})}i.resolve()})}_validateEditFormAfterUpdate(){}_addChange(n,t){var i,r=t?.row,o=[...this.getChanges()],s=xe.getIndexByKey(n.key,o);s<0&&(s=o.length,this._addInternalData({key:n.key,oldData:n.oldData}),delete n.oldData,o.push(n));var l=de({},o[s]);return l&&(n.data&&(l.data=Zu(l.data,n.data)),(!l.type||!n.data)&&n.type&&(l.type=n.type),r&&(r.oldData=this._getOldData(r.key),r.data=Zu(r.data,n.data))),o[s]=l,this._silentOption(nd,o),t&&l!==(null===(i=this.getChanges())||void 0===i?void 0:i[s])&&(t.forceUpdateRow=!0),l}_getFormEditItemTemplate(n,t){return t.editCellTemplate||this._getDefaultEditorTemplate()}getColumnTemplate(n){var r,h,{column:t}=n,i=n.row&&n.row.rowIndex,o=this.isRowBasedEditMode(),s=this.isEditRow(i),l=this.isEditCell(i,n.columnIndex);return!(t.showEditorAlways||t.setCellValue&&(s&&t.allowEditing||l))||"data"!==n.rowType&&"detailAdaptive"!==n.rowType||t.command?"detail"===t.command&&"detail"===n.rowType&&s&&(r=null==this?void 0:this.getEditFormTemplate(n)):(((this.allowUpdating(n)||s)&&t.allowEditing||l)&&(s||!o)&&(t.showEditorAlways&&!o&&this._isEditingStart(h={cancel:!1,key:n.row.isNewRow?void 0:n.row.key,data:n.row.data,column:t}),(!h||!h.cancel)&&(n.setValue=(_,v)=>{this.updateFieldValue(n,_,v)})),r=t.editCellTemplate||this._getDefaultEditorTemplate()),r}_createButton(n,t,i,r){var o=ahe[t.name],s=this.option("editing.useIcons"),l=this.option("useLegacyColumnButtonTemplate"),h=x("<a>").attr("href","#").addClass("dx-link").addClass(t.cssClass);if(t.template&&l)this._rowsView.renderTemplate(n,t.template,i,!0);else{if(t.template)h=x("<span>").addClass(t.cssClass);else if(s&&o||t.icon){var g=ky(o=t.icon||o);"image"===g||"svg"===g?h=Ll(o).addClass(t.cssClass):h.addClass("dx-icon".concat("dxIcon"===g?"-":" ").concat(o)).attr("title",t.text),h.addClass("dx-link-icon"),n.addClass(u3);var _=this.getButtonLocalizationNames()[t.name];_&&h.attr("aria-label",J.format(_))}else h.text(t.text);T(t.hint)&&h.attr("title",t.hint),this._isButtonDisabled(t,i)?h.addClass("dx-state-disabled"):(!t.template||t.onClick)&&R.on(h,fe("click","dxDataGridEditing"),this.createAction(v=>{var C;null===(C=t.onClick)||void 0===C||C.call(t,A({},v,{row:i.row,column:i.column})),v.event.preventDefault(),v.event.stopPropagation()})),n.append(h,"&nbsp;"),t.template&&(i.renderAsync=!1,this._rowsView.renderTemplate(h,t.template,i,!0,r))}}getButtonLocalizationNames(){return{edit:"dxDataGrid-editingEditRow",save:"dxDataGrid-editingSaveRowChanges",delete:"dxDataGrid-editingDeleteRow",undelete:"dxDataGrid-editingUndeleteRow",cancel:"dxDataGrid-editingCancelRowChanges"}}prepareButtonItem(n,t,i,r){var o,s=null!==(o=this.option("editing.texts"))&&void 0!==o?o:{},h={revert:"cancel",save:"save",addRow:"addrow"}[t],g={revert:s.cancelAllChanges,save:s.saveAllChanges,addRow:s.addRow}[t],_=("save"===h||"cancel"===h)&&this._isEditButtonDisabled();return{widget:"dxButton",options:{onInitialized:v=>{x(v.element).addClass(n._getToolbarButtonClass("".concat("dx-edit-button"," ").concat(this.addWidgetPrefix(h),"-button")))},icon:"edit-button-".concat(h),disabled:_,onClick:()=>{setTimeout(()=>{this[i]()})},text:g,hint:g},showText:"inMenu",name:"".concat(t,"Button"),location:"after",locateInMenu:"auto",sortIndex:r}}prepareEditButtons(n){var t,r=[];return(null!==(t=this.option("editing"))&&void 0!==t?t:{}).allowAdding&&r.push(this.prepareButtonItem(n,"addRow","addRow",20)),r}highlightDataCell(n,t){this.shouldHighlightCell(t)&&n.addClass(c3)}_afterInsertRow(){}_beforeSaveEditData(n){if(n&&!T(n.key)&&T(n.type))return!0}_afterSaveEditData(){}_beforeCancelEditData(){}_allowEditAction(n,t){var i=this.option("editing.".concat(n));return Re(i)&&(i=i({component:this.component,row:t.row})),i}allowUpdating(n,t){var i,r=null!==(i=this.option("editing.startEditAction"))&&void 0!==i?i:"click";return(!(arguments.length>1)||r===t||"down"===t)&&this._allowEditAction("allowUpdating",n)}allowDeleting(n){return this._allowEditAction("allowDeleting",n)}isCellModified(n){var{columnIndex:t}=n,i=n.row&&(n.row.isNewRow?n.row.values:n.row.modifiedValues);return!!i&&void 0!==i[t]}isNewRowInEditMode(){var n=this._getVisibleEditRowIndex(),t=this._dataController.items();return n>=0&&t[n].isNewRow}_isRowDeleteAllowed(){}shouldHighlightCell(n){return this.isCellModified(n)&&n.column.setCellValue&&(this.getEditMode()!==Mp||!n.row.isEditing)}}},extenders:{controllers:{data:{init(){this._editingController=this.getController("editing"),this.callBase()},reload(e,n){return!n&&this._editingController.refresh(),this.callBase.apply(this,arguments)},repaintRows(){if(!this.getController("editing").isSaving())return this.callBase.apply(this,arguments)},_updateEditRow(e){var n,t=this.option(Io),r=e[xe.getIndexByKey(t,e)];r&&(r.isEditing=!0,null===(n=this._updateEditItem)||void 0===n||n.call(this,r))},_updateItemsCore(e){this.callBase(e),this._updateEditRow(this.items(!0))},_applyChangeUpdate(e){this._updateEditRow(e.items),this.callBase(e)},_applyChangesOnly(e){this._updateEditRow(e.items),this.callBase(e)},_processItems(e,n){return e=this._editingController.processItems(e,n),this.callBase(e,n)},_processDataItem(e,n){return this._editingController.processDataItem(e,n,this.generateDataValues),this.callBase(e,n)},_processItem(e,n){return(e=this.callBase(e,n)).isNewRow&&(n.dataIndex--,delete e.dataIndex),e},_getChangedColumnIndices(e,n,t,i){if(e.isNewRow===n.isNewRow&&e.removed===n.removed)return this.callBase.apply(this,arguments)},_isCellChanged(e,n,t,i,r){var o=this.getController("editing"),s=e.cells&&e.cells[i],l=o&&o.isEditCell(t,i);return(!r||!l)&&(!(!s||!s.column||s.column.showEditorAlways||s.isEditing===l)||this.callBase.apply(this,arguments))},needToRefreshOnDataSourceChange(e){var n=this.getController("editing");return!(Array.isArray(e.value)&&e.value===e.previousValue&&n.isSaving())},_handleDataSourceChange(e){var n=this.callBase(e),t=this.option("editing.changes"),i=e.value;if(Array.isArray(i)&&t.length){var r=i.map(h=>this.keyOf(h)),o=t.filter(h=>"insert"===h.type||r.some(g=>Jt(h.key,g)));o.length!==t.length&&this.option("editing.changes",o);var s=this.option("editing.editRowKey");!o.some(h=>"insert"===h.type&&Jt(s,h.key))&&r.every(h=>!Jt(s,h))&&this.option("editing.editRowKey",null)}return n}}},views:{rowsView:{init(){this.callBase(),this._editingController=this.getController("editing")},getCellIndex(e,n){if(!e.is("td")&&n>=0){var t=this.getCellElements(n),i=-1;return B(t,(r,o)=>{x(o).find(e).length&&(i=r)}),i}return this.callBase.apply(this,arguments)},publicMethods(){return this.callBase().concat(["cellValue"])},_getCellTemplate(e){return this._editingController.getColumnTemplate(e)||this.callBase(e)},_createRow(e){var n=this.callBase.apply(this,arguments);if(e){var t=!!e.removed,i=!!e.isNewRow,r=!!e.modified;i&&n.addClass("dx-row-inserted"),r&&n.addClass("dx-row-modified"),(i||t)&&n.removeClass("dx-selection")}return n},_getColumnIndexByElement(e){for(var n=e.closest("table"),t=this.getTableElements();n.length&&!t.filter(n).length;)e=n.closest("td"),n=e.closest("table");return this._getColumnIndexByElementCore(e)},_getColumnIndexByElementCore(e){var n=e.closest(".".concat(ac,"> td:not(.dx-master-detail-cell)"));return this.getCellIndex(n)},_editCellByClick(e,n){var t=this._editingController,i=x(e.event.target),r=this._getColumnIndexByElement(i),o=this._dataController.items()[e.rowIndex],s=t.allowUpdating({row:o},n)||o&&o.isNewRow,l=this._columnsController.getVisibleColumns()[r],h=t.isEditCell(e.rowIndex,r),g=s&&l&&(l.allowEditing||h),_=this.option("editing.startEditAction")||"click",v=l&&l.showEditorAlways;if(h)return!0;if("down"===n)return($e.real().ios||$e.real().android)&&Qh(),v&&g&&t.editCell(e.rowIndex,r);if("click"===n&&"dblClick"===_){var C=o?.isNewRow;t.closeEditCell(!1,C)}return g&&n===_?t.editCell(e.rowIndex,r)||t.isEditRow(e.rowIndex):void 0},_rowPointerDown(e){this._pointerDownTimeout=setTimeout(()=>{this._editCellByClick(e,"down")})},_rowClick(e){var n=x(e.rowElement).hasClass(this.addWidgetPrefix(L0));e.event[t3]=this.component,!this._editCellByClick(e,"click")&&!n&&this.callBase.apply(this,arguments)},_rowDblClick(e){this._editCellByClick(e,"dblClick")||this.callBase.apply(this,arguments)},_cellPrepared(e,n){var t,i=this._editingController,r=!!n.column.command,o=n.setValue,s=i.isEditRow(n.rowIndex),l=g3(s,n);if(f3(s,n)){var{alignment:h}=n.column;e.toggleClass(this.addWidgetPrefix("readonly"),!o).toggleClass("dx-cell-focus-disabled",!o),h&&e.find(n3).first().css("textAlign",h)}l&&this._editCellPrepared(e);var g=!(null===(t=n.column)||void 0===t||!t.cellTemplate);n.column&&!r&&(!g||i.shouldHighlightCell(n))&&i.highlightDataCell(e,n),this.callBase.apply(this,arguments)},_editCellPrepared:U,_formItemPrepared:U,_getCellOptions(e){var n=this.callBase(e);return n.isEditing=this._editingController.isEditCell(n.rowIndex,n.columnIndex),n},_createCell(e){var n=this.callBase(e),t=this._editingController.isEditRow(e.rowIndex);return f3(t,e)&&n.addClass(B0),n},cellValue(e,n,t,i){var r=this.getCellOptions(e,n);if(r){if(void 0===t)return r.value;this._editingController.updateFieldValue(r,t,i,!0)}},dispose(){this.callBase.apply(this,arguments),clearTimeout(this._pointerDownTimeout)},_renderCore(){return this.callBase.apply(this,arguments),this.waitAsyncTemplates(!0).done(()=>{this._editingController._focusEditorIfNeed()})}},headerPanel:{_getToolbarItems(){var e=this.callBase();return this.getController("editing").prepareEditButtons(this).concat(e)},optionChanged(e){var{fullName:n}=e;switch(e.name){case"editing":n&&![V0,nd,Tp,Io].some(r=>r===n)&&this._invalidate(),this.callBase(e);break;case"useLegacyColumnButtonTemplate":e.handled=!0;break;default:this.callBase(e)}},isVisible(){var e=this.getController("editing").option("editing");return this.callBase()||e?.allowAdding}}}}};Ge.registerModule("editing",A(!0,{},Ehe,{extenders:{controllers:{data:{_changeRowExpandCore(e){var n=this._editingController;return Array.isArray(e)&&n&&n.refresh(),this.callBase.apply(this,arguments)}}}}}));var Ihe={extenders:{controllers:{editing:e=>class extends e{isRowEditMode(){return this.getEditMode()===Mp}_afterCancelEditData(n){var t=this._dataController;this.isRowBasedEditMode()&&n>=0?t.updateItems({changeType:"update",rowIndices:[n,n+1]}):super._afterCancelEditData(n)}_isDefaultButtonVisible(n,t){var i=this.isRowBasedEditMode(),r=t.row&&Jt(t.row.key,this.option(Io));if(i)switch(n.name){case"edit":return!r&&this.allowUpdating(t);case"delete":return super._isDefaultButtonVisible(n,t)&&!r;case"save":case"cancel":return r;default:return super._isDefaultButtonVisible(n,t)}return super._isDefaultButtonVisible(n,t)}isEditRow(n){return this.isRowBasedEditMode()&&this.isEditRowByIndex(n)}_cancelSaving(n){this.isRowBasedEditMode()&&(this.hasChanges()||this._cancelEditDataCore()),super._cancelSaving(n)}_refreshCore(n){var{allowCancelEditing:t}=n??{};if(this.isRowBasedEditMode()){var i=this.getChanges().filter(r=>"update"===r.type).length>0;this.init(),t&&i&&this._cancelEditDataCore()}super._refreshCore(n)}_isEditColumnVisible(){var n=super._isEditColumnVisible(),t=this.option("editing"),i=this.isRowEditMode();return n||i&&(t.allowUpdating||t.allowAdding)}_focusEditorIfNeed(){var n=this.getEditMode();if(this._needFocusEditor){if(Jce.includes(n)){var t=this.getFocusedCellInRow(this._getVisibleEditRowIndex());this._delayedInputFocus(t,()=>{t&&this.component.focus(t)})}this._needFocusEditor=!1}}},data:{_getChangedColumnIndices(e,n,t,i){if(!this.getController("editing").isRowBasedEditMode()||e.isEditing===n.isEditing)return this.callBase.apply(this,arguments)}}},views:{rowsView:{_createRow(e){var n=this.callBase.apply(this,arguments);return e&&this._editingController.isEditRow(e.rowIndex)&&(n.addClass(p3),n.removeClass(e3),"detail"===e.rowType&&n.addClass(this.addWidgetPrefix(L0))),n},_update(e){this.callBase(e),"updateSelection"===e.changeType&&this.getTableElements().children("tbody").children(".".concat(p3)).removeClass(e3)}}}}};Ge.registerModule("editingRowBased",Ihe);class v3{constructor(){this._map={}}_findWidgetInstance(n){var t;return B(this._map,function(i,r){var{widgetInstance:o,item:s}=r;if(n(s))return t=o,!1}),t}_findFieldByCondition(n,t){var i;return B(this._map,function(r,o){if(n(o))return i="guid"===t?r:o[t],!1}),i}clear(){this._map={}}removeItemsByItems(n){B(n.getItems(),t=>this.removeItemByKey(t))}removeItemByKey(n){delete this._map[n]}add(n){var t=n.guid||new En;return this._map[t]=n,t}addItemsOrExtendFrom(n){n.each((t,i)=>{this._map[t]?(i.widgetInstance&&(this._map[t].widgetInstance=i.widgetInstance),this._map[t].$itemContainer=i.$itemContainer):this.add({item:i.item,widgetInstance:i.widgetInstance,guid:t,$itemContainer:i.$itemContainer})})}extendRunTimeItemInfoByKey(n,t){this._map[n]&&(this._map[n]=A(this._map[n],t))}findWidgetInstanceByItem(n){return this._findWidgetInstance(t=>t===n)}findGroupOrTabLayoutManagerByPath(n){return this._findFieldByCondition(t=>{var{path:i}=t;return i===n},"layoutManager")}findKeyByPath(n){return this._findFieldByCondition(t=>{var{path:i}=t;return i===n},"guid")}findWidgetInstanceByName(n){return this._findWidgetInstance(t=>n===t.name)}findWidgetInstanceByDataField(n){return this._findWidgetInstance(t=>n===(je(t)?t:t.dataField))}findItemContainerByItem(n){for(var t in this._map)if(this._map[t].item===n)return this._map[t].$itemContainer;return null}findItemIndexByItem(n){return this._findFieldByCondition(t=>{var{item:i}=t;return i===n},"itemIndex")}findPreparedItemByItem(n){return this._findFieldByCondition(t=>{var{item:i}=t;return i===n},"preparedItem")}getItems(){return this._map}each(n){B(this._map,function(t,i){n(t,i)})}removeItemsByPathStartWith(n){Object.keys(this._map).filter(r=>!!this._map[r].path&&this._map[r].path.indexOf(n,0)>-1).forEach(r=>this.removeItemByKey(r))}}var z0={move(e,n){Mi(e,{left:n})}},CL={moveTo(e,n,t,i){An.animate(e,{type:"slide",to:{left:n},duration:t,complete:i})},complete(e){An.stop(e,!0)}},C3="dx-multiview-item",y3=e=>+e,x3=Kk.inherit({_activeStateUnit:"."+C3,_supportedKeys:function(){return A(this.callBase(),{pageUp:U,pageDown:U})},_getDefaultOptions:function(){return A(this.callBase(),{selectedIndex:0,swipeEnabled:!0,animationEnabled:!0,loop:!1,deferRendering:!0,_itemAttributes:{role:"tabpanel"},loopItemFocus:!1,selectOnFocus:!0,selectionMode:"single",selectionRequired:!0,selectByClick:!1})},_defaultOptionsRules:function(){return this.callBase().concat([{device:function(){return"desktop"===$e.real().deviceType&&!$e.isSimulator()},options:{focusStateEnabled:!0}}])},_itemClass:function(){return C3},_itemDataKey:function(){return"dxMultiViewItemData"},_itemContainer:function(){return this._$itemContainer},_itemElements:function(){return this._itemContainer().children(this._itemSelector())},_itemWidth:function(){return this._itemWidthValue||(this._itemWidthValue=Ze(this._$wrapper)),this._itemWidthValue},_clearItemWidthCache:function(){delete this._itemWidthValue},_itemsCount:function(){return this.option("items").length},_normalizeIndex:function(e){var n=this._itemsCount();return e<0&&(e+=n),e>=n&&(e-=n),e},_getRTLSignCorrection:function(){return this.option("rtlEnabled")?-1:1},_init:function(){this.callBase.apply(this,arguments);var e=this.$element();e.addClass("dx-multiview"),this._$wrapper=x("<div>").addClass("dx-multiview-wrapper"),this._$wrapper.appendTo(e),this._$itemContainer=x("<div>").addClass("dx-multiview-item-container"),this._$itemContainer.appendTo(this._$wrapper),this.option("loopItemFocus",this.option("loop")),this._findBoundaryIndices(),this._initSwipeable()},_initMarkup:function(){this._deferredItems=[],this.callBase();var e=this._getSelectedItemIndices();this._updateItemsVisibility(e[0])},_afterItemElementDeleted:function(e,n){this.callBase(e,n),this._deferredItems&&this._deferredItems.splice(n.itemIndex,1)},_beforeItemElementInserted:function(e){this.callBase.apply(this,arguments),this._deferredItems&&this._deferredItems.splice(e.index,0,null)},_executeItemRenderAction:function(e,n,t){e=(this.option("items")||[]).indexOf(n),this.callBase(e,n,t)},_renderItemContent:function(e){var n=new W,t=this,i=this.callBase,r=new W;return r.done(function(){var o=i.call(t,e);n.resolve(o)}),this._deferredItems[e.index]=r,this.option("deferRendering")||r.resolve(),n.promise()},_render:function(){this.callBase(),Xn(()=>{var e=this._getSelectedItemIndices();this._updateItems(e[0])})},_updateItems:function(e,n){this._updateItemsPosition(e,n),this._updateItemsVisibility(e,n)},_modifyByChanges:function(){this.callBase.apply(this,arguments);var e=this._getSelectedItemIndices();this._updateItemsVisibility(e[0])},_updateItemsPosition:function(e,n){var t=this._itemElements(),i=T(n)?-this._animationDirection(n,e):void 0,r=t.eq(e);z0.move(r,0),T(n)&&z0.move(t.eq(n),100*i+"%")},_updateItemsVisibility:function(e,n){this._itemElements().each(function(i,r){var o=x(r),s=i!==e&&i!==n;s||this._renderSpecificItem(i),o.toggleClass("dx-multiview-item-hidden",s),this.setAria("hidden",s||void 0,o)}.bind(this))},_renderSpecificItem:function(e){var n=this._itemElements().eq(e),t=n.find(this._itemContentClass()).length>0;T(e)&&!t&&(this._deferredItems[e].resolve(),Qo(n))},_refreshItem:function(e,n){this.callBase(e,n),this._updateItemsVisibility(this.option("selectedIndex"))},_setAriaSelectionAttribute:U,_updateSelection:function(e,n){var t=e[0],i=n[0];CL.complete(this._$itemContainer),this._updateItems(i,t);var r=this._animationDirection(t,i);this._animateItemContainer(r*this._itemWidth(),function(){z0.move(this._$itemContainer,0),this._updateItems(t),Ze(this._$itemContainer)}.bind(this))},_animateItemContainer:function(e,n){var t=this.option("animationEnabled")?200:0;CL.moveTo(this._$itemContainer,e,t,n)},_animationDirection:function(e,n){var t=(e=>is(this._$itemContainer).left)(),i=(n-e)*this._getRTLSignCorrection()*this._getItemFocusLoopSignCorrection();return Ts(0!==t?t:i)},_getSwipeDisabledState(){return!this.option("swipeEnabled")||this._itemsCount()<=1},_initSwipeable(){this._createComponent(this.$element(),nL,{disabled:this._getSwipeDisabledState(),elastic:!1,itemSizeFunc:this._itemWidth.bind(this),onStart:e=>this._swipeStartHandler(e.event),onUpdated:e=>this._swipeUpdateHandler(e.event),onEnd:e=>this._swipeEndHandler(e.event)})},_findBoundaryIndices(){var e,n,i,r,t=this.option("items");t.forEach((o,s)=>{var h;o?.disabled||(null!==(h=i)&&void 0!==h||(i=s),r=s)}),this._boundaryIndices={firstAvailableIndex:null!==(e=i)&&void 0!==e?e:0,lastAvailableIndex:null!==(n=r)&&void 0!==n?n:t.length-1,firstTrueIndex:0,lastTrueIndex:t.length-1}},_swipeStartHandler:function(e){CL.complete(this._$itemContainer);var n=this.option("selectedIndex"),t=this.option("loop"),{firstAvailableIndex:i,lastAvailableIndex:r}=this._boundaryIndices,o=this.option("rtlEnabled");e.maxLeftOffset=y3(t||(o?n>i:n<r)),e.maxRightOffset=y3(t||(o?n<r:n>i)),this._swipeDirection=null},_swipeUpdateHandler:function(e){var n=e.offset,t=Ts(n)*this._getRTLSignCorrection();if(z0.move(this._$itemContainer,n*this._itemWidth()),t!==this._swipeDirection){this._swipeDirection=t;var i=this.option("selectedIndex"),r=this._normalizeIndex(i-t);this._updateItems(i,r)}},_findNextAvailableIndex(e,n){var{items:t,loop:i}=this.option(),{firstAvailableIndex:r,lastAvailableIndex:o,firstTrueIndex:s,lastTrueIndex:l}=this._boundaryIndices,h=[s,r].includes(e),g=[l,o].includes(e);if(i){if(h&&n<0)return o;if(g&&n>0)return r}for(var _=e+n;_>=r&&_<=o;_+=n)if(!t[_].disabled)return _;return e},_swipeEndHandler:function(e){var n=e.targetOffset*this._getRTLSignCorrection();if(n){var t=this._findNextAvailableIndex(this.option("selectedIndex"),-n);this.option("selectedIndex",t);var i=this.itemElements().filter(".dx-item-selected");this.option("focusStateEnabled")&&this.option("focusedElement",Ke(i))}else this._animateItemContainer(0,U)},_getItemFocusLoopSignCorrection:function(){return this._itemFocusLooped?-1:1},_moveFocus:function(){this.callBase.apply(this,arguments),this._itemFocusLooped=!1},_prevItem:function(e){var n=this.callBase.apply(this,arguments);return this._itemFocusLooped=n.is(e.last()),n},_nextItem:function(e){var n=this.callBase.apply(this,arguments);return this._itemFocusLooped=n.is(e.first()),n},_dimensionChanged:function(){this._clearItemWidthCache()},_visibilityChanged:function(e){e&&this._dimensionChanged()},_updateSwipeDisabledState(){var e=this._getSwipeDisabledState();nL.getInstance(this.$element()).option("disabled",e)},_dispose:function(){delete this._boundaryIndices,this.callBase()},_optionChanged:function(e){var n=e.value;switch(e.name){case"loop":this.option("loopItemFocus",n);break;case"animationEnabled":break;case"swipeEnabled":this._updateSwipeDisabledState();break;case"deferRendering":this._invalidate();break;case"items":this._updateSwipeDisabledState(),this._findBoundaryIndices(),this.callBase(e);break;default:this.callBase(e)}}});Dt("dxMultiView",x3);const Bhe=x3;var b3="dx-badge",Vhe=I_.inherit({_renderWatchers:function(){this.callBase(),this._startWatcher("badge",this._renderBadge.bind(this))},_renderBadge:function(e){if(this._$element.children("."+b3).remove(),e){var n=x("<div>").addClass("dx-tabs-item-badge").addClass(b3).text(e);this._$element.append(n)}}});const Nhe=Vhe;var O3="dx-tabs-expanded";function D3(e){return e.scrollWidth-e.clientWidth}var w3="dx-tabs-stretched",I3="dx-tabs-nav-buttons",T3="dx-overflow-hidden",A3="chevronnext",R3="chevronprev",yL=Kk.inherit({_activeStateUnit:".dx-tab",_getDefaultOptions:function(){return A(this.callBase(),{hoverStateEnabled:!0,showNavButtons:!0,scrollByContent:!0,scrollingEnabled:!0,selectionMode:"single",activeStateEnabled:!0,selectionRequired:!1,selectOnFocus:!0,loopItemFocus:!1,useInkRipple:!1,badgeExpr:function(e){return e?e.badge:void 0},_itemAttributes:{role:"tab"}})},_defaultOptionsRules:function(){var e=es();return this.callBase().concat([{device:function(){return"desktop"!==$e.real().deviceType},options:{showNavButtons:!1}},{device:{deviceType:"desktop"},options:{scrollByContent:!1}},{device:function(){return"desktop"===$e.real().deviceType&&!$e.isSimulator()},options:{focusStateEnabled:!0}},{device:function(){return Wn(e)},options:{useInkRipple:!0,selectOnFocus:!1}}])},_init:function(){this.callBase(),this.setAria("role","tablist"),this.$element().addClass("dx-tabs"),this._renderWrapper(),this._renderMultiple(),this._feedbackHideTimeout=100},_initTemplates:function(){this.callBase(),this._templateManager.addDefaultTemplates({item:new fp(function(e,n){ft(n)?this._prepareDefaultItemTemplate(n,e):e.text(String(n));var t=Ll(n.icon);t&&t.prependTo(e),e.wrapInner(x("<span>").addClass("dx-tab-text"))}.bind(this),["text","html","icon"],this.option("integrationOptions.watchMethod"))})},_createItemByTemplate:function(e,n){var{itemData:t,container:i,index:r}=n;return this._deferredTemplates[r]=new W,e.render({model:t,container:i,index:r,onRendered:()=>this._deferredTemplates[r].resolve()})},_itemClass:function(){return"dx-tab"},_selectedItemClass:function(){return"dx-tab-selected"},_itemDataKey:function(){return"dxTabData"},_initMarkup:function(){this._deferredTemplates=[],this.callBase(),this.option("useInkRipple")&&this._renderInkRipple(),this.$element().addClass(T3)},_render:function(){this.callBase(),this._deferRenderScrolling()},_deferRenderScrolling(){ke.apply(this,this._deferredTemplates).done(()=>this._renderScrolling())},_renderScrolling:function(){var e=[w3,O3,T3];if(this.$element().removeClass(e.join(" ")),this.option("scrollingEnabled")&&this._isItemsWidthExceeded()){this._scrollable||(this._renderScrollable(),this._renderNavButtons());var n=this.getScrollable();if(n.update(),this.option("rtlEnabled")){var t=D3(x(this.getScrollable().container()).get(0));n.scrollTo({left:t})}this._updateNavButtonsVisibility(),this._scrollToItem(this.option("selectedItem"))}this.option("scrollingEnabled")&&this._isItemsWidthExceeded()||(this._cleanScrolling(),this._needStretchItems()&&!this._isItemsWidthExceeded()&&this.$element().addClass(w3),this.$element().removeClass(I3).addClass(O3))},_isItemsWidthExceeded:function(){return this._getSummaryItemsWidth(this._getVisibleItems(),!0)-1>Ze(this.$element())},_needStretchItems:function(){var e=this._getVisibleItems(),n=Ze(this.$element()),t=[];return B(e,(r,o)=>{t.push(wt(o,!0))}),Math.max.apply(null,t)>=n/e.length},_cleanNavButtons:function(){!this._leftButton||!this._rightButton||(this._leftButton.$element().remove(),this._rightButton.$element().remove(),this._leftButton=null,this._rightButton=null)},_cleanScrolling:function(){this._scrollable&&(this._$wrapper.appendTo(this.$element()),this._scrollable.$element().remove(),this._scrollable=null,this._cleanNavButtons())},_renderInkRipple:function(){this._inkRipple=tF()},_getPointerEvent:()=>Rt.up,_toggleActiveState:function(e,n,t){if(this.callBase.apply(this,arguments),this._inkRipple){var i={element:e,event:t};n?this._inkRipple.showWave(i):this._inkRipple.hideWave(i)}},_renderMultiple:function(){"multiple"===this.option("selectionMode")&&this.option("selectOnFocus",!1)},_renderWrapper:function(){this._$wrapper=x("<div>").addClass("dx-tabs-wrapper"),this.$element().append(this._$wrapper)},_itemContainer:function(){return this._$wrapper},_renderScrollable:function(){var e=this.$element().wrapInner(x("<div>").addClass("dx-tabs-scrollable")).children();this._scrollable=this._createComponent(e,Fa,{direction:"horizontal",showScrollbar:"never",useKeyboard:!1,useNative:!1,scrollByContent:this.option("scrollByContent"),onScroll:()=>{this._updateNavButtonsVisibility()}}),this.$element().append(this._scrollable.$element())},_scrollToItem:function(e){if(this._scrollable){var n=this._editStrategy.getItemElement(e);this._scrollable.scrollToElement(n)}},_renderNavButtons:function(){if(this.$element().toggleClass(I3,this.option("showNavButtons")),this.option("showNavButtons")){var e=this.option("rtlEnabled");this._leftButton=this._createNavButton(-30,e?A3:R3);var n=this._leftButton.$element();n.addClass("dx-tabs-nav-button-left"),this.$element().prepend(n),this._rightButton=this._createNavButton(30,e?R3:A3);var t=this._rightButton.$element();t.addClass("dx-tabs-nav-button-right"),this.$element().append(t)}},_updateNavButtonsVisibility:function(){var e=this.getScrollable();this._leftButton&&this._leftButton.option("disabled",function S3(e,n){return Math.round(e)<=n}(e.scrollLeft(),1)),this._rightButton&&this._rightButton.option("disabled",function E3(e,n,t){return Math.round(D3(e)-n)<=t}(x(e.container()).get(0),e.scrollLeft(),1))},_updateScrollPosition:function(e,n){this._scrollable.update(),this._scrollable.scrollBy(e/n)},_createNavButton:function(e,n){var t=this,i=t._createAction(function(){t._holdInterval=setInterval(function(){t._updateScrollPosition(e,5)},5)}),r=fe(ec_name,"dxNavButton"),o=fe(Rt.up,"dxNavButton"),s=fe(Rt.out,"dxNavButton"),l=this._createComponent(x("<div>").addClass("dx-tabs-nav-button"),Ui,{focusStateEnabled:!1,icon:n,onClick:function(){t._updateScrollPosition(e,1)},integrationOptions:{}}),h=l.$element();return R.on(h,r,{timeout:300},function(g){i({event:g})}.bind(this)),R.on(h,o,function(){t._clearInterval()}),R.on(h,s,function(){t._clearInterval()}),l},_clearInterval:function(){this._holdInterval&&clearInterval(this._holdInterval)},_updateSelection:function(e){this._scrollable&&this._scrollable.scrollToElement(this.itemElements().eq(e[0]),{left:1,right:1})},_visibilityChanged:function(e){e&&this._dimensionChanged()},_dimensionChanged:function(){this._renderScrolling()},_itemSelectHandler:function(e){"single"===this.option("selectionMode")&&this.isItemSelected(e.currentTarget)||this.callBase(e)},_clean:function(){this._deferredTemplates=[],this._cleanScrolling(),this.callBase()},_toggleFocusedNextClass(e,n){this._itemElements().eq(e).toggleClass("dx-focused-next-tab",n)},_optionChanged:function(e){switch(e.name){case"useInkRipple":case"scrollingEnabled":case"showNavButtons":case"badgeExpr":this._invalidate();break;case"scrollByContent":this._scrollable&&this._scrollable.option(e.name,e.value);break;case"width":this.callBase(e),this._dimensionChanged();break;case"selectionMode":this._renderMultiple(),this.callBase(e);break;case"focusedElement":var{selectedIndex:n}=this.option(),t=x(e.value).index();t!==n&&this._toggleFocusedNextClass(n,t===n+1),this.callBase(e),this._scrollToItem(e.value);break;default:this.callBase(e)}},_afterItemElementInserted(){this.callBase(),this._deferRenderScrolling()},_afterItemElementDeleted(e,n){this.callBase(e,n),this._renderScrolling()},getScrollable(){return this._scrollable}});yL.ItemClass=Nhe,Dt("dxTabs",yL);const epe=yL;var xL=Bhe.inherit({_getDefaultOptions:function(){return A(this.callBase(),{itemTitleTemplate:"title",hoverStateEnabled:!0,showNavButtons:!1,scrollByContent:!0,scrollingEnabled:!0,onTitleClick:null,onTitleHold:null,onTitleRendered:null,badgeExpr:function(e){return e?e.badge:void 0}})},_defaultOptionsRules:function(){return this.callBase().concat([{device:function(){return"desktop"===$e.real().deviceType&&!$e.isSimulator()},options:{focusStateEnabled:!0}},{device:function(){return!_e},options:{swipeEnabled:!1}},{device:{platform:"generic"},options:{animationEnabled:!1}}])},_init:function(){this.callBase(),this.$element().addClass("dx-tabpanel"),this.setAria("role","tabpanel")},_initMarkup:function(){this.callBase(),this._createTitleActions(),this._renderLayout()},_initTemplates:function(){this.callBase(),this._templateManager.addDefaultTemplates({title:new fp(function(e,n){if(ft(n)){var t=Ll(n.icon);t&&e.append(t),T(n.title)&&!ft(n.title)&&e.append(se.createTextNode(n.title))}else T(n)&&e.text(String(n));e.wrapInner(x("<span>").addClass("dx-tab-text"))},["title","icon"],this.option("integrationOptions.watchMethod"))})},_createTitleActions:function(){this._createTitleClickAction(),this._createTitleHoldAction(),this._createTitleRenderedAction()},_createTitleClickAction:function(){this._titleClickAction=this._createActionByOption("onTitleClick")},_createTitleHoldAction:function(){this._titleHoldAction=this._createActionByOption("onTitleHold")},_createTitleRenderedAction:function(){this._titleRenderedAction=this._createActionByOption("onTitleRendered")},_renderContent:function(){var e=this;this.callBase(),this.option("templatesRenderAsynchronously")&&(this._resizeEventTimer=setTimeout(function(){e._updateLayout()},0))},_renderLayout:function(){if(this._tabs)this._updateLayout();else{var e=this.$element();this._$tabContainer=x("<div>").addClass("dx-tabpanel-tabs").appendTo(e);var n=x("<div>").appendTo(this._$tabContainer);this._tabs=this._createComponent(n,epe,this._tabConfig()),this._$container=x("<div>").addClass("dx-tabpanel-container").appendTo(e),this._$container.append(this._$wrapper),this._updateLayout()}},_updateLayout:function(){if(rt()){var e=_t(this._$tabContainer);this._$container.css({marginTop:-e,paddingTop:e})}},_refreshActiveDescendant:function(){if(this._tabs){var e=this._tabs,n=e.itemElements(),t=x(n[e.option("selectedIndex")]),i=this.getFocusedItemId();this.setAria("controls",void 0,x(n)),this.setAria("controls",i,t)}},_tabConfig:function(){return{selectOnFocus:!0,focusStateEnabled:this.option("focusStateEnabled"),hoverStateEnabled:this.option("hoverStateEnabled"),repaintChangesOnly:this.option("repaintChangesOnly"),tabIndex:this.option("tabIndex"),selectedIndex:this.option("selectedIndex"),badgeExpr:this.option("badgeExpr"),onItemClick:this._titleClickAction.bind(this),onItemHold:this._titleHoldAction.bind(this),itemHoldTimeout:this.option("itemHoldTimeout"),onSelectionChanged:function(e){this.option("selectedIndex",e.component.option("selectedIndex")),this._refreshActiveDescendant()}.bind(this),onItemRendered:this._titleRenderedAction.bind(this),itemTemplate:this._getTemplateByOption("itemTitleTemplate"),items:this.option("items"),noDataText:null,scrollingEnabled:this.option("scrollingEnabled"),scrollByContent:this.option("scrollByContent"),showNavButtons:this.option("showNavButtons"),itemTemplateProperty:"tabTemplate",loopItemFocus:this.option("loop"),selectionRequired:!0,onOptionChanged:function(e){if("focusedElement"===e.name)if(e.value){var n=x(e.value),t=this._itemElements().eq(n.index());this.option("focusedElement",Ke(t))}else this.option("focusedElement",e.value)}.bind(this),onFocusIn:function(e){this._focusInHandler(e.event)}.bind(this),onFocusOut:function(e){this._isFocusOutHandlerExecuting||this._focusOutHandler(e.event)}.bind(this)}},_renderFocusTarget:function(){this._focusTarget().attr("tabIndex",-1)},_toggleWrapperFocusedClass(e){this._toggleFocusClass(e,this._$wrapper)},_toggleDisabledFocusedClass(e){this._focusTarget().toggleClass("dx-disabled-focused-tab",e)},_updateFocusState:function(e,n){this.callBase(e,n);var t=e.target===this._tabs._focusTarget().get(0),i=e.target===this._focusTarget().get(0);if(t&&this._toggleFocusClass(n,this._focusTarget()),t||i){var r=this._isDisabled(this.option("focusedElement"));this._toggleWrapperFocusedClass(n&&!r),this._toggleDisabledFocusedClass(n&&r)}i&&this._toggleFocusClass(n,this._tabs.option("focusedElement"))},_focusOutHandler:function(e){this._isFocusOutHandlerExecuting=!0,this.callBase.apply(this,arguments),this._tabs._focusOutHandler(e),this._isFocusOutHandlerExecuting=!1},_setTabsOption:function(e,n){this._tabs&&this._tabs.option(e,n)},_visibilityChanged:function(e){e&&(this._tabs._dimensionChanged(),this._updateLayout())},registerKeyHandler:function(e,n){this.callBase(e,n),this._tabs&&this._tabs.registerKeyHandler(e,n)},repaint:function(){this.callBase(),this._tabs.repaint()},_optionChanged:function(e){var n=e.name,t=e.value,i=e.fullName;switch(n){case"dataSource":default:this.callBase(e);break;case"items":this._setTabsOption(n,this.option(n)),this._updateLayout(),this.option("repaintChangesOnly")||this._tabs.repaint(),this.callBase(e);break;case"width":this.callBase(e),this._tabs.repaint();break;case"selectedIndex":case"selectedItem":if(this._setTabsOption(i,t),this.callBase(e),!0===this.option("focusStateEnabled")){var r=this.option("selectedIndex"),o=this._itemElements().eq(r);this.option("focusedElement",Ke(o))}break;case"itemHoldTimeout":case"focusStateEnabled":case"hoverStateEnabled":this._setTabsOption(i,t),this.callBase(e);break;case"scrollingEnabled":case"scrollByContent":case"showNavButtons":this._setTabsOption(i,t);break;case"focusedElement":var s=t&&x(t).index(),l=t&&this._tabs._itemElements().eq(s);this._setTabsOption("focusedElement",Ke(l));var h=this._isDisabled(t);this._toggleWrapperFocusedClass(!h),this._toggleDisabledFocusedClass(h),this.callBase(e);break;case"itemTitleTemplate":this._setTabsOption("itemTemplate",this._getTemplateByOption("itemTitleTemplate"));break;case"onTitleClick":this._createTitleClickAction(),this._setTabsOption("onItemClick",this._titleClickAction.bind(this));break;case"onTitleHold":this._createTitleHoldAction(),this._setTabsOption("onItemHold",this._titleHoldAction.bind(this));break;case"onTitleRendered":this._createTitleRenderedAction(),this._setTabsOption("onItemRendered",this._titleRenderedAction.bind(this));break;case"loop":this._setTabsOption("loopItemFocus",t);break;case"badgeExpr":this._invalidate()}},_clean:function(){clearTimeout(this._resizeEventTimer),this.callBase()}});xL.ItemClass=class tpe extends I_{_renderWatchers(){return this._startWatcher("badge",U),super._renderWatchers()}},Dt("dxTabPanel",xL);const ape=xL;class Ap{constructor(n){this._options=n,this._itemsRunTimeInfo=this._options.itemsRunTimeInfo}findInstance(){return this._itemsRunTimeInfo.findWidgetInstanceByItem(this._options.item)}findItemContainer(){return this._itemsRunTimeInfo.findItemContainerByItem(this._options.item)}findPreparedItem(){return this._itemsRunTimeInfo.findPreparedItemByItem(this._options.item)}tryExecute(){kt.abstract()}}var bL=(e,n)=>"".concat(n?"tabs":"items","[").concat(e,"]"),k3=(e,n)=>T(e)&&T(n)?"".concat(e,".").concat(n):e||n,OL=e=>e?e.replace(/\s/g,""):void 0,zx=(e,n)=>"".concat(e,".").concat(n),B3=e=>{var n=e.split(".");return n[n.length-1].replace(/\[\d+]/,"")},L3=e=>e.indexOf("tabs")>-1,V3=(e,n,t)=>{var i=e.indexOf(n);if(i>-1)return bL(i,t);for(var r=0;r<e.length;r++){var o=e[r],s=o.tabs||o.items;if(s){var l=V3(s,n,o.tabs);if(l)return k3(bL(r,t),l)}}};class cpe extends Ap{tryExecute(){var{value:n}=this._options,t=this.findInstance();return!!t&&(t.option(n),!0)}}class N3 extends Ap{tryExecute(){var n=this.findInstance();if(n){var{optionName:t,item:i,value:r}=this._options,o=this._itemsRunTimeInfo.findItemIndexByItem(i);if(o>=0)return n.option(zx("items[".concat(o,"]"),t),r),!0}return!1}}class hpe extends Ap{tryExecute(){return!1}}class ppe extends Ap{tryExecute(){var n=this.findPreparedItem();return!(null==n||!n._prepareGroupItemTemplate||!n._renderGroupContentTemplate||(n._prepareGroupItemTemplate(this._options.item.template),n._renderGroupContentTemplate(),0))}}class gpe extends Ap{tryExecute(){var n=this.findInstance();if(n){var{value:t}=this._options;return n.option("dataSource",t),!0}return!1}}class fpe extends Ap{tryExecute(){var{item:n}=this._options,t=this.findInstance(),i=t&&_n(t.$element()[0],"dxValidator");if(i&&n){var r=l=>"required"===l.type,o=(i.option("validationRules")||[]).some(r),s=(n.validationRules||[]).some(r);if(!o&&!s||o&&s)return i.option("validationRules",n.validationRules),!0}return!1}}class _pe extends Ap{tryExecute(){var n=this.findItemContainer(),{previousValue:t,value:i}=this._options;return!!n&&(n.removeClass(t).addClass(i),!0)}}var H3="dx-responsivebox",z3=H3+"-screen-",W3="dxBoxItemData",$3=_p.inherit({_getDefaultOptions:function(){return A(this.callBase(),{rows:[],cols:[],screenByWidth:null,singleColumnScreen:"",height:"100%",width:"100%",activeStateEnabled:!1,focusStateEnabled:!1,onItemStateChanged:void 0,onLayoutChanged:null,currentScreenFactor:void 0})},_init:function(){this.option("screenByWidth")||this._options.silent("screenByWidth",Cu),this.callBase(),this._initLayoutChangedAction()},_initLayoutChangedAction:function(){this._layoutChangedAction=this._createActionByOption("onLayoutChanged",{excludeValidators:["disabled","readonly"]})},_itemClass:function(){return"dx-box-item"},_itemDataKey:function(){return W3},_initMarkup:function(){this.callBase(),this.$element().addClass(H3)},_renderItems:function(){this._setScreenSize(),this._screenItems=this._itemsByScreen(),this._prepareGrid(),this._spreadItems(),this._layoutItems(),this._linkNodeToItem()},_itemOptionChanged:function(e){var n=this._findItemElementByItem(e);n.length&&(this._refreshItem(n,e),this._clearItemNodeTemplates(),this._update(!0))},_setScreenSize:function(){var e=this._getCurrentScreen();this._removeScreenSizeClass(),this.$element().addClass(z3+e),this.option("currentScreenFactor",e)},_removeScreenSizeClass:function(){var e=this.option("currentScreenFactor");e&&this.$element().removeClass(z3+e)},_prepareGrid:function(){var e=this._grid=[];this._prepareRowsAndCols(),B(this._rows,function(){var n=[];e.push(n),B(this._cols,function(){n.push(this._createEmptyCell())}.bind(this))}.bind(this))},getSingleColumnRows:function(){var e=this.option("rows"),n=this._screenItems.length;if(e.length){for(var t=this._filterByScreen(e),i=[],r=0;r<n;r++){var o=this._defaultSizeConfig();r<t.length&&T(t[r].shrink)&&(o.shrink=t[r].shrink),i.push(o)}return i}return this._defaultSizeConfig(n)},_prepareRowsAndCols:function(){this._isSingleColumnScreen()?(this._prepareSingleColumnScreenItems(),this._rows=this.getSingleColumnRows(),this._cols=this._defaultSizeConfig(1)):(this._rows=this._sizesByScreen(this.option("rows")),this._cols=this._sizesByScreen(this.option("cols")))},_isSingleColumnScreen:function(){return this._screenRegExp().test(this.option("singleColumnScreen"))||!this.option("rows").length||!this.option("cols").length},_prepareSingleColumnScreenItems:function(){this._screenItems.sort(function(e,n){return e.location.row-n.location.row||e.location.col-n.location.col}),B(this._screenItems,function(e,n){A(n.location,{row:e,col:0,rowspan:1,colspan:1})})},_sizesByScreen:function(e){return Fn(this._filterByScreen(e),function(n){return A(this._defaultSizeConfig(),n)}.bind(this))},_createDefaultSizeConfig:function(){return{ratio:1,baseSize:0,minSize:0,maxSize:0}},_defaultSizeConfig:function(e){var n=this._createDefaultSizeConfig();if(!arguments.length)return n;for(var t=[],i=0;i<e;i++)t.push(n);return t},_filterByScreen:function(e){var n=this._screenRegExp();return Ii(e,function(t){return!t.screen||n.test(t.screen)})},_screenRegExp:function(){var e=this._getCurrentScreen();return new RegExp("(^|\\s)"+e+"($|\\s)","i")},_getCurrentScreen:function(){var e=this._screenWidth();return this.option("screenByWidth")(e)},_screenWidth:function(){return rt()?Ze(ut()):1920},_createEmptyCell:function(){return{item:{},location:{colspan:1,rowspan:1}}},_spreadItems:function(){B(this._screenItems,function(e,n){var t=n.location||{},o=this._grid[t.row];this._occupyCells(o&&o[t.col],n)}.bind(this))},_itemsByScreen:function(){return this.option("items").reduce((e,n)=>{var t=n.location||{};return t=ft(t)?[t]:t,this._filterByScreen(t).forEach(i=>{e.push({item:n,location:A({rowspan:1,colspan:1},i)})}),e},[])},_occupyCells:function(e,n){!e||this._isItemCellOccupied(e,n)||(A(e,n),this._markSpanningCell(e))},_isItemCellOccupied:function(e,n){if(!Pr(e.item))return!0;var t=!1;return this._loopOverSpanning(n.location,function(i){t=t||!Pr(i.item)}),t},_loopOverSpanning:function(e,n){var t=e.row+e.rowspan-1,i=e.col+e.colspan-1,r=Math.min(t,this._rows.length-1),o=Math.min(i,this._cols.length-1);e.rowspan-=t-r,e.colspan-=i-o;for(var s=e.row;s<=r;s++)for(var l=e.col;l<=o;l++)(s!==e.row||l!==e.col)&&n(this._grid[s][l])},_markSpanningCell:function(e){this._loopOverSpanning(e.location,function(n){A(n,{item:e.item,spanningCell:e})})},_linkNodeToItem:function(){B(this._itemElements(),function(e,n){var t=x(n),i=t.data(W3);i.box||(i.node=t.children())})},_layoutItems:function(){var e=this._grid.length,n=e&&this._grid[0].length;if(e||n){var t=this._layoutBlock({direction:"col",row:{start:0,end:e-1},col:{start:0,end:n-1}}),i=this._prepareBoxConfig(t.box||{direction:"row",items:[A(t,{ratio:1})]});A(i,this._rootBoxConfig(i.items)),this._$root=x("<div>").appendTo(this._itemContainer()),this._createComponent(this._$root,Fx,i)}},_rootBoxConfig:function(e){return{width:"100%",height:"100%",items:B(e,function(t,i){this._needApplyAutoBaseSize(i)&&A(i,{baseSize:"auto"})}.bind(this)),itemTemplate:this._getTemplateByOption("itemTemplate"),itemHoldTimeout:this.option("itemHoldTimeout"),onItemHold:this._createActionByOption("onItemHold"),onItemClick:this._createActionByOption("onItemClick"),onItemContextMenu:this._createActionByOption("onItemContextMenu"),onItemRendered:this._createActionByOption("onItemRendered")}},_needApplyAutoBaseSize:function(e){return!(e.baseSize||e.minSize&&"auto"!==e.minSize||e.maxSize&&"auto"!==e.maxSize)},_prepareBoxConfig:function(e){return A(e||{},{crossAlign:"stretch",onItemStateChanged:this.option("onItemStateChanged")})},_layoutBlock:function(e){return this._isSingleItem(e)?this._itemByCell(e.row.start,e.col.start):this._layoutDirection(e)},_isSingleItem:function(e){var n=this._grid[e.row.start][e.col.start].location;return e.row.end-e.row.start==n.rowspan-1&&e.col.end-e.col.start==n.colspan-1},_itemByCell:function(e,n){var t=this._grid[e][n];return t.spanningCell?null:t.item},_layoutDirection:function(e){for(var r,n=[],t=e.direction,i=this._crossDirection(t);r=this._nextBlock(e);){if(this._isBlockIndivisible(e.prevBlockOptions,r))throw It.Error("E1025");var o=this._layoutBlock({direction:i,row:r.row,col:r.col,prevBlockOptions:e});o&&(A(o,this._blockSize(r,i)),n.push(o)),e[i].start=r[i].end+1}return{box:this._prepareBoxConfig({direction:t,items:n})}},_isBlockIndivisible:function(e,n){return e&&e.col.start===n.col.start&&e.col.end===n.col.end&&e.row.start===n.row.start&&e.row.end===n.row.end},_crossDirection:function(e){return"col"===e?"row":"col"},_nextBlock:function(e){var n=e.direction,t=this._crossDirection(n),i=e[n].start,r=e[n].end,o=e[t].start;if(o>e[t].end)return null;for(var s=1,l=o;l<o+s;l++){for(var h=1,g=i;g<=r;g++){var _=this._cellByDirection(n,g,l);h=Math.max(h,_.location[t+"span"])}var v=l+h,C=o+s;v>C&&(s+=v-C)}var b={};return b[n]={start:i,end:r},b[t]={start:o,end:o+s-1},b},_cellByDirection:function(e,n,t){return"col"===e?this._grid[t][n]:this._grid[n][t]},_blockSize:function(e,n){for(var t="row"===n?"auto":0,i="row"===n?this._rows:this._cols,r=A(this._createDefaultSizeConfig(),{ratio:0}),o=e[n].start;o<=e[n].end;o++){var s=i[o];r.ratio+=s.ratio,r.baseSize+=s.baseSize,r.minSize+=s.minSize,r.maxSize+=s.maxSize,T(s.shrink)&&(r.shrink=s.shrink)}return r.minSize=r.minSize?r.minSize:t,r.maxSize=r.maxSize?r.maxSize:"auto",this._isSingleColumnScreen()&&(r.baseSize="auto"),r},_update:function(e){var n=this._$root;this._renderItems(),n&&(e?n.remove():(n.detach(),this._saveAssistantRoot(n))),this._layoutChangedAction()},_saveAssistantRoot:function(e){this._assistantRoots=this._assistantRoots||[],this._assistantRoots.push(e)},_dispose:function(){this._clearItemNodeTemplates(),this._cleanUnusedRoots(),this.callBase.apply(this,arguments)},_cleanUnusedRoots:function(){this._assistantRoots&&B(this._assistantRoots,function(e,n){x(n).remove()})},_clearItemNodeTemplates:function(){B(this.option("items"),function(){delete this.node})},_attachClickEvent:U,_optionChanged:function(e){switch(e.name){case"rows":case"cols":case"screenByWidth":case"singleColumnScreen":this._clearItemNodeTemplates(),this._invalidate();break;case"width":case"height":this.callBase(e),this._update();break;case"onLayoutChanged":this._initLayoutChangedAction();break;case"itemTemplate":this._clearItemNodeTemplates(),this.callBase(e);break;case"currentScreenFactor":break;default:this.callBase(e)}},_dimensionChanged:function(){this._getCurrentScreen()!==this.option("currentScreenFactor")&&this._update()},repaint:function(){this._update()}});Dt("dxResponsiveBox",$3);const xpe=$3;var DL="dx-form-group",G3="dx-col-",U3="dx-field-item",j3="dx-layout-manager-one-col",K3="dx-field-item-label-content",Y3="dx-field-item-label",SL="dx-field-item-content",q3="dx-root-simple-item",J3="dx-field-item-tab",X3="dx-group-colcount-",Z3="group-col-count",EL="simple",Rpe=kt.inherit({ctor(e,n){this.editor=e,this.validator=n,this.validationRequestsCallbacks=[];var t=i=>{this.validationRequestsCallbacks.forEach(r=>r(i))};e.validationRequest.add(t),e.on("disposing",function(){e.validationRequest.remove(t)})},getValue(){return this.editor.option("value")},getCurrentValidationError(){return this.editor.option("validationError")},bypass(){return this.editor.option("disabled")},applyValidationResults(e){this.editor.option({validationErrors:e.brokenRules,validationStatus:e.status})},reset(){this.editor.reset()},focus(){this.editor.focus()}});const Ppe=Rpe;var wL="pending",e4=Ta.inherit({_initOptions:function(e){this.callBase.apply(this,arguments),this.option(ln.initValidationOptions(e))},_getDefaultOptions(){return A(this.callBase(),{validationRules:[]})},_init(){this.callBase(),this._initGroupRegistration(),this.focused=Et(),this._initAdapter(),this._validationInfo={result:null,deferred:null,skipValidation:!1}},_initGroupRegistration(){var e=this._findGroup();this._groupWasInit||this.on("disposing",function(n){ln.removeRegisteredValidator(n.component._validationGroup,n.component)}),(!this._groupWasInit||this._validationGroup!==e)&&(ln.removeRegisteredValidator(this._validationGroup,this),this._groupWasInit=!0,this._validationGroup=e,ln.registerValidatorInGroup(e,this))},_setOptionsByReference(){this.callBase(),A(this._optionsByReference,{validationGroup:!0})},_getEditor(){return _n(this.$element()[0],"dx-validation-target")},_initAdapter(){var e=this._getEditor(),n=this.option("adapter");if(!n){if(e)return(n=new Ppe(e,this)).validationRequestsCallbacks.push(i=>{this._validationInfo.skipValidation||this.validate(i)}),void this.option("adapter",n);throw It.Error("E0120")}var t=n.validationRequestsCallbacks;t&&t.push(i=>{this.validate(i)})},_toggleRTLDirection(e){var n,t,i,r=null!==(n=null===(t=this.option("adapter"))||void 0===t||null===(i=t.editor)||void 0===i?void 0:i.option("rtlEnabled"))&&void 0!==n?n:e;this.callBase(r)},_initMarkup(){this.$element().addClass("dx-validator"),this.callBase()},_render(){this.callBase(),this._toggleAccessibilityAttributes()},_toggleAccessibilityAttributes(){var e=this._getEditor();if(e){var t=(this.option("validationRules")||[]).some(i=>{var{type:r}=i;return"required"===r})||null;e.isInitialized()&&e.setAria("required",t),e.option("_onMarkupRendered",()=>{e.setAria("required",t)})}},_visibilityChanged(e){e&&this._initGroupRegistration()},_optionChanged(e){switch(e.name){case"validationGroup":return void this._initGroupRegistration();case"validationRules":return this._resetValidationRules(),this._toggleAccessibilityAttributes(),void(void 0!==this.option("isValid")&&this.validate());case"adapter":this._initAdapter();break;case"isValid":case"validationStatus":this.option(ln.synchronizeValidationOptions(e,this.option()));break;default:this.callBase(e)}},_getValidationRules(){return this._validationRules||(this._validationRules=Fn(this.option("validationRules"),(e,n)=>A({},e,{validator:this,index:n}))),this._validationRules},_findGroup(){var e=this.$element();return this.option("validationGroup")||ln.findGroup(e,this._modelByElement(e))},_resetValidationRules(){delete this._validationRules},validate(e){var h,n=this.option("adapter"),t=this.option("name"),i=n.bypass&&n.bypass(),r=e&&void 0!==e.value?e.value:n.getValue(),o=n.getCurrentValidationError&&n.getCurrentValidationError(),s=this._getValidationRules(),l=this._validationInfo&&this._validationInfo.result;return l&&l.status===wL&&l.value===r?A({},l):(i?h={isValid:!0,status:"valid"}:o&&o.editorSpecific?(o.validator=this,h={isValid:!1,status:"invalid",brokenRule:o,brokenRules:[o]}):h=ln.validate(r,s,t),h.id=(new En).toString(),this._applyValidationResult(h,n),h.complete&&h.complete.then(g=>{g.id===this._validationInfo.result.id&&this._applyValidationResult(g,n)}),A({},this._validationInfo.result))},reset(){var e=this.option("adapter");this._validationInfo.skipValidation=!0,e.reset(),this._validationInfo.skipValidation=!1,this._resetValidationRules(),this._applyValidationResult({id:null,isValid:!0,brokenRule:null,brokenRules:null,pendingRules:null,status:"valid",complete:null},e)},_updateValidationResult(e){if(this._validationInfo.result&&this._validationInfo.result.id===e.id)for(var t in e)"id"!==t&&"complete"!==t&&(this._validationInfo.result[t]=e[t]);else this._validationInfo.result=A({},e,{complete:this._validationInfo.deferred&&this._validationInfo.result.complete})},_applyValidationResult(e,n){var t=this._createActionByOption("onValidated",{excludeValidators:["readOnly"]});if(e.validator=this,this._updateValidationResult(e),n.applyValidationResults&&n.applyValidationResults(this._validationInfo.result),this.option({validationStatus:this._validationInfo.result.status}),this._validationInfo.result.status===wL)return this._validationInfo.deferred||(this._validationInfo.deferred=new W,this._validationInfo.result.complete=this._validationInfo.deferred.promise()),void this._eventsStrategy.fireEvent("validating",[this._validationInfo.result]);this._validationInfo.result.status!==wL&&(t(e),this._validationInfo.deferred&&(this._validationInfo.deferred.resolve(e),this._validationInfo.deferred=null))},focus(){var e=this.option("adapter");e&&e.focus&&e.focus()},_useTemplates:function(){return!1}});Dt("dxValidator",e4);const IL=e4;var Bpe=["dxTagBox","dxRangeSlider","dxDateRangeBox"],Lpe=["dxCalendar","dxCheckBox","dxHtmlEditor","dxRadioGroup","dxRangeSlider","dxSlider","dxSwitch"];function t4(e,n){var{showRequiredMark:t,requiredMark:i,showOptionalMark:r,optionalMark:o}=e;return{showRequiredMark:t&&n,requiredMark:i,showOptionalMark:r&&!n,optionalMark:o}}var $pe="dx-field-item-required-mark",n4="dx-field-item-label-location-",Gpe="dx-field-item-optional-mark",Upe="dx-field-item-label-text";function qpe(e){for(var n=0,t=e.children.length,i=0;i<t;i++)n+=e.children[i].offsetWidth;return n}var i4="dx-field-item-content-wrapper",oge="dx-template-wrapper",TL="dx-validation-target",sge="dx-invalid";function age(e){var{$parent:n,rootElementCssClassList:t,formOrLayoutManager:i,createComponentCallback:r,labelOptions:o,labelNeedBaselineAlign:s,labelLocation:l,needRenderLabel:h,formLabelLocation:g,item:_,editorOptions:v,isSimpleItem:C,isRequired:b,template:E,helpID:w,labelID:M,name:k,helpText:L,requiredMessageTemplate:G,validationGroup:Q}=e,le=x("<div>").addClass(t.join(" ")).appendTo(n);le.addClass(b?"dx-field-item-required":"dx-field-item-optional"),C&&le.addClass("dx-flex-layout"),C&&s&&le.addClass("dx-field-item-label-align");var Te=x("<div>");Te.data("dx-form-item",_),Te.addClass(SL).addClass("dx-field-item-content-location-"+{right:"left",left:"right",top:"bottom"}[g]);var On,He=null;if(h&&(o.labelTemplate&&(o.labelTemplateData=s4(_,v,i)),He=function jpe(e){var{text:n,id:t,location:i,alignment:r,labelID:o=null,markOptions:s={},labelTemplate:l,labelTemplateData:h,onLabelTemplateRendered:g}=e;if((!T(n)||n.length<=0)&&!T(l))return null;var _=x("<label>").addClass(Y3+" "+n4+i).attr("for",t).attr("id",o).css("textAlign",r),v=x("<span>").addClass(K3),C=x("<span>").addClass(Upe).text(n);return l&&(C=x("<div>").addClass("dx-field-item-custom-label-content"),h.text=n,l.render({container:Ke(C),model:h,onRendered(){g?.()}})),_.append(v.append(C,function Kpe(e){var n=function Npe(e){var{showRequiredMark:n,requiredMark:t,showOptionalMark:i,optionalMark:r}=e;return n||i?String.fromCharCode(160)+(n?t:r):""}(e);return""===n?null:x("<span>").addClass(e.showRequiredMark?$pe:Gpe).text(n)}(s)))}(o)),He){var{editorType:Ee}=_;le.append(He),("top"===l||"left"===l)&&le.append(Te),"right"===l&&le.prepend(Te),le.addClass("top"===l?"dx-label-v-align":"dx-label-h-align"),("dxCheckBox"===Ee||"dxSwitch"===Ee)&&R.on(He,Kt,function(){R.trigger(Te.children(),Kt)});var ze=["dxCheckBox","dxSwitch","dxRadioGroup"].includes(Ee),ot=o.alignment;!E&&ze&&"top"===l&&("left"===ot||!ot)&&Te.addClass("dx-toggle-controls-paddings")}else le.append(Te);if(E)E.render({container:Ke(Te),model:s4(_,v,i),onRendered(){var Vxe=function lge(e){var n,t;return e?.data(TL)||(null==e||null===(n=e.parent)||void 0===n||null===(t=n.call(e))||void 0===t?void 0:t.data(TL))}(r4(Te));o4(Vxe)}});else{var Ga=x("<div>").appendTo(Te);try{(On=r(Ga,_.editorType,v)).setAria("describedby",w),M&&On.setAria("labelledby",M),On.setAria("required",b)}catch(FV){It.log("E1035",FV.message)}}var Ua=r4(Te),vI=Ua&&Ua.data(TL);if(vI){var ub,dq=_.label&&_.label.text,uq=dq?null:k,kxe=dq?_.label.text:uq&&Ni(uq);if(C)if(_.validationRules)ub=_.validationRules;else{var Bxe=Ho(G,kxe||"");ub=_.isRequired?[{type:"required",message:Bxe}]:null}Array.isArray(ub)&&ub.length&&r(Ua,IL,{validationRules:ub,validationGroup:Q,dataGetter:function(){return{formItem:_}}}),o4(vI)}return L&&C&&Te.parent().append(x("<div>").addClass(i4).append(Te).append(x("<div>").addClass("dx-field-item-help-text").attr("id",w).text(L))),{$fieldEditorContainer:Te,$rootElement:le,widgetInstance:On}}function r4(e){var n=e.children().first();return n.hasClass(oge)?n.children().first():n}function o4(e){if(e&&Wn()){var n=".".concat(i4),t=i=>{var{element:r,component:o}=i,{isValid:s,validationMessageMode:l}=o.option();x(r).parents(n).toggleClass(sge,!1===s&&(o._isFocused()||"always"===l))};e.on("optionChanged",i=>{"isValid"===i.name&&t(i)}),e.on("focusIn",t).on("focusOut",t).on("enterKey",t)}}function s4(e,n,t){return{dataField:e.dataField,editorType:e.editorType,editorOptions:n,component:t,name:e.name}}function a4(e){var{$parent:n,rootElementCssClassList:t}=e;return x("<div>").addClass("dx-field-empty-item").html("&nbsp;").addClass(t.join(" ")).appendTo(n)}var Cge=Ki.inherit({_getDefaultOptions:function(){return A(this.callBase(),{layoutData:{},readOnly:!1,colCount:1,colCountByScreen:void 0,labelLocation:"left",onFieldDataChanged:null,onEditorEnterKey:null,customizeItem:null,alignItemLabels:!0,minColWidth:200,showRequiredMark:!0,screenByWidth:null,showOptionalMark:!1,requiredMark:"*",labelMode:"outside",optionalMark:J.format("dxForm-optionalMark"),requiredMessage:J.getFormatter("dxForm-requiredMessage")})},_setOptionsByReference:function(){this.callBase(),A(this._optionsByReference,{layoutData:!0,validationGroup:!0})},_init:function(){var e=this.option("layoutData");this.callBase(),this._itemWatchers=[],this._itemsRunTimeInfo=new v3,this._updateReferencedOptions(e),this._initDataAndItems(e)},_dispose:function(){this.callBase(),this._cleanItemWatchers()},_initDataAndItems:function(e){this._syncDataWithItems(),this._updateItems(e)},_syncDataWithItems:function(){var e=this.option("layoutData"),n=this.option("items");T(n)&&n.forEach(t=>{var i;t.dataField&&void 0===this._getDataByField(t.dataField)&&(t.editorOptions&&(i=t.editorOptions.value),(T(i)||t.dataField in e)&&this._updateFieldValue(t.dataField,i))})},_getDataByField:function(e){return e?this.option("layoutData."+e):null},_isCheckboxUndefinedStateEnabled:function(e){var{allowIndeterminateState:n,editorType:t,dataField:i}=e;if(!0===n&&"dxCheckBox"===t){var r=["layoutData",...i.split(".")],o=r.pop(),s=this.option(r.join("."));return s&&o in s}return!1},_updateFieldValue:function(e,n){var t=this.option("layoutData"),i=n;!Jn.isWrapped(t[e])&&T(e)?this.option("layoutData."+e,i):Jn.isWritableWrapped(t[e])&&(i=Re(i)?i():i,t[e](i)),this._triggerOnFieldDataChanged({dataField:e,value:i})},_triggerOnFieldDataChanged:function(e){this._createActionByOption("onFieldDataChanged")(e)},_updateItems:function(e){var n=this,t=this.option("items"),i=T(t),r=n.option("customizeItem"),o=i?t:this._generateItemsByData(e);if(T(o)){var s=[];B(o,function(l,h){n._isAcceptableItem(h)&&(h=n._processItem(h),r&&r(h),qe(h)&&!1!==Jn.unwrap(h.visible)&&s.push(h))}),(!n._itemWatchers.length||!i)&&n._updateItemWatchers(o),this._setItems(s),this._sortItems()}},_cleanItemWatchers:function(){this._itemWatchers.forEach(function(e){e()}),this._itemWatchers=[]},_updateItemWatchers:function(e){var n=this,t=n._getWatch();e.forEach(function(i){qe(i)&&T(i.visible)&&Re(t)&&n._itemWatchers.push(t(function(){return Jn.unwrap(i.visible)},function(){n._updateItems(n.option("layoutData")),n.repaint()},{skipImmediate:!0}))})},_generateItemsByData:function(e){var n=[];return T(e)&&B(e,function(t){n.push({dataField:t})}),n},_isAcceptableItem:function(e){var t=this._getDataByField(e.dataField||e);return!(Re(t)&&!Jn.isWrapped(t))},_processItem:function(e){if("string"==typeof e&&(e={dataField:e}),"object"==typeof e&&!e.itemType&&(e.itemType=EL),!T(e.editorType)&&T(e.dataField)){var n=this._getDataByField(e.dataField);e.editorType=T(n)?this._getEditorTypeByDataType(Rr(n)):"dxTextBox"}var t;return"dxCheckBox"===e.editorType&&(e.allowIndeterminateState=null===(t=e.allowIndeterminateState)||void 0===t||t),e},_getEditorTypeByDataType:function(e){switch(e){case"number":return"dxNumberBox";case"date":return"dxDateBox";case"boolean":return"dxCheckBox";default:return"dxTextBox"}},_sortItems:function(){tp(this._items,"visibleIndex"),this._sortIndexes()},_sortIndexes:function(){this._items.sort(function(e,n){var t=e.visibleIndex,i=n.visibleIndex;return t>i?1:t<i?-1:0})},_initMarkup:function(){this._itemsRunTimeInfo.clear(),this.$element().addClass("dx-layout-manager"),this.callBase(),this._renderResponsiveBox()},_renderResponsiveBox:function(){var e=[];if(this._items&&this._items.length){var n=this._getColCount(),t=x("<div>").appendTo(this.$element());this._prepareItemsWithMerging(n);var i=this._generateLayoutItems();this._responsiveBox=this._createComponent(t,xpe,this._getResponsiveBoxConfig(i,n,e)),rt()||this._renderTemplates(e)}},_itemStateChangedHandler:function(e){this._refresh()},_renderTemplates:function(e){var n=this,t=0;e.forEach(i=>{var r,{item:o}=i;null!=o&&null!==(r=o.label)&&void 0!==r&&r.template&&t++}),B(e,function(i,r){switch(r.itemType){case"empty":a4(r);break;case"button":n._renderButtonItem(r);break;default:n._renderFieldItem(r,t)}})},_getResponsiveBoxConfig:function(e,n,t){var i=this,r=i.option("colCountByScreen"),o=r&&r.xs;return{onItemStateChanged:this._itemStateChangedHandler.bind(this),onLayoutChanged:function(){var s=i.option("onLayoutChanged"),l=i.isSingleColumnMode();s&&(i.$element().toggleClass(j3,l),s(l))},onContentReady:function(s){rt()&&i._renderTemplates(t),i.option("onLayoutChanged")&&i.$element().toggleClass(j3,i.isSingleColumnMode(s.component))},itemTemplate:function(s,l,h){if(s.location){var g=x(h),v=i._items[s.location.col+s.location.row*n];if(v){var C=[v.cssClass];g.toggleClass("dx-single-column-item-content",i.isSingleColumnMode(this)),0===s.location.row&&C.push("dx-first-row"),0===s.location.col&&C.push("dx-first-col"),v.itemType===EL&&i.option("isRoot")&&g.addClass(q3);var b=s.location.col===n-1||s.location.col+s.location.colspan===n,E=i._getRowsCount(),w=s.location.row===E-1;b&&C.push("dx-last-col"),w&&C.push("dx-last-row"),"empty"!==v.itemType&&(C.push(U3),C.push(i.option("cssItemClass")),T(v.col)&&C.push("dx-col-"+v.col)),t.push({itemType:v.itemType,item:v,$parent:g,rootElementCssClassList:C})}}},cols:i._generateRatio(n),rows:i._generateRatio(i._getRowsCount(),!0),dataSource:e,screenByWidth:i.option("screenByWidth"),singleColumnScreen:!o&&"xs"}},_getColCount:function(){var e=this.option("colCount"),n=this.option("colCountByScreen");if(n){var t=this.option("form").getTargetScreenFactor();t||(t=rt()?qv(this.option("screenByWidth")):"lg"),e=n[t]||e}if("auto"===e){if(this._cashedColCount)return this._cashedColCount;this._cashedColCount=e=this._getMaxColCount()}return e<1?1:e},_getMaxColCount:function(){if(!rt())return 1;var e=this.option("minColWidth"),n=Ze(this.$element()),t=this._items.length,i=Math.floor(n/e)||1;return t<i?t:i},isCachedColCountObsolete:function(){return this._cashedColCount&&this._getMaxColCount()!==this._cashedColCount},_prepareItemsWithMerging:function(e){var t,i,o,s,n=this._items.slice(0),r=[];for(s=0;s<n.length;s++)if(r.push(t=n[s]),(this.option("alignItemLabels")||t.alignItemLabels||t.colSpan)&&(t.col=this._getColByIndex(r.length-1,e)),t.colSpan>1&&t.col+t.colSpan<=e){for(i=[],o=0;o<t.colSpan-1;o++)i.push({merged:!0});r=r.concat(i)}else delete t.colSpan;this._setItems(r)},_getColByIndex:function(e,n){return e%n},_setItems:function(e){this._items=e,this._cashedColCount=null},_generateLayoutItems:function(){var i,r,e=this._items,n=this._getColCount(),t=[];for(r=0;r<e.length;r++)if(!(i=e[r]).merged){var o={location:{row:parseInt(r/n),col:this._getColByIndex(r,n)}};T(i.disabled)&&(o.disabled=i.disabled),T(i.visible)&&(o.visible=i.visible),T(i.colSpan)&&(o.location.colspan=i.colSpan),T(i.rowSpan)&&(o.location.rowspan=i.rowSpan),t.push(o)}return t},_renderEmptyItem:function(e){a4({$container:e})},_renderButtonItem:function(e){var{item:n,$parent:t,rootElementCssClassList:i}=e,{$rootElement:r,buttonInstance:o}=function uge(e){var{item:n,$parent:t,rootElementCssClassList:i,validationGroup:r,createComponentCallback:o}=e,s=x("<div>").appendTo(t).addClass(i.join(" ")).addClass("dx-field-button-item").css("textAlign",function cge(e){return T(e)?e:"right"}(n.horizontalAlignment));return t.css("justifyContent",function hge(e){switch(e){case"center":return"center";case"bottom":return"flex-end";default:return"flex-start"}}(n.verticalAlignment)),{$rootElement:s,buttonInstance:o(x("<div>").appendTo(s),"dxButton",A({validationGroup:r},n.buttonOptions))}}({item:n,$parent:t,rootElementCssClassList:i,validationGroup:this.option("validationGroup"),createComponentCallback:this._createComponent.bind(this)});this._itemsRunTimeInfo.add({item:n,widgetInstance:o,guid:n.guid,$itemContainer:r})},_renderFieldItem:function(e,n){var t,i,{item:r,$parent:o,rootElementCssClassList:s}=e,l=this._getDataByField(r.dataField),h=!1;if(void 0===l){var{allowIndeterminateState:g,editorType:_,dataField:v}=r;h=this._isCheckboxUndefinedStateEnabled({allowIndeterminateState:g,editorType:_,dataField:v})}var C=r.dataField||r.name,b=this._getFormOrThis(),{$fieldEditorContainer:E,widgetInstance:w,$rootElement:M}=age(function Vpe(e){var{$parent:n,rootElementCssClassList:t,formOrLayoutManager:i,createComponentCallback:r,item:o,template:s,labelTemplate:l,name:h,formLabelLocation:g,requiredMessageTemplate:_,validationGroup:v,editorValue:C,canAssignUndefinedValueToEditor:b,editorValidationBoundary:E,editorStylingMode:w,showColonAfterLabel:M,managerLabelLocation:k,itemId:L,managerMarkOptions:G,labelMode:Q,onLabelTemplateRendered:le}=e,Te=T(o.isRequired)?o.isRequired:!!function zpe(e){var n;return e&&e.length&&B(e,function(t,i){if("required"===i.type)return n=!0,!1}),n}(o.validationRules),He=o.itemType===EL,Ee=o.helpText?"dx-"+new En:null,ze=function Wpe(e){var{item:n,id:t,isRequired:i,managerMarkOptions:r,showColonAfterLabel:o,labelLocation:s,labelTemplate:l,formLabelMode:h,onLabelTemplateRendered:g}=e,_=Lpe.includes(n.editorType),v=A({showColon:o,location:s,id:t,visible:"outside"===h||_&&"hidden"!==h,isRequired:i},n?n.label:{},{markOptions:t4(r,i),labelTemplate:l,onLabelTemplateRendered:g});return["dxRadioGroup","dxCheckBox","dxLookup","dxSlider","dxRangeSlider","dxSwitch","dxHtmlEditor","dxDateRangeBox"].includes(n.editorType)&&(v.labelID="dx-label-".concat(new En)),!v.text&&n.dataField&&(v.text=Ni(n.dataField)),v.text&&(v.textWithoutColon=v.text,v.text+=v.showColon?":":""),v}({item:o,id:L,isRequired:Te,managerMarkOptions:G,showColonAfterLabel:M,labelLocation:k,formLabelMode:Q,labelTemplate:l,onLabelTemplateRendered:le}),ot=ze.visible&&(ze.text||ze.labelTemplate&&He),{location:ht,labelID:Xt}=ze,on="top"!==ht&&["dxTextArea","dxRadioGroup","dxCalendar","dxHtmlEditor"].includes(o.editorType),On=function Hpe(e){var{editorType:n,defaultEditorName:t,editorValue:i,canAssignUndefinedValueToEditor:r,externalEditorOptions:o,editorInputId:s,editorValidationBoundary:l,editorStylingMode:h,formLabelMode:g,labelText:_,labelMark:v}=e,C={};(void 0!==i||r)&&(C.value=i),-1!==Bpe.indexOf(n)&&(C.value=C.value||[]);var b=o?.labelMode;T(b)||(b="outside"===g?"hidden":g);var w=A(!0,C,o,{inputAttr:{id:s},validationBoundary:l,stylingMode:o?.stylingMode||h,label:_,labelMode:b,labelMark:v});return o&&(w.dataSource&&(w.dataSource=o.dataSource),w.items&&(w.items=o.items)),t&&!w.name&&(w.name=t),w}({editorType:o.editorType,editorValue:C,defaultEditorName:o.dataField,canAssignUndefinedValueToEditor:b,externalEditorOptions:o.editorOptions,editorInputId:L,editorValidationBoundary:E,editorStylingMode:w,formLabelMode:Q,labelText:ze.textWithoutColon,labelMark:ze.markOptions.showRequiredMark?String.fromCharCode(160)+ze.markOptions.requiredMark:""});return{$parent:n,rootElementCssClassList:t,formOrLayoutManager:i,createComponentCallback:r,labelOptions:ze,labelNeedBaselineAlign:on,labelLocation:ht,needRenderLabel:ot,item:o,isSimpleItem:He,isRequired:Te,template:s,helpID:Ee,labelID:Xt,name:h,helpText:!ze.markOptions.showOptionalMark||ze.visible||"hidden"===On.labelMode||T(o.helpText)?o.helpText:ze.markOptions.optionalMark,formLabelLocation:g,requiredMessageTemplate:_,validationGroup:v,editorOptions:On}}({$parent:o,rootElementCssClassList:s,item:r,name:C,editorValue:l,canAssignUndefinedValueToEditor:h,formOrLayoutManager:this._getFormOrThis(),createComponentCallback:this._createComponent.bind(this),formLabelLocation:this.option("labelLocation"),requiredMessageTemplate:this.option("requiredMessage"),validationGroup:this.option("validationGroup"),editorValidationBoundary:this.option("validationBoundary"),editorStylingMode:this.option("form")&&this.option("form").option("stylingMode"),showColonAfterLabel:this.option("showColonAfterLabel"),managerLabelLocation:this.option("labelLocation"),template:r.template?this._getTemplate(r.template):null,labelTemplate:null!==(t=r.label)&&void 0!==t&&t.template?this._getTemplate(r.label.template):null,itemId:this.option("form")&&this.option("form").getItemID(C),managerMarkOptions:this._getMarkOptions(),labelMode:this.option("labelMode"),onLabelTemplateRendered:()=>{this._incTemplateRenderedCallCount(),this._shouldAlignLabelsOnTemplateRendered(b,n)&&b._alignLabels(this,this.isSingleColumnMode(b))}}));null===(i=this.option("onFieldItemRendered"))||void 0===i||i(),w&&r.dataField&&this._bindDataField(w,r.dataField,r.editorType,E),this._itemsRunTimeInfo.add({item:r,widgetInstance:w,guid:r.guid,$itemContainer:M})},_incTemplateRenderedCallCount(){var e;this._labelTemplateRenderedCallCount=(null!==(e=this._labelTemplateRenderedCallCount)&&void 0!==e?e:0)+1},_shouldAlignLabelsOnTemplateRendered(e,n){return e.option("templatesRenderAsynchronously")&&this._labelTemplateRenderedCallCount===n},_getMarkOptions:function(){return{showRequiredMark:this.option("showRequiredMark"),requiredMark:this.option("requiredMark"),showOptionalMark:this.option("showOptionalMark"),optionalMark:this.option("optionalMark")}},_getFormOrThis:function(){return this.option("form")||this},_bindDataField:function(e,n,t,i){var r=this._getFormOrThis();e.on("enterKey",function(o){r._createActionByOption("onEditorEnterKey")(A(o,{dataField:n}))}),this._createWatcher(e,i,n),this.linkEditorToDataField(e,n,t)},_createWatcher:function(e,n,t){var i=this,r=i._getWatch();if(Re(r)){var o=r(function(){return i._getDataByField(t)},function(){var s=i._getDataByField(t);if("dxTagBox"===e.NAME){var l=e.option("value");if(s!==l&&function(h,g){if(!Array.isArray(h)||!Array.isArray(g)||h.length!==g.length)return!1;for(var _=0;_<h.length;_++)if(h[_]!==g[_])return!1;return!0}(s,l))return}e.option("value",s)},{deep:!0,skipImmediate:!0});R.on(n,Ko,o)}},_getWatch:function(){if(!T(this._watch)){var e=this.option("form");this._watch=e&&e.option("integrationOptions.watchMethod")}return this._watch},_createComponent:function(e,n,t){var i=this.option("readOnly"),r=Object.hasOwn(t,"readOnly"),o=this.callBase(e,n,de({},t,{readOnly:r?t.readOnly:i})),s=!1;return o.on("optionChanged",l=>{"readOnly"===l.name&&!s&&(r=!0)}),this.on("optionChanged",function(l){"readOnly"===l.name&&!r&&(s=!0,o.option(l.name,l.value),s=!1)}),o},_generateRatio:function(e,n){var i,r,t=[];for(r=0;r<e;r++)i={ratio:1},n&&(i.baseSize="auto"),t.push(i);return t},_getRowsCount:function(){return Math.ceil(this._items.length/this._getColCount())},_updateReferencedOptions:function(e){var n=this.option("layoutData");qe(n)&&Object.getOwnPropertyNames(n).forEach(t=>delete this._optionsByReference["layoutData."+t]),qe(e)&&Object.getOwnPropertyNames(e).forEach(t=>this._optionsByReference["layoutData."+t]=!0)},_resetWidget(e){this._disableEditorValueChangedHandler=!0,e.reset(),this._disableEditorValueChangedHandler=!1,e.option("isValid",!0)},_optionChanged(e){if(0!==e.fullName.search("layoutData."))switch(e.name){case"showRequiredMark":case"showOptionalMark":case"requiredMark":case"optionalMark":this._cashedRequiredConfig=null,this._invalidate();break;case"layoutData":this._updateReferencedOptions(e.value),this.option("items")?Pr(e.value)||this._itemsRunTimeInfo.each((n,t)=>{if(T(t.item)){var i=t.item.dataField;if(i&&T(t.widgetInstance)){var o=Yt(i)(e.value),{allowIndeterminateState:s,editorType:l}=t.item;void 0!==o||this._isCheckboxUndefinedStateEnabled({allowIndeterminateState:s,editorType:l,dataField:i})?t.widgetInstance.option("value",o):this._resetWidget(t.widgetInstance)}}}):(this._initDataAndItems(e.value),this._invalidate());break;case"items":this._cleanItemWatchers(),this._initDataAndItems(e.value),this._invalidate();break;case"alignItemLabels":case"labelLocation":case"labelMode":case"requiredMessage":this._invalidate();break;case"customizeItem":this._updateItems(this.option("layoutData")),this._invalidate();break;case"colCount":case"colCountByScreen":this._resetColCount();break;case"minColWidth":"auto"===this.option("colCount")&&this._resetColCount();break;case"readOnly":case"onFieldDataChanged":break;case"width":this.callBase(e),"auto"===this.option("colCount")&&this._resetColCount();break;default:this.callBase(e)}},_resetColCount:function(){this._cashedColCount=null,this._invalidate()},linkEditorToDataField(e,n){this.on("optionChanged",t=>{t.fullName==="layoutData.".concat(n)&&e._setOptionWithoutOptionChange("value",t.value)}),e.on("valueChanged",t=>{var i=qe(t.value)||Array.isArray(t.value);!this._disableEditorValueChangedHandler&&(!i||t.value!==t.previousValue)&&this._updateFieldValue(n,t.value)})},_dimensionChanged:function(){"auto"===this.option("colCount")&&this.isCachedColCountObsolete()&&this._eventsStrategy.fireEvent("autoColCountChanged")},updateData:function(e,n){var t=this;qe(e)?B(e,function(i,r){t._updateFieldValue(i,r)}):"string"==typeof e&&t._updateFieldValue(e,n)},getEditor:function(e){return this._itemsRunTimeInfo.findWidgetInstanceByDataField(e)||this._itemsRunTimeInfo.findWidgetInstanceByName(e)},isSingleColumnMode:function(e){var n=this._responsiveBox||e;if(n)return n.option("currentScreenFactor")===n.option("singleColumnScreen")},getItemsRunTimeInfo:function(){return this._itemsRunTimeInfo}});Dt("dxLayoutManager",Cge);var ML="dx-validationsummary",yge=ML+"-item",xge=ML+"-item-data",l4=_p.inherit({_getDefaultOptions(){return A(this.callBase(),{focusStateEnabled:!1,noDataText:null})},_setOptionsByReference(){this.callBase(),A(this._optionsByReference,{validationGroup:!0})},_init(){this.callBase(),this._initGroupRegistration()},_initGroupRegistration(){var e=this.$element(),n=this.option("validationGroup")||ln.findGroup(e,this._modelByElement(e)),t=ln.addGroup(n);this._unsubscribeGroup(),this._groupWasInit=!0,this._validationGroup=n,this.groupSubscription=this._groupValidationHandler.bind(this),t.on("validated",this.groupSubscription)},_unsubscribeGroup(){var e=ln.getGroupConfig(this._validationGroup);e&&e.off("validated",this.groupSubscription)},_getOrderedItems(e,n){var t=[];return B(e,function(i,r){var o=Ii(n,function(s){if(s.validator===r)return!0});o.length&&(t=t.concat(o))}),t},_groupValidationHandler(e){var n=this._getOrderedItems(e.validators,Fn(e.brokenRules,function(t){return{text:t.message,validator:t.validator,index:t.index}}));this.validators=e.validators,B(this.validators,(t,i)=>{if(i._validationSummary!==this){var r=this._itemValidationHandler.bind(this);i.on("validated",r),i.on("disposing",function(){i.off("validated",r),i._validationSummary=null,r=null}),i._validationSummary=this}}),this.option("items",n)},_itemValidationHandler(e){for(var{isValid:n,validator:t,brokenRules:i}=e,r=this.option("items"),o=!1,s=0,l=function(){var g=r[s];if(g.validator===t){var _=Ii(i||[],function(v){return v.index===g.index})[0];if(n||!_)return r.splice(s,1),o=!0,"continue";_.message!==g.text&&(g.text=_.message,o=!0)}s++};s<r.length;)l();B(i,function(g,_){Ii(r,function(C){return C.validator===t&&C.index===_.index})[0]||(r.push({text:_.message,validator:t,index:_.index}),o=!0)}),o&&(r=this._getOrderedItems(this.validators,r),this.option("items",r))},_initMarkup(){this.$element().addClass(ML),this.callBase()},_optionChanged(e){"validationGroup"===e.name?this._initGroupRegistration():this.callBase(e)},_itemClass:()=>yge,_itemDataKey:()=>xge,_postprocessRenderItem(e){R.on(e.itemElement,"click",function(){e.itemData.validator&&e.itemData.validator.focus&&e.itemData.validator.focus()})},_dispose(){this.callBase(),this._unsubscribeGroup()},refreshValidationGroup(){this._initGroupRegistration()}});Dt("dxValidationSummary",l4);const bge=l4;var d4="dx-validationgroup";Dt("dxValidationGroup",class Sge extends Ta{_getDefaultOptions(){return super._getDefaultOptions()}_init(){super._init(),ln.addGroup(this)}_initMarkup(){var n=this.$element();n.addClass(d4),n.find(".".concat("dx-validator")).each(function(t,i){IL.getInstance(x(i))._initGroupRegistration()}),n.find(".".concat("dx-validationsummary")).each(function(t,i){bge.getInstance(x(i)).refreshValidationGroup()}),super._initMarkup()}validate(){return ln.validateGroup(this)}reset(){return ln.resetGroup(this)}_dispose(){ln.removeGroup(this),this.$element().removeClass(d4),super._dispose()}_useTemplates(){return!1}});var u4="dx-state-focused",Ege=["items","isRequired","validationRules","visible"],c4=Ki.inherit({_init:function(){this.callBase(),this._cachedColCountOptions=[],this._itemsRunTimeInfo=new v3,this._groupsColCount=[],this._attachSyncSubscriptions()},_getDefaultOptions:function(){return A(this.callBase(),{formID:"dx-"+new En,formData:{},colCount:1,screenByWidth:Cu,colCountByScreen:void 0,labelLocation:"left",readOnly:!1,onFieldDataChanged:null,customizeItem:null,onEditorEnterKey:null,minColWidth:200,alignItemLabels:!0,alignItemLabelsInAllGroups:!0,alignRootItemLabels:!0,showColonAfterLabel:!0,showRequiredMark:!0,showOptionalMark:!1,requiredMark:"*",optionalMark:J.format("dxForm-optionalMark"),requiredMessage:J.getFormatter("dxForm-requiredMessage"),showValidationSummary:!1,items:void 0,scrollingEnabled:!1,validationGroup:void 0,stylingMode:un().editorStylingMode,labelMode:"outside"})},_defaultOptionsRules:function(){return this.callBase().concat([{device:function(){return Wn()},options:{showColonAfterLabel:!1,labelLocation:"top"}}])},_setOptionsByReference:function(){this.callBase(),A(this._optionsByReference,{formData:!0,validationGroup:!0})},_getGroupColCount:function(e){return parseInt(e.attr(Z3))},_applyLabelsWidthByCol:function(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=t.inOneColumn?U3:G3+n,o=t.excludeTabbed?":not(.".concat(J3,")"):"";!function Ype(e,n,t){var s,l,i="".concat(n," > .").concat(Y3,":not(.").concat(n4,"top) > .").concat(K3),r=e.find(i),o=r.length,h=0;for(l=0;l<o;l++)(s=qpe(r[l]))>h&&(h=s);for(l=0;l<o;l++)r[l].style.width=h+"px"}(e,".".concat(r).concat(o))},_applyLabelsWidth:function(e,n,t,i,r){i=t?1:i||this._getGroupColCount(e);var s,o={excludeTabbed:n,inOneColumn:t};for(s=0;s<i;s++)this._applyLabelsWidthByCol(e,s,o,r)},_getGroupElementsInColumn:function(e,n,t){var i=T(t)?"."+X3+t:"";return e.find("."+G3+n+" > ."+SL+" > ."+DL+i)},_applyLabelsWidthWithGroups:function(e,n,t,i){if(!0===this.option("alignRootItemLabels"))for(var r=e.find(".".concat(q3)),o=0;o<n;o++)this._applyLabelsWidthByCol(r,o,t,i);if(this.option("alignItemLabelsInAllGroups"))this._applyLabelsWidthWithNestedGroups(e,n,t,i);else{var h,l=this.$element().find("."+DL);for(h=0;h<l.length;h++)this._applyLabelsWidth(l.eq(h),t,void 0,void 0,i)}},_applyLabelsWidthWithNestedGroups:function(e,n,t,i){var o,s,l,h,r={excludeTabbed:t};for(o=0;o<n;o++)for(h=this._getGroupElementsInColumn(e,o),this._applyLabelsWidthByCol(h,0,r,i),s=0;s<this._groupsColCount.length;s++){h=this._getGroupElementsInColumn(e,o,this._groupsColCount[s]);var g=this._getGroupColCount(h);for(l=1;l<g;l++)this._applyLabelsWidthByCol(h,l,r,i)}},_labelLocation:function(){return this.option("labelLocation")},_alignLabelsInColumn:function(e){var{layoutManager:n,inOneColumn:t,$container:i,excludeTabbed:r,items:o}=e;if(rt()&&"top"!==this._labelLocation()){var s=t4(n._getMarkOptions());t?this._applyLabelsWidth(i,r,!0,void 0,s):this._checkGrouping(o)?this._applyLabelsWidthWithGroups(i,n._getColCount(),r,s):this._applyLabelsWidth(i,r,!1,n._getColCount(),s)}},_prepareFormData:function(){T(this.option("formData"))||this.option("formData",{})},_setStylingModeClass:function(){"underlined"===this.option("stylingMode")&&this.$element().addClass("dx-form-styling-mode-underlined")},_initMarkup:function(){ln.addGroup(this._getValidationGroup()),this._clearCachedInstances(),this._prepareFormData(),this.$element().addClass("dx-form"),this._setStylingModeClass(),this.callBase(),this.setAria("role","form",this.$element()),this.option("scrollingEnabled")&&this._renderScrollable(),this._renderLayout(),this._renderValidationSummary(),this._lastMarkupScreenFactor=this._targetScreenFactor||this._getCurrentScreenFactor(),this._attachResizeObserverSubscription()},_attachResizeObserverSubscription:function(){if(rt()){var e=this.$element().get(0);dp.unobserve(e),dp.observe(e,()=>{this._resizeHandler()})}},_resizeHandler:function(){this._cachedLayoutManagers.length&&B(this._cachedLayoutManagers,(e,n)=>{var t;null===(t=n.option("onLayoutChanged"))||void 0===t||t(n.isSingleColumnMode())})},_getCurrentScreenFactor:function(){return rt()?qv(this.option("screenByWidth")):"lg"},_clearCachedInstances:function(){this._itemsRunTimeInfo.clear(),this._cachedLayoutManagers=[]},_alignLabels:function(e,n){this._alignLabelsInColumn({$container:this.$element(),layoutManager:e,excludeTabbed:!0,items:this.option("items"),inOneColumn:n}),Qo(this.$element().find(".".concat(J$)))},_clean:function(){this._clearValidationSummary(),this.callBase(),this._groupsColCount=[],this._cachedColCountOptions=[],this._lastMarkupScreenFactor=void 0,dp.unobserve(this.$element().get(0))},_renderScrollable:function(){var e=this.option("useNativeScrolling");this._scrollable=new Fa(this.$element(),{useNative:!!e,useSimulatedScrollbar:!e,useKeyboard:!1,direction:"both",bounceEnabled:!1})},_getContent:function(){return this.option("scrollingEnabled")?x(this._scrollable.content()):this.$element()},_clearValidationSummary:function(){var e;null===(e=this._$validationSummary)||void 0===e||e.remove(),this._$validationSummary=void 0,this._validationSummary=void 0},_renderValidationSummary:function(){this._clearValidationSummary(),this.option("showValidationSummary")&&(this._$validationSummary=x("<div>").addClass("dx-form-validation-summary").appendTo(this._getContent()),this._validationSummary=this._$validationSummary.dxValidationSummary({validationGroup:this._getValidationGroup()}).dxValidationSummary("instance"))},_prepareItems(e,n,t,i){if(e){for(var r=[],o=0;o<e.length;o++){var s=e[o],l=k3(t,bL(o,i)),h={item:s,itemIndex:o,path:l},g=this._itemsRunTimeInfo.add(h);if(je(s)&&(s={dataField:s}),qe(s)){var _=de({},s);h.preparedItem=_,_.guid=g,this._tryPrepareGroupItem(_),this._tryPrepareTabbedItem(_,l),this._tryPrepareItemTemplate(_),n&&(_.cssItemClass=J3),_.items&&(_.items=this._prepareItems(_.items,n,l)),r.push(_)}else r.push(s)}return r}},_tryPrepareGroupItem:function(e){"group"===e.itemType&&(e.alignItemLabels=Cn(e.alignItemLabels,!0),e._prepareGroupItemTemplate=n=>{e.template&&(e.groupContentTemplate=this._getTemplate(n)),e.template=this._itemGroupTemplate.bind(this,e)},e._prepareGroupItemTemplate(e.template))},_tryPrepareTabbedItem:function(e,n){"tabbed"===e.itemType&&(e.template=this._itemTabbedTemplate.bind(this,e),e.tabs=this._prepareItems(e.tabs,!0,n,!0))},_tryPrepareItemTemplate:function(e){e.template&&(e.template=this._getTemplate(e.template))},_checkGrouping:function(e){if(e)for(var n=0;n<e.length;n++)if("group"===e[n].itemType)return!0},_renderLayout:function(){var e=this,n=e.option("items"),t=e._getContent();n=e._prepareItems(n),e._rootLayoutManager=e._renderLayoutManager(t,this._createLayoutManagerOptions(n,{isRoot:!0,colCount:e.option("colCount"),alignItemLabels:e.option("alignItemLabels"),screenByWidth:this.option("screenByWidth"),colCountByScreen:this.option("colCountByScreen"),onLayoutChanged:function(i){e._alignLabels.bind(e)(e._rootLayoutManager,i)},onContentReady:function(i){e._alignLabels(i.component,i.component.isSingleColumnMode())}}))},_tryGetItemsForTemplate:function(e){return e.items||[]},_itemTabbedTemplate:function(e,n,t){var i,r=x("<div>").appendTo(t),o=A({},e.tabPanelOptions,{dataSource:e.tabs,onItemRendered:h=>{var g,_;null===(g=e.tabPanelOptions)||void 0===g||null===(_=g.onItemRendered)||void 0===_||_.call(g,h),Fu(h.itemElement)},itemTemplate:(h,g,_)=>{var v=x(_),C=Cn(h.alignItemLabels,!0),b=this._renderLayoutManager(v,this._createLayoutManagerOptions(this._tryGetItemsForTemplate(h),{colCount:h.colCount,alignItemLabels:C,screenByWidth:this.option("screenByWidth"),colCountByScreen:h.colCountByScreen,cssItemClass:h.cssItemClass,onLayoutChanged:E=>{this._alignLabelsInColumn({$container:v,layoutManager:b,items:h.items,inOneColumn:E})}}));this._itemsRunTimeInfo&&this._itemsRunTimeInfo.extendRunTimeItemInfoByKey(h.guid,{layoutManager:b}),C&&this._alignLabelsInColumn({$container:v,layoutManager:b,items:h.items,inOneColumn:b.isSingleColumnMode()})}}),s=(h,g)=>{Array.isArray(h)&&h.forEach(_=>this._itemsRunTimeInfo.extendRunTimeItemInfoByKey(_.guid,{widgetInstance:g}))},l=this._createComponent(r,ape,o);x(t).parent().addClass("dx-field-item-has-tabs"),l.on("optionChanged",h=>{"dataSource"===h.fullName&&s(h.value,h.component)}),s([{guid:e.guid},...null!==(i=e.tabs)&&void 0!==i?i:[]],l)},_itemGroupTemplate:function(e,n,t){var i=n.editorOptions.inputAttr.id,r=x("<div>").toggleClass("dx-form-group-with-caption",T(e.caption)&&e.caption.length).addClass(DL).appendTo(t);this.setAria({role:"group",labelledby:i},r),x(t).parent().addClass("dx-field-item-has-group"),e.caption&&x("<span>").addClass("dx-form-group-caption").text(e.caption).attr("id",i).appendTo(r);var s=x("<div>").addClass("dx-form-group-content").appendTo(r);if(e.groupContentTemplate)e._renderGroupContentTemplate=()=>{s.empty();var g={formData:this.option("formData"),component:this};e.groupContentTemplate.render({model:g,container:Ke(s)})},e._renderGroupContentTemplate();else{var l=this._renderLayoutManager(s,this._createLayoutManagerOptions(this._tryGetItemsForTemplate(e),{colCount:e.colCount,colCountByScreen:e.colCountByScreen,alignItemLabels:e.alignItemLabels,cssItemClass:e.cssItemClass}));this._itemsRunTimeInfo&&this._itemsRunTimeInfo.extendRunTimeItemInfoByKey(e.guid,{layoutManager:l});var h=l._getColCount();this._groupsColCount.includes(h)||this._groupsColCount.push(h),r.addClass(X3+h),r.attr(Z3,h)}},_createLayoutManagerOptions:function(e,n){return function upe(e){var{form:n,$formElement:t,formOptions:i,items:r,validationGroup:o,extendedLayoutManagerOptions:s,onFieldDataChanged:l,onContentReady:h,onDisposing:g,onFieldItemRendered:_}=e;return A({form:n,items:r,$formElement:t,validationGroup:o,onFieldDataChanged:l,onContentReady:h,onDisposing:g,onFieldItemRendered:_,validationBoundary:i.scrollingEnabled?t:void 0,scrollingEnabled:i.scrollingEnabled,showRequiredMark:i.showRequiredMark,showOptionalMark:i.showOptionalMark,requiredMark:i.requiredMark,optionalMark:i.optionalMark,requiredMessage:i.requiredMessage,screenByWidth:i.screenByWidth,layoutData:i.formData,labelLocation:i.labelLocation,customizeItem:i.customizeItem,minColWidth:i.minColWidth,showColonAfterLabel:i.showColonAfterLabel,onEditorEnterKey:i.onEditorEnterKey,labelMode:i.labelMode},{isRoot:s.isRoot,colCount:s.colCount,alignItemLabels:s.alignItemLabels,cssItemClass:s.cssItemClass,colCountByScreen:s.colCountByScreen,onLayoutChanged:s.onLayoutChanged,width:s.width})}({form:this,formOptions:this.option(),$formElement:this.$element(),items:e,validationGroup:this._getValidationGroup(),extendedLayoutManagerOptions:n,onFieldDataChanged:t=>{this._isDataUpdating||this._triggerOnFieldDataChanged(t)},onContentReady:t=>{this._itemsRunTimeInfo.addItemsOrExtendFrom(t.component._itemsRunTimeInfo),n.onContentReady&&n.onContentReady(t)},onDisposing:t=>{var{component:i}=t,r=i.getItemsRunTimeInfo();this._itemsRunTimeInfo.removeItemsByItems(r)},onFieldItemRendered:()=>{var t;null===(t=this._validationSummary)||void 0===t||t.refreshValidationGroup()}})},_renderLayoutManager:function(e,n){this._cachedColCountOptions.push({colCountByScreen:A({lg:n.colCount,md:n.colCount,sm:n.colCount,xs:1},n.colCountByScreen)});var i=x("<div>");i.appendTo(e);var r=this._createComponent(i,"dxLayoutManager",n);return r.on("autoColCountChanged",()=>{this._clearAutoColCountChangedTimeout(),this.autoColCountChangedTimeoutId=setTimeout(()=>!this._disposed&&this._refresh(),0)}),this._cachedLayoutManagers.push(r),r},_getValidationGroup:function(){return this.option("validationGroup")||this},_createComponent:function(e,n,t){return this._extendConfig(t=t||{},{readOnly:this.option("readOnly")}),this.callBase(e,n,t)},_attachSyncSubscriptions:function(){var e=this;e.on("optionChanged",function(n){var t=n.fullName;"formData"===t&&(T(n.value)||e._options.silent("formData",n.value={}),e._triggerOnFieldDataChangedByDataSet(n.value)),e._cachedLayoutManagers.length&&B(e._cachedLayoutManagers,function(i,r){"formData"===t&&(e._isDataUpdating=!0,r.option("layoutData",n.value),e._isDataUpdating=!1),("readOnly"===n.name||"disabled"===n.name)&&r.option(t,n.value)})})},_optionChanged:function(e){var n=e.fullName.split(".");n.length>1&&-1!==n[0].search("items")&&this._itemsOptionChangedHandler(e)||n.length>1&&-1!==n[0].search("formData")&&this._formDataOptionChangedHandler(e)||this._defaultOptionChangedHandler(e)},_defaultOptionChangedHandler:function(e){switch(e.name){case"formData":this.option("items")?Pr(e.value)&&this._resetValues():this._invalidate();break;case"onFieldDataChanged":case"alignRootItemLabels":case"readOnly":break;case"items":case"colCount":case"onEditorEnterKey":case"labelLocation":case"labelMode":case"alignItemLabels":case"showColonAfterLabel":case"customizeItem":case"alignItemLabelsInAllGroups":case"showRequiredMark":case"showOptionalMark":case"requiredMark":case"optionalMark":case"requiredMessage":case"scrollingEnabled":case"formID":case"colCountByScreen":case"screenByWidth":case"stylingMode":this._invalidate();break;case"showValidationSummary":this._renderValidationSummary();break;case"minColWidth":"auto"===this.option("colCount")&&this._invalidate();break;case"width":this.callBase(e),this._rootLayoutManager.option(e.name,e.value),this._alignLabels(this._rootLayoutManager,this._rootLayoutManager.isSingleColumnMode());break;case"validationGroup":ln.removeGroup(e.previousValue||this),this._invalidate();break;default:this.callBase(e)}},_itemsOptionChangedHandler:function(e){var n=e.fullName.split("."),t=e.value,i=this._getItemPath(n),r=this.option(i),o=e.fullName.replace(i+".",""),s=o.split(".")[0].replace(/\[\d+]/,""),l=this._tryCreateItemOptionAction(s,r,r[s],e.previousValue,i),h=this._tryExecuteItemOptionAction(l)||this._tryChangeLayoutManagerItemOption(e.fullName,t);if(!h&&r){this._changeItemOption(r,o,t);var g=this._generateItemsFromData(this.option("items"));this.option("items",g),h=!0}return h},_formDataOptionChangedHandler:function(e){var n=e.fullName.split("."),t=e.value,i=n.slice(1).join("."),r=this.getEditor(i);return r?r.option("value",t):this._triggerOnFieldDataChanged({dataField:i,value:t}),!0},_tryCreateItemOptionAction:function(e,n,t,i,r){return"tabs"===e&&(this._itemsRunTimeInfo.removeItemsByPathStartWith("".concat(r,".tabs")),t=this._prepareItems(t,!0,r,!0)),((e,n)=>{switch(e){case"editorOptions":case"buttonOptions":return new cpe(n);case"validationRules":return new fpe(n);case"cssClass":return new _pe(n);case"badge":case"disabled":case"icon":case"tabTemplate":case"title":return new N3(A(n,{optionName:e}));case"tabs":return new gpe(n);case"template":var t,i,r,o=null!==(t=null==n||null===(i=n.item)||void 0===i?void 0:i.itemType)&&void 0!==t?t:null===(r=n.itemsRunTimeInfo.findPreparedItemByItem(n?.item))||void 0===r?void 0:r.itemType;return"simple"===o?new hpe(n):"group"===o?new ppe(n):new N3(A(n,{optionName:e}));default:return null}})(e,{item:n,value:t,previousValue:i,itemsRunTimeInfo:this._itemsRunTimeInfo})},_tryExecuteItemOptionAction:function(e){return e&&e.tryExecute()},_updateValidationGroupAndSummaryIfNeeded:function(e){var t,n=B3(e);Ege.indexOf(n)>-1&&(ln.addGroup(this._getValidationGroup()),this.option("showValidationSummary"))&&(null===(t=this._validationSummary)||void 0===t||t.refreshValidationGroup())},_setLayoutManagerItemOption(e,n,t,i){if(this._updateLockCount>0){!e._updateLockCount&&e.beginUpdate();var r=this._itemsRunTimeInfo.findKeyByPath(i);this.postponedOperations.add(r,()=>(!e._disposed&&e.endUpdate(),(new W).resolve()))}var o=s=>{if(s.component.off("contentReady",o),L3(i)){var l=(e=>{for(var n=e.split("."),t=[...n],i=n.length-1;i>=0;i--){if(L3(n[i]))return t.join(".");t.splice(i,1)}return""})(i),h=this._itemsRunTimeInfo.findGroupOrTabLayoutManagerByPath(l);h&&this._alignLabelsInColumn({items:h.option("items"),layoutManager:h,$container:h.$element(),inOneColumn:h.isSingleColumnMode()})}else this._alignLabels(this._rootLayoutManager,this._rootLayoutManager.isSingleColumnMode())};e.on("contentReady",o),e.option(n,t),this._updateValidationGroupAndSummaryIfNeeded(n)},_tryChangeLayoutManagerItemOption(e,n){var t=e.split("."),i=B3(e);if("items"===i&&t.length>1){var r=this._getItemPath(t),o=this._itemsRunTimeInfo.findGroupOrTabLayoutManagerByPath(r);if(o){this._itemsRunTimeInfo.removeItemsByItems(o.getItemsRunTimeInfo());var s=this._prepareItems(n,!1,r);return this._setLayoutManagerItemOption(o,i,s,r),!0}}else if(t.length>2){var l=t.length-2,h=this._getItemPath(t.slice(0,l)),g=this._itemsRunTimeInfo.findGroupOrTabLayoutManagerByPath(h);if(g){var _=zx(t[l],i);if("editorType"===i&&g.option(_)!==n)return!1;if("visible"===i){var v=this.option(zx(h,"items"));if(v&&v.length){var C=g.option("items");v.forEach((b,E)=>{C[E].visibleIndex=b.visibleIndex})}}return this._setLayoutManagerItemOption(g,_,n,h),!0}}return!1},_tryChangeLayoutManagerItemOptions(e,n){var t;return this.beginUpdate(),B(n,(i,r)=>{if(!(t=this._tryChangeLayoutManagerItemOption(zx(e,i),r)))return!1}),this.endUpdate(),t},_getItemPath:function(e){var t,n=e[0];for(t=1;t<e.length&&-1!==e[t].search(/items\[\d+]|tabs\[\d+]/);t++)n+="."+e[t];return n},_triggerOnFieldDataChanged:function(e){this._createActionByOption("onFieldDataChanged")(e)},_triggerOnFieldDataChangedByDataSet:function(e){var n=this;e&&qe(e)&&B(e,function(t,i){n._triggerOnFieldDataChanged({dataField:t,value:i})})},_updateFieldValue:function(e,n){if(T(this.option("formData"))){var t=this.getEditor(e);this.option("formData."+e,n),t&&t.option("value")!==n&&t.option("value",n)}},_generateItemsFromData:function(e){var n=this.option("formData"),t=[];return!e&&T(n)&&B(n,function(i){t.push({dataField:i})}),e&&B(e,function(i,r){qe(r)?t.push(r):t.push({dataField:r})}),t},_getItemByField:function(e,n){var s,t=this,i=qe(e)?e:t._getFieldParts(e),r=i.fieldName,o=i.fieldPath;return n.length&&B(n,function(l,h){var g=h.itemType;if(o.length){var _=o.slice();h=t._getItemByFieldPath(_,r,h)}else if("group"===g&&!h.caption&&!h.name||"tabbed"===g&&!h.name){var v=t._getSubItemField(g);h.items=t._generateItemsFromData(h.items),h=t._getItemByField({fieldName:r,fieldPath:o},h[v])}if(((e,n)=>!!e&&(e.dataField===n||e.name===n||OL(e.title)===n||"group"===e.itemType&&OL(e.caption)===n))(h,r))return s=h,!1}),s},_getFieldParts:function(e){for(var n=e,t=n.indexOf("."),i=[];-1!==t;)i.push(n.substr(0,t)),t=(n=n.substr(t+1)).indexOf(".");return{fieldName:n,fieldPath:i.reverse()}},_getItemByFieldPath:function(e,n,t){var s,i=t.itemType,r=this._getSubItemField(i),o="group"===i||"tabbed"===i||t.title;do{if(!o)break;var l=t.name||t.caption||t.title,h=T(l),g=OL(l),_=void 0;if(t[r]=this._generateItemsFromData(t[r]),h&&(_=e.pop()),!e.length&&(s=this._getItemByField(n,t[r])))break;(!h||h&&g===_)&&e.length&&(s=this._searchItemInEverySubItem(e,n,t[r]))}while(e.length&&!T(s));return s},_getSubItemField:function(e){return"tabbed"===e?"tabs":"items"},_searchItemInEverySubItem:function(e,n,t){var r,i=this;return B(t,function(o,s){if(r=i._getItemByFieldPath(e.slice(),n,s))return!1}),r||(r=!1),r},_changeItemOption:function(e,n,t){qe(e)&&(e[n]=t)},_dimensionChanged:function(){var e=this._getCurrentScreenFactor();this._lastMarkupScreenFactor!==e&&(this._isColCountChanged(this._lastMarkupScreenFactor,e)&&(this._targetScreenFactor=e,this._refresh(),this._targetScreenFactor=void 0),this._lastMarkupScreenFactor=e)},_isColCountChanged:function(e,n){var t=!1;return B(this._cachedColCountOptions,function(i,r){if(r.colCountByScreen[e]!==r.colCountByScreen[n])return t=!0,!1}),t},_refresh:function(){var e="."+u4+" input, ."+u4+" textarea";R.trigger(this.$element().find(e),"change"),this.callBase()},_resetValues:function(){this._itemsRunTimeInfo.each(function(e,n){T(n.widgetInstance)&&Ul.isEditor(n.widgetInstance)&&(n.widgetInstance.reset(),n.widgetInstance.option("isValid",!0))}),ln.resetGroup(this._getValidationGroup())},_updateData:function(e,n,t){var i=this,r=t?n:e;qe(r)?B(r,function(o,s){i._updateData(t?e+"."+o:o,s,qe(s))}):je(e)&&i._updateFieldValue(e,n)},registerKeyHandler:function(e,n){this.callBase(e,n),this._itemsRunTimeInfo.each(function(t,i){T(i.widgetInstance)&&i.widgetInstance.registerKeyHandler(e,n)})},_focusTarget:function(){return this.$element().find("."+SL+" [tabindex]").first()},_visibilityChanged:function(){this._alignLabels(this._rootLayoutManager,this._rootLayoutManager.isSingleColumnMode())},_clearAutoColCountChangedTimeout:function(){this.autoColCountChangedTimeoutId&&(clearTimeout(this.autoColCountChangedTimeoutId),this.autoColCountChangedTimeoutId=void 0)},_dispose:function(){this._clearAutoColCountChangedTimeout(),ln.removeGroup(this._getValidationGroup()),this.callBase()},resetValues:function(){this._resetValues()},updateData:function(e,n){this._updateData(e,n)},getEditor:function(e){return this._itemsRunTimeInfo.findWidgetInstanceByDataField(e)||this._itemsRunTimeInfo.findWidgetInstanceByName(e)},getButton:function(e){return this._itemsRunTimeInfo.findWidgetInstanceByName(e)},updateDimensions:function(){var e=this,n=new W;return e._scrollable?e._scrollable.update().done(function(){n.resolveWith(e)}):n.resolveWith(e),n.promise()},itemOption:function(e,n,t){var i=this._generateItemsFromData(this.option("items")),r=this._getItemByField(e,i),o=V3(i,r);if(r)switch(arguments.length){case 1:return r;case 3:var s=this._tryCreateItemOptionAction(n,r,t,r[n],o);this._changeItemOption(r,n,t);var l=zx(o,n);!this._tryExecuteItemOptionAction(s)&&!this._tryChangeLayoutManagerItemOption(l,t)&&this.option("items",i);break;default:var h;qe(n)&&!this._tryChangeLayoutManagerItemOptions(o,n)&&(B(n,(g,_)=>{var v=this._tryCreateItemOptionAction(g,r,_,r[g],o);this._changeItemOption(r,g,_),!h&&!this._tryExecuteItemOptionAction(v)&&(h=!0)}),h&&this.option("items",i))}},validate:function(){return ln.validateGroup(this._getValidationGroup())},getItemID:function(e){return"dx_"+this.option("formID")+"_"+(e||new En)},getTargetScreenFactor:function(){return this._targetScreenFactor}});Dt("dxForm",c4);const h4=c4;var Ige={extenders:{controllers:{editing:e=>class extends e{init(){this._editForm=null,this._updateEditFormDeferred=null,super.init()}isFormOrPopupEditMode(){return this.isPopupEditMode()||this.isFormEditMode()}isPopupEditMode(){return this.option("editing.mode")===mL}isFormEditMode(){return this.option("editing.mode")===U_}getFirstEditableColumnIndex(){var n=this._firstFormItem;if(this.isFormEditMode()&&n){var t=this.option(Io),i=this._dataController.getRowIndexByKey(t),r=this._rowsView.getCellElements(i);return this._rowsView._getEditFormEditorVisibleIndex(r,n.column)}return super.getFirstEditableColumnIndex()}getEditFormRowIndex(){return this.isFormOrPopupEditMode()?this._getVisibleEditRowIndex():super.getEditFormRowIndex()}_isEditColumnVisible(){var n=super._isEditColumnVisible(),t=this.option("editing");return this.isFormOrPopupEditMode()&&t.allowUpdating||n}_handleDataChanged(n){var t,i;if(this.isPopupEditMode()){var r=this.option("editing.editRowKey"),o=null===(t=n?.items)||void 0===t?void 0:t.some(l=>Jt(l.key,r)),s=(null===(i=n.changeTypes)||void 0===i?void 0:i.length)&&n.changeTypes.every(l=>"insert"===l);("refresh"===n.changeType||o&&n.isOptionChanged)&&!s&&this._repaintEditPopup()}super._handleDataChanged(n)}getPopupContent(){var n,t=null===(n=this._editPopup)||void 0===n?void 0:n.option("visible");if(this.isPopupEditMode()&&t)return this._$popupContent}_showAddedRow(n){this.isPopupEditMode()?this._showEditPopup(n):super._showAddedRow(n)}_cancelEditDataCore(){super._cancelEditDataCore(),this.isPopupEditMode()&&this._hideEditPopup()}_updateEditRowCore(n,t,i){var r,o=this._editForm;this.isPopupEditMode()?this.option("repaintChangesOnly")?(null===(r=n.update)||void 0===r||r.call(n,n),this._rowsView.renderDelayedTemplates()):o&&(this._updateEditFormDeferred=(new W).done(()=>o.repaint()),this._updateLockCount||this._updateEditFormDeferred.resolve()):super._updateEditRowCore(n,t,i)}_showEditPopup(n,t){var i="desktop"!==$e.current().deviceType,r=this.addWidgetPrefix("edit-popup"),o=A({showTitle:!1,fullScreen:i,wrapperAttr:{class:r},toolbarItems:[{toolbar:"bottom",location:"after",widget:"dxButton",options:this._getSaveButtonConfig()},{toolbar:"bottom",location:"after",widget:"dxButton",options:this._getCancelButtonConfig()}],contentTemplate:this._getPopupEditFormTemplate(n)},this.option(V0));if(!this._editPopup){var s=x("<div>").appendTo(this.component.$element()).addClass(r);this._editPopup=this._createComponent(s,Ma),this._editPopup.on("hiding",this._getEditPopupHiddenHandler()),this._editPopup.on("shown",l=>{var h;R.trigger(l.component.$content().find(r3).not(".".concat(Che)).first(),"focus"),t&&(null===(h=this._editForm)||void 0===h||h.repaint())})}this._editPopup.option(o),this._editPopup.show(),super._showEditPopup(n,t)}_getPopupEditFormTemplate(n){var t=this.component.getVisibleRows()[n],i={row:t,values:t.values,rowType:t.rowType,key:t.key,rowIndex:n};return this._rowsView._addWatchMethod(i,t),r=>{var o=this.getEditFormTemplate(),s=this._createComponent(x("<div>").appendTo(r),Fa);this._$popupContent=x(s.content()),o(this._$popupContent,i,{isPopupForm:!0}),this._rowsView.renderDelayedTemplates()}}_repaintEditPopup(){var n,t,i=this._getVisibleEditRowIndex();if(i>=0){var r=null===(n=this._editPopup)||void 0===n?void 0:n.option("animation");null===(t=this._editPopup)||void 0===t||t.option("animation",null),this._showEditPopup(i,!0),void 0!==r&&this._editPopup.option("animation",r)}}_hideEditPopup(){var n;null===(n=this._editPopup)||void 0===n||n.option("visible",!1)}optionChanged(n){if("editing"===n.name&&this.isFormOrPopupEditMode()){var{fullName:t}=n;0===t.indexOf(_L)?(this._handleFormOptionChange(n),n.handled=!0):0===t.indexOf(V0)&&(this._handlePopupOptionChange(n),n.handled=!0)}super.optionChanged(n)}_handleFormOptionChange(n){var t;if(this.isFormEditMode()){var i=this._getVisibleEditRowIndex();i>=0&&this._dataController.updateItems({changeType:"update",rowIndices:[i]})}else null!==(t=this._editPopup)&&void 0!==t&&t.option("visible")&&0===n.fullName.indexOf(_L)&&this._repaintEditPopup()}_handlePopupOptionChange(n){var t=this._editPopup;if(t){var i=n.fullName.slice(14);i?t.option(i,n.value):t.option(n.value)}}renderFormEditorTemplate(n,t,i,r,o){var s=this,l=x(r),{column:h}=t,g=(e=>{var n,{column:t}=e;return e.isCustomEditorType?e.editorType:null===(n=t.formItem)||void 0===n?void 0:n.editorType})(t),_=n?.row.data,v=i.component,{label:C,labelMark:b,labelMode:E}=i.editorOptions||{},w=A({},n,{data:_,cellElement:null,isOnForm:!0,item:t,id:v.getItemID(t.name||t.dataField),column:A({},h,{editorType:g,editorOptions:A({label:C,labelMark:b,labelMode:E},h.editorOptions,t.editorOptions)}),columnIndex:h.index,setValue:!o&&h.allowEditing&&function(k,L){s.updateFieldValue(w,k,L)}});w.value=h.calculateCellValue(_);var M=this._getFormEditItemTemplate.bind(this)(w,h);return this._rowsView.renderTemplate(l,M,w,!!xy(l)).done(()=>{this._rowsView._updateCell(l,w)}),w}getFormEditorTemplate(n,t){var i=this.component.columnOption(t.dataField);return(r,o)=>{var s,l,h=x(o);null===(l=(s=n.row).watch)||void 0===l||l.call(s,()=>i.selector(n.row.data),()=>{var g=h.find(".dx-widget").first(),_=g.data("dxValidator"),v=_?.option();h.contents().remove(),n=this.renderFormEditorTemplate.bind(this)(n,t,r,h),_=(g=h.find(".dx-widget").first()).data("dxValidator"),v&&!_&&g.dxValidator({validationRules:v.validationRules,validationGroup:v.validationGroup,dataGetter:v.dataGetter})}),n=this.renderFormEditorTemplate.bind(this)(n,t,r,h)}}getEditFormOptions(n){var t,i=null===(t=this._getValidationGroupsInForm)||void 0===t?void 0:t.call(this,n),r=this.option("editing.form.customizeItem"),o=this.addWidgetPrefix(h3),s=this.option("editing.form.items"),l={};if(s)m3(s,g=>{var _=g?.name||g?.dataField;_&&(l[_]=!!g.editorType)});else{var h=this.getController("columns").getColumns();s=[],B(h,(g,_)=>{!_.isBand&&!_.type&&s.push({column:_,name:_.name,dataField:_.dataField})})}return A({},i,{items:s,formID:"dx-".concat(new En),customizeItem:g=>{var _,v=g.name||g.dataField;if((g.column||v)&&(_=g.column||this._columnsController.columnOption(g.name?"name:".concat(g.name):"dataField:".concat(g.dataField))),_){if(g.label=g.label||{},g.label.text=g.label.text||_.caption,"boolean"===_.dataType&&void 0===g.label.visible){var C=this.option("editing.form.labelMode");("floating"===C||"static"===C)&&(g.label.visible=!0)}g.template=g.template||this.getFormEditorTemplate(n,g),g.column=_,g.isCustomEditorType=l[v],_.formItem&&A(g,_.formItem),void 0===g.isRequired&&_.validationRules&&(g.isRequired=_.validationRules.some(E=>"required"===E.type),g.validationRules=[]);var b=!T(g.visible)||g.visible;!this._firstFormItem&&b&&(this._firstFormItem=g)}r?.call(this,g),g.cssClass=je(g.cssClass)?"".concat(g.cssClass," ").concat(o):o}})}getEditFormTemplate(){return(n,t,i)=>{var r=this.option(_L),o=this.getEditFormOptions(t),s=x("<div>").appendTo(n),l=i?.isPopupForm;if(this._firstFormItem=void 0,l&&s.addClass(this.addWidgetPrefix("edit-popup-form")),this._editForm=this._createComponent(s,h4,A({},r,o)),!l){var h=x("<div>").addClass(this.addWidgetPrefix("form-buttons-container")).appendTo(n);this._createComponent(x("<div>").appendTo(h),Ui,this._getSaveButtonConfig()),this._createComponent(x("<div>").appendTo(h),Ui,this._getCancelButtonConfig())}this._editForm.on("contentReady",()=>{var g;this._rowsView.renderDelayedTemplates(),null===(g=this._editPopup)||void 0===g||g.repaint()})}}getEditForm(){return this._editForm}_endUpdateCore(){var n;null===(n=this._updateEditFormDeferred)||void 0===n||n.resolve()}_beforeEndSaving(n){var t;super._beforeEndSaving(n),this.isPopupEditMode()&&(null===(t=this._editPopup)||void 0===t||t.hide())}_processDataItemCore(n,t,i,r,o){var{type:s}=t;this.isPopupEditMode()&&s===Na&&(n.visible=!1),super._processDataItemCore(n,t,i,r,o)}_editRowFromOptionChangedCore(n,t){var i=this.isPopupEditMode();super._editRowFromOptionChangedCore(n,t,i),i&&this._showEditPopup(t)}},data:{_updateEditItem(e){this._editingController.isFormEditMode()&&(e.rowType="detail")},_getChangedColumnIndices(e,n,t,i){if(!1!==i||!n.isEditing||!this._editingController.isFormEditMode())return this.callBase.apply(this,arguments)}}},views:{rowsView:{_renderCellContent(e,n){"data"===n.rowType&&this._editingController.isPopupEditMode()&&!1===n.row.visible||this.callBase.apply(this,arguments)},getCellElements(e){var n=this.callBase(e),t=this._editingController,i=t.getEditForm();return t.getEditFormRowIndex()===e&&n&&i?i.$element().find(".".concat(this.addWidgetPrefix(h3),", .").concat("dx-button")):n},_getVisibleColumnIndex(e,n,t){if(this._editingController.getEditFormRowIndex()===n&&je(t)){var r=this._columnsController.columnOption(t);return this._getEditFormEditorVisibleIndex(e,r)}return this.callBase.apply(this,arguments)},_getEditFormEditorVisibleIndex(e,n){var t=-1;return B(e,(i,r)=>{var o=x(r).find(".dx-field-item-content").data("dx-form-item");if(o?.column&&n&&o.column.index===n.index)return t=i,!1}),t},_isFormItem(e){var n="detail"===e.rowType||"detailAdaptive"===e.rowType,t="data"===e.rowType&&this._editingController.isPopupEditMode();return(n||t)&&e.item},_updateCell(e,n){this._isFormItem(n)?this._formItemPrepared(n,e):this.callBase(e,n)}}}}};Ge.registerModule("editingFormBased",Ige);var Mge={extenders:{controllers:{editing:e=>class extends e{init(){var t,i,n=!this._saveEditorHandler;super.init(),n&&(this._pointerUpEditorHandler=()=>{var r;i=null===(r=this.getController("columnsResizer"))||void 0===r?void 0:r.isResizing()},this._pointerDownEditorHandler=r=>t=x(r.target),this._saveEditorHandler=this.createAction(function(r){var{event:o}=r,s=x(o.target),l=o[t3],{component:h}=this;if((!function Ohe(e){return e&&(e.is("input")||e.is("textarea"))}(t)||t.is(s))&&this.isCellOrBatchEditMode()&&!this._editCellInProgress){var _=g(s)||g(l?.$element()),v=l&&!l._disposed&&l!==this.component,C=!!s.closest(".".concat(this.addWidgetPrefix("addrow-button"))).length,b=s.hasClass(this.addWidgetPrefix("focus-overlay")),E=this.isCellEditMode();!i&&!_&&!b&&!(C&&E&&this.isEditing())&&(xy(s)||v)&&this._closeEditItem.bind(this)(s)}function g(w){if(!w)return!1;var M=w.closest(".".concat("dx-dropdowneditor-overlay")),k=h.$element();return M.length>0&&0===k.closest(M).length}}),R.on(se.getDocument(),Rt.up,this._pointerUpEditorHandler),R.on(se.getDocument(),Rt.down,this._pointerDownEditorHandler),R.on(se.getDocument(),Kt,this._saveEditorHandler))}isCellEditMode(){return this.option("editing.mode")===N0}isBatchEditMode(){return this.option("editing.mode")===Vx}isCellOrBatchEditMode(){return this.isCellEditMode()||this.isBatchEditMode()}_needToCloseEditableCell(n){var t,i=this.component.$element(),r=this.isEditing();if((!i||n.closest(i).length)&&n.closest(".".concat("dx-data-row")).length){var l=this.getView("rowsView"),h=n.closest(".".concat(ac,"> td")),g=l.getRowIndex(h.parent()),_=l.getCellElements(g);if(_?.length){var v=_.index(h),b=null===(t=this._columnsController.getVisibleColumns()[v])||void 0===t?void 0:t.allowEditing,E=this.isEditCell(g,v);r=r&&!b&&!E}}return r||super._needToCloseEditableCell(n)}_closeEditItem(n){this._needToCloseEditableCell(n)&&this.closeEditCell()}_focusEditorIfNeed(){var n;if(this._needFocusEditor&&this.isCellOrBatchEditMode()){var t=this._getVisibleEditColumnIndex(),i=null===(n=this._rowsView)||void 0===n?void 0:n._getCellElement(this._getVisibleEditRowIndex(),t);i&&!i.find(":focus").length?this._focusEditingCell(()=>{this._editCellInProgress=!1},i,!0):this._editCellInProgress=!1,this._needFocusEditor=!1}else super._focusEditorIfNeed()}isEditing(){if(this.isCellOrBatchEditMode()){var n=T(this.option(Io)),t=T(this.option(Tp));return n&&t}return super.isEditing()}_handleEditColumnNameChange(n){var t=this._getVisibleEditRowIndex(n.previousValue);if(this.isCellOrBatchEditMode()&&-1!==t&&T(n.value)&&n.value!==n.previousValue){var i=this._columnsController.getVisibleColumnIndex(n.value),r=this._columnsController.getVisibleColumnIndex(n.previousValue);this._editCellFromOptionChanged(i,r,t)}}_addRow(n){if(this.isCellEditMode()&&this.hasChanges()){var t=new W;return this.saveEditData().done(()=>{this.hasChanges()?t.reject("cancel"):this.addRow(n).done(t.resolve).fail(t.reject)}),t.promise()}return super._addRow(n)}editCell(n,t){return this._editCell({rowIndex:n,columnIndex:t})}_editCell(n){var i,t=new W;return this.executeOperation(t,()=>{ke(i=this._editCellCore(n)).done(t.resolve).fail(t.reject)}),void 0!==i?i:t.promise()}_editCellCore(n){var t=this._dataController,i=T(n.oldColumnIndex)||T(n.oldRowIndex),{columnIndex:r,rowIndex:o,column:s,item:l}=this._getNormalizedEditCellOptions(n),h={data:l?.data,cancel:!1,column:s};if(void 0!==l.key){if(s&&("data"===l.rowType||"detailAdaptive"===l.rowType)&&!l.removed&&this.isCellOrBatchEditMode()){if(!i&&this.isEditCell(o,r))return!0;var g=o+t.getRowIndexOffset();return ke(this._beforeEditCell(o,r,l)).done(_=>{_||this._prepareEditCell(h,l,r,g)||this._processCanceledEditingCell()})}return!1}this._dataController.fireError("E1043")}_beforeEditCell(n,t,i){if(this.isCellEditMode()&&!i.isNewRow&&this.hasChanges()){var r=new W;return this.saveEditData().always(()=>{r.resolve(this.hasChanges())}),r}}publicMethods(){return super.publicMethods().concat(["editCell","closeEditCell"])}_getNormalizedEditCellOptions(n){var _,{oldColumnIndex:t,oldRowIndex:i,columnIndex:r,rowIndex:o}=n,s=this._columnsController,l=s.getVisibleColumns(),g=this._dataController.items()[o];return _=T(t)?l[t]:this._getEditColumn(),T(i)||(i=this._getVisibleEditRowIndex()),je(r)&&(r=s.columnOption(r,"index"),r=s.getVisibleIndex(r)),{oldColumn:_,columnIndex:r,oldRowIndex:i,rowIndex:o,column:l[r],item:g}}_prepareEditCell(n,t,i,r){var o;return t.isNewRow||(n.key=t.key),!this._isEditingStart(n)&&(this._pageIndex=this._dataController.pageIndex(),this._setEditRowKey(t.key),this._setEditColumnNameByIndex(i),n.column.showEditorAlways||this._addInternalData({key:t.key,oldData:null!==(o=t.oldData)&&void 0!==o?o:t.data}),!0)}closeEditCell(n,t){var i=ke(),r=this._getVisibleEditRowIndex();if(this.isCellOrBatchEditMode()){var o=new W;i=new W,this.executeOperation(o,()=>{this._closeEditCellCore(n,r,t).always(i.resolve)})}return i.promise()}_closeEditCellCore(n,t,i){var r=this._dataController,o=new W,s=o.promise();if(this.isCellEditMode()&&this.hasChanges()){if(!i)return this.saveEditData().done(h=>{this.hasChanges()?o.resolve():this.closeEditCell(!!h).always(o.resolve)}),s}else if(this._resetEditRowKey(),this._resetEditColumnName(),t>=0){var l=[t];this._beforeCloseEditCellInBatchMode(l),n||r.updateItems({changeType:"update",rowIndices:l})}return o.resolve(),s}_resetModifiedClassCells(n){if(this.isBatchEditMode()){var t=this._columnsController.getVisibleColumns().length;n.forEach(i=>{for(var{key:r}=i,o=this._dataController.getRowIndexByKey(r),s=0;s<t;s++){var l=this._rowsView._getCellElement(o,s);l?.removeClass("dx-cell-modified")}})}}_prepareChange(n,t,i){var r=x(n.cellElement);return this.isBatchEditMode()&&void 0!==n.key&&this._applyModified(r,n),super._prepareChange(n,t,i)}_cancelSaving(n){var t=this._dataController;this.isCellOrBatchEditMode()&&(this.isBatchEditMode()&&this._resetEditIndices(),t.updateItems()),super._cancelSaving(n)}optionChanged(n){var{fullName:t}=n;"editing"===n.name&&t===Tp?(this._handleEditColumnNameChange(n),n.handled=!0):super.optionChanged(n)}_editCellFromOptionChanged(n,t,i){var r=this._columnsController.getVisibleColumns();n>-1&&Xn(()=>{this._repaintEditCell(r[n],r[t],i)})}_handleEditRowKeyChange(n){var t;if(this.isCellOrBatchEditMode()){var i=this._getVisibleEditColumnIndex(),r=this._getEditRowIndexCorrection(),o=this._dataController.getRowIndexByKey(n.previousValue)+r;T(n.value)&&n.value!==n.previousValue&&(null===(t=this._editCellFromOptionChanged)||void 0===t||t.call(this,i,i,o))}else super._handleEditRowKeyChange(n)}deleteRow(n){if(this.isCellEditMode()&&this.isEditing()){var{isNewRow:t}=this._dataController.items()[n],i=this._dataController.getKeyByRowIndex(n);this.closeEditCell(null,t).always(()=>{n=this._dataController.getRowIndexByKey(i),this._checkAndDeleteRow(n)})}else super.deleteRow(n)}_checkAndDeleteRow(n){this.isBatchEditMode()?this._deleteRowCore(n):super._checkAndDeleteRow(n)}_refreshCore(n){var{isPageChanged:t}=n??{},i=this.isBatchEditMode()||t&&"virtual"!==this.option("scrolling.mode");this.isCellOrBatchEditMode()?i&&(this._resetEditColumnName(),this._resetEditRowKey()):super._refreshCore(n)}_allowRowAdding(n){return!!this.isBatchEditMode()||super._allowRowAdding(n)}_afterDeleteRow(n,t){var i=this._dataController;return this.isBatchEditMode()?(i.updateItems({changeType:"update",rowIndices:[t,n]}),(new W).resolve()):super._afterDeleteRow(n,t)}_updateEditRow(n,t,i){this.isCellOrBatchEditMode()?this._updateRowImmediately(n,t,i):super._updateEditRow(n,t,i)}_isDefaultButtonVisible(n,t){if(this.isCellOrBatchEditMode()){var i=this.isBatchEditMode();switch(n.name){case"save":case"cancel":case"edit":return!1;case"delete":return super._isDefaultButtonVisible(n,t)&&(!i||!t.row.removed);case"undelete":return i&&this.allowDeleting(t)&&t.row.removed;default:return super._isDefaultButtonVisible(n,t)}}return super._isDefaultButtonVisible(n,t)}_isRowDeleteAllowed(){return super._isRowDeleteAllowed()||this.isBatchEditMode()}_beforeEndSaving(n){var t;this.isCellEditMode()?"update"!==(null===(t=n[0])||void 0===t?void 0:t.type)&&super._beforeEndSaving(n):(this.isBatchEditMode()&&this._resetModifiedClassCells(n),super._beforeEndSaving(n))}prepareEditButtons(n){var t,i=null!==(t=this.option("editing"))&&void 0!==t?t:{},r=super.prepareEditButtons(n);return(i.allowUpdating||i.allowAdding||i.allowDeleting)&&this.isBatchEditMode()&&(r.push(this.prepareButtonItem(n,"save","saveEditData",21)),r.push(this.prepareButtonItem(n,"revert","cancelEditData",22))),r}_saveEditDataInner(){var o,n=this._dataController.getVisibleRows()[this.getEditRowIndex()],t=this._getEditColumn(),i=t?.showEditorAlways;return this.isCellEditMode()&&!n?.isNewRow&&i&&(o=new W,this.addDeferred(o)),super._saveEditDataInner().always(o?.resolve)}_applyChange(n,t,i){var r=this.isCellEditMode()&&n.row&&!n.row.isNewRow,{showEditorAlways:o}=n.column,s=n.column.setCellValue!==n.column.defaultSetCellValue;return o&&!i&&r&&this.hasEditData()&&!this.isEditCell(n.rowIndex,n.columnIndex)?(this._focusEditingCell(),void this._updateEditRow(n.row,!0,s)):super._applyChange(n,t,i)}_applyChangeCore(n,t){var{showEditorAlways:i}=n.column,r=this.isCellEditMode()&&n.row&&!n.row.isNewRow;if(i&&!t){if(r)return this._setEditRowKey(n.row.key,!0),this._setEditColumnNameByIndex(n.columnIndex,!0),this.saveEditData();if(this.isBatchEditMode())return t=this._needUpdateRow(n.column),super._applyChangeCore(n,t)}return super._applyChangeCore(n,t)}_processDataItemCore(n,t,i,r,o){var{data:s,type:l}=t;this.isBatchEditMode()&&l===td&&(n.data=Zu(n.data,s)),super._processDataItemCore(n,t,i,r,o)}_processRemoveCore(n,t,i){if(!this.isBatchEditMode()||i)return super._processRemoveCore(n,t,i)}_processRemoveIfError(n,t){if(!this.isBatchEditMode())return super._processRemoveIfError(n,t)}_beforeFocusElementInRow(n){super._beforeFocusElementInRow(n);var t=n>=0?n:0,i=this.getFirstEditableColumnIndex();i>=0&&this.editCell(t,i)}}},views:{rowsView:{_createTable(){var e=this.callBase.apply(this,arguments),n=this._editingController;return n.isCellOrBatchEditMode()&&this.option("editing.allowUpdating")&&R.on(e,fe(ec_name,"dxDataGridRowsView"),"td:not(.".concat(B0,")"),this.createAction(()=>{n.isEditing()&&n.closeEditCell()})),e},_createRow(e){var n=this.callBase.apply(this,arguments);if(e){var i=!!e.removed;this._editingController.isBatchEditMode()&&i&&n.addClass("dx-row-removed")}return n}},headerPanel:{isVisible(){var e=this.getController("editing").option("editing");return this.callBase()||e&&(e.allowUpdating||e.allowDeleting)&&e.mode===Vx}}}}};Ge.registerModule("editingCellBased",Mge);var p4="invalid",AL="revert-tooltip",g4="dx-invalid-message",RL="invalid-message",f4="dx-invalid-message-always",_4="validator",PL="dx-pending-indicator",m4="dx-validation-pending",v4="content",C4="__DX_INSERT_INDEX__",FL="batch",Wx="cell",y4=["popup","form"],$x="insert",Gx="cancel",Ux=function(e){return T(e)&&e!==Gx},x4=function(e,n){return void 0!==e||void 0===e&&n&&!n.isNewRow},Nge=dn.Controller.inherit({init(){this._editingController=this.getController("editing"),this.createAction("onRowValidating"),this._validationState||this.initValidationState()},initValidationState(){this._validationState=[],this._validationStateCache={}},_rowIsValidated(e){var n=this._getValidationData(e?.key);return!!n&&!!n.validated},_getValidationData(e,n){var r,t=cr(e),i=qe(t);return!(r=i?this._validationState.filter(o=>Jt(o.key,e))[0]:this._validationStateCache[t])&&n&&(this._validationState.push(r={key:e,isValid:!0}),i||(this._validationStateCache[t]=r)),r},_getBrokenRules:(e,n)=>n?n.brokenRules||n.brokenRule&&[n.brokenRule]:e.brokenRules||[],_rowValidating(e,n){var t=new W,i=this._editingController.getChangeByKey(e?.key),r=this._getBrokenRules(e,n),s={brokenRules:r,isValid:n?n.isValid:e.isValid,key:i.key,newData:i.data,oldData:this._editingController._getOldData(i.key),promise:null,errorText:this.getHiddenValidatorsErrorText(r)};return this.executeAction("onRowValidating",s),ke(Gn(s.promise)).always(()=>{e.isValid=s.isValid,e.errorText=s.errorText,t.resolve(s)}),t.promise()},getHiddenValidatorsErrorText(e){var n=[];return B(e,(t,i)=>{var{column:r}=i,o=r&&void 0!==r.groupIndex&&!r.showWhenGrouped,s=r&&r.visible;!i.validator.$element().parent().length&&(!s||o)&&n.push(i.message)}),n.join(", ")},validate(e){var n=!0,t=this._editingController,i=new W,r=[],o=t.getEditMode();if(e=e||"row"===o,this._isValidationInProgress)return i.resolve(!1).promise();if(this._isValidationInProgress=!0,e){t.addDeferred(i);var s=t.getChanges();B(s,(h,g)=>{var{type:_,key:v}=g;if("remove"!==_){var C=this._getValidationData(v,!0),b=this.validateGroup(C);r.push(b),b.done(E=>{C.validated=!0,n=n&&E.isValid})}})}else if(this._currentCellValidator){var l=this.validateGroup(this._currentCellValidator._findGroup());r.push(l),l.done(h=>{n=h.isValid})}return ke(...r).done(()=>{this._isValidationInProgress=!1,i.resolve(n)}),i.promise()},validateGroup(e){var i,n=new W,t=e&&ln.getGroupConfig(e);return t?.validators.length&&(this.resetRowValidationResults(e),i=ln.validateGroup(e)),ke(i?.complete||i).done(r=>{ke(this._rowValidating(e,r)).done(n.resolve)}),n.promise()},isRowDataModified:e=>!Pr(e.data),updateValidationState(e){var n=this._editingController.getEditMode(),{key:t}=e,i=this._getValidationData(t,!0);if(y4.includes(n))i.isValid=!0;else{if(e.type===$x&&!this.isRowDataModified(e))return void(i.isValid=!0);if(this.setDisableApplyValidationResults(!0),ln.getGroupConfig(i)){var o=ln.validateGroup(i);ke(o.complete||o).done(s=>{i.isValid=s.isValid,i.brokenRules=s.brokenRules})}else(!i.brokenRules||!i.brokenRules.length)&&(i.isValid=!0);this.setDisableApplyValidationResults(!1)}},setValidator(e){this._currentCellValidator=e},renderCellPendingIndicator(e){var n=e.find(".".concat(PL));if(!n.length){var t=e;n=x("<div>").appendTo(t).addClass(PL),this._createComponent(n,Do),e.addClass(m4)}},disposeCellPendingIndicator(e){var n=e.find(".".concat(PL));if(n.length){var t=Do.getInstance(n);t&&(t.dispose(),t.$element().remove()),e.removeClass(m4)}},validationStatusChanged(e){var{validator:n}=e,t=n.option("validationGroup"),{column:i}=n.option("dataGetter")();this.updateCellValidationResult({rowKey:t.key,columnIndex:i.index,validationResult:e})},validatorInitialized(e){e.component.on("validating",this.validationStatusChanged.bind(this)),e.component.on("validated",this.validationStatusChanged.bind(this))},validatorDisposing(e){var n=e.component,t=n.option("validationGroup"),{column:i}=n.option("dataGetter")(),r=this.getCellValidationResult({rowKey:t?.key,columnIndex:i.index});Ux(r)&&"pending"===r.status&&this.cancelCellValidationResult({change:t,columnIndex:i.index})},applyValidationResult(e,n){var{validator:t}=n,i=t.option("validationGroup"),{column:r}=t.option("dataGetter")();if(n.brokenRules&&n.brokenRules.forEach(g=>{g.columnIndex=r.index,g.column=r}),e){var o=this.getCellValidationResult({rowKey:i.key,columnIndex:r.index}),s=Ux(o)&&o.disabledPendingId===n.id;if(this._disableApplyValidationResults||s)return;if("invalid"===n.status){var l=e.find(":focus");xa(l)||(R.trigger(l,"focus"),R.trigger(l,Rt.down))}var h=!r.editCellTemplate&&this.getController("editorFactory").getEditorInstance(e);"pending"===n.status?h?h.option("validationStatus","pending"):this.renderCellPendingIndicator(e):h?h.option("validationStatus","valid"):this.disposeCellPendingIndicator(e),e.toggleClass(this.addWidgetPrefix(p4),"invalid"===n.status)}},_syncInternalEditingData(e){var n,t=this._editingController,i=t.getChangeByKey(e.key),r=t._getOldData(e.key),o=null===(n=e.row)||void 0===n?void 0:n.oldData;i&&o&&!r&&t._addInternalData({key:e.key,oldData:o})},createValidator(e,n){var t,i,r=this._editingController,{column:o}=e,{showEditorAlways:s}=o;if(!T(o.command)&&o.validationRules&&Array.isArray(o.validationRules)&&o.validationRules.length){var h=r.getIndexByKey(e.key,r.getChanges())>-1;if(!h){if(!s){var g=this.getController("columns");s=(g?.getVisibleColumns()||[]).some(Q=>Q.showEditorAlways)}var v=Jt(this.option("editing.editRowKey"),e.key),C=r.isCellOrBatchEditMode()&&r.allowUpdating({row:e.row});h=v||C&&s,C&&s&&r._addInternalData({key:e.key,oldData:null!==(i=null===(t=e.row)||void 0===t?void 0:t.oldData)&&void 0!==i?i:e.data})}if(h){if(n&&!n.length)return void It.log("E1050");this._syncInternalEditingData(e);var b=this._getValidationData(e.key,!0),E=()=>{var Q=r.getChangeByKey(b?.key),le=o.calculateCellValue(Q?.data||{});return void 0!==le?le:e.value},w=n&&n.hasClass("dx-widget");n&&n.addClass(this.addWidgetPrefix(_4));var M=new IL(n||x("<div>"),{name:o.caption,validationRules:A(!0,[],o.validationRules),validationGroup:b,adapter:w?null:{getValue:E,applyValidationResults:Q=>{this.applyValidationResult(n,Q)}},dataGetter(){var Q=b?.key,le=r.getChangeByKey(Q);return{data:Zu(r._getOldData(Q),le?.data),column:o}},onInitialized:this.validatorInitialized.bind(this),onDisposing:this.validatorDisposing.bind(this)});if(w){var k=M.option("adapter");if(k){var L=k.bypass,G=()=>e.row.isNewRow&&!this._isValidationInProgress&&!r.isCellModified(e);k.getValue=E,k.validationRequestsCallbacks=[],k.bypass=()=>L.call(k)||G()}}return M}}},setDisableApplyValidationResults(e){this._disableApplyValidationResults=e},getDisableApplyValidationResults(){return this._disableApplyValidationResults},isCurrentValidatorProcessing(e){var{rowKey:n,columnIndex:t}=e;return this._currentCellValidator&&Jt(this._currentCellValidator.option("validationGroup").key,n)&&this._currentCellValidator.option("dataGetter")().column.index===t},validateCell(e){var n={rowKey:e.option("validationGroup").key,columnIndex:e.option("dataGetter")().column.index},t=this.getCellValidationResult(n),i=Ux(t),r=e.option("adapter");if(i){var o=r.getValue();Jt(o,t.value)||(t=e.validate())}else t=e.validate();var s=new W;return i&&"pending"===t.status&&(this.updateCellValidationResult(n),r.applyValidationResults(t)),ke(t.complete||t).done(l=>{i&&r.applyValidationResults(l),s.resolve(l)}),s.promise()},updateCellValidationResult(e){var{rowKey:n,columnIndex:t,validationResult:i}=e,r=this._getValidationData(n);if(r){var o;if(r.validationResults||(r.validationResults={}),i){if(o=A({},i),r.validationResults[t]=o,"pending"===i.status&&(this._editingController.getEditMode()===Wx&&(o.deferred=new W,o.complete.always(()=>{o.deferred.resolve()}),this._editingController.addDeferred(o.deferred)),this._disableApplyValidationResults))return void(o.disabledPendingId=i.id)}else o=r.validationResults[t];o&&o.disabledPendingId&&delete o.disabledPendingId}},getCellValidationResult(e){var i,{rowKey:n,columnIndex:t}=e,r=this._getValidationData(n,!0);return null===(i=r?.validationResults)||void 0===i?void 0:i[t]},removeCellValidationResult(e){var{change:n,columnIndex:t}=e,i=this._getValidationData(n?.key);i&&i.validationResults&&(this.cancelCellValidationResult({change:n,columnIndex:t}),delete i.validationResults[t])},cancelCellValidationResult(e){var{change:n,columnIndex:t}=e,i=this._getValidationData(n.key);if(n&&i.validationResults){var r=i.validationResults[t];r&&(r.deferred&&r.deferred.reject(Gx),i.validationResults[t]=Gx)}},resetRowValidationResults(e){e&&(e.validationResults&&delete e.validationResults,delete e.validated)},isInvalidCell(e){var{rowKey:n,columnIndex:t}=e,i=this.getCellValidationResult({rowKey:n,columnIndex:t});return Ux(i)&&"invalid"===i.status},getCellValidator(e){var{rowKey:n,columnIndex:t}=e,i=this._getValidationData(n),r=i&&ln.getGroupConfig(i),o=r&&r.validators;return o&&o.filter(s=>{var{column:l}=s.option("dataGetter")();return!!l&&l.index===t})[0]},setCellValidationStatus(e){var n=this.getCellValidationResult({rowKey:e.key,columnIndex:e.column.index});T(n)?e.validationStatus=n!==Gx?n.status:Gx:delete e.validationStatus}}),Hge={defaultOptions:()=>({editing:{texts:{validationCancelChanges:J.format("dxDataGrid-validationCancelChanges")}}}),controllers:{validating:Nge},extenders:{controllers:{editing:{_addChange(e){var n=this.callBase.apply(this,arguments),t=this.getController("validating");return n&&"remove"!==e.type&&t.updateValidationState(n),n},_handleChangesChange(e){this.callBase.apply(this,arguments);var n=this.getController("validating");e.value.forEach(t=>{void 0===n._getValidationData(t.key)&&n.updateValidationState(t)})},_updateRowAndPageIndices(){var e=this,n=e.getView("rowsView").getTopVisibleItemIndex(),t=n;B(e.getChanges(),(i,r)=>{var{key:o,type:s}=r,l=this.getController("validating")._getValidationData(o);l&&!l.isValid&&l.pageIndex!==e._pageIndex&&(l.pageIndex=e._pageIndex,l.rowIndex=s===$x?n:t,t++)})},_getValidationGroupsInForm(e){return{validationGroup:this.getController("validating")._getValidationData(e.key,!0)}},_validateEditFormAfterUpdate(e,n){n&&this._editForm&&this._editForm.validate(),this.callBase.apply(this,arguments)},_prepareEditCell(e){var n=this.callBase.apply(this,arguments),t=this.getController("validating");return n&&e.column.showEditorAlways&&t.updateValidationState({key:e.key}),n},processItems(e,n){var t=this.getChanges(),i=this.getController("data"),r=this.getController("validating"),o=(e=this.callBase(e,n)).length;return this.getEditMode()===FL&&"prepend"!==n&&"append"!==n&&t.forEach(l=>{var{key:h}=l,g=r._getValidationData(h);g&&l.type&&g.pageIndex===this._pageIndex&&l?.pageIndex!==this._pageIndex&&function(l,h){var g={key:l.key};if(!(function(C,b){var E=-1,w=C.type===$x,{key:M}=C;return B(b,(k,L)=>{if(Jt(M,w?L.key:i.keyOf(L)))return E=k,!1}),E}(l,e)>=0)){h.rowIndex=h.rowIndex>o?h.rowIndex%o:h.rowIndex;var{rowIndex:v}=h;g[C4]=1,e.splice(v,0,g)}}(l,g)}),e},processDataItem(e){var n=e.data[C4],t=n?e.data.key:e.key;if(this.getEditMode()===FL&&n&&t){var r=this.getChanges(),o=xe.getIndexByKey(t,r);if(o>=0){var s=r[o];if(s.type!==$x){var l=this._getOldData(s.key);e.data=A(!0,{},l,s.data),e.key=t}}}this.callBase.apply(this,arguments)},_createInvisibleColumnValidators(e){var n=this,t=this.getController("validating"),i=this.getController("columns"),r=i.getColumns(),o=i.getInvisibleColumns().filter(g=>!g.isBand),s=i.getGroupColumns().filter(g=>!g.showWhenGrouped&&-1===o.indexOf(g)),l=[],h=(g,_)=>this._dataController.getRowIndexByKey(_)>=0&&o.indexOf(g)<0;return o.push(...s),y4.includes(this.getEditMode())||B(r,(g,_)=>{e.forEach(v=>{var C;if(!h(_,v.key)){if(v.type===$x)C=v.data;else if("update"===v.type){var b=n._getOldData(v.key);if(!T(b))return;C=Zu(b,v.data)}if(C){var E=t.createValidator({column:_,key:v.key,value:_.calculateCellValue(C)});E&&l.push(E)}}})}),function(){l.forEach(g=>{g.dispose()})}},_beforeSaveEditData(e,n){var t=this.callBase.apply(this,arguments),i=this.getController("validating"),r=i._getValidationData(e?.key);if(e)t=t||!("remove"===e.type||r.isValid);else{var s=this._createInvisibleColumnValidators(this.getChanges());t=new W,this.executeOperation(t,()=>{i.validate(!0).done(l=>{switch(s(),this._updateRowAndPageIndices(),this.getEditMode()){case Wx:l||this._focusEditingCell();break;case FL:l||(this._resetEditRowKey(),this._resetEditColumnName(),this.getController("data").updateItems())}t.resolve(!l)})})}return t.promise?t.promise():t},_beforeEditCell(e,n,t){var i=this.callBase(e,n,t);if(this.getEditMode()===Wx){var r=this._rowsView._getCellElement(e,n),o=r&&r.data("dxValidator"),s=r&&r.closest(".dx-row").data("options"),l=o&&o.option("adapter").getValue();if(o&&x4(l,s)){var h=this.getController("validating"),g=new W;return ke(h.validateCell(o),i).done((_,v)=>{g.resolve("valid"===_.status&&v)}),g.promise()}if(!o)return i}},_afterSaveEditData(e){var n,t=this.getEditMode()===Wx;if(B(this.getChanges(),(h,g)=>{var _=this._showErrorRow(g);n=n||_}),n){var i=this._rowsView.getScrollable();i&&(i.update(),i.scrollToElement(n))}if(e&&t&&this._needUpdateRow()){var r=this.getEditRowIndex();this._dataController.updateItems({changeType:"update",rowIndices:[r]}),this._focusEditingCell()}else if(!e){var o=!0;t&&(o=!(this.getController("columns").getColumns().filter(h=>{var g;return h.showEditorAlways&&(null===(g=h.validationRules)||void 0===g?void 0:g.length)>0}).length>0)),o&&this.getController("validating").initValidationState()}},_handleDataChanged(e){var n=this.getController("validating")._validationState;"standard"===this.option("scrolling.mode")&&this.resetRowAndPageIndices(),"prepend"===e.changeType&&B(n,(t,i)=>{i.rowIndex+=e.items.length}),this.callBase(e)},resetRowAndPageIndices(){var e=this.getController("validating")._validationState;B(e,(n,t)=>{t.pageIndex!==this._pageIndex&&(delete t.pageIndex,delete t.rowIndex)})},_beforeCancelEditData(){this.getController("validating").initValidationState(),this.callBase()},_showErrorRow(e){var n,t=this.getController("errorHandling"),i=this.getController("data").items(),r=this.getIndexByKey(e.key,i),o=this.getController("validating")._getValidationData(e.key);if(!o?.isValid&&o?.errorText&&r>=0)return n=this.getPopupContent(),t&&t.renderErrorRow(o?.errorText,r,n)},updateFieldValue(e){var n=this.getController("validating"),t=new W;return n.removeCellValidationResult({change:this.getChangeByKey(e.key),columnIndex:e.column.index}),this.callBase.apply(this,arguments).done(()=>{var i=n.getCellValidator({rowKey:e.key,columnIndex:e.column.index});ke(i&&n.validateCell(i)).done(r=>{this.getController("editorFactory").refocus(),t.resolve(r)})}),t.promise()},highlightDataCell(e,n){this.callBase.apply(this,arguments);var t=this.getController("validating");t.setCellValidationStatus(n);var i=!!n.setValue,r=this.isCellModified(n),o=T(n.validationStatus);if(r&&n.column.setCellValue||i&&!r&&!n.row.isNewRow&&o){var l=e.data("dxValidator");l&&ke(this.getController("validating").validateCell(l)).done(()=>{t.setCellValidationStatus(n)})}},getChangeByKey(e){var n=this.getChanges();return n[xe.getIndexByKey(e,n)]},isCellModified(e){var n=this.callBase(e),t=this.getChangeByKey(e.key),i=!!e.row&&this.getController("validating").isInvalidCell({rowKey:e.key,columnIndex:e.column.index});return n||this.getController("validating")._rowIsValidated(t)&&i}},editorFactory:{_showRevertButton(e){var n,t=null===(n=this._revertTooltip)||void 0===n?void 0:n.$element();if(!e||!e.length)return t?.remove(),void(this._revertTooltip=void 0);if(!e.find(t).length){var i=e.closest(".".concat(this.addWidgetPrefix(v4))),r=this.addWidgetPrefix(AL);t?.remove(),t=x("<div>").addClass(r).appendTo(e);var o={animation:null,visible:!0,width:"auto",height:"auto",shading:!1,container:i,propagateOutsideClick:!0,hideOnOutsideClick:!1,wrapperAttr:{class:r},contentTemplate:()=>{var s=x("<div>").addClass("dx-revert-button"),l={icon:"revert",hint:this.option("editing.texts.validationCancelChanges"),onClick:()=>{this._editingController.cancelEditData()}};return new Ui(s,l).$element()},position:{my:"left top",at:"right top",offset:"1 0",collision:"flip",boundaryOffset:"0 0",boundary:this._rowsView.element(),of:e},onPositioned:this._positionedHandler.bind(this)};this._revertTooltip=new Nu(t,o)}},_hideFixedGroupCell(e,n){var t,i,r=this._rowsView.isFixedColumns(),o=this._editingController.isFormOrPopupEditMode();if(r&&!o){var s=e.closest(".dx-row").next().data("options");s&&"group"===s.rowType&&(t=x(this._rowsView.getRowElement(s.rowIndex)).last(),(i=t.find(".".concat("dx-group-cell"))).length&&"hidden"!==i.get(0).style.visibility&&(i.css("visibility","hidden"),n.onDisposing=function(){i.css("visibility","")}))}},_positionedHandler(e,n){if(!e.component.__skipPositionProcessing){var t=x(e.element).hasClass(this.addWidgetPrefix(AL)),i=!t&&this._rowsView.updateFreeSpaceRowHeight(),r=this._normalizeValidationMessagePositionAndMaxWidth(e,t,n);e.component.__skipPositionProcessing=!(!i&&!r),r?e.component.option(r):i&&e.component.repaint()}},_showValidationMessage(e,n,t){var i,r=e.find(".dx-dropdowneditor-overlay").data("dxPopup"),o=r&&r.option("visible"),s=o?"top right":"top ".concat(t),l=o?"top left":"bottom ".concat(t),g=(null===(i=this._columnsController.getFixedColumns())||void 0===i?void 0:i.length)>0?this.getView("rowsView").element():e.closest(".".concat(this.addWidgetPrefix(v4))),_="";n&&n.forEach(E=>{_+=(_.length?"<br/>":"")+SD(E)});var v=this.addWidgetPrefix(RL);this._rowsView.element().find(".".concat(v)).remove();var C=x("<div>").addClass(g4).addClass(f4).addClass(v).html(_).appendTo(e),b={container:g,shading:!1,width:"auto",height:"auto",visible:!0,animation:!1,propagateOutsideClick:!0,hideOnOutsideClick:!1,wrapperAttr:{class:"".concat(g4," ").concat(f4," ").concat(v)},position:{collision:"flip",boundary:this._rowsView.element(),boundaryOffset:"0 0",offset:{x:0,y:!o&&Gt.mozilla?-1:0},my:s,at:l,of:e},onPositioned:E=>{this._positionedHandler(E,o),this._shiftValidationMessageIfNeed(E.component.$content(),e)}};this._hideFixedGroupCell(e,b),new Nu(C,b)},_hideValidationMessage(){var e,n=null===(e=this._rowsView.element())||void 0===e?void 0:e.find(this._getValidationMessagesSelector());n?.remove()},_normalizeValidationMessagePositionAndMaxWidth(e,n,t){var w,M,k,i=this._columnsController.getFixedColumns();if(i&&i.length){var r,h,g,o=!n&&(h=x(e.element).closest("tr").index(),g=x(this._rowsView.getRowElement(h)).first().children().filter(":not(.dx-hidden-cell)"),this._rowsView._getWidths(g).reduce((w,M)=>w+M,0)),_=e.component.$content(),v=wt(_,!0),C=!n&&v>o,b=this._rowsView.getCellIndex(x(e.element).closest("td")),E=((w=i).some((L,G)=>{if("transparent"===L.command)return M=0===G?-1:G,k=G===w.length-1?-1:G+L.colspan-1,!0}),{startColumnIndex:M,endColumnIndex:k});return n||b!==E.startColumnIndex&&!C?b===E.endColumnIndex&&(r={collision:"none flip",my:"top right",at:n||t?"top left":"bottom right"},n&&(r.offset="-1 0")):r={collision:"none flip",my:"top left",at:t?"top right":"bottom left"},r&&{position:r,maxWidth:C?o-2:void 0}}},_shiftValidationMessageIfNeed(e,n){var t=this._revertTooltip&&this._revertTooltip.$content();if(t){var i=e.offset(),r=t.offset();if(i.top===r.top&&i.left+Ze(e)>r.left){var o=Ze(t)+2;e.css("left",r.left<n.offset().left?-o:o)}}},_getRevertTooltipsSelector(){var e=this.addWidgetPrefix(AL);return".dx-editor-cell .".concat(e)},_getValidationMessagesSelector(){var e=this.addWidgetPrefix(RL);return".dx-editor-cell .".concat(e,", .dx-cell-modified .").concat(e)},init(){this.callBase(),this._editingController=this.getController("editing"),this._columnsController=this.getController("columns"),this._rowsView=this.getView("rowsView")},loseFocus(e){e||this.getController("validating").setValidator(null),this.callBase()},updateCellState(e,n,t){var i,r=e?.closest(this._getFocusCellSelector()),o=r?.is("td")?r:null,s=r?.closest(".dx-row").data("options"),l=s?this.getController("editing").getChangeByKey(s.key):null,h=o&&this.getController("columns").getVisibleColumns()[o.index()],g=void 0!==(null===(i=l?.data)||void 0===i?void 0:i[h?.name])&&!this._editingController.isSaving();if(this._editingController.getEditMode()===Wx&&("invalid"===n?.status||g?this._showRevertButton(r):this._revertTooltip&&this._revertTooltip.$element().remove()),n&&"invalid"===n.status&&o&&h&&n&&n.brokenRules){var v=[];n.brokenRules.forEach(C=>{C.message&&v.push(C.message)}),v.length&&this._showValidationMessage(r,v,h.alignment||"left")}!t&&this._rowsView.element()&&this._rowsView.updateFreeSpaceRowHeight()},focus(e,n){if(!arguments.length)return this.callBase();if(this._hideValidationMessage(),e?.hasClass("dx-row")||e?.hasClass("dx-master-detail-cell"))return this.callBase(e,n);var g,t=e?.closest(this._getFocusCellSelector()),{callBase:i}=this,r=t&&(t.data("dxValidator")||e.find(".".concat(this.addWidgetPrefix(_4))).eq(0).data("dxValidator")),o=t&&t.closest(".dx-row").data("options"),s=this.getController("editing"),l=o?s.getChangeByKey(o.key):null,h=this.getController("validating");if(r){h.setValidator(r);var _=r.option("adapter").getValue();if(x4(_,o)||h._rowIsValidated(l))return s.waitForDeferredOperations().done(()=>{ke(h.validateCell(r)).done(v=>{g=v;var{column:C}=g.validator.option("dataGetter")();l&&C&&!h.isCurrentValidatorProcessing({rowKey:l.key,columnIndex:C.index})||("invalid"===g.status&&(n=!0),this.updateCellState(e,g,n),i.call(this,e,n))})}),this.callBase(e,n)}return this.updateCellState(e,g,n),this.callBase(e,n)},getEditorInstance(e){var n=e.find(".dx-texteditor").eq(0);return xe.getWidgetInstance(n)}},data:{_getValidationStatus:e=>(Ux(e)?e.status:e)||"valid",_isCellChanged(e,n,t,i,r){var o,s,l=null===(o=e.cells)||void 0===o?void 0:o[i],h=this._getValidationStatus({status:l?.validationStatus}),g=this.getController("validating"),_=g.getCellValidationResult({rowKey:e.key,columnIndex:i}),v=g._getValidationData(e.key),C=this._getValidationStatus(_),b=JSON.stringify(n.modifiedValues)!==JSON.stringify(e.modifiedValues),E=h!==C&&b,w=x(l?.cellElement).hasClass(this.addWidgetPrefix(p4)),M=null===(s=l?.column.validationRules)||void 0===s?void 0:s.length;return!!(e.isEditing!==n.isEditing&&M||E||v.isValid&&w)||this.callBase.apply(this,arguments)}}},views:{rowsView:{updateFreeSpaceRowHeight(e){var n,t,i,r=this.element(),o=r&&r.find(".".concat(this.addWidgetPrefix(RL)," .dx-overlay-content"));if(this.callBase(e),o&&o.length&&(n=this._getRowElements(),(t=(i=this._getFreeSpaceRowElements(e)).first())&&1===n.length&&(!t.is(":visible")||_t(o)>_t(t))))return i.show(),ma(i,_t(o)),!0},_formItemPrepared(e,n){this.callBase.apply(this,arguments),er(()=>{var t=n.find(".dx-widget").first();t.length&&!t.children().length||this.getController("validating").createValidator(e,t)})},_cellPrepared(e,n){this.getController("editing").isFormOrPopupEditMode()||this.getController("validating").createValidator(n,e),this.callBase.apply(this,arguments)},_restoreErrorRow(e){var n=this.getController("editing");n&&n.hasChanges()&&this._getRowElements(e).each((t,i)=>{var r=x(i).data("options");if(r){var o=n.getChangeByKey(r.key);o&&n._showErrorRow(o)}})}}}}};Ge.registerModule("validating",Hge);var kL="scrolling.legacyMode",b4=e=>e.option("scrolling.loadTwoPagesOnStart")||e._controller.isVirtual()||e._controller.getViewportItemIndex()>0,W0=e=>e._cache.length?e._cache[0].pageIndex:-1,BL=e=>e._cache.length?e._cache[e._cache.length-1].pageIndex:-1,$0=(e,n,t)=>{e._isChangedFiring=!0,n(t),e._isChangedFiring=!1},O4=(e,n,t)=>{if(e._isDelayChanged)return e._isDelayChanged=!1,$0(e,n,t),!0},G0=(e,n)=>{var t=e.option("scrolling.preloadEnabled"),i=(e=>{var n=e._dataOptions.pageSize();if(e.option("scrolling.preventPreload"))return 0;var i=e._controller.viewportSize();if(e._controller.isVirtualMode()&&e.option("scrolling.removeInvisiblePages")){i=0;for(var r=e._controller.viewportSize()*e._controller.viewportItemSize(),o=e._controller.getContentOffset(),s=e._controller.getViewportPosition(),l=e._controller.virtualItemsCount(),h=e._dataOptions.totalItemsCount(),g=l.begin;g<h&&!(o>=s+r);g++)(o+=e._controller.getItemSizes()[g]||e._controller.viewportItemSize())>=s&&i++}return n&&i>0?Math.ceil(i/n):1})(e),r=e._controller.isAppendMode();return i&&(n?i=t?1:0:(t&&i++,(r||!b4(e))&&i--)),i},D4=(e,n,t,i,r)=>{var o=e._dataOptions,s=o.items().slice(),l=qe(t)?t:void 0,h="prepend"===t,g=o.viewportItems();t&&je(t)&&!e._isDelayChanged&&(l={changeType:t,items:s},r&&(l.removeCount=r.itemsCount,l.removeCount&&o.correctCount&&(l.removeCount=o.correctCount(g,l.removeCount,h))));var _=r?r.itemsLength:0;_&&o.correctCount&&(_=o.correctCount(g,_,h)),"append"===t?(g.push.apply(g,s),r&&g.splice(0,_)):h?(g.unshift.apply(g,s),r&&g.splice(-_)):e._dataOptions.viewportItems(s),o.updateLoading(),e._lastPageIndex=e.pageIndex(),e._isDelayChanged=i,i||$0(e,n,l)};class Gge{constructor(n,t){this._dataOptions=t,this._controller=n,this._pageIndex=this._lastPageIndex=t.pageIndex(),this._cache=[],this._loadingPageIndexes={}}option(){return this._controller.option.apply(this._controller,arguments)}viewportItemIndexChanged(n){var l,t=this._dataOptions.pageSize(),i=this._dataOptions.pageCount(),r=this._controller.isVirtualMode(),o=this._controller.isAppendMode(),s=this._dataOptions.totalItemsCount();if(t&&(r||o)&&s>=0){var h=this._controller.viewportSize();if(h&&n+h>=s&&!this._controller.isVirtual())if(this._dataOptions.hasKnownLastPage()){var g=s%t;(l=i-1)>0&&g>0&&g<h&&l--}else l=i;else{l=Math.floor(n/t);var _=i-1;l=Math.max(l,0),l=Math.min(l,_)}return this.pageIndex(l),this.load()}}pageIndex(n){var t=this._controller.isVirtualMode(),i=this._controller.isAppendMode();return!1!==this.option(kL)&&(t||i)?(void 0!==n&&(this._pageIndex=n),this._pageIndex):this._dataOptions.pageIndex(n)}beginPageIndex(n){var t=W0(this);return t<0&&(t=void 0!==n?n:this.pageIndex()),t}endPageIndex(){var n=BL(this);return n>0?n:this._lastPageIndex}pageSize(){return this._dataOptions.pageSize()}load(){var t,n=this._dataOptions,i=this._controller.isVirtualMode(),r=this._controller.isAppendMode();if(!1!==this.option(kL)&&(i||r)){var o=(e=>{var n=-1,t=W0(e),i=e._dataOptions;return t<0?n=e._pageIndex:e._cache[e._pageIndex-t]?t>=0&&e._controller.viewportSize()>=0&&(t>0&&(BL(e)+1===i.pageCount()&&e._cache.length<G0(e)+1||e._pageIndex===t&&G0(e,!0))&&(n=t-1),n<0&&t+e._cache.length<=e._pageIndex+G0(e)&&(n=t+e._cache.length)):n=e._pageIndex,e._loadingPageIndexes[n]&&(n=-1),n})(this);if(o>=0){var s=((e,n)=>{var t=e._dataOptions;if(n===e.pageIndex()||!t.isLoading()&&n<t.pageCount()||!t.hasKnownLastPage()&&n===t.pageCount())return t.pageIndex(n),e._loadingPageIndexes[n]=!0,ke(t.load()).always(()=>{e._loadingPageIndexes[n]=!1})})(this,o);s&&(t=new W,s.done(()=>{var l=this._delayDeferred;l?l.done(t.resolve).fail(t.reject):t.resolve()}).fail(t.reject),n.updateLoading())}}else t=n.load();return!t&&this._lastPageIndex!==this.pageIndex()&&this._dataOptions.onChanged({changeType:"pageIndex"}),t||(new W).resolve()}loadIfNeed(){var n=this._controller.isVirtualMode(),t=this._controller.isAppendMode();if((n||t)&&!this._dataOptions.isLoading()&&(!this._isChangedFiring||this._controller.isVirtual())){var i=this._controller.getViewportPosition();i>0?this._controller._setViewportPositionCore(i):this.load()}}handleDataChanged(n,t){var o,s,i=this._dataOptions,r=this._cache.length,l=this._controller.isVirtualMode(),h=this._controller.isAppendMode();if(t&&t.changes)$0(this,n,t);else if(!1!==this.option(kL)&&(l||h)){var g=W0(this);if(g>=0&&(l&&g+this._cache.length!==i.pageIndex()&&g-1!==i.pageIndex()&&(r=0,this._cache=[]),h))if(0===i.pageIndex())this._cache=[];else if(i.pageIndex()<BL(this))return void $0(this,n,{changeType:"append",items:[]});var v,_={pageIndex:i.pageIndex(),itemsLength:i.items(!0).length,itemsCount:this.itemsCount(!0)};this.option("scrolling.removeInvisiblePages")&&l?s=this._cache.length>Math.max(G0(this)+(this.option("scrolling.preloadEnabled")?1:0),2):O4(this,n,{isDelayed:!0}),g===i.pageIndex()+1?(s&&(v=this._cache.pop()),o="prepend",this._cache.unshift(_)):(s&&(v=this._cache.shift()),o="append",this._cache.push(_));var C=l&&0===r&&b4(this);D4(this,n,this._cache.length>1?o:void 0,C,v),this._delayDeferred=this.load().done(()=>{O4(this,n)&&this.load()})}else D4(this,n,t)}getDelayDeferred(){return this._delayDeferred}itemsCount(n){var t=0,i=this._controller.isVirtualMode();return!n&&i?this._cache.forEach(r=>{t+=r.itemsCount}):t=this._dataOptions.itemsCount(),t}virtualItemsCount(){var n=W0(this);n<0&&(n=this._dataOptions.pageIndex());var t=n*this._dataOptions.pageSize(),i=this._cache.length*this._dataOptions.pageSize();return{begin:t,end:Math.max(0,this._dataOptions.totalItemsCount()-i-t)}}reset(){this._loadingPageIndexes={},this._cache=[]}}var S4="virtual",U0="scrolling.legacyMode",E4=e=>e.option("scrolling.mode")===S4||e._isVirtual;function w4(e,n,t){var i,r=[],o=[],s=[];function l(v){var C=v.element?v.$element():v,b=Ns.offset(C);return b?v.scrollTop()-(b.top-e.offset().top):e.offset().top}var v,C,h={on(v,C,b){v.on("scroll",b)},off(v,C,b){v.off("scroll",b)}};function g(v){var k,C="#document"===v.get(0).nodeName,b=v.get(0).nodeType===ut().Node.ELEMENT_NODE,E=v.data("dxScrollable"),w=h;if(E||(E=C&&x(ut())||b&&"auto"===v.css("overflowY")&&v,w=R,E)){var M=(k=E,function(){var L=k.scrollTop()-l(k);n(L=L>0?L:0)});w.on(E,"scroll",M),o.push(k=>{var L=l(E);k-L>=0&&E[E.scrollTo?"scrollTo":"scrollTop"](k+L)}),r.push(E),s.push(()=>{w.off(E,"scroll",M)})}}for(i=(t=t||e).parent();i.length;void 0,i=x(null!==(C=(v=i).get(0).parentNode)&&void 0!==C?C:v.get(0).host))g(i);return{scrollTo(v){B(o,(C,b)=>{b(v)})},dispose(){B(s,(v,C)=>{C()})}}}var LL=kt.inherit(function(){var e={ctor(n,t,i){this._dataOptions=t,this.component=n,this._viewportSize=!1===n.option(U0)?15:0,this._viewportItemSize=20,this._viewportItemIndex=0,this._position=0,this._isScrollingBack=!1,this._contentSize=0,this._itemSizes={},this._sizeRatio=1,this._isVirtual=i,this.positionChanged=Et(),this._dataLoader=new Gge(this,this._dataOptions)},getItemSizes(){return this._itemSizes},option(){return this.component.option.apply(this.component,arguments)},isVirtual(){return this._isVirtual},virtualItemsCount(){if(E4(this)){var n=this._dataOptions,t=n.totalItemsCount();if(!1===this.option(U0)&&-1!==t){var i=this.getViewportParams(),r=n.loadedOffset(),o=n.loadedItemCount(),s=Math.max(i.skip,r),l=Math.min(i.take,o);return{begin:s,end:Math.max(t-(s+l),0)}}return this._dataLoader.virtualItemsCount.apply(this._dataLoader,arguments)}},getScrollingTimeout(){var n,t=this.option("scrolling.renderAsync"),i=0;return T(t)?t&&(i=null!==(n=this.option("scrolling.timeout"))&&void 0!==n?n:0):(i=Math.min(this.option("scrolling.timeout")||0,this._dataOptions.changingDuration()))<this.option("scrolling.renderingThreshold")&&(i=this.option("scrolling.minTimeout")||0),i},setViewportPosition(n){var t=new W,i=this.getScrollingTimeout();return clearTimeout(this._scrollTimeoutID),i>0?this._scrollTimeoutID=setTimeout(()=>{this._setViewportPositionCore(n),t.resolve()},i):(this._setViewportPositionCore(n),t.resolve()),t.promise()},getViewportPosition(){return this._position},getItemIndexByPosition(n,t,i){n=n??this._position;for(var r=this.getItemSize(),o=0,s=0,l=Object.keys(this._itemSizes).concat(-1),h=0;h<l.length&&o<n;h++){var g=parseInt(l[h]),_=(n-o)/r;if(g<0||s+_<g){s+=_,this._sizeRatio<1&&T(t)&&(s=t+i/this._viewportItemSize);break}o+=(_=g-s)*r,s+=_;var v=this._itemSizes[g];s+=(o+=v)<n?1:(n-o+v)/v}return Math.round(50*s)/50},isScrollingBack(){return this._isScrollingBack},_setViewportPositionCore(n){var t=this._position||0;this._position=n,t!==this._position&&(this._isScrollingBack=this._position<t);var i=this.getItemIndexByPosition(),r=this.setViewportItemIndex(i);return this.positionChanged.fire(),r},setContentItemSizes(n){var t=this.virtualItemsCount();if(this._contentSize=n.reduce((o,s)=>o+s,0),t){n.forEach((o,s)=>{this._itemSizes[t.begin+s]=o});var i=(t.begin+t.end+this.itemsCount())*this._viewportItemSize,r=xe.getContentHeightLimit(Gt);this._sizeRatio=i>r?r/i:1}},getItemSize(){return this._viewportItemSize*this._sizeRatio},getItemOffset(n,t){var i=this.virtualItemsCount(),r=n;if(!i)return 0;var o=0,s=this._dataOptions.totalItemsCount();return Object.keys(this._itemSizes).forEach(l=>{r&&(t?l>=s-n:l<n)&&(o+=this._itemSizes[l],r--)}),Math.floor(o+r*this._viewportItemSize*this._sizeRatio)},getContentOffset(n){var t="end"===n,i=this.virtualItemsCount();return i?this.getItemOffset(t?i.end:i.begin,t):0},getVirtualContentSize(){return this.virtualItemsCount()?this.getContentOffset("begin")+this.getContentOffset("end")+this._contentSize:0},getViewportItemIndex(){return this._viewportItemIndex},setViewportItemIndex(n){if(this._viewportItemIndex=n,!1!==this.option(U0))return this._dataLoader.viewportItemIndexChanged.apply(this._dataLoader,arguments)},viewportItemSize(n){return void 0!==n&&(this._viewportItemSize=n),this._viewportItemSize},viewportSize(n){return void 0!==n&&(this._viewportSize=n),this._viewportSize},viewportHeight(n,t){var i=t??this._position,r=this.getItemIndexByPosition(i),o=this.getItemIndexByPosition(i+n,r,n);this.viewportSize(Math.ceil(o-r)),!T(t)&&this._viewportItemIndex!==r&&this._setViewportPositionCore(i)},reset(n){this._dataLoader.reset(),n||(this._itemSizes={})},subscribeToWindowScrollEvents(n){this._windowScroll=this._windowScroll||w4(n,t=>{this.viewportItemSize()&&this.setViewportPosition(t)})},dispose(){clearTimeout(this._scrollTimeoutID),this._windowScroll&&this._windowScroll.dispose(),this._windowScroll=null},scrollTo(n){this._windowScroll&&this._windowScroll.scrollTo(n)},isVirtualMode(){return E4(this)},isAppendMode(){return(e=>"infinite"===e.option("scrolling.mode")&&!e._isVirtual)(this)},getViewportParams(){var n,t=this.option("scrolling.mode")===S4,i=this._dataOptions.totalItemsCount(),o=this._dataOptions.hasKnownLastPage()&&this._viewportItemIndex>i?i:this._viewportItemIndex,s=this._viewportSize+o,l=this.option("scrolling.prerenderedRowChunkSize")||1,h=this.isScrollingBack(),g=null!==(n=this.option("scrolling.prerenderedRowCount"))&&void 0!==n?n:1,v=h?0:g,C=Math.floor(Math.max(0,o-(h?g:0))/l)*l,b=Math.ceil((s+v-C)/l)*l;if(t){var E=Math.max(0,i-C);b=Math.min(b,E)}return{skip:C,take:b}},itemsCount(){return this.option(U0)?this._dataLoader.itemsCount.apply(this._dataLoader,arguments):this._dataOptions.itemsCount()}};return["pageIndex","beginPageIndex","endPageIndex","pageSize","load","loadIfNeed","handleDataChanged","getDelayDeferred"].forEach(n=>{e[n]=function(){return this._dataLoader[n].apply(this._dataLoader,arguments)}}),e}()),I4="bottom-load-panel",T4="dx-freespace-row",j0="dx-virtual-row",Tt="scrolling.legacyMode",VL="paging.pageIndex",_r=function(e){return"virtual"===e.option("scrolling.mode")},Ha=function(e){return"infinite"===e.option("scrolling.mode")},za=function(e){return _r(e)||Ha(e)},A4=function(e,n,t,i){for(var r=0;r<n+1;r++){var o=e[t?e.length-1-r:r];o&&!i(o,r===n,t)&&n++}return n},K0=function(e,n){return"data"===e.rowType&&!e.isNewRow||"group"===e.rowType&&n.isGroupItemCountable(e.data)},tfe=function(){var e=function(t){var i=t._virtualScrollController.beginPageIndex(-1);_r(t)&&(i<0||t.viewportSize()>=0&&t.getViewportItemIndex()>=0&&(i*t.pageSize()>t.getViewportItemIndex()||i*t.pageSize()+t.itemsCount()<t.getViewportItemIndex()+t.viewportSize())&&t._dataSource.isLoading()?t._isLoading||(t._isLoading=!0,t.loadingChanged.fire(!0)):t._isLoading&&(t._isLoading=!1,t.loadingChanged.fire(!1)))},n={init(){this.callBase.apply(this,arguments),this._items=[],this._totalCount=-1,this._isLoaded=!0,this._loadPageCount=1,this._virtualScrollController=new LL(this.component,this._getVirtualScrollDataOptions())},_getVirtualScrollDataOptions(){var t=this;return{pageSize:()=>t.pageSize(),totalItemsCount:()=>t.totalItemsCount(),hasKnownLastPage:()=>t.hasKnownLastPage(),pageIndex:i=>t._dataSource.pageIndex(i),isLoading:()=>t._dataSource.isLoading()&&!t.isCustomLoading(),pageCount:()=>t.pageCount(),load:()=>t._dataSource.load(),updateLoading(){e(t)},itemsCount:()=>t.itemsCount(!0),items:()=>t._dataSource.items(),viewportItems:i=>(i&&(t._items=i),t._items),onChanged(i){t.changed.fire(i)},changingDuration:()=>t.isLoading()?300:t._renderTime||0}},_handleLoadingChanged(t){!1!==this.option(Tt)?((!_r(this)||this._isLoadingAll)&&(this._isLoading=t,this.callBase.apply(this,arguments)),this._startLoadTime=t?new Date:void 0):this.callBase.apply(this,arguments)},_handleLoadError(){!1!==this.option(Tt)&&(this._isLoading=!1,this.loadingChanged.fire(!1)),this.callBase.apply(this,arguments)},_handleDataChanged(t){if(!1===this.option(Tt))return this._items=this._dataSource.items().slice(),this._totalCount=this._dataSourceTotalCount(!0),void this.callBase.apply(this,arguments);var i=this.callBase.bind(this);this._virtualScrollController.handleDataChanged(i,t)},_customizeRemoteOperations(t,i){var r=!1===this.option(Tt),o=this.option("scrolling.renderAsync");T(o)||(o=this._renderTime>=this.option("scrolling.renderingThreshold")),(_r(this)||Ha(this)&&r)&&!i.reload&&(i.skip||r)&&!o&&(t.delay=void 0),this.callBase.apply(this,arguments)},items(){return this._items},_dataSourceTotalCount(t){return!1===this.option(Tt)&&_r(this)&&!t?this._totalCount:this.callBase()},itemsCount(t){return t||!1===this.option(Tt)?this.callBase():this._virtualScrollController.itemsCount()},load(t){return!1===this.option(Tt)||t?this.callBase(t):this._virtualScrollController.load()},isLoading(){return!1===this.option(Tt)?this._dataSource.isLoading():this._isLoading},isLoaded(){return this._dataSource.isLoaded()&&this._isLoaded},resetPagesCache(t){t||this._virtualScrollController.reset(!0),this.callBase.apply(this,arguments)},_changeRowExpandCore(){var t=this.callBase.apply(this,arguments);return!1===this.option(Tt)||(this.resetPagesCache(),e(this)),t},reload(){this._dataSource.pageIndex(this.pageIndex());var t=this._virtualScrollController;if(!1!==this.option(Tt)&&t){var i=new W;return this.callBase.apply(this,arguments).done(r=>{var o=t.getDelayDeferred();o?o.done(i.resolve).fail(i.reject):i.resolve(r)}).fail(i.reject),i}return this.callBase.apply(this,arguments)},refresh(t,i){if(!1!==this.option(Tt)){var{storeLoadOptions:r}=t,o=this._dataSource;i.reload?(this._virtualScrollController.reset(),o.items().length=0,this._isLoaded=!1,e(this),this._isLoaded=!0,Ha(this)?(this.pageIndex(0),o.pageIndex(0),r.pageIndex=0,t.pageIndex=0,r.skip=0):(o.pageIndex(this.pageIndex()),o.paginate()&&(t.pageIndex=this.pageIndex(),r.skip=this.pageIndex()*this.pageSize()))):Ha(this)&&r.skip&&this._totalCountCorrection<0&&(r.skip+=this._totalCountCorrection)}return this.callBase.apply(this,arguments)},dispose(){this._virtualScrollController.dispose(),this.callBase.apply(this,arguments)},loadPageCount(t){if(!T(t))return this._loadPageCount;this._loadPageCount=t},_handleDataLoading(t){var i=this.loadPageCount(),r=this.pageSize(),o=!1===this.option(Tt),{storeLoadOptions:s}=t,l=T(s.take);t.loadPageCount=i,!t.isCustomLoading&&o&&l&&i>1&&r>0&&(s.take=i*r),this.callBase.apply(this,arguments)},_loadPageSize(){return this.callBase.apply(this,arguments)*this.loadPageCount()}};return["beginPageIndex","endPageIndex","pageIndex"].forEach(t=>{n[t]=function(){if(!1===this.option(Tt)){var i=this._dataSource;return i.pageIndex.apply(i,arguments)}var r=this._virtualScrollController;return r[t].apply(r,arguments)}}),["virtualItemsCount","getContentOffset","getVirtualContentSize","setContentItemSizes","setViewportPosition","getViewportItemIndex","setViewportItemIndex","getItemIndexByPosition","viewportSize","viewportItemSize","getItemSize","getItemSizes","loadIfNeed"].forEach(t=>{n[t]=function(){var i=this._virtualScrollController;return i[t].apply(i,arguments)}}),n}(),nfe=function(){var e=function(n,t){var i=n.toArray().map(s=>x(s).parent(".".concat(t)).get(0)).filter(s=>s);i.length&&(n=x(i));for(var r=t===T4?n.length-1:n.length,o=0;o<r;o++)n.eq(o).remove()};return{init(){var n,t=this.getController("data");this.callBase(),t.pageChanged.add(i=>{var r=this._scrollTop;this.scrollToPage(i??t.pageIndex()),!1===this.option(Tt)&&this._scrollTop===r&&t.updateViewport()}),t.dataSourceChanged.add(()=>{!this._scrollTop&&this._scrollToCurrentPageOnResize()}),null===(n=t.stateLoaded)||void 0===n||n.add(()=>{this._scrollToCurrentPageOnResize()}),this._scrollToCurrentPageOnResize()},_scrollToCurrentPageOnResize(){var n=this.getController("data");if(n.pageIndex()>0){var t=()=>{this.resizeCompleted.remove(t),this.scrollToPage(n.pageIndex())};this.resizeCompleted.add(t)}},scrollToPage(n){var r,t=this._dataController,i=t?t.pageSize():0;if(_r(this)||Ha(this)){var o=t.getItemSize(),s=t.getItemSizes(),l=n*i;for(var h in r=l*o,s)parseInt(h)<l&&(r+=s[h]-o)}else r=0;this.scrollTo({y:r,x:this._scrollLeft})},renderDelayedTemplates(){this.waitAsyncTemplates().done(()=>{this._updateContentPosition(!0)}),this.callBase.apply(this,arguments)},_renderCore(n){var t=new Date,i=this.callBase.apply(this,arguments),r=this._dataController._dataSource;if(r&&n){var o=n.items?n.items.length:20,s=this._dataController.viewportSize()||20;r._renderTime=xe.isVirtualRowRendering(this)&&o>0&&!1!==this.option(Tt)?(new Date-t)*s/o:new Date-t}return i},_getRowElements(n){var t=this.callBase(n);return t&&t.not(".".concat(j0))},_removeRowsElements(n,t,i){var r=this._getRowElements(n).toArray();r="append"===i?r.slice(0,t):r.slice(-t);var o=this.getController("errorHandling");r.map(s=>{var l=x(s);o&&o.removeErrorRow(l.next()),l.remove()})},_updateContent(n,t){var i,r=this._findContentElement(),o=t&&t.changeType,s=W(),l=r.children().first();return"append"===o||"prepend"===o?this.waitAsyncTemplates().done(()=>{var h=this._getBodies(n);1===h.length?this._getBodies(l)["append"===o?"append":"prepend"](h.children()):h["append"===o?"appendTo":"prependTo"](l),n.remove(),i=this._getFreeSpaceRowElements(l),e(i,T4),t.removeCount&&this._removeRowsElements(l,t.removeCount,o),this._restoreErrorRow(l),s.resolve()}).fail(s.reject):this.callBase.apply(this,arguments).done(()=>{"update"===o&&this._restoreErrorRow(l),s.resolve()}).fail(s.reject),s.promise().done(()=>{this._updateBottomLoading()})},_addVirtualRow(n,t,i,r){if(r){var o=this._createEmptyRow(j0,t,r);o=this._wrapRowIfNeed(n,o),this._appendEmptyRow(n,o,i)}},_updateContentItemSizes(){var n=this._getRowHeights(),t=this._correctRowHeights(n);this._dataController.setContentItemSizes(t)},_updateViewportSize(n,t){T(n)||(n=_t(this._hasHeight?this.element():ut())),this._dataController.viewportHeight(n,t)},_getRowHeights(){var n,t,i=null===(t=null===(n=this.getController("editing"))||void 0===n?void 0:n.isPopupEditMode)||void 0===t?void 0:t.call(n),r=this._getRowElements(this._tableElement).toArray();return i&&(r=r.filter(o=>!x(o).hasClass("dx-row-inserted"))),r.map(o=>Zn(o).height)},_correctRowHeights(n){for(var t=this._dataController,i=t._dataSource,r=[],o=t.getVisibleRows(),s=0,l=!0,h=-1,g=0;g<n.length;g++){var _=o[g];T(_)&&(!1===this.option(Tt)?(h>=0&&h!==_.loadIndex&&(r.push(s),s=0),h=_.loadIndex):K0(_,i)&&(l?l=!1:(r.push(s),s=0)),s+=n[g])}return s>0&&r.push(s),r},_updateContentPosition(n){var t=this._dataController;if(t.viewportItemSize(this._rowHeight||20),_r(this)||xe.isVirtualRowRendering(this)){n||this._updateContentItemSizes();var r=t.getContentOffset("begin"),o=t.getContentOffset("end"),s=this.getTableElements(),l=s.children("tbody").children(".".concat(j0));e(l,j0),s.each((h,g)=>{var _=h>0,v=this._isFixedTableRendering;this._isFixedTableRendering=_,this._addVirtualRow(x(g),_,"top",r),this._addVirtualRow(x(g),_,"bottom",o),this._isFixedTableRendering=v})}},_isTableLinesDisplaysCorrect(n){return n.find(".".concat("dx-column-lines")).length>0===this.option("showColumnLines")},_isColumnElementsEqual(n,t){var i=n.length===t.length;return i&&B(n,(r,o)=>{if(o.style.width!==t[r].style.width)return i=!1}),i},_getCellClasses(n){var t=[],{cssClass:i}=n,r="expand"===n.command;return i&&t.push(i),r&&t.push(this.addWidgetPrefix("group-space")),t},_findBottomLoadPanel(n){var t=n||this.element(),i=t&&t.find(".".concat(this.addWidgetPrefix(I4)));if(i&&i.length)return i},_updateBottomLoading(){var n=_r(this),t=Ha(this),i=!this._dataController.hasKnownLastPage()&&this._dataController.isLoaded()&&(n||t),r=this._findContentElement(),o=this._findBottomLoadPanel(r);i?o||x("<div>").addClass(this.addWidgetPrefix(I4)).append(this._createComponent(x("<div>"),Do).$element()).appendTo(r):o&&o.remove()},_handleScroll(n){var t=!0===this.option(Tt);(this._scrollTop!==n.scrollOffset.top||n.forceUpdateScrollPosition)&&(this._hasHeight||!t&&0===n.scrollOffset.top)&&this._rowHeight&&(this._scrollTop=n.scrollOffset.top,(_r(this)||"standard"!==this.option("scrolling.rowRenderingMode"))&&!1===this.option(Tt)&&(this._updateContentItemSizes(),this._updateViewportSize(null,this._scrollTop)),this._dataController.setViewportPosition(n.scrollOffset.top)),this.callBase.apply(this,arguments)},_needUpdateRowHeight(n){return this.callBase.apply(this,arguments)||n>0&&Ha(this)&&!xe.isVirtualRowRendering(this)},_updateRowHeight(){if(this.callBase.apply(this,arguments),this._rowHeight){this._updateContentPosition();var n=_t(this._hasHeight?this.element():ut()),t=this._dataController;!1===this.option(Tt)?(this._updateViewportSize(n),t.updateViewport()):t.viewportSize(Math.ceil(n/this._rowHeight))}},updateFreeSpaceRowHeight(){var n=this.callBase.apply(this,arguments);return n&&this._updateContentPosition(),n},setLoading(n,t){var i=this._dataController,r=i.pageIndex()>0&&i.isLoaded()&&!!this._findBottomLoadPanel();!1===this.option(Tt)&&n&&i.isViewportChanging()||(r&&(n=!1),this.callBase.call(this,n,t))},_resizeCore(){var n=this,t=n.element();n.callBase(),n.component.$element()&&!n._windowScroll&&xy(t)&&(n._windowScroll=w4(t,i=>{!n._hasHeight&&n._rowHeight&&n._dataController.setViewportPosition(i)},n.component.$element()),n.on("disposing",()=>{n._windowScroll.dispose()})),!1!==this.option(Tt)&&n.loadIfNeed()},loadIfNeed(){var n,t=this._dataController;null===(n=t?.loadIfNeed)||void 0===n||n.call(t)},setColumnWidths(n){var i,t=this.getScrollable();this.callBase.apply(this,arguments),"virtual"===this.option("scrolling.mode")&&(i=t?x(t.content()):this.element(),this.callBase(n,i.children(".".concat(this.addWidgetPrefix("content"))).children(":not(.".concat(this.addWidgetPrefix("table-content"),")"))))},_restoreErrorRow(){if(!1===this.option(Tt)){var n=this.getController("errorHandling");n?.removeErrorRow()}this.callBase.apply(this,arguments)},dispose(){clearTimeout(this._scrollTimeoutID),this.callBase()}}}(),R4={defaultOptions:()=>({scrolling:{timeout:300,updateTimeout:300,minTimeout:0,renderingThreshold:100,removeInvisiblePages:!0,rowPageSize:5,prerenderedRowChunkSize:1,mode:"standard",preloadEnabled:!1,rowRenderingMode:"standard",loadTwoPagesOnStart:!1,legacyMode:!1,prerenderedRowCount:1}}),extenders:{dataSourceAdapter:tfe,controllers:{data:function(){var e={_refreshDataSource(){var n=this.callBase.apply(this,arguments)||(new W).resolve().promise();return n.done(this.initVirtualRows.bind(this)),n},_loadDataSource(){var n;if(this._rowsScrollController&&za(this)){var{loadPageCount:t}=T(this._loadViewportParams)?this.getLoadPageParams():{loadPageCount:void 0};t>=1&&(null===(n=this._dataSource)||void 0===n||n.loadPageCount(t))}return this.callBase.apply(this,arguments)},getRowPageSize(){var n=this.option("scrolling.rowPageSize"),t=this.pageSize();return t&&t<n?t:n},reload(){var n=this._rowsScrollController||this._dataSource,t=n&&n.getItemIndexByPosition(),i=this.callBase.apply(this,arguments);return i&&i.done(()=>{var r;if(_r(this)||xe.isVirtualRowRendering(this)){var o=this.getRowIndexOffset(),s=Math.floor(t)-o,{component:l}=this,h=l.getScrollable&&l.getScrollable(),g=this.dataSource().operationTypes().sorting;if(h&&!g&&s>=0){var _=l.getRowElement(s),v=_&&_[0]&&x(_[0]),C=v&&v.position().top,b=Gt.chrome&&Number(null!==(r=Gt.version)&&void 0!==r?r:0)>=91;C>(Gt.mozilla||b?1:0)&&(C=Math.round(C+_t(v)*(t%1)),h.scrollTo({y:C}))}}})},initVirtualRows(){var n=xe.isVirtualRowRendering(this);if(this._allItems=null,this._loadViewportParams=null,"virtual"!==this.option("scrolling.mode")&&!n||!n||!1!==this.option(Tt)&&!this.option("scrolling.rowPageSize"))return this._visibleItems=null,void(this._rowsScrollController=null);var t=!_r(this)&&this.pageIndex()>=this.pageCount()?this.pageCount()-1:this.pageIndex();this._rowPageIndex=Math.ceil(t*this.pageSize()/this.getRowPageSize()),this._visibleItems=!1===this.option(Tt)?null:[],this._viewportChanging=!1,this._needUpdateViewportAfterLoading=!1,this._rowsScrollController||(this._rowsScrollController=new LL(this.component,this._getRowsScrollDataOptions(),!0),this._rowsScrollController.positionChanged.add(()=>{var i;if(!1===this.option(Tt))return this._viewportChanging=!0,this.loadViewport(),void(this._viewportChanging=!1);null===(i=this._dataSource)||void 0===i||i.setViewportItemIndex(this._rowsScrollController.getViewportItemIndex())})),!1===this.option(Tt)&&this._updateLoadViewportParams(),this.isLoaded()&&!1!==this.option(Tt)&&this._rowsScrollController.load()},isViewportChanging(){return this._viewportChanging},_getRowsScrollDataOptions(){var n=this,t=function(i){return K0(i,n._dataSource)};return{pageSize:()=>n.getRowPageSize(),loadedOffset(){var i;return _r(n)&&(null===(i=n._dataSource)||void 0===i?void 0:i.lastLoadOptions().skip)||0},loadedItemCount:()=>n._itemCount,totalItemsCount:()=>za(n)?n.totalItemsCount():!1===n.option(Tt)?n._itemCount:n._items.filter(t).length,hasKnownLastPage:()=>!1!==n.option(Tt)||n.hasKnownLastPage(),pageIndex:i=>(void 0!==i&&(n._rowPageIndex=i),n._rowPageIndex),isLoading:()=>n.isLoading(),pageCount(){return Math.ceil(this.totalItemsCount()/this.pageSize())||1},load(){n._rowsScrollController.pageIndex()>=this.pageCount()&&(n._rowPageIndex=this.pageCount()-1,n._rowsScrollController.pageIndex(n._rowPageIndex)),(this.items().length||!this.totalItemsCount())&&n._rowsScrollController.handleDataChanged(i=>{(i=i||{}).changeType=i.changeType||"refresh",i.items=i.items||n._visibleItems,n._visibleItems.forEach((r,o)=>{r.rowIndex=o}),n._fireChanged(i)})},updateLoading(){},itemsCount(){return this.items(!0).length},correctCount:(i,r,o)=>A4(i,r,o,(s,l,h)=>s.isNewRow?l&&!h:l&&h?!s.isNewRow:t(s)),items(i){var r=n._items;if(n.option(Tt)){var o=n.dataSource(),s=o?.virtualItemsCount(),l=s?s.begin:0,h=n.getRowPageSize(),g=n._rowPageIndex*h-l,_=h;if(g<0)return[];g&&(g=this.correctCount(r,g),r=r.slice(g)),_&&(_=this.correctCount(r,_),r=r.slice(0,_))}return i?r.filter(t):r},viewportItems:i=>(i&&!1!==n.option(Tt)&&(n._visibleItems=i),n._visibleItems),onChanged(){},changingDuration(){var i=n.dataSource();return i?.isLoading()&&!1!==n.option(Tt)?300:i?._renderTime||0}}},_updateItemsCore(n){var t=this.getRowIndexDelta();if(this.callBase.apply(this,arguments),!1===this.option(Tt)&&xe.isVirtualRowRendering(this))"update"===n.changeType&&0===n.rowIndices.length&&n.cancelEmptyChanges&&(n.cancel=!0);else{var i=this._rowsScrollController;if(i){var r=this._visibleItems,o="refresh"===n.changeType||n.isLiveUpdate;if("append"===n.changeType&&n.items&&!n.items.length)return;o||"append"===n.changeType||"prepend"===n.changeType?(n.cancel=!0,o&&i.reset(!0),i.load()):("update"===n.changeType?n.rowIndices.forEach((s,l)=>{var h=n.changeTypes[l],g=n.items[l];"update"===h?r[s]=g:"insert"===h?r.splice(s,0,g):"remove"===h&&r.splice(s,1)}):(r.forEach((s,l)=>{r[l]=this._items[l+t]||r[l]}),n.items=r),function(e){e.forEach((n,t)=>{n.rowIndex=t})}(r))}}},_updateLoadViewportParams(){var n=this._rowsScrollController.getViewportParams(),t=this.pageSize();if(n&&!za(this)&&t>0){var i=this.pageIndex()*t;n.skip+=i}this._loadViewportParams=n},_processItems(){var n,t=this.callBase.apply(this,arguments);if(!1===this.option(Tt)){var o,s,l,i=this._dataSource,r=null!==(n=i?.lastLoadOptions().skip)&&void 0!==n?n:0,h=!1,g=[];t.forEach(_=>{var{rowType:v}=_,C=K0(_,i),b="group"===v&&(o||C||"group"!==s&&r>0),E="data"===v&&C&&(o||"group"!==s);!_.isNewRow&&T(o)&&(b||E)&&(!l||h)&&r++,(b||E)&&(h=!0),_.isNewRow?g.push(_):(g.forEach(M=>{M.loadIndex=r}),g=[]),_.loadIndex=r,o=C,s=v,l=_.isNewRow}),g.forEach(_=>{_.loadIndex=r})}return t},_afterProcessItems(n){if(this._itemCount=n.filter(s=>K0(s,this._dataSource)).length,T(this._loadViewportParams)){this._updateLoadViewportParams();var t=n;if(this._allItems=n,n.length){var{skipForCurrentPage:i}=this.getLoadPageParams(!0),r=n[0].loadIndex+i,{take:o}=this._loadViewportParams;t=n.filter(s=>s.loadIndex>=r&&(s.loadIndex<r+o||s.isNewRow&&s.loadIndex===r&&0===o))}return t}return this.callBase.apply(this,arguments)},_applyChange(n){var t=this,{items:i}=n,{changeType:r}=n,{removeCount:o}=n;switch(o&&(o=A4(t._items,o,"prepend"===r,(l,h)=>"data"===l.rowType&&!l.isNewRow||"group"===l.rowType&&(t._dataSource.isGroupItemCountable(l.data)||h)),n.removeCount=o),r){case"prepend":t._items.unshift.apply(t._items,i),o&&t._items.splice(-o);break;case"append":t._items.push.apply(t._items,i),o&&t._items.splice(0,o);break;default:t.callBase(n)}},items(n){return n?this._allItems||this._items:this._visibleItems||this._items},getRowIndexDelta(){var n=0;if(this.option(Tt)){var t=this._visibleItems;t&&t[0]&&(n=this._items.indexOf(t[0]))}return n<0?0:n},getRowIndexOffset(n){var t,i=0,r=this.dataSource(),o=this._rowsScrollController,s=!1===this.option(Tt),l=za(this);if(o&&!n)if(s&&T(this._loadViewportParams)){var{skipForCurrentPage:h,pageIndex:g}=this.getLoadPageParams(!0),_=this.items(!0);if(i=l?g*this.pageSize():0,_.length){var v=_[0].loadIndex;i+=_.filter(C=>C.loadIndex<v+h).length}}else i=o.beginPageIndex()*o.pageSize();else l&&s&&r?i=null!==(t=r.lastLoadOptions().skip)&&void 0!==t?t:0:_r(this)&&r&&(i=r.beginPageIndex()*r.pageSize());return i},getDataIndex(){return!1===this.option(Tt)?this.getRowIndexOffset(!0):this.callBase.apply(this,arguments)},viewportSize(){var n=this._rowsScrollController,t=this._dataSource,i=n?.viewportSize.apply(n,arguments);return!1===this.option(Tt)?i:t?.viewportSize.apply(t,arguments)},viewportHeight(n,t){var i;null===(i=this._rowsScrollController)||void 0===i||i.viewportHeight(n,t)},viewportItemSize(){var n=this._rowsScrollController,t=this._dataSource,i=n?.viewportItemSize.apply(n,arguments);return!1===this.option(Tt)?i:t?.viewportItemSize.apply(t,arguments)},setViewportPosition(){var n=this._rowsScrollController,t=this._dataSource;this._isPaging=!1,n?n.setViewportPosition.apply(n,arguments):t?.setViewportPosition.apply(t,arguments)},setContentItemSizes(n){var t=this._rowsScrollController,i=this._dataSource,r=t?.setContentItemSizes(n);return!1===this.option(Tt)?r:i?.setContentItemSizes(n)},getPreloadedRowCount(){var n=this.option("scrolling.preloadedRowCount"),t=this.option("scrolling.preloadEnabled");if(T(n))return n;var i=this.viewportSize();return t?2*i:i},getLoadPageParams(n){var t,i,r=this.pageSize(),o=this._loadViewportParams,s=null===(t=this._dataSource)||void 0===t?void 0:t.lastLoadOptions(),l=s?.pageIndex||0,h=s?.take||0,g=this._rowsScrollController.isScrollingBack(),_=g?this.getPreloadedRowCount():0,v=g?0:this.getPreloadedRowCount(),C=(null===(i=this._dataSource)||void 0===i?void 0:i.totalCountCorrection())||0,b=Math.max(0,o.skip-_),E=n?l:Math.floor(r?b/r:0),M=o.skip-E*r,G=Math.ceil(r?(n?h:o.take+M+v-C)/r:0);return{pageIndex:E,loadPageCount:Math.max(1,G),skipForCurrentPage:Math.max(0,M)}},_updateVisiblePageIndex(n){if(this._rowsScrollController){if(T(n))return this._silentOption(VL,n),void this.pageChanged.fire();var t=this._rowsScrollController.getViewportItemIndex(),i=Math.floor(t/this.pageSize());this.pageIndex()!==i&&(this._silentOption(VL,i),this.updateItems({changeType:"pageIndex"}))}},_getChangedLoadParams(){var n=this.getLoadPageParams(!0),{pageIndex:t,loadPageCount:i}=this.getLoadPageParams(),r=this._pageIndexIsValid(t),o=null;return!this._isLoading&&r&&(t!==n.pageIndex||i!==n.loadPageCount)&&(o={pageIndex:t,loadPageCount:i}),o},_pageIndexIsValid(n){var t=!0;return(Ha(this)&&this.hasKnownLastPage()||_r(this))&&(t=n*this.pageSize()<this.totalItemsCount()),t},_loadItems(n,t){var i,r,o=za(this),s=this._dataSource,l=this._getChangedLoadParams(),h=null!==(i=s?.loadPageCount())&&void 0!==i?i:0,g=this.pageSize()*h,_=null!==(r=s?.pageIndex())&&void 0!==r?r:0,v=l?.pageIndex===_,C=Ha(this)&&this.totalItemsCount()<g,b="repaint"===this.option("editing.refreshMode"),w=!1;if(!s||o&&n&&(b&&t||l?.pageIndex>_||v&&C))return w;if(o&&this._isLoading&&(this._needUpdateViewportAfterLoading=!0),o&&l){w=!0,s.pageIndex(l.pageIndex),s.loadPageCount(l.loadPageCount),this._repaintChangesOnly=!0,this._needUpdateDimensions=!0;var M=this._viewportChanging;this.load().always(()=>{this._repaintChangesOnly=void 0,this._needUpdateDimensions=void 0}).done(()=>{var k=this.pageCount()>0&&this.pageIndex()===this.pageCount()-1;(M||k)&&this._updateVisiblePageIndex(),this._needUpdateViewportAfterLoading&&(this._needUpdateViewportAfterLoading=!1,this.loadViewport({checkLoadedParamsOnly:!0}))})}return w},loadViewport(n){var t,i,{checkLoadedParamsOnly:r,checkLoading:o,viewportIsNotFilled:s}=n??{};if((za(this)||xe.isVirtualRowRendering(this))&&(this._updateLoadViewportParams(),!(this._loadItems(o,!s)||this._isLoading&&o||r))){var _=!(null!==(i=null===(t=this.getController("editing"))||void 0===t?void 0:t.getChanges())&&void 0!==i&&i.length);this.updateItems({repaintChangesOnly:!0,needUpdateDimensions:!0,useProcessedItemsCache:_,cancelEmptyChanges:!0})}},updateViewport(){var n,t,i=this.viewportSize(),r=this.items().length,o=i>r,s=null!==(t=null===(n=this._loadViewportParams)||void 0===n?void 0:n.take)&&void 0!==t?t:0,l=this._rowsScrollController,h=l?.getViewportParams().take;(o||s<h)&&!this._isPaging&&r&&this.loadViewport({checkLoading:!0,viewportIsNotFilled:o})},loadIfNeed(){if(!1!==this.option(Tt)){var n=this._rowsScrollController;n&&n.loadIfNeed();var t=this._dataSource;return t&&t.loadIfNeed()}},getItemSize(){var n=this._rowsScrollController;if(n)return n.getItemSize.apply(n,arguments);var t=this._dataSource;return t&&t.getItemSize.apply(t,arguments)},getItemSizes(){var n=this._rowsScrollController;if(n)return n.getItemSizes.apply(n,arguments);var t=this._dataSource;return t&&t.getItemSizes.apply(t,arguments)},getContentOffset(){var n=this._rowsScrollController;if(n)return n.getContentOffset.apply(n,arguments);var t=this._dataSource;return t&&t.getContentOffset.apply(t,arguments)},refresh(n){var t=this._dataSource;return t&&n&&n.load&&Ha(this)&&t.resetCurrentTotalCount(),this.callBase.apply(this,arguments)},dispose(){var n=this._rowsScrollController;n&&n.dispose(),this.callBase.apply(this,arguments)},topItemIndex(){var n;return null===(n=this._loadViewportParams)||void 0===n?void 0:n.skip},bottomItemIndex(){var n=this._loadViewportParams;return n&&n.skip+n.take},virtualItemsCount(){var n=this._rowsScrollController;if(n)return n.virtualItemsCount.apply(n,arguments);var t=this._dataSource;return t?.virtualItemsCount.apply(t,arguments)},pageIndex(n){var t,i=za(this),r=this._rowsScrollController;return!1===this.option(Tt)&&i&&r&&void 0===n?null!==(t=this.option(VL))&&void 0!==t?t:0:this.callBase.apply(this,arguments)},_fireChanged(n){this.callBase.apply(this,arguments);var{operationTypes:t}=n;if(!1===this.option(Tt)&&za(this)&&t){var{fullReload:i,pageIndex:r}=t;n.isDataChanged&&!i&&r&&this._updateVisiblePageIndex(this._dataSource.pageIndex())}},_getPagingOptionValue(n){var t=this.callBase.apply(this,arguments);return!1===this.option(Tt)&&za(this)&&(t=this[n]()),t},isEmpty(){return!1===this.option(Tt)?!this.items(!0).length:this.callBase(this,arguments)},isLastPageLoaded(){var n=!1;if(!1===this.option(Tt)&&za(this)){var{pageIndex:t,loadPageCount:i}=this.getLoadPageParams(!0);n=t+i>=this.pageCount()}else n=this.callBase.apply(this,arguments);return n},reset(){this._itemCount=0,this._allItems=null,this.callBase.apply(this,arguments)},_applyFilter(){var n;null===(n=this._dataSource)||void 0===n||n.loadPageCount(1),this.callBase.apply(this,arguments)}};return xe.proxyMethod(e,"getVirtualContentSize"),xe.proxyMethod(e,"setViewportItemIndex"),e}(),resizing:{_updateMasterDataGridCore(e){return ke(this.callBase.apply(this,arguments)).done(n=>{var t=_r(e)&&!1===e.option(Tt);!n&&t&&e.getScrollable()&&e.updateDimensions()})},hasResizeTimeout(){return!!this._resizeTimeout},resize(){var n,{callBase:e}=this;if(_r(this)||xe.isVirtualRowRendering(this)){clearTimeout(this._resizeTimeout),this._resizeTimeout=null;var t=new Date-this._lastTime,i=this.option("scrolling.updateTimeout");this._lastTime&&t<i?(n=new W,this._resizeTimeout=setTimeout(()=>{this._resizeTimeout=null,e.apply(this).done(n.resolve).fail(n.reject),this._lastTime=new Date},i),this._lastTime=new Date):(n=e.apply(this),this._dataController.isLoaded()&&(this._lastTime=new Date))}else n=e.apply(this);return n},dispose(){this.callBase.apply(this,arguments),clearTimeout(this._resizeTimeout)}}},views:{rowsView:nfe}}};Ge.registerModule("virtualScrolling",R4),Ox.extend(R4.extenders.dataSourceAdapter);var P4=(e,n)=>{var r,t=x(ut()),{top:i}=e.offset();if(Vt(n)){if(n<i)return i-n;r=Tf(t)-n+t.scrollTop()}else{var o=i-t.scrollTop(),s=Tf(t)-o-_t(e);r=Math.max(o,s)}return.9*r};const NL=class sfe extends DK{_getDefaultOptions(){return A(super._getDefaultOptions(),{orientation:"horizontal",tabIndex:null,onHoverStart:U})}_initDataAdapter(){this._dataAdapter=this.option("_dataAdapter"),this._dataAdapter||super._initDataAdapter()}_renderContentImpl(){this._renderContextMenuOverlay(),super._renderContentImpl();var n=this._dataAdapter.getNodeByKey(this.option("_parentKey"));n&&this._renderItems(this._getChildNodes(n)),this._renderDelimiter()}_renderDelimiter(){this.$contentDelimiter=x("<div>").appendTo(this._itemContainer()).addClass("dx-context-menu-content-delimiter")}_getOverlayOptions(){return A(super._getOverlayOptions(),{onPositioned:this._overlayPositionedActionHandler.bind(this)})}_overlayPositionedActionHandler(n){this._showDelimiter(n)}_hoverEndHandler(n){super._hoverEndHandler(n),this._toggleFocusClass(!1,n.currentTarget)}_isMenuHorizontal(){return"horizontal"===this.option("orientation")}_hoverStartHandler(n){this.option("onHoverStart")(n),super._hoverStartHandler(n),this._toggleFocusClass(!0,n.currentTarget)}_drawSubmenu(n){this._actions.onShowing({rootItem:Ke(n),submenu:this}),super._drawSubmenu(n),this._actions.onShown({rootItem:Ke(n),submenu:this})}_hideSubmenu(n){this._actions.onHiding({cancel:!0,rootItem:Ke(n),submenu:this}),super._hideSubmenu(n),this._actions.onHidden({rootItem:Ke(n),submenu:this})}_showDelimiter(n){if(this.$contentDelimiter){var t=this._itemContainer().children(".".concat("dx-submenu")).eq(0),i=this.option("position").of,r={of:t},o=n.position,s=o.v.location,l=o.h.location,h=i.offset(),g=Math.round(h.left),_=Math.round(h.top),v=Ze(i),C=gt(i),b=Ze(t),E=gt(t);this.$contentDelimiter.css("display","block"),pC(this.$contentDelimiter,this._isMenuHorizontal()?v<b?v-2:b:2),ma(this.$contentDelimiter,this._isMenuHorizontal()?2:C<E?C-2:E),this._isMenuHorizontal()?s>_?Math.round(l)===g?(r.offset="1 -1",r.at=r.my="left top"):(r.offset="-1 -1",r.at=r.my="right top"):(ma(this.$contentDelimiter,5),Math.round(l)===g?(r.offset="1 4",r.at=r.my="left bottom"):(r.offset="-1 2",r.at=r.my="right bottom")):l>g?Math.round(s)===_?(r.offset="-1 1",r.at=r.my="left top"):(r.offset="-1 -1",r.at=r.my="left bottom"):Math.round(s)===_?(r.offset="1 1",r.at=r.my="right top"):(r.offset="1 -1",r.at=r.my="right bottom"),Ns.setup(this.$contentDelimiter,r)}}_getContextMenuPosition(){return this.option("position")}isOverlayVisible(){return this._overlay.option("visible")}getOverlayContent(){return this._overlay.$content()}};var Rp="dx-menu",afe=Rp+"-vertical",F4=Rp+"-horizontal",HL=Rp+"-item",k4=Rp+"-items-container",zL=HL+"-expanded",Y0="dx-context-menu",WL=Y0+"-container-border",B4="dx-state-hover",q0=Rp+"-adaptive-mode",L4=Rp+"-hamburger-button",hfe=q0+"-overlay-wrapper",jx="showSubmenu",K_="nextItem",dc="prevItem",mfe={show:50,hide:300},V4=["onSubmenuShowing","onSubmenuShown","onSubmenuHiding","onSubmenuHidden","onItemContextMenu","onItemClick","onSelectionChanged","onItemRendered"];class N4 extends pK{_getDefaultOptions(){return A(super._getDefaultOptions(),{orientation:"horizontal",submenuDirection:"auto",showFirstSubmenuMode:{name:"onClick",delay:{show:50,hide:300}},hideSubmenuOnMouseLeave:!1,onSubmenuShowing:null,onSubmenuShown:null,onSubmenuHiding:null,onSubmenuHidden:null,adaptivityEnabled:!1})}_setOptionsByReference(){super._setOptionsByReference(),A(this._optionsByReference,{animation:!0,selectedItem:!0})}_itemElements(){var n=super._itemElements(),t=this._submenuItemElements();return n.add(t)}_submenuItemElements(){var n=[],t=".".concat(HL),i=this._submenus.length&&this._submenus[0];return i&&i.itemsContainer()&&(n=i.itemsContainer().find(t)),n}_focusTarget(){return this.$element()}_isMenuHorizontal(){return"horizontal"===this.option("orientation")}_moveFocus(n){var s,h,t=this._getAvailableItems(),i=this._isMenuHorizontal(),r=this._getActiveItem(!0);switch(n){case"up":s=i?jx:this._getItemsNavigationOperation(dc),h=this._getKeyboardNavigationAction(s,i?r:t)();break;case"down":s=i?jx:this._getItemsNavigationOperation(K_),h=this._getKeyboardNavigationAction(s,i?r:t)();break;case"right":s=i?this._getItemsNavigationOperation(K_):jx,h=this._getKeyboardNavigationAction(s,i?t:r)();break;case"left":s=i?this._getItemsNavigationOperation(dc):jx,h=this._getKeyboardNavigationAction(s,i?t:r)();break;default:return super._moveFocus(n)}h&&0!==h.length&&this.option("focusedElement",Ke(h))}_getItemsNavigationOperation(n){var t=n;return this.option("rtlEnabled")&&(t=n===dc?K_:dc),t}_getKeyboardNavigationAction(n,t){var i=U;switch(n){case jx:t.hasClass("dx-state-disabled")||(i=this._showSubmenu.bind(this,t));break;case K_:i=this._nextItem.bind(this,t);break;case dc:i=this._prevItem.bind(this,t)}return i}_clean(){super._clean(),this.option("templatesRenderAsynchronously")&&clearTimeout(this._resizeEventTimer)}_visibilityChanged(n){n&&(this._menuItemsWidth||this._updateItemsWidthCache(),this._dimensionChanged())}_isAdaptivityEnabled(){return this.option("adaptivityEnabled")&&"horizontal"===this.option("orientation")}_updateItemsWidthCache(){var n=this.$element().find("ul").first().children("li").children(".".concat(HL));this._menuItemsWidth=this._getSummaryItemsWidth(n,!0)}_dimensionChanged(){if(this._isAdaptivityEnabled()){var n=wt(this.$element());this._toggleAdaptiveMode(this._menuItemsWidth>n)}}_init(){super._init(),this._submenus=[]}_initActions(){this._actions={},B(V4,(n,t)=>{this._actions[t]=this._createActionByOption(t)})}_initMarkup(){this._visibleSubmenu=null,this.$element().addClass(Rp),super._initMarkup(),this._addCustomCssClass(this.$element()),this.setAria("role","menubar")}_render(){super._render(),this._initAdaptivity()}_renderHamburgerButton(){return this._hamburger=new Ui(x("<div>").addClass(L4),{icon:"menu",activeStateEnabled:!1,onClick:this._toggleTreeView.bind(this)}),this._hamburger.$element()}_toggleTreeView(n){ft(n)&&(n=!this._overlay.option("visible")),this._overlay.option("visible",n),this._toggleHamburgerActiveState(n)}_toggleHamburgerActiveState(n){this._hamburger&&this._hamburger.$element().toggleClass("dx-state-active",n)}_toggleAdaptiveMode(n){var t=this.$element().find(".".concat(F4)),i=this.$element().find(".".concat(q0));n?this._hideVisibleSubmenu():(this._treeView&&this._treeView.collapseAll(),this._overlay&&this._toggleTreeView(n)),t.toggle(!n),i.toggle(n)}_removeAdaptivity(){this._$adaptiveContainer&&(this._toggleAdaptiveMode(!1),this._$adaptiveContainer.remove(),this._$adaptiveContainer=null,this._treeView=null,this._hamburger=null,this._overlay=null)}_treeviewItemClickHandler(n){this._actions.onItemClick(n),n.node.children.length||this._toggleTreeView(!1)}_getAdaptiveOverlayOptions(){var t=this.option("rtlEnabled")?"right":"left";return{_ignoreFunctionValueDeprecation:!0,maxHeight:()=>P4(this.$element()),deferRendering:!1,shading:!1,animation:!1,hideOnParentScroll:!0,onHidden:()=>{this._toggleHamburgerActiveState(!1)},height:"auto",hideOnOutsideClick:i=>!x(i.target).closest(".".concat(L4)).length,position:{collision:"flipfit",at:"bottom "+t,my:"top "+t,of:this._hamburger.$element()}}}_getTreeViewOptions(){var n={};return B(["rtlEnabled","width","accessKey","activeStateEnabled","animation","dataSource","disabled","displayExpr","displayExpr","focusStateEnabled","hint","hoverStateEnabled","itemsExpr","items","itemTemplate","selectedExpr","selectionMode","tabIndex","visible"],(t,i)=>{n[i]=this.option(i)}),B(["onItemContextMenu","onSelectionChanged","onItemRendered"],(t,i)=>{n[i]=r=>{this._actions[i](r)}}),A(n,{dataSource:this.getDataSource(),animationEnabled:!!this.option("animation"),onItemClick:this._treeviewItemClickHandler.bind(this),onItemExpanded:t=>{this._overlay.repaint(),this._actions.onSubmenuShown(t)},onItemCollapsed:t=>{this._overlay.repaint(),this._actions.onSubmenuHidden(t)},selectNodesRecursive:!1,selectByClick:this.option("selectByClick"),expandEvent:"click"})}_initAdaptivity(){if(this._isAdaptivityEnabled()){this._$adaptiveContainer=x("<div>").addClass(q0);var n=this._renderHamburgerButton();this._treeView=this._createComponent(x("<div>"),D0,this._getTreeViewOptions()),this._overlay=this._createComponent(x("<div>"),Nu,this._getAdaptiveOverlayOptions()),this._overlay.$content().append(this._treeView.$element()).addClass(q0).addClass(this.option("cssClass")),this._overlay.$wrapper().addClass(hfe),this._$adaptiveContainer.append(n),this._$adaptiveContainer.append(this._overlay.$element()),this.$element().append(this._$adaptiveContainer),this._updateItemsWidthCache(),this._dimensionChanged()}}_getDelay(n){var t=this.option("showFirstSubmenuMode").delay;return T(t)?qe(t)?t[n]:t:mfe[n]}_keyboardHandler(n){return super._keyboardHandler(n,!!this._visibleSubmenu)}_renderContainer(){var n=x("<div>");return n.appendTo(this.$element()).addClass(this._isMenuHorizontal()?F4:afe),super._renderContainer(n)}_renderSubmenuItems(n,t){var i=this._createSubmenu(n,t);return this._submenus.push(i),this._renderBorderElement(t),i}_getKeyboardListeners(){return super._getKeyboardListeners().concat(this._visibleSubmenu)}_createSubmenu(n,t){var i=x("<div>").addClass(Y0).appendTo(t),r=this._getChildNodes(n),o=this._createComponent(i,NL,A(this._getSubmenuOptions(),{_dataAdapter:this._dataAdapter,_parentKey:n.internalFields.key,items:r,onHoverStart:this._clearTimeouts.bind(this),position:this.getSubmenuPosition(t)}));return this._attachSubmenuHandlers(t,o),o}_getSubmenuOptions(){var n=x("<div>"),t=this._isMenuHorizontal();return{itemTemplate:this.option("itemTemplate"),target:n,orientation:this.option("orientation"),selectionMode:this.option("selectionMode"),cssClass:this.option("cssClass"),selectByClick:this.option("selectByClick"),hoverStateEnabled:this.option("hoverStateEnabled"),activeStateEnabled:this.option("activeStateEnabled"),focusStateEnabled:this.option("focusStateEnabled"),animation:this.option("animation"),showSubmenuMode:this.option("showSubmenuMode"),displayExpr:this.option("displayExpr"),disabledExpr:this.option("disabledExpr"),selectedExpr:this.option("selectedExpr"),itemsExpr:this.option("itemsExpr"),onFocusedItemChanged:i=>{i.component.option("visible")&&this.option("focusedElement",i.component.option("focusedElement"))},onSelectionChanged:this._nestedItemOnSelectionChangedHandler.bind(this),onItemClick:this._nestedItemOnItemClickHandler.bind(this),onItemRendered:this._nestedItemOnItemRenderedHandler.bind(this),onLeftFirstItem:t?null:this._moveMainMenuFocus.bind(this,dc),onLeftLastItem:t?null:this._moveMainMenuFocus.bind(this,K_),onCloseRootSubmenu:this._moveMainMenuFocus.bind(this,t?dc:null),onExpandLastSubmenu:t?this._moveMainMenuFocus.bind(this,K_):null}}_getShowFirstSubmenuMode(){if(!this._isDesktopDevice())return"onClick";var n=this.option("showFirstSubmenuMode");return qe(n)?n.name:n}_moveMainMenuFocus(n){var t=this._getAvailableItems(),i=t.length,r=t.filter(".".concat(zL)).eq(0),o=t.index(r);this._hideSubmenu(this._visibleSubmenu),(o+=n===dc?-1:1)>=i?o=0:o<0&&(o=i-1);var s=t.eq(o);this.option("focusedElement",Ke(s))}_nestedItemOnSelectionChangedHandler(n){var t=n.addedItems.length&&n.addedItems[0],i=NL.getInstance(n.element);(0,this._actions.onSelectionChanged)(n),t&&this._clearSelectionInSubmenus(t[0],i),this._clearRootSelection(),this._setOptionWithoutOptionChange("selectedItem",t)}_clearSelectionInSubmenus(n,t){var i=!arguments.length;B(this._submenus,(r,o)=>{var s=o._itemContainer(),l=!s.is(t&&t._itemContainer()),h=s.find(".".concat(this._selectedItemClass()));if(l&&h.length||i){h.removeClass(this._selectedItemClass());var g=this._getItemData(h);g&&(g.selected=!1),o._clearSelectedItems()}})}_clearRootSelection(){var n=this.$element().find(".".concat(k4)).first().children().children().filter(".".concat(this._selectedItemClass()));n.length&&(this._getItemData(n).selected=!1,n.removeClass(this._selectedItemClass()))}_nestedItemOnItemClickHandler(n){this._actions.onItemClick(n)}_nestedItemOnItemRenderedHandler(n){this._actions.onItemRendered(n)}_attachSubmenuHandlers(n,t){var r=t.getOverlayContent().find(".".concat("dx-submenu")),o=fe(Py,this.NAME+"_submenu");t.option({onShowing:this._submenuOnShowingHandler.bind(this,n,t),onShown:this._submenuOnShownHandler.bind(this,n,t),onHiding:this._submenuOnHidingHandler.bind(this,n,t),onHidden:this._submenuOnHiddenHandler.bind(this,n,t)}),B(r,(s,l)=>{R.off(l,o),R.on(l,o,null,this._submenuMouseLeaveHandler.bind(this,n))})}_submenuOnShowingHandler(n,t){var i=n.children(".".concat(WL));this._actions.onSubmenuShowing({rootItem:Ke(n),submenu:t}),i.show(),n.addClass(zL)}_submenuOnShownHandler(n,t){this._actions.onSubmenuShown({rootItem:Ke(n),submenu:t})}_submenuOnHidingHandler(n,t,i){var r=n.children(".".concat(WL)),o=i;o.rootItem=Ke(n),o.submenu=t,this._actions.onSubmenuHiding(o),(i=o).cancel||(this._visibleSubmenu===t&&(this._visibleSubmenu=null),r.hide(),n.removeClass(zL))}_submenuOnHiddenHandler(n,t){this._actions.onSubmenuHidden({rootItem:Ke(n),submenu:t})}_submenuMouseLeaveHandler(n,t){var i=x(t.relatedTarget).parents(".".concat(Y0))[0],r=this._getSubmenuByRootElement(n).getOverlayContent()[0];this.option("hideSubmenuOnMouseLeave")&&i!==r&&(this._clearTimeouts(),setTimeout(this._hideSubmenuAfterTimeout.bind(this),this._getDelay("hide")))}_hideSubmenuAfterTimeout(){if(this._visibleSubmenu){var n=x(this._visibleSubmenu.$element().context).hasClass(B4),t=this._visibleSubmenu.getOverlayContent().find(".".concat(B4)).length;!this._visibleSubmenu.getOverlayContent().get(0).querySelector(":hover")&&!t&&!n&&this._visibleSubmenu.hide()}}_getSubmenuByRootElement(n){if(!n)return!1;var t=n.children(".".concat(Y0));return t.length&&NL.getInstance(t)}getSubmenuPosition(n){var t=this._isMenuHorizontal(),i=this.option("submenuDirection").toLowerCase(),r=this.option("rtlEnabled"),o={collision:"flip",of:n};switch(i){case"leftortop":o.at="left top",o.my=t?"left bottom":"right top";break;case"rightorbottom":o.at=t?"left bottom":"right top",o.my="left top";break;default:t?(o.at=r?"right bottom":"left bottom",o.my=r?"right top":"left top"):(o.at=r?"left top":"right top",o.my=r?"right top":"left top")}return o}_renderBorderElement(n){x("<div>").appendTo(n).addClass(WL).hide()}_itemPointerDownHandler(n){x(n.target).closest(this._itemElements()).hasClass("dx-menu-item-has-submenu")?this.option("focusedElement",null):super._itemPointerDownHandler(n)}_hoverStartHandler(n){var t=fe(Rt.move,this.NAME),i=this._getItemElementByEventArgs(n),r=this._dataAdapter.getNodeByItem(this._getItemData(i)),o=T(n.buttons)&&1===n.buttons||!T(n.buttons)&&1===n.which;if(!this._isItemDisabled(i)){if(R.off(i,t),!this._hasChildren(r))return void(this._showSubmenuTimer=setTimeout(this._hideSubmenuAfterTimeout.bind(this),this._getDelay("hide")));if("onHover"===this._getShowFirstSubmenuMode()&&!o){var s=this._getSubmenuByElement(i);this._clearTimeouts(),s.isOverlayVisible()||(R.on(i,t,this._itemMouseMoveHandler.bind(this)),this._showSubmenuTimer=this._getDelay("hide"))}}}_hoverEndHandler(n){var t=this._getItemElementByEventArgs(n),i=x(n.relatedTarget);super._hoverEndHandler(n),this._clearTimeouts(),!this._isItemDisabled(t)&&(i.hasClass("dx-context-menu-content-delimiter")||this.option("hideSubmenuOnMouseLeave")&&!i.hasClass(k4)&&(this._hideSubmenuTimer=setTimeout(()=>{this._hideSubmenuAfterTimeout()},this._getDelay("hide"))))}_hideVisibleSubmenu(){return!!this._visibleSubmenu&&(this._hideSubmenu(this._visibleSubmenu),!0)}_showSubmenu(n){var t=this._getSubmenuByElement(n);this._visibleSubmenu!==t&&this._hideVisibleSubmenu(),t&&(this._clearTimeouts(),this.focus(),t.show(),this.option("focusedElement",t.option("focusedElement"))),this._visibleSubmenu=t,this._hoveredRootItem=n}_hideSubmenu(n){n&&n.hide(),this._visibleSubmenu===n&&(this._visibleSubmenu=null),this._hoveredRootItem=null}_itemMouseMoveHandler(n){if(!n.pointers||!n.pointers.length){var t=x(n.currentTarget);T(this._showSubmenuTimer)&&(this._clearTimeouts(),this._showSubmenuTimer=setTimeout(()=>{var i=this._getSubmenuByElement(t);i&&!i.isOverlayVisible()&&this._showSubmenu(t)},this._getDelay("show")))}}_clearTimeouts(){clearTimeout(this._hideSubmenuTimer),clearTimeout(this._showSubmenuTimer)}_getSubmenuByElement(n,t){var i=this._getSubmenuByRootElement(n);if(i)return i;t=t||this._getItemData(n);var r=this._dataAdapter.getNodeByItem(t);return this._hasChildren(r)&&this._renderSubmenuItems(r,n)}_updateSubmenuVisibilityOnClick(n){var t=n.args.length&&n.args[0];if(t&&!this._disabledGetter(t.itemData)){var i=x(t.itemElement),r=this._getSubmenuByElement(i,t.itemData);if(this._updateSelectedItemOnClick(n),this._visibleSubmenu){if(this._visibleSubmenu===r)return void("onClick"===this.option("showFirstSubmenuMode")&&this._hideSubmenu(this._visibleSubmenu));this._hideSubmenu(this._visibleSubmenu)}if(r&&!r.isOverlayVisible())return void this._showSubmenu(i)}}_optionChanged(n){if(V4.indexOf(n.name)>=0)this._initActions();else switch(n.name){case"orientation":case"submenuDirection":this._invalidate();break;case"showFirstSubmenuMode":case"hideSubmenuOnMouseLeave":break;case"showSubmenuMode":this._changeSubmenusOption(n.name,n.value);break;case"adaptivityEnabled":n.value?this._initAdaptivity():this._removeAdaptivity();break;case"width":this._isAdaptivityEnabled()&&(this._treeView.option(n.name,n.value),this._overlay.option(n.name,n.value)),super._optionChanged(n),this._dimensionChanged();break;case"animation":this._isAdaptivityEnabled()&&this._treeView.option("animationEnabled",!!n.value),super._optionChanged(n);break;default:this._isAdaptivityEnabled()&&(n.name===n.fullName||"items"===n.name)&&this._treeView.option(n.fullName,n.value),super._optionChanged(n)}}_changeSubmenusOption(n,t){B(this._submenus,(i,r)=>{r.option(n,t)})}selectItem(n){this._hideSubmenu(this._visibleSubmenu),super.selectItem(n)}unselectItem(n){this._hideSubmenu(this._visibleSubmenu),super.selectItem(n)}}Dt("dxMenu",N4);const H4=N4;var $L={"=":"filter-operation-equals","<>":"filter-operation-not-equals","<":"filter-operation-less","<=":"filter-operation-less-equal",">":"filter-operation-greater",">=":"filter-operation-greater-equal",default:"filter-operation-default",notcontains:"filter-operation-not-contains",contains:"filter-operation-contains",startswith:"filter-operation-starts-with",endswith:"filter-operation-ends-with",between:"filter-operation-between"},z4={"=":"equal","<>":"notEqual","<":"lessThan","<=":"lessThanOrEqual",">":"greaterThan",">=":"greaterThanOrEqual",startswith:"startsWith",contains:"contains",notcontains:"notContains",endswith:"endsWith",between:"between"},Kx="filter-row",J0="filter-range-overlay",X0="filter-range-start",$4="dx-menu",G4="dx-editor-with-menu",Pp="dx-editor-container",GL="dx-editor-cell",UL="dx-highlight-outline",U4="dx-focused",jL="dx-filter-range-content",KL="dx-filter-modified",Yx="input:not([type='hidden'])",Ofe=["date","datetime","number"],Dfe=J.format("dxDataGrid-ariaSearchBox");function Y_(e){return"onClick"===e.option("filterRow.applyFilter")}var YL=function(e){var n=e&&e.children(),t=n&&n.data("dxComponents"),i=t&&t.length&&n.data(t[0]);return i instanceof Ul?i:null},Sfe=function(){var e=function(o,s){var l="",h="",g=n(o,s),_=xe.getFormatOptionsByColumn(s,"filterRow");return Array.isArray(g)?(l=xe.formatValue(g[0],_),""!==(h=xe.formatValue(g[1],_))&&(l+=" - ".concat(h))):T(g)&&(l=xe.formatValue(g,_)),l};function n(o,s){if(s)return Y_(o)&&void 0!==s.bufferedFilterValue?s.bufferedFilterValue:s.filterValue}var t=function(o,s){if(s)return Y_(o)&&void 0!==s.bufferedSelectedFilterOperation?s.bufferedSelectedFilterOperation:s.selectedFilterOperation},i=function(o,s,l){var C,b,h=o._columnsController.columnOption(s),g=n(o,h),_=l.closest(".".concat(o.addWidgetPrefix(J0))).length,v=l.hasClass(o.addWidgetPrefix(X0));return g&&Array.isArray(g)&&"between"===t(o,h)?v?g[0]:g[1]:_||(C=g,(b=h)&&Ofe.includes(b.dataType)&&Array.isArray(C)||void 0===C)?null:g};return{_updateEditorValue(o,s){var l=YL(s);l&&l.option("value",i(this,o.index,s))},_columnOptionChanged(o){var l,h,g,_,{optionNames:s}=o;if(xe.checkChanges(s,["filterValue","bufferedFilterValue","selectedFilterOperation","bufferedSelectedFilterOperation","filterValues","filterType"])&&void 0!==o.columnIndex){var v=this._columnsController.getVisibleIndex(o.columnIndex),C=this._columnsController.columnOption(o.columnIndex);if(h=(l=this._getCellElement(this.element().find(".".concat(this.addWidgetPrefix(Kx))).index(),v)||x()).find(".".concat(Pp)).first(),s.filterValue||s.bufferedFilterValue){this._updateEditorValue(C,h);var b=l.find(".".concat(this.addWidgetPrefix(J0))).data("dxOverlay");b&&(g=b.$content().find(".".concat(Pp)),this._updateEditorValue(C,g.first()),this._updateEditorValue(C,g.last())),(!b||!b.option("visible"))&&this._updateFilterRangeContent(l,e(this,C))}(s.selectedFilterOperation||s.bufferedSelectedFilterOperation)&&v>=0&&C&&(_=l.find(".".concat($4))).length&&(this._updateFilterOperationChooser(_,C,h),"between"===t(this,C)?this._renderFilterRangeContent(l,C):h.find(".".concat(jL)).length&&(this._renderEditor(h,this._getEditorOptions(h,C)),this._hideFilterRange()))}else this.callBase(o)},_renderCore(){return this._filterRangeOverlayInstance=null,this.callBase.apply(this,arguments)},_resizeCore(){this.callBase.apply(this,arguments),this._filterRangeOverlayInstance&&this._filterRangeOverlayInstance.repaint()},isFilterRowVisible(){return this._isElementVisible(this.option("filterRow"))},isVisible(){return this.callBase()||this.isFilterRowVisible()},init(){this.callBase(),this._applyFilterViewController=this.getController("applyFilter")},_initFilterRangeOverlay(o,s){var l=this,h={},g=o.find(".dx-editor-container"),_=l.addWidgetPrefix(J0),v=x("<div>").addClass(_).appendTo(o);return l._createComponent(v,Nu,{height:"auto",shading:!1,showTitle:!1,focusStateEnabled:!1,hideOnOutsideClick:!0,wrapperAttr:{class:_},animation:!1,position:{my:"top",at:"top",of:g.length&&g||o,offset:"0 -1"},contentTemplate(C){var b,E=x("<div>").addClass("".concat(Pp," ").concat(l.addWidgetPrefix(X0))).appendTo(C);return s=l._columnsController.columnOption(s.index),(b=l._getEditorOptions(E,s)).sharedData=h,l._renderEditor(E,b),R.on(E.find(Yx),"keydown",w=>{var M=o.find("[tabindex]").not(w.target).first();"tab"===xn(w)&&w.shiftKey&&(w.preventDefault(),l._hideFilterRange(),M.length||(M=o.prev().find("[tabindex]").last()),R.trigger(M,"focus"))}),E=x("<div>").addClass("".concat(Pp," ").concat(l.addWidgetPrefix("filter-range-end"))).appendTo(C),(b=l._getEditorOptions(E,s)).sharedData=h,l._renderEditor(E,b),R.on(E.find(Yx),"keydown",w=>{"tab"===xn(w)&&!w.shiftKey&&(w.preventDefault(),l._hideFilterRange(),R.trigger(o.next().find("[tabindex]").first(),"focus"))}),x(C).addClass(l.getWidgetContainerClass())},onShown(C){var b=C.component.$content().find(".".concat(Pp)).first();R.trigger(b.find(Yx),"focus")},onHidden(){s=l._columnsController.columnOption(s.index),o.find(".".concat($4)).parent().addClass(G4),"between"===t(l,s)&&(l._updateFilterRangeContent(o,e(l,s)),l.component.updateDimensions())}})},_updateFilterRangeOverlay(o){var s=this._filterRangeOverlayInstance;s&&s.option(o)},_showFilterRange(o,s){var l=o.children(".".concat(this.addWidgetPrefix(J0))),h=l.length&&l.data("dxOverlay");!h&&s&&(h=this._initFilterRangeOverlay(o,s)),h.option("visible")||(this._filterRangeOverlayInstance&&this._filterRangeOverlayInstance.hide(),this._filterRangeOverlayInstance=h,this._updateFilterRangeOverlay({width:wt(o,!0)+1}),this._filterRangeOverlayInstance&&this._filterRangeOverlayInstance.show())},_hideFilterRange(){var o=this._filterRangeOverlayInstance;o&&o.hide()},getFilterRangeOverlayInstance(){return this._filterRangeOverlayInstance},_createRow(o){var s=this.callBase(o);return"filter"===o.rowType&&(s.addClass(this.addWidgetPrefix(Kx)),this.option("useLegacyKeyboardNavigation")||R.on(s,"keydown",l=>oB("filterRow",this,l))),s},_getRows(){var o=this.callBase();return this.isFilterRowVisible()&&o.push({rowType:"filter"}),o},_renderFilterCell(o,s){var{column:l}=s,h=x(o);this.component.option("showColumnHeaders")&&this.setAria("describedby",l.headerId,h),this.setAria("label",J.format("dxDataGrid-ariaFilterCell"),h),h.addClass(GL);var g=x("<div>").appendTo(h),_=x("<div>").addClass(Pp).appendTo(g);if("between"===t(this,l))this._renderFilterRangeContent(h,l);else{var v=this._getEditorOptions(_,l);this._renderEditor(_,v)}var{alignment:C}=l;C&&"center"!==C&&h.find(Yx).first().css("textAlign",l.alignment),l.filterOperations&&l.filterOperations.length&&this._renderFilterOperationChooser(g,l,_)},_renderCellContent(o,s){var l=this,{column:h}=s;if("filter"===s.rowType)if(h.command)o.html("&nbsp;");else if(h.allowFiltering)return void l.renderTemplate(o,l._renderFilterCell.bind(l),s).done(()=>{l._updateCell(o,s)});this.callBase.apply(this,arguments)},_getEditorOptions(o,s){var l=this,h={editorOptions:{inputAttr:l._getFilterInputAccessibilityAttributes(s)}},g=A(h,s,{value:i(l,s.index,o),parentType:"filterRow",showAllText:l.option("filterRow.showAllText"),updateValueTimeout:"onClick"===l.option("filterRow.applyFilter")?0:700,width:null,setValue(_,v){!function(o,s){var l=""===s.value?null:s.value,h=s.container,g=o._columnsController.columnOption(s.column.index),_=i(o,g.index,h);if(T(_)||T(l)){o._applyFilterViewController.setHighLight(h,_!==l);var v=Y_(o)?"bufferedFilterValue":"filterValue",C=function(w,M,k,L){if("between"===t(w,k)){var G=n(w,k);return L.hasClass(w.addWidgetPrefix(X0))?[M,Array.isArray(G)?G[1]:void 0]:[Array.isArray(G)?G[0]:G,M]}return M}(o,l,g,h),b="between"===t(o,g),E=s.notFireEvent||b&&Array.isArray(C)&&C.includes(void 0);o._columnsController.columnOption(g.index,v,C,E)}}(l,{column:s,value:_,container:o,notFireEvent:v})}});return"between"===t(l,s)&&(g.placeholder=o.hasClass(l.addWidgetPrefix(X0))?l.option("filterRow.betweenStartText"):l.option("filterRow.betweenEndText")),g},_getFilterInputAccessibilityAttributes(o){var s=J.format("dxDataGrid-ariaFilterCell");return this.component.option("showColumnHeaders")?{"aria-label":s,"aria-describedby":o.headerId}:{"aria-label":s}},_renderEditor(o,s){o.empty();var l=x("<div>").appendTo(o),h=this.getController("editorFactory"),g=this.getController("data").dataSource(),_=this.getController("applyFilter");if(s.lookup&&this.option("syncLookupFilterValues")){_.setCurrentColumnForFiltering(s);var v=this.getController("data").getCombinedFilter();_.setCurrentColumnForFiltering(null);var C=xe.getWrappedLookupDataSource(s,g,v),b=de(de({},s),{lookup:de(de({},s.lookup),{dataSource:C})});return h.createEditor(l,b)}return h.createEditor(l,s)},_renderFilterRangeContent(o,s){var l=this,h=o.find(".".concat(Pp)).first();h.empty();var g=x("<div>").addClass(jL).attr("tabindex",this.option("tabIndex"));R.on(g,"focusin",()=>{l._showFilterRange(o,s)}),g.appendTo(h),l._updateFilterRangeContent(o,e(l,s))},_updateFilterRangeContent(o,s){var l=o.find(".".concat(jL));l.length&&(""===s?l.html("&nbsp;"):l.text(s))},_updateFilterOperationChooser(o,s,l){var g,h=this,_=function(){var v=H4.getInstance(o);v&&v.option("focusedElement",null),g&&h._focusEditor(l)};h._createComponent(o,H4,{integrationOptions:{},activeStateEnabled:!1,selectionMode:"single",cssClass:"".concat(h.getWidgetContainerClass()," ").concat("dx-cell-focus-disabled"," ").concat("dx-filter-menu"),showFirstSubmenuMode:"onHover",hideSubmenuOnMouseLeave:!0,elementAttr:{"aria-label":Dfe},items:[{disabled:!(s.filterOperations&&s.filterOperations.length),icon:$L[t(h,s)||"default"],selectable:!1,items:h._getFilterOperationMenuItems(s)}],onItemClick(v){var C=v.itemData.name,b=t(h,s),E=!1,w=Y_(h),M={};if(!(v.itemData.items||C&&C===b)){if(C?(M[w?"bufferedSelectedFilterOperation":"selectedFilterOperation"]=C,("between"===C||"between"===b)&&(E="between"===C,M[w?"bufferedFilterValue":"filterValue"]=null)):(M[w?"bufferedFilterValue":"filterValue"]=null,M[w?"bufferedSelectedFilterOperation":"selectedFilterOperation"]=s.defaultSelectedFilterOperation||null),h._columnsController.columnOption(s.index,M),h._applyFilterViewController.setHighLight(l,!0),!C){var k=YL(l);k&&"dxDateBox"===k.NAME&&!k.option("isValid")&&(k.reset(),k.option("isValid",!0))}E?h._showFilterRange(l.closest(".".concat(GL)),s):h._focusEditor(l)}},onSubmenuShowing(){g=h._isEditorFocused(l),h.getController("editorFactory").loseFocus()},onSubmenuHiding(){R.trigger(o,"blur"),_()},onContentReady(v){R.on(o,"blur",()=>{v.component._hideSubmenuAfterTimeout(),_()})},rtlEnabled:h.option("rtlEnabled")})},_isEditorFocused:o=>o.hasClass(U4)||o.parents(".".concat(U4)).length,_focusEditor(o){this.getController("editorFactory").focus(o),R.trigger(o.find(Yx),"focus")},_renderFilterOperationChooser(o,s,l){var h;this.option("filterRow.showOperationChooser")&&(o.addClass(G4),h=x("<div>").prependTo(o),this._updateFilterOperationChooser(h,s,l))},_getFilterOperationMenuItems(o){var s=this,l=[{}],h=s.option("filterRow"),g=h&&h.operationDescriptions||{};if(o.filterOperations&&o.filterOperations.length){var _=o.filterOperations.filter(v=>T(z4[v]));(l=Fn(_,v=>{var C=z4[v];return{name:v,selected:(t(s,o)||o.defaultFilterOperation)===v,text:g[C],icon:$L[v]}})).push({name:null,text:h&&h.resetOperationText,icon:$L.default})}return l},_handleDataChanged(o){var s,l,h;this.callBase.apply(this,arguments),(null!==(s=o.operationTypes)&&void 0!==s&&s.filtering||null!==(l=o.operationTypes)&&void 0!==l&&l.fullReload)&&this.updateLookupDataSource(null===(h=o.operationTypes)||void 0===h?void 0:h.filtering)},updateLookupDataSource(o){if(this.option("syncLookupFilterValues")&&this.element()){var s=this._columnsController.getVisibleColumns(),l=this._dataController.dataSource(),h=this._applyFilterViewController,g=this.element().find(".".concat(this.addWidgetPrefix(Kx))).index();-1!==g&&s.forEach((_,v)=>{if(_.lookup&&_.calculateCellValue===_.defaultCalculateCellValue){var C=this._getCellElement(g,v),b=YL(C?.find(".dx-editor-container"));if(b){h.setCurrentColumnForFiltering(_);var E=this._dataController.getCombinedFilter()||null;h.setCurrentColumnForFiltering(null);var w=b.option("dataSource");if(!o||!Jt(w.__dataGridSourceFilter,E)){var k=xe.getWrappedLookupDataSource(_,l,E);b.option("dataSource",k)}}}})}},optionChanged(o){switch(o.name){case"filterRow":case"showColumnLines":this._invalidate(!0,!0),o.handled=!0;break;case"syncLookupFilterValues":o.value?this.updateLookupDataSource():this.render(),o.handled=!0;break;default:this.callBase(o)}}}}(),Efe={skipCalculateColumnFilters:()=>!1,_calculateAdditionalFilter(){if(this.skipCalculateColumnFilters())return this.callBase();var e=[this.callBase()],n=this._columnsController.getVisibleColumns(null,!0),t=this.getController("applyFilter");return B(n,function(){var i,r=(null===(i=t.getCurrentColumnForFiltering())||void 0===i?void 0:i.index)===this.index;if(this.allowFiltering&&this.calculateFilterExpression&&T(this.filterValue)&&!r){var o=this.createFilterExpression(this.filterValue,this.selectedFilterOperation||this.defaultFilterOperation,"filterRow");e.push(o)}}),xe.combineFilters(e)}},wfe=dn.ViewController.inherit({_getHeaderPanel(){return this._headerPanel||(this._headerPanel=this.getView("headerPanel")),this._headerPanel},setHighLight(e,n){Y_(this)&&(e&&e.toggleClass(UL,n)&&e.closest(".".concat(GL)).toggleClass(KL,n),this._getHeaderPanel().enableApplyButton(n))},applyFilter(){var e=this.getController("columns"),n=e.getColumns();e.beginUpdate();for(var t=0;t<n.length;t++){var i=n[t];void 0!==i.bufferedFilterValue&&(e.columnOption(t,"filterValue",i.bufferedFilterValue),i.bufferedFilterValue=void 0),void 0!==i.bufferedSelectedFilterOperation&&(e.columnOption(t,"selectedFilterOperation",i.bufferedSelectedFilterOperation),i.bufferedSelectedFilterOperation=void 0)}e.endUpdate(),this.removeHighLights()},removeHighLights(){if(Y_(this)){var e=this.getView("columnHeadersView").element();e.find(".".concat(this.addWidgetPrefix(Kx)," .").concat(UL)).removeClass(UL),e.find(".".concat(this.addWidgetPrefix(Kx)," .").concat(KL)).removeClass(KL),this._getHeaderPanel().enableApplyButton(!1)}},setCurrentColumnForFiltering(e){this._currentColumn=e},getCurrentColumnForFiltering(){return this._currentColumn}}),Ife={defaultOptions:()=>({syncLookupFilterValues:!0,filterRow:{visible:!1,showOperationChooser:!0,showAllText:J.format("dxDataGrid-filterRowShowAllText"),resetOperationText:J.format("dxDataGrid-filterRowResetOperationText"),applyFilter:"auto",applyFilterText:J.format("dxDataGrid-applyFilterText"),operationDescriptions:{equal:J.format("dxDataGrid-filterRowOperationEquals"),notEqual:J.format("dxDataGrid-filterRowOperationNotEquals"),lessThan:J.format("dxDataGrid-filterRowOperationLess"),lessThanOrEqual:J.format("dxDataGrid-filterRowOperationLessOrEquals"),greaterThan:J.format("dxDataGrid-filterRowOperationGreater"),greaterThanOrEqual:J.format("dxDataGrid-filterRowOperationGreaterOrEquals"),startsWith:J.format("dxDataGrid-filterRowOperationStartsWith"),contains:J.format("dxDataGrid-filterRowOperationContains"),notContains:J.format("dxDataGrid-filterRowOperationNotContains"),endsWith:J.format("dxDataGrid-filterRowOperationEndsWith"),between:J.format("dxDataGrid-filterRowOperationBetween"),isBlank:J.format("dxFilterBuilder-filterOperationIsBlank"),isNotBlank:J.format("dxFilterBuilder-filterOperationIsNotBlank")},betweenStartText:J.format("dxDataGrid-filterRowOperationBetweenStartText"),betweenEndText:J.format("dxDataGrid-filterRowOperationBetweenEndText")}}),controllers:{applyFilter:wfe},extenders:{controllers:{data:Efe,columnsResizer:{_startResizing(){if(this.callBase.apply(this,arguments),this.isResizing()){var e=this._columnHeadersView.getFilterRangeOverlayInstance();if(e){var n=e.$element().closest("td").index();(n===this._targetPoint.columnIndex||n===this._targetPoint.columnIndex+1)&&e.$content().hide()}}},_endResizing(){var e;if(this.isResizing()){var n=this._columnHeadersView.getFilterRangeOverlayInstance();n&&(e=n.$element().closest("td"),this._columnHeadersView._updateFilterRangeOverlay({width:wt(e,!0)+1}),n.$content().show())}this.callBase.apply(this,arguments)}},editing:{updateFieldValue(e){return e.column.lookup&&(this._needUpdateLookupDataSource=!0),this.callBase.apply(this,arguments)},_afterSaveEditData(e){var n;return this._needUpdateLookupDataSource&&!e&&(null===(n=this.getView("columnHeadersView"))||void 0===n||n.updateLookupDataSource()),this._needUpdateLookupDataSource=!1,this.callBase.apply(this,arguments)},_afterCancelEditData(){return this._needUpdateLookupDataSource=!1,this.callBase.apply(this,arguments)}}},views:{columnHeadersView:Sfe,headerPanel:{_getToolbarItems(){var e=this.callBase();return this._prepareFilterItem(e).concat(e)},_prepareFilterItem(){var e=this,n=[];if(e._isShowApplyFilterButton()){var t=e.option("filterRow.applyFilterText"),r=!e._columnsController.getColumns().filter(s=>void 0!==s.bufferedFilterValue).length;n.push({widget:"dxButton",options:{icon:"apply-filter",disabled:r,onClick:function(){e._applyFilterViewController.applyFilter()},hint:t,text:t,onInitialized:function(s){x(s.element).addClass(e._getToolbarButtonClass("dx-apply-button"))}},showText:"inMenu",name:"applyFilterButton",location:"after",locateInMenu:"auto",sortIndex:10})}return n},_isShowApplyFilterButton(){var e=this.option("filterRow");return e&&e.visible&&"onClick"===e.applyFilter},init(){this.callBase(),this._dataController=this.getController("data"),this._applyFilterViewController=this.getController("applyFilter")},enableApplyButton(e){this.setToolbarItemDisabled("applyFilterButton",!e)},isVisible(){return this.callBase()||this._isShowApplyFilterButton()},optionChanged(e){"filterRow"===e.name?(this._invalidate(),e.handled=!0):this.callBase(e)}}}}};Ge.registerModule("filterRow",Ife),Cp.setEditorClass(jy);var j4="dx-header-filter",K4="dx-header-filter-menu";function Y4(e){e=e||[];for(var n=0;n<e.length;n++)e[n].selected=!1,Y4(e[n].items)}function q4(e){var n="dxTreeView"===e.NAME?".dx-treeview-select-all-item":".dx-list-select-all-checkbox";return e.$element().find(n).dxCheckBox("instance")}function J4(e,n){if(!e.component.option("searchValue")){var t=q4(e.component);t&&n&&n.length&&t.option("value",void 0)}}function Mfe(e,n,t){if(n^t){if(e.selected=!0,t&&e.items)for(var i=0;i<e.items.length;i++)if(!e.items[i].selected){e.selected=void 0;break}}else(t||e.selected)&&(e.selected=!1,Y4(e.items))}var Afe=dn.View.inherit({getPopupContainer(){return this._popupContainer},getListComponent(){return this._listComponent},applyHeaderFilter(e){var n=this.getListComponent(),t=n.option("searchValue"),i=q4(n),o=[];t||e.isFilterBuilder||!i?.option("value")?"tree"===e.type&&(e.filterType&&(e.filterType="include"),function s(l,h,g){B(h,(_,v)=>{if(void 0!==v.selected&&!!v.selected^g){var C=n._getNode(v),E=n._hasChildren(C)&&v.items&&v.items.some(w=>w.selected);if(!t||!E)return void l.push(v.value)}v.items&&v.items.length&&s(l,v.items,g)})}(o,n.option("items"),!1),e.filterValues=o):("tree"===e.type&&(e.filterType="exclude"),Array.isArray(e.filterValues)&&(e.filterValues=[])),e.filterValues&&!e.filterValues.length&&(e.filterValues=null),e.apply(),this.hideHeaderFilterMenu()},showHeaderFilterMenu(e,n){if(n){this._initializePopupContainer(n);var t=this.getPopupContainer();this.hideHeaderFilterMenu(),this.updatePopup(e,n),t.show()}},hideHeaderFilterMenu(){var e=this.getPopupContainer();e&&e.hide()},updatePopup(e,n){var t=this.option("showColumnLines"),i="right"===n.alignment^!t?"left":"right";this._popupContainer.setAria({role:"dialog",label:J.format("dxDataGrid-headerFilterLabel")}),this._popupContainer&&(this._cleanPopupContent(),this._popupContainer.option("position",{my:"".concat(i," top"),at:"".concat(i," bottom"),of:e,collision:"fit fit"}))},_getSearchExpr(e,n){var{lookup:t}=e,{useDefaultSearchExpr:i}=e,r=n.dataSource,o=n.search.searchExpr;if(o)return o;if(i||T(r)&&!Re(r))return"text";if(t)return t.displayExpr||"this";if(e.dataSource){var{group:s}=e.dataSource;if(Array.isArray(s)&&s.length>0)return s[0].selector;if(Re(s)&&!e.remoteFiltering)return s}return e.dataField||e.selector},_cleanPopupContent(){this._popupContainer&&this._popupContainer.$content().empty()},_initializePopupContainer(e){var n=this,t=n.element(),i=this._normalizeHeaderFilterOptions(e),{height:r,width:o}=i,s={width:o,height:r,visible:!1,shading:!1,showTitle:!1,showCloseButton:!1,hideOnParentScroll:!1,dragEnabled:!1,hideOnOutsideClick:!0,wrapperAttr:{class:K4},focusStateEnabled:!1,toolbarItems:[{toolbar:"bottom",location:"after",widget:"dxButton",options:{text:i.texts.ok,onClick(){n.applyHeaderFilter(e)}}},{toolbar:"bottom",location:"after",widget:"dxButton",options:{text:i.texts.cancel,onClick(){n.hideHeaderFilterMenu()}}}],resizeEnabled:!0,onShowing(l){l.component.$content().parent().addClass("dx-dropdowneditor-overlay"),n._initializeListContainer(e,i),e.onShowing&&e.onShowing(l)},onShown(){n.getListComponent().focus()},onHidden:e.onHidden,onInitialized(l){var{component:h}=l;h.option("animation",h._getDefaultOptions().animation)}};T(n._popupContainer)?n._popupContainer.option(s):n._popupContainer=n._createComponent(t,Ma,s)},_initializeListContainer(e,n){var t=this,i=t._popupContainer.$content(),r=!e.isFilterBuilder&&n.allowSelectAll,o={searchEnabled:n.search.enabled,searchTimeout:n.search.timeout,searchEditorOptions:n.search.editorOptions,searchMode:n.search.mode||"",dataSource:e.dataSource,onContentReady(){t.renderCompleted.fire()},itemTemplate(l,h,g){var _=x(g);return e.encodeHtml?_.text(l.text):_.html(l.text)}};function s(l){"searchValue"===l.fullName&&r&&!1!==t.option("headerFilter.hideSelectAllOnSearch")&&("tree"===e.type?l.component.option("showCheckBoxesMode",l.value?"normal":"selectAll"):l.component.option("selectionMode",l.value?"multiple":"all"))}t._listComponent="tree"===e.type?t._createComponent(x("<div>").appendTo(i),D0,A(o,{showCheckBoxesMode:r?"selectAll":"normal",onOptionChanged:s,keyExpr:"id"})):t._createComponent(x("<div>").appendTo(i),dx,A(o,{searchExpr:t._getSearchExpr(e,n),pageLoadMode:"scrollBottom",showSelectionControls:!0,selectionMode:r?"all":"multiple",onOptionChanged:s,onSelectionChanged(l){var h=l.component.option("items"),g=l.component.option("selectedItems");if(!l.component._selectedItemsUpdating&&!l.component.option("searchValue")&&!e.isFilterBuilder){var _=e.filterValues||[];0===g.length&&h.length&&(_.length<=1||"exclude"===e.filterType&&_.length===h.length-1)?(e.filterType="include",e.filterValues=[]):g.length===h.length&&(e.filterType="exclude",e.filterValues=[])}B(h,(C,b)=>{var E=xe.getIndexByKey(b,g,null)>=0;if(!!b.selected!==E){b.selected=E,e.filterValues=e.filterValues||[];var M=xe.getIndexByKey(b.value,e.filterValues,null);M>=0&&e.filterValues.splice(M,1),E^"exclude"===e.filterType&&e.filterValues.push(b.value)}}),J4(l,e.filterValues)},onContentReady(l){var{component:h}=l,g=h.option("items"),_=[];B(g,function(){this.selected&&_.push(this)}),h._selectedItemsUpdating=!0,h.option("selectedItems",_),h._selectedItemsUpdating=!1,J4(l,e.filterValues)}}))},_normalizeHeaderFilterOptions(e){var n=this.option("headerFilter")||{},t=e.headerFilter||{};return A(!0,{},n,{search:{enabled:n.allowSearch,timeout:n.searchTimeout}},t,{search:{enabled:t.allowSearch,mode:t.searchMode,timeout:t.searchTimeout}})},_renderCore(){this.element().addClass(K4)}}),Z0=function(e){return T(e.allowHeaderFiltering)?e.allowHeaderFiltering:e.allowFiltering},X4={_applyColumnState(e){var n,{rootElement:t}=e,{column:i}=e;if("headerFilter"===e.name){if(t.find(".".concat(j4)).remove(),Z0(i)){n=this.callBase(e).toggleClass("dx-header-filter-empty",this._isHeaderFilterEmpty(i)),this.option("useLegacyKeyboardNavigation")||n.attr("tabindex",this.option("tabindex")||0);var r=J.format("dxDataGrid-headerFilterIndicatorLabel",i.caption);n.attr("aria-label",r),n.attr("aria-haspopup","dialog"),n.attr("role","button")}return n}return this.callBase(e)},_isHeaderFilterEmpty:e=>!e.filterValues||!e.filterValues.length,_getIndicatorClassName(e){return"headerFilter"===e?j4:this.callBase(e)},_renderIndicator(e){var n=e.container,t=e.indicator;if("headerFilter"===e.name){var i=this.option("rtlEnabled");if(n.children().length&&(!i&&"right"===e.columnAlignment||i&&"left"===e.columnAlignment))return void n.prepend(t)}this.callBase(e)},optionChanged(e){if("headerFilter"===e.name){var n="columnHeadersView"===this.name;this._invalidate(n,n),e.handled=!0}else this.callBase(e)}},Rfe={month:e=>Ct.getMonthNames()[e-1],quarter:e=>Ct.format(new Date(2e3,3*e-1),"quarter")};function Z4(e,n,t){return n=n||[],t=t||[],e.forEach(i=>{if(T(i.key)){if(n.push(1===n.length?i.key-1:i.key),i.items)Z4(i.items,n,t);else{var o=new Date(Date.UTC.apply(Date,n));t.push(o)}n.pop()}else t.push(null)}),t}function Pfe(e,n){var t=Z4(e),i=zr(t),r=xe.getHeaderFilterGroupParameters(de(de({},n),{calculateCellValue:o=>o}));return Kl.queryByOptions(i,{group:r}).toArray()}var kfe=dn.ViewController.inherit({init(){this._columnsController=this.getController("columns"),this._dataController=this.getController("data"),this._headerFilterView=this.getView("headerFilterView")},_updateSelectedState(e,n){for(var t=e.length,i="exclude"===n.filterType;t--;){var r=e[t];"items"in e[t]&&this._updateSelectedState(e[t].items,n),Mfe(r,xe.getIndexByKey(e[t].value,n.filterValues,null)>-1,i)}},_normalizeGroupItem(e,n,t){var i,r,{path:o}=t,{valueSelector:s}=t,{displaySelector:l}=t,{column:h}=t;return s&&l?(i=s(e),r=l(e)):r=i=e.key,e=qe(e)?A({},e):{},o.push(i),e.value=1===o.length?o[0]:o.join("/"),e.text=this.getHeaderItemText(r,h,n,t.headerFilterOptions),e},getHeaderItemText(e,n,t,i){var o,s,l,h,g,r=xe.formatValue(e,(o=e,l=t,h=P_.getGroupInterval(s=n),g=xe.getFormatOptionsByColumn(s,"headerFilter"),h&&(g.groupInterval=h[l],xe.isDateType(s.dataType)?g.format=Rfe[h[l]]:"number"===s.dataType&&(g.getDisplayFormat=function(){var _={format:s.format,target:"headerFilter"},v=xe.formatValue(o,_),b=xe.formatValue(o+h[l],_);return v&&b?"".concat(v," - ").concat(b):""})),g));return r||(r=i.texts.emptyValue),r},_processGroupItems(e,n,t,i){var r,o,{column:s}=i,{lookup:l}=s,{level:h}=i;t=t||[],n=n||0,l&&(r=Yt(l.displayExpr),o=Yt(l.valueExpr));for(var g=0;g<e.length;g++)e[g]=this._normalizeGroupItem(e[g],n,{column:i.column,headerFilterOptions:i.headerFilterOptions,displaySelector:r,valueSelector:o,path:t}),"items"in e[g]&&(n!==h&&T(e[g].value)?this._processGroupItems(e[g].items,n+1,t,i):delete e[g].items),t.pop()},getDataSource(e){var n,t=this._dataController.dataSource(),i=t?.remoteOperations().grouping,r=xe.getHeaderFilterGroupParameters(e,i),o=null===(n=e.headerFilter)||void 0===n?void 0:n.dataSource,s=this.option("headerFilter"),l=!1,h={component:this.component};if(t){if(T(o)&&!Re(o))h.dataSource=w_(o);else if(e.lookup)if(l=!0,this.option("syncLookupFilterValues")){this._currentColumn=e;var g=this._dataController.getCombinedFilter();this._currentColumn=null,h.dataSource=xe.getWrappedLookupDataSource(e,t,g)}else h.dataSource=xe.normalizeLookupDataSource(e.lookup);else{var _=Array.isArray(r)?r.length-1:0;this._currentColumn=e;var v=this._dataController.getCombinedFilter();this._currentColumn=null,h.dataSource={filter:v,group:r,useDefaultSearch:!0,load:E=>{var w=new W;return E.dataField=e.dataField||e.name,t.load(E).done(M=>{var k=i&&function Ffe(e){return"Z"===e?.slice(-1)||"'Z'"===e?.slice(-3)}(e.serializationFormat)&&_>3;k&&(M=Pfe(M,e)),b._processGroupItems(M,null,null,{level:_,column:e,headerFilterOptions:s}),w.resolve(M)}).fail(w.reject),w}}}Re(o)&&o.call(e,h);var C=h.dataSource.postProcess,b=this;return h.dataSource.postProcess=function(E){var w=E;return l&&(w=w.filter(M=>null!==M[e.lookup.valueExpr]),0===this.pageIndex()&&!this.searchValue()&&(w=w.slice(0)).unshift(null),b._processGroupItems(w,null,null,{level:0,column:e,headerFilterOptions:s})),w=C&&C.call(this,w)||w,b._updateSelectedState(w,e),w},h.dataSource}},getCurrentColumn(){return this._currentColumn},showHeaderFilterMenu(e,n){var t=this._columnsController,i=A(!0,{},this._columnsController.getColumns()[e]);if(i){var r=t.getVisibleIndex(e),o=this.getView(n?"headerPanel":"columnHeadersView"),s=s||o.getColumnElements().eq(n?i.groupIndex:r);this.showHeaderFilterMenuBase({columnElement:s,column:i,applyFilter:!0,apply(){t.columnOption(e,{filterValues:this.filterValues,filterType:this.filterType})}})}},showHeaderFilterMenuBase(e){var n=this,{column:t}=e;if(t){var i=P_.getGroupInterval(t),r=n._dataController.dataSource(),o=r&&r.remoteOperations().filtering;A(e,t,{type:i&&i.length>1?"tree":"list",remoteFiltering:o,onShowing(s){var l=s.component.$overlayContent().dxResizable("instance");l&&l.option("onResizeEnd",h=>{var g=n.getController("columns"),_=g.columnOption(e.dataField,"headerFilter");(_=_||{}).width=h.width,_.height=h.height,g.columnOption(e.dataField,"headerFilter",_,!0)})},onHidden:()=>rB(this)}),e.dataSource=n.getDataSource(e),e.isFilterBuilder&&(e.dataSource.filter=null,e.alignment="right"),n._headerFilterView.showHeaderFilterMenu(e.columnElement,e)}},hideHeaderFilterMenu(){this._headerFilterView.hideHeaderFilterMenu()}}),Bfe=A({},X4,{_renderCellContent(e,n){var t,{column:i}=n;!i.command&&Z0(i)&&this.option("headerFilter.visible")&&"header"===n.rowType&&(t=this._applyColumnState({name:"headerFilter",rootElement:e,column:i,showColumnLines:this.option("showColumnLines")}))&&this._subscribeToIndicatorEvent(t,i,"headerFilter"),this.callBase.apply(this,arguments)},_subscribeToIndicatorEvent(e,n,t){"headerFilter"===t&&R.on(e,Kt,this.createAction(i=>{i.event.stopPropagation(),DU(e,this),this.getController("headerFilter").showHeaderFilterMenu(n.index,!1)}))},_updateIndicator(e,n,t){var i=this.callBase(e,n,t);i&&this._subscribeToIndicatorEvent(i,n,t)},_updateHeaderFilterIndicators(){this.option("headerFilter.visible")&&this._updateIndicators("headerFilter")},_needUpdateFilterIndicators:()=>!0,_columnOptionChanged(e){var{optionNames:n}=e;xe.checkChanges(n,["filterValues","filterType"])?this._needUpdateFilterIndicators()&&this._updateHeaderFilterIndicators():this.callBase(e)}}),Lfe=A({},X4,{_createGroupPanelItem(e,n){var r,t=this,i=t.callBase.apply(t,arguments);return!n.command&&Z0(n)&&t.option("headerFilter.visible")&&(r=t._applyColumnState({name:"headerFilter",rootElement:i,column:{alignment:Lu(t.option("rtlEnabled")),filterValues:n.filterValues,allowHeaderFiltering:!0},showColumnLines:!0}))&&R.on(r,Kt,t.createAction(o=>{var{event:s}=o;s.stopPropagation(),t.getController("headerFilter").showHeaderFilterMenu(n.index,!0)})),i}}),Vfe={skipCalculateColumnFilters:()=>!1,_calculateAdditionalFilter(){if(this.skipCalculateColumnFilters())return this.callBase();var e=[this.callBase()],n=this._columnsController.getVisibleColumns(null,!0),i=this.getController("headerFilter").getCurrentColumn();return B(n,(r,o)=>{var s;if((!i||i.index!==o.index)&&Z0(o)&&o.calculateFilterExpression&&Array.isArray(o.filterValues)&&o.filterValues.length){var l=[];B(o.filterValues,(h,g)=>{Array.isArray(g)?s=g:(o.deserializeValue&&!xe.isDateType(o.dataType)&&"number"!==o.dataType&&(g=o.deserializeValue(g)),s=o.createFilterExpression(g,"=","headerFilter")),s&&(s.columnIndex=o.index),l.push(s)}),l=xe.combineFilters(l,"or"),e.push("exclude"===o.filterType?["!",l]:l)}}),xe.combineFilters(e)}};Ge.registerModule("headerFilter",{defaultOptions:()=>({syncLookupFilterValues:!0,headerFilter:{visible:!1,width:252,height:325,allowSelectAll:!0,search:{enabled:!1,timeout:500,mode:"contains",editorOptions:{}},texts:{emptyValue:J.format("dxDataGrid-headerFilterEmptyValue"),ok:J.format("dxDataGrid-headerFilterOK"),cancel:J.format("dxDataGrid-headerFilterCancel")}}}),controllers:{headerFilter:kfe},views:{headerFilterView:Afe},extenders:{controllers:{data:Vfe},views:{columnHeadersView:Bfe,headerPanel:Lfe}}});var Q0="dx-filterbuilder-range",Hfe=Q0+"-start",zfe=Q0+"-end",Wfe=Q0+"-separator",Q4="\u2013";function $fe(e,n){var t=x("<div>").addClass(Hfe),i=x("<div>").addClass(zfe),r=e.value||[],o=function(l){return l&&l.length>0?l[0]:null},s=function(l){return l&&2===l.length?l[1]:null};n.append(t),n.append(x("<span>").addClass(Wfe).text(Q4)),n.append(i),n.addClass(Q0),this._editorFactory.createEditor.call(this,t,A({},e.field,e,{value:o(r),parentType:"filterBuilder",setValue:function(l){r=[l,s(r)],e.setValue(r)}})),this._editorFactory.createEditor.call(this,i,A({},e.field,e,{value:s(r),parentType:"filterBuilder",setValue:function(l){r=[o(r),l],e.setValue(r)}}))}function eY(e,n){return{name:"between",caption:e,icon:"range",valueSeparator:Q4,dataTypes:["number","date","datetime"],editorTemplate:$fe.bind(n),notForLookup:!0}}var Gfe={"=":"equal","<>":"notequal","<":"less","<=":"lessorequal",">":"greater",">=":"greaterorequal",notcontains:"doesnotcontain",contains:"contains",startswith:"startswith",endswith:"endswith",isblank:"isblank",isnotblank:"isnotblank"},Ufe={"=":"equal","<>":"notEqual","<":"lessThan","<=":"lessThanOrEqual",">":"greaterThan",">=":"greaterThanOrEqual",startswith:"startsWith",contains:"contains",notcontains:"notContains",endswith:"endsWith",isblank:"isBlank",isnotblank:"isNotBlank",between:"between"};const tY_getIconByFilterOperation=function(e){return Gfe[e]},tY_getNameByFilterOperation=function(e){return Ufe[e]};var qL="string",nY="icon-none",uc="and",JL="=",Kfe={number:["=","<>","<",">","<=",">=","isblank","isnotblank"],string:["contains","notcontains","startswith","endswith","=","<>","isblank","isnotblank"],date:["=","<>","<",">","<=",">=","isblank","isnotblank"],datetime:["=","<>","<",">","<=",">=","isblank","isnotblank"],boolean:["=","<>","isblank","isnotblank"],object:["isblank","isnotblank"]},Yfe={date:"shortDate",datetime:"shortDateShortTime"},qfe=["=","<>","isblank","isnotblank"],Jfe=["caption","customizeText","dataField","dataType","editorTemplate","falseText","editorOptions","filterOperations","format","lookup","trueText","calculateFilterExpression","name"],iY="dx-filterbuilder-text",Zfe=iY+"-part",rY=iY+"-separator",Qfe=rY+"-empty";function Fp(e){return e&&e.length>1&&"!"===e[0]&&!pi(e)}function id(e){return Fp(e)?e[1]:e}function oY(e){if(pi(e))return uc;for(var n="",t=0;t<e.length;t++){var i=e[t];if(!Array.isArray(i)){if(n&&n!==i)throw new si.Error("E4019");"!"!==i&&(n=i)}}return n}function kp(e){var n=id(e),t=oY(n);return t||(t=uc),n!==e&&(t="!"+t),t}function sY(e){var n=function s_e(e){return Array.isArray(e)&&e.length}(e.filterOperations)?e.filterOperations:function o_e(e){return e.lookup&&qfe||Kfe[e.dataType||qL]}(e);return A([],n)}function XL(e,n){var t=tY_getNameByFilterOperation(e);return n&&n[t]?n[t]:t}function rd(e,n){var t=e.filter(function(i){return i.name===n});return t.length?t[0]:null}function ZL(e){return e.defaultFilterOperation||sY(e)[0]}function QL(e,n){var t=id(e),i=t.indexOf(n);return t.splice(i,1),1!==t.length&&t.splice(i,1),e}function aY(e){var n=eV(e),t=n?tV(e):e;return n?["!",[t]]:[t]}function eI(e,n){var t=id(n),i=kp(t);return 1===t.length?t.unshift(e):t.push(e,i),n}function tI(e,n){for(var t=0;t<n.length;t++)if(n[t].name===e||n[t].dataField.toLowerCase()===e.toLowerCase())return n[t];var i=_Y(n,!0).filter(function(r){return r.dataField.toLowerCase()===e.toLowerCase()});if(i.length>0)return i[0];throw new It.Error("E1047",e)}function cc(e){return!!Array.isArray(e)&&(e.length<2||Array.isArray(e[0])||Array.isArray(e[1]))}function pi(e){return!!Array.isArray(e)&&e.length>1&&!Array.isArray(e[0])&&!Array.isArray(e[1])}function lY(e,n,t){t=t||uc;for(var i=oY(e).toLowerCase()||t,r=[],o=0;o<e.length;o++)cc(e[o])?(r.push(rV(e[o],n,t)),r=iV(r,i)):pi(e[o])&&(r.push(nI(e[o],n)),r=iV(r,i));return 0===r.length&&(r=iV(r,i)),r}function nI(e,n){return function u_e(e,n){var t=rd(n,e[1]);return t&&t.name===e[1]}(e,n)||e.length<3&&(e[2]=e[1],e[1]=JL),e}function eV(e){return-1!==e.indexOf("not")}function tV(e){return e.substring(3).toLowerCase()}function nV(e,n){var t=eV(n);return n=t?tV(n):n,t?["!",e,n]:[e,n]}function iV(e,n){var t=eV(n);n=t?tV(n):n,e.push(n);var i=e;return t&&(i=["!",i]),i}function rV(e,n,t){return t=t||uc,e?pi(e=A(!0,[],e))?nV(nI(e,n),t):Fp(e)?["!",pi(e[1])?nV(nI(e[1],n),t):Fp(e[1])?nV(rV(e[1],n),t):lY(e[1],n,t)]:lY(e,n,t):aY(t)}function dY(e,n,t,i){var r=tI(e[0],n),o=nI(e,t),s=t.length&&rd(t,o[1]);return s&&s.calculateFilterExpression?s.calculateFilterExpression.apply(s,[o[2],r,n]):r.createFilterExpression?r.createFilterExpression.apply(r,[o[2],o[1],i]):r.calculateFilterExpression?r.calculateFilterExpression.apply(r,[o[2],o[1],i]):r.defaultCalculateFilterExpression.apply(r,[o[2],o[1],i])}function q_(e,n,t,i){if(!T(e))return null;if(Fp(e))return["!",q_(e[1],n,t,i)];var o=id(e);if(pi(o))return dY(o,n,t,i)||null;for(var l,s=[],h=kp(o),g=0;g<o.length;g++)cc(o[g])?(l=q_(o[g],n,t,i))&&(g&&s.push(h),s.push(l)):pi(o[g])&&(l=dY(o[g],n,t,i))&&(s.length&&s.push(h),s.push(l));return 1===s.length&&(s=s[0]),s.length?s:null}function qx(e){var t,n=id(e);if(0===n.length)return null;var i=[];for(t=0;t<n.length;t++)if(cc(n[t])){var r=qx(n[t]);r?n[t]=r:i.push(n[t])}else pi(n[t])&&(p_e(n[t])||i.push(n[t]));for(t=0;t<i.length;t++)QL(n,i[t]);return 1===n.length||(n.splice(n.length-1,1),1===n.length&&(e=function t_e(e,n){return Fp(e)?e[1]=n:e=n,e}(e,n[0])),0===e.length)?null:e}function uY(e,n,t){if(""!==n){var i=e.lookup;if(i.items)t(i.calculateCellValue(n)||"");else{var r=Re(i.dataSource)?i.dataSource({}):i.dataSource;new Yl(r).loadSingle(i.valueExpr,n).done(function(s){var l="";s&&(l=i.displayExpr?Yt(i.displayExpr)(s):s),e.customizeText&&(l=e.customizeText({value:n,valueText:l})),t(l)}).fail(function(){t("")})}}else t("")}function cY(e,n,t,i,r){var o;return o=!0===n?e.trueText||J.format("dxDataGrid-trueText"):!1===n?e.falseText||J.format("dxDataGrid-falseText"):function e_e(e,n){return cj.format(n,e.format||Yfe[e.dataType])}(e,n),e.customizeText&&(o=e.customizeText.call(e,{value:n,valueText:o,target:i})),t&&t.customizeText&&(o=t.customizeText.call(t,{value:n,valueText:o,field:e,target:i},r)),o}function oV(e){return""===e||null===e}function hY(e,n,t){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"filterBuilder";if(oV(n))return"";if(Array.isArray(n)){var r=new W;return ke.apply(this,function h_e(e,n,t,i){var r={values:n};return n.map(o=>cY(e,o,t,i,r))}(e,n,t,i)).done(function(){for(var o=arguments.length,s=new Array(o),l=0;l<o;l++)s[l]=arguments[l];var h=s.some(g=>!oV(g))?s.map(g=>oV(g)?"?":g):"";r.resolve(h)}),r}return cY(e,n,t,i)}function pY(e,n){return e.some(function(t){return t.dataField===n})}function gY(e,n,t){var i=t.dataField;sV(i)&&(t.parentId=mY(i),!pY(n,t.parentId)&&!pY(e,t.parentId)&&gY(e,n,{id:t.parentId,dataType:"object",dataField:t.parentId,caption:fY(t.parentId,!0),filterOperations:["isblank","isnotblank"]})),n.push(t)}function fY(e,n){var t="";if(n)e=e.substring(e.lastIndexOf(".")+1);else if(sV(e))return e.split(".").forEach(function(i,r,o){t+=Ni(i),r!==o.length-1&&(t+=".")}),t;return Ni(e)}function _Y(e,n){for(var t=[],i=0;i<e.length;i++){var r=A(!0,{caption:fY(e[i].dataField,n)},e[i]);r.id=r.name||r.dataField,n?gY(e,t,r):t.push(r)}return t}function sV(e){return-1!==e.lastIndexOf(".")}function mY(e){return e.substring(0,e.lastIndexOf("."))}function vY(e,n){if(sV(e.dataField))for(var t=mY(e.dataField),i=0;i<n.length;i++)if(n[i].dataField===t)return vY(n[i],n)+"."+e.caption;return e.caption}function aV(e,n,t){var i=rd(t,n);return i?(!1===i.hasValue?(e[1]=n,e.length=2):(e[1]=n,e[2]=""),e):("isblank"===n?(e[1]=JL,e[2]=null):"isnotblank"===n?(e[1]="<>",e[2]=null):(((i=rd(t,e[1]))||2===e.length||null===e[2])&&(e[2]=""),e[1]=n),e)}function CY(e){return null===e[2]?e[1]===JL?"isblank":"isnotblank":e[1]}function p_e(e){return""!==e[2]}function Jx(e,n){return e[0]===n}function lV(e,n){return e&&0!==e.length?pi(e)?Jx(e,n)?null:e:yY(e,[n],!1):null}function yY(e,n,t){var i=[];return e.forEach(function(r){pi(r)?Jx(r,n[0])?t?(i.push(n),t=!1):i.splice(i.length-1,1):i.push(r):(i.length||cc(r))&&i.push(r)}),0===i.length?null:(t&&(i.push(uc),i.push(n)),1===i.length?i[0]:i)}function xY(e,n){return null===e||0===e.length?n:pi(e)?Jx(e,n[0])?n:[e,uc,n]:kp(e)!==uc?[n,"and",e]:yY(e,n,!0)}function bY(e,n){return null!==e&&0!==e.length&&(pi(e)?e[0]===n:e.some(function(t){return(pi(t)||cc(t))&&bY(t,n)}))}var dV=function(e,n,t){if(Array.isArray(n)){var i=n.length-1;e.empty(),n.forEach((r,o)=>{x("<span>").addClass(Zfe).text(r).appendTo(e),o!==i&&x("<span>").addClass(rY).text(t&&t.valueSeparator?t.valueSeparator:"|").addClass(Qfe).appendTo(e)})}else e.text(n||J.format("dxFilterBuilder-enterValueText"))};function OY(e){var n=function(i,r){return r?"".concat(r,"/").concat(i):i},t=e&&e.getController("headerFilter");return{dataTypes:["string","date","datetime","number","boolean","object"],calculateFilterExpression:function(i,r,o){var s=[],l=i.length-1;return i&&i.forEach((h,g)=>{if(pi(h)||cc(h)){var _=q_(h,o,[],"headerFilter");s.push(_)}else{var v=q_([r.dataField,"=",h],o,[],"headerFilter");s.push(v)}g!==l&&s.push("or")}),1===s.length?s[0]:s},editorTemplate(i,r){var o=x("<div>").addClass("dx-filterbuilder-item-value-text").appendTo(r),s=A(!0,{},e.columnOption(i.field.dataField));return dV(o,i.text&&i.text.split("|")),s.filterType="include",s.filterValues=i.value?i.value.slice():[],t.showHeaderFilterMenuBase({columnElement:o,column:s,apply(){i.setValue(this.filterValues),t.hideHeaderFilterMenu(),i.closeEditor()},onHidden(){i.closeEditor()},isFilterBuilder:!0}),r},customizeText:function(i,r){r=r||{};var{value:o}=i,s=e.columnOption(i.field.dataField),l=s&&s.headerFilter,h=s&&s.lookup,g=r.values||[o];if(l&&l.dataSource||h&&h.dataSource){var _=new W,v=r.items||new W;if(!r.items){s=A({},s,{filterType:"include",filterValues:g});var C=t.getDataSource(s);C.paginate=!1;var b=new Yl(C),E=b.store().key();if(E){var{values:w}=r;if(w&&w.length>1){var M=w.reduce((L,G)=>(L.length&&L.push("or"),L.push([E,"=",G]),L),[]);b.filter(M)}else b.filter([E,"=",i.value])}else i.field.calculateDisplayValue&&It.log("W1017");r.items=v,b.load().done(v.resolve)}return v.done(L=>{var G=g.indexOf(i.value);_.resolve(function Q(le,Te){var He=[];return le.forEach(Ee=>{if(Ee.items){var ze=Q(Ee.items,n(Ee.text,Te));He=He.concat(ze)}Ee.selected&&He.push(n(Ee.text,Te))}),He}(L,null)[G])}),_}return t.getHeaderItemText(o,s,0,e.option("headerFilter"))}}}function __e(e){return A(OY(e),{name:"anyof",icon:"selectall",caption:J.format("dxFilterBuilder-filterOperationAnyOf")})}function m_e(e){var n=OY(e);return A({},n,{calculateFilterExpression(t,i,r){var o=n.calculateFilterExpression(t,i,r);return o&&0!==o.length?"!"===o[0]?o:["!",o]:null},name:"noneof",icon:"unselectall",caption:J.format("dxFilterBuilder-filterOperationNoneOf")})}var v_e=["=","<>","<","<=",">",">=","notcontains","contains","startswith","endswith","between"],DY="include",Xx="exclude";function Wa(e){return e.name||e.dataField}var y_e=dn.Controller.inherit(function(){var e=function(){return{filterType:DY,filterValues:void 0}},n=function(s){var l=s.filterValues||[];return!P_.getGroupInterval(s)&&!(s.headerFilter&&s.headerFilter.dataSource)||1===l.length&&null===l[0]},t=function(s){if(T(s.filterValue)){var h=s.selectedFilterOperation||s.defaultFilterOperation||ZL(s);return[Wa(s),h,s.filterValue]}return null},i=function(s){var l,h,{filterValues:g}=s;return g?(1===g.length&&n(s)&&!Array.isArray(g[0])?(l=s.filterType===Xx?"<>":"=",h=g[0]):(l=s.filterType===Xx?"noneof":"anyof",h=g),[Wa(s),l,h]):null},r=function(s,l,h){var g=function(_,v){if(!_)return e();var C,b=_[1],E=_[2],w=Array.isArray(E);if(!w&&!n(v))return e();switch(b){case"anyof":case"=":C=DY;break;case"noneof":case"<>":C=Xx;break;default:return e()}return{filterType:C,filterValues:w?E:[E]}}(h,l);s.columnOption(Wa(l),g)},o=function(s,l,h){var g,_=h?.[1],v=h?.[2],C=l.filterOperations||l.defaultFilterOperations;(!C||C.indexOf(_)>=0||_===l.defaultFilterOperation)&&v_e.includes(_)&&null!==v?(_===l.defaultFilterOperation&&!T(l.selectedFilterOperation)&&(_=l.selectedFilterOperation),g={filterValue:v,selectedFilterOperation:_}):g={filterValue:void 0,selectedFilterOperation:void 0},s.columnOption(Wa(l),g)};return{syncFilterValue(){var s=this,l=s.getController("columns"),h=l.getFilteringColumns();this._skipSyncColumnOptions=!0,h.forEach(g=>{var _=function f_e(e,n){return null===e||0===e.length?[]:pi(e)?Jx(e,n)?[e]:[]:kp(e)!==uc?[]:e.filter(function(r){return pi(r)&&Jx(r,n)})}(s.option("filterValue"),Wa(g));if(1===_.length){var v=_[0];r(l,g,v),o(l,g,v)}else T(g.filterValues)&&r(l,g,null),T(g.filterValue)&&o(l,g,null)}),this._skipSyncColumnOptions=!1},_initSync(){var s=this.getController("columns").getColumns(),l=this.getController("data"),h=l.pageIndex();if(function C_e(e){e.forEach(n=>{var t=Wa(n);if(!T(t)&&n.allowFiltering)throw new It.Error("E1049",n.caption)})}(s),!this.option("filterValue")){var g=this.getController("columns").getFilteringColumns(),_=this.getFilterValueFromColumns(g);this.option("filterValue",_)}this.syncFilterValue(),l.pageIndex(h)},init(){var s=this.getController("data");s.isFilterSyncActive()&&(this.getController("columns").isAllDataTypesDefined()?this._initSync():s.dataSourceChanged.add(()=>this._initSync()))},_getSyncFilterRow(s,l){var h=t(l);return T(h)?xY(s,h):lV(s,Wa(l))},_getSyncHeaderFilter(s,l){var h=i(l);return h?xY(s,h):lV(s,Wa(l))},getFilterValueFromColumns(s){if(!this.getController("data").isFilterSyncActive())return null;var l=["and"];return s&&s.forEach(h=>{var g=i(h),_=t(h);g&&eI(g,l),_&&eI(_,l)}),qx(l)},syncFilterRow(s){this.option("filterValue",this._getSyncFilterRow(this.option("filterValue"),s))},syncHeaderFilter(s){this.option("filterValue",this._getSyncHeaderFilter(this.option("filterValue"),s))},getCustomFilterOperations(){var s=this.option("filterBuilder.customOperations")||[];return[__e(this.component),m_e(this.component)].concat(s)},publicMethods:()=>["getCustomFilterOperations"]}}()),x_e={isFilterSyncActive(){var e=this.option("filterSyncEnabled");return"auto"===e?this.option("filterPanel.visible"):e},skipCalculateColumnFilters(){var e=this.getController("filterSync");return(T(this.option("filterValue"))||e._skipSyncColumnOptions)&&this.isFilterSyncActive()},_calculateAdditionalFilter(){if(!1===this.option("filterPanel.filterEnabled"))return this.callBase();var e=[this.callBase()],n=this.getController("columns").getFilteringColumns(),t=this.option("filterValue");if(this.isFilterSyncActive()){var i=this.getController("headerFilter").getCurrentColumn();i&&t&&(t=lV(t,Wa(i)))}var o=q_(t,n,this.getController("filterSync").getCustomFilterOperations(),"filterBuilder");return o&&e.push(o),xe.combineFilters(e)},_parseColumnPropertyName(e){var n=e.match(/.*\.(.*)/);return n?n[1]:null},clearFilter(e){this.component.beginUpdate(),arguments.length>0?("filterValue"===e&&this.option("filterValue",null),this.callBase(e)):(this.option("filterValue",null),this.callBase()),this.component.endUpdate()},optionChanged(e){switch(e.name){case"filterValue":this._applyFilter(),this.isFilterSyncActive()&&this.getController("filterSync").syncFilterValue(),e.handled=!0;break;case"filterSyncEnabled":e.handled=!0;break;case"columns":if(this.isFilterSyncActive()){var n=this.getController("columns").getColumnByPath(e.fullName),t=this.getController("filterSync");if(n&&!t._skipSyncColumnOptions){var i=this._parseColumnPropertyName(e.fullName);t._skipSyncColumnOptions=!0,"filterType"===i?(Xx===e.value||Xx===e.previousValue)&&t.syncHeaderFilter(n):"filterValues"===i?t.syncHeaderFilter(n):["filterValue","selectedFilterOperation"].includes(i)&&t.syncFilterRow(n,n.filterValue),t._skipSyncColumnOptions=!1}}this.callBase(e);break;default:this.callBase(e)}}},b_e={_isHeaderFilterEmpty(e){return this.getController("data").isFilterSyncActive()?!bY(this.option("filterValue"),Wa(e)):this.callBase(e)},_needUpdateFilterIndicators(){return!this.getController("data").isFilterSyncActive()},optionChanged(e){"filterValue"===e.name?this._updateHeaderFilterIndicators():this.callBase(e)}};Ge.registerModule("filterSync",{defaultOptions:()=>({filterValue:null,filterSyncEnabled:"auto"}),controllers:{filterSync:y_e},extenders:{controllers:{data:x_e},views:{columnHeadersView:b_e}}});var To="dx-filterbuilder",J_=To+"-group",SY=J_+"-item",EY=J_+"-content",D_e=J_+"-operations",S_e=J_+"-operation",uV=To+"-action",wY=uV+"-icon",Zx=To+"-text",I_e=To+"-item-field",T_e=To+"-item-operation",IY=To+"-item-value",M_e=To+"-item-value-text",A_e=To+"-overlay",R_e=To+"-operations",P_e=To+"-fields",F_e=To+"-add-condition",iI="dx-state-active",k_e=To+"-menu-custom-operation",TY="filterBuilder",cV="enter",L_e=[{name:"onEditorPreparing",config:{excludeValidators:["disabled","readOnly"],category:"rendering"}},{name:"onEditorPrepared",config:{excludeValidators:["disabled","readOnly"],category:"rendering"}},{name:"onValueChanged",config:{excludeValidators:["disabled","readOnly"]}}],RY={and:"and",or:"or",notAnd:"!and",notOr:"!or"},V_e=kt.inherit(Y2),PY=Ki.inherit({_getDefaultOptions:function(){return A(this.callBase(),{onEditorPreparing:null,onEditorPrepared:null,onValueChanged:null,fields:[],groupOperations:["and","or","notAnd","notOr"],maxGroupLevel:void 0,value:null,allowHierarchicalFields:!1,groupOperationDescriptions:{and:J.format("dxFilterBuilder-and"),or:J.format("dxFilterBuilder-or"),notAnd:J.format("dxFilterBuilder-notAnd"),notOr:J.format("dxFilterBuilder-notOr")},customOperations:[],closePopupOnTargetScroll:!0,filterOperationDescriptions:{between:J.format("dxFilterBuilder-filterOperationBetween"),equal:J.format("dxFilterBuilder-filterOperationEquals"),notEqual:J.format("dxFilterBuilder-filterOperationNotEquals"),lessThan:J.format("dxFilterBuilder-filterOperationLess"),lessThanOrEqual:J.format("dxFilterBuilder-filterOperationLessOrEquals"),greaterThan:J.format("dxFilterBuilder-filterOperationGreater"),greaterThanOrEqual:J.format("dxFilterBuilder-filterOperationGreaterOrEquals"),startsWith:J.format("dxFilterBuilder-filterOperationStartsWith"),contains:J.format("dxFilterBuilder-filterOperationContains"),notContains:J.format("dxFilterBuilder-filterOperationNotContains"),endsWith:J.format("dxFilterBuilder-filterOperationEndsWith"),isBlank:J.format("dxFilterBuilder-filterOperationIsBlank"),isNotBlank:J.format("dxFilterBuilder-filterOperationIsNotBlank")}})},_optionChanged:function(e){switch(e.name){case"closePopupOnTargetScroll":break;case"onEditorPreparing":case"onEditorPrepared":case"onValueChanged":this._initActions();break;case"customOperations":this._initCustomOperations(),this._invalidate();break;case"fields":case"maxGroupLevel":case"groupOperations":case"allowHierarchicalFields":case"groupOperationDescriptions":case"filterOperationDescriptions":this._invalidate();break;case"value":if(e.value!==e.previousValue){var n=this._disableInvalidateForValue;n||(this._initModel(),this._invalidate()),this._disableInvalidateForValue=!1,this.executeAction("onValueChanged",{value:e.value,previousValue:e.previousValue}),this._disableInvalidateForValue=n}break;default:this.callBase(e)}},getFilterExpression:function(){var e=this._getNormalizedFields();return q_(qx(A(!0,[],this._model)),e,this._customOperations,TY)},_getNormalizedFields:function(){return function c_e(e){return e.reduce(function(n,t){if(T(t.dataField)){var i={};for(var r in t)t[r]&&Jfe.indexOf(r)>-1&&(i[r]=t[r]);i.defaultCalculateFilterExpression=P_.defaultCalculateFilterExpression,T(i.dataType)||(i.dataType=qL),T(i.trueText)||(i.trueText=J.format("dxDataGrid-trueText")),T(i.falseText)||(i.falseText=J.format("dxDataGrid-falseText")),n.push(i)}return n},[])}(this.option("fields"))},_updateFilter:function(){this._disableInvalidateForValue=!0;var n=qx(A(!0,[],this._model)),t=qx(this._getModel(this.option("value")));JSON.stringify(t)!==JSON.stringify(n)&&this.option("value",n),this._disableInvalidateForValue=!1,this._fireContentReadyAction()},_init:function(){this._initCustomOperations(),this._initModel(),this._initEditorFactory(),this._initActions(),this.callBase()},_initEditorFactory:function(){this._editorFactory=new V_e},_initCustomOperations:function(){this._customOperations=function g_e(e,n,t){var i=A(!0,[],e),r=-1;return i.some(function(o,s){if("between"===o.name)return r=s,!0}),-1!==r?i[r]=A(eY(n,t),i[r]):i.unshift(eY(n,t)),i}(this.option("customOperations"),this.option("filterOperationDescriptions.between"),this)},_getDefaultGroupOperation:function(){var e,n;return null!==(e=null===(n=this.option("groupOperations"))||void 0===n?void 0:n[0])&&void 0!==e?e:RY.and},_getModel:function(e){return rV(e,this._customOperations,this._getDefaultGroupOperation())},_initModel:function(){this._model=this._getModel(this.option("value"))},_initActions:function(){var e=this;e._actions={},L_e.forEach(function(n){var t=A({},n.config);e._actions[n.name]=e._createActionByOption(n.name,t)})},executeAction:function(e,n){var t=this._actions[e];return t&&t(n)},_initMarkup:function(){this.$element().addClass(To),this.callBase(),this._createGroupElementByCriteria(this._model).appendTo(this.$element())},_createConditionElement:function(e,n){return x("<div>").addClass(J_).append(this._createConditionItem(e,n))},_createGroupElementByCriteria:function(e,n){for(var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=this._createGroupElement(e,n,t),r=i.find("."+EY),o=id(e),s=0;s<o.length;s++){var l=o[s];cc(l)?this._createGroupElementByCriteria(l,e,t+1).appendTo(r):pi(l)&&this._createConditionElement(l,e).appendTo(r)}return i},_createGroupElement:function(e,n,t){var i=x("<div>").addClass(SY),r=x("<div>").addClass(EY),o=x("<div>").addClass(J_).append(i).append(r);return null!=n&&this._createRemoveButton(()=>{QL(n,e),o.remove(),this._updateFilter()}).appendTo(i),this._createGroupOperationButton(e).appendTo(i),this._createAddButton(()=>{var s=aY(this._getDefaultGroupOperation());eI(s,e),this._createGroupElement(s,e,t+1).appendTo(r),this._updateFilter()},()=>{var l=function d_e(e,n){var t=[e.dataField,"",""];return aV(t,ZL(e),n),t}(this.option("fields")[0],this._customOperations);eI(l,e),this._createConditionElement(l,e).appendTo(r),this._updateFilter()},t).appendTo(i),o},_createButton:function(e){return x("<div>").text(e)},_createGroupOperationButton:function(e){var n=this._getGroupOperations(e),t=function r_e(e,n){var t=kp(e);return n.filter(function(i){return i.value===t})[0]}(e,n),i=t.text,r=n&&n.length<2?this._createButton(i).addClass("dx-state-disabled"):this._createButtonWithMenu({caption:i,menu:{items:n,displayExpr:"text",keyExpr:"value",onItemClick:o=>{t!==o.itemData&&(function i_e(e,n){var i,r;return function n_e(e,n){-1!==n.indexOf("!")?Fp(e)||function(t){var i=t.slice(0);t.length=0,t.push("!",i)}(e):Fp(e)&&function(t){var i=id(t);t.length=0,[].push.apply(t,i)}(e)}(e,n),function(r,o){for(i=0;i<r.length;i++)Array.isArray(r[i])||(r[i]=o)}(id(e),n=-1===(r=n).indexOf("!")?r:r.substring(1)),e}(e,o.itemData.value),r.text(o.itemData.text),t=o.itemData,this._updateFilter())},onContentReady:function(o){o.component.selectItem(t)},cssClass:D_e}});return r.addClass(Zx).addClass(S_e).attr("tabindex",0)},_createButtonWithMenu:function(e){var s,n=this,t=function(){n.$element().find("."+iI).removeClass(iI),n.$element().find(".dx-overlay .dx-treeview").remove(),n.$element().find(".dx-overlay").remove()},i=this.option("rtlEnabled"),r=i?"right":"left",o=this._createButton(e.caption);return A(e.menu,{focusStateEnabled:!0,selectionMode:"single",onItemClick:(s=e.menu.onItemClick,function(l){s(l),"dxclick"===l.event.type&&t()}),onHiding:function(l){o.removeClass(iI)},position:{my:r+" top",at:r+" bottom",offset:"0 1",of:o,collision:"flip"},animation:null,onHidden:function(){t()},cssClass:A_e+" "+e.menu.cssClass,rtlEnabled:i}),e.popup={onShown:function(l){var h=x(l.component.content()).find(".dx-treeview"),g=h.dxTreeView("instance");R.on(h,"keyup keydown",function(_){var v=xn(_);("keydown"===_.type&&"tab"===v||"keyup"===_.type&&("escape"===v||v===cV))&&(l.component.hide(),R.trigger(e.menu.position.of,"focus"))}),g.focus(),g.option("focusedElement",null)}},this._subscribeOnClickAndEnterKey(o,function(){t(),n._createPopupWithTreeView(e,n.$element()),o.addClass(iI)}),o},_hasValueButton:function(e){var n=rd(this._customOperations,e[1]);return n?!1!==n.hasValue:null!==e[2]},_createOperationButtonWithMenu:function(e,n){var t=this,i=function l_e(e,n,t){var i=sY(e),r=!!e.lookup;return t.forEach(function(o){if(!e.filterOperations&&-1===i.indexOf(o.name)){var s=o&&o.dataTypes;(!r||!o.notForLookup)&&s&&s.indexOf(e.dataType||qL)>=0&&i.push(o.name)}}),i.map(function(o){var s=rd(t,o);return s?{icon:s.icon||nY,text:s.caption||Ni(s.name),value:s.name,isCustom:!0}:{icon:tY_getIconByFilterOperation(o)||nY,text:XL(o,n),value:o}})}(n,this.option("filterOperationDescriptions"),this._customOperations),r=function a_e(e,n){for(var t=0;t<n.length;t++)if(n[t].value===e)return n[t];throw new It.Error("E1048",e)}(CY(e),i),o=this._createButtonWithMenu({caption:r.text,menu:{items:i,displayExpr:"text",onItemRendered:function(s){s.itemData.isCustom&&x(s.itemElement).addClass(k_e)},onContentReady:function(s){s.component.selectItem(r)},onItemClick:s=>{if(r!==s.itemData){aV(e,(r=s.itemData).value,t._customOperations);var l=o.siblings().filter("."+IY);t._hasValueButton(e)?(0!==l.length&&l.remove(),t._createValueButton(e,n).appendTo(o.parent())):l.remove(),o.html(r.text),this._updateFilter()}},cssClass:R_e}}).addClass(Zx).addClass(T_e).attr("tabindex",0);return o},_createOperationAndValueButtons:function(e,n,t){this._createOperationButtonWithMenu(e,n).appendTo(t),this._hasValueButton(e)&&this._createValueButton(e,n).appendTo(t)},_createFieldButtonWithMenu:function(e,n,t){var i=this,r=this.option("allowHierarchicalFields"),o=_Y(e,r),s=tI(t.name||t.dataField,o),l=function(g,_){return r?vY(g,_):g.caption},h=this._createButtonWithMenu({caption:l(s,o),menu:{items:o,dataStructure:"plain",keyExpr:"id",parentId:"parentId",displayExpr:"caption",onItemClick:g=>{if(s!==g.itemData){n[0]=(s=g.itemData).name||s.dataField,n[2]="object"===s.dataType?null:"",aV(n,ZL(s),i._customOperations),h.siblings().filter("."+Zx).remove(),i._createOperationAndValueButtons(n,s,h.parent());var _=l(s,g.component.option("items"));h.html(_),this._updateFilter()}},onContentReady:function(g){g.component.selectItem(s)},cssClass:P_e}}).addClass(Zx).addClass(I_e).attr("tabindex",0);return h},_createConditionItem:function(e,n){var t=x("<div>").addClass(SY),i=this._getNormalizedFields(),r=tI(e[0],i);return this._createRemoveButton(()=>{QL(n,e),1===t.parent().children().length?t.parent().remove():t.remove(),this._updateFilter()}).appendTo(t),this._createFieldButtonWithMenu(i,e,r).appendTo(t),this._createOperationAndValueButtons(e,r,t),t},_getGroupOperations:function(e){var n=this.option("groupOperations"),t=this.option("groupOperationDescriptions");return(!n||!n.length)&&(n=[kp(e).replace("!","not")]),n.map(i=>({text:t[i],value:RY[i]}))},_createRemoveButton:function(e){var n=x("<div>").addClass(wY).addClass("dx-icon-remove").addClass(uV).attr("tabindex",0);return this._subscribeOnClickAndEnterKey(n,e),n},_createAddButton:function(e,n,t){var i,r=this.option("maxGroupLevel");return T(r)&&t>=r?(i=this._createButton(),this._subscribeOnClickAndEnterKey(i,n)):i=this._createButtonWithMenu({menu:{items:[{caption:J.format("dxFilterBuilder-addCondition"),click:n},{caption:J.format("dxFilterBuilder-addGroup"),click:e}],displayExpr:"caption",onItemClick:function(o){o.itemData.click()},cssClass:F_e}}),i.addClass(wY).addClass("dx-icon-plus").addClass(uV).attr("tabindex",0)},_createValueText:function(e,n,t){var i=this,r=x("<div>").html("&nbsp;").addClass(M_e).attr("tabindex",0).appendTo(t),o=e[2],s=rd(i._customOperations,e[1]);return!s&&n.lookup?uY(n,o,function(l){dV(r,l)}):ke(hY(n,o,s)).done(l=>{dV(r,l,s)}),i._subscribeOnClickAndEnterKey(r,function(l){"keyup"===l.type&&l.stopPropagation(),i._createValueEditorWithEvents(e,n,t)}),r},_updateConditionValue:function(e,n,t){e[2]!==n&&(e[2]=n),t(),this._updateFilter()},_addDocumentKeyUp:function(e,n){var t=!1,i=!1,r=se.getDocument(),o=l=>{t||i?i=!1:n(l)};R.on(r,"keyup",o);var s=e.find("input");R.on(s,"compositionstart",()=>{t=!0}),R.on(s,"compositionend",()=>{t=!1,i=!0}),R.on(s,"keydown",l=>{229!==l.which&&(i=!1)}),this._documentKeyUpHandler=o},_addDocumentClick:function(e,n){var t=se.getDocument(),i=r=>{this._isFocusOnEditorParts(e,r.target)||(R.trigger(e.find("input"),"change"),n())};R.on(t,"dxpointerdown",i),this._documentClickHandler=i},_isFocusOnEditorParts:function(e,n){var t=n||se.getActiveElement();return x(t).closest(e.children()).length||x(t).closest(".dx-dropdowneditor-overlay").length},_removeEvents:function(){var e=se.getDocument();T(this._documentKeyUpHandler)&&R.off(e,"keyup",this._documentKeyUpHandler),T(this._documentClickHandler)&&R.off(e,"dxpointerdown",this._documentClickHandler)},_dispose:function(){this._removeEvents(),this.callBase()},_createValueEditorWithEvents:function(e,n,t){var i=e[2],r=()=>(t.empty(),this._removeEvents(),this._createValueText(e,n,t)),o=()=>{this._updateConditionValue(e,i,function(){r()})},s={value:""===i?null:i,filterOperation:CY(e),setValue:function(h){i=null===h?"":h},closeEditor:o,text:t.text()};t.empty();var l=this._createValueEditor(t,n,s);R.trigger(l.find("input").not(":hidden").eq(0),"focus"),this._removeEvents(),this._addDocumentClick(l,o),this._addDocumentKeyUp(l,h=>{var g=xn(h);if("tab"===g){if(this._isFocusOnEditorParts(l))return;this._updateConditionValue(e,i,function(){r(),h.shiftKey&&R.trigger(t.prev(),"focus")})}"escape"===g&&R.trigger(r(),"focus"),g===cV&&this._updateConditionValue(e,i,function(){R.trigger(r(),"focus")})}),this._fireContentReadyAction()},_createValueButton:function(e,n){var t=x("<div>").addClass(Zx).addClass(IY);return this._createValueText(e,n,t),t},_createValueEditor:function(e,n,t){var i=x("<div>").attr("tabindex",0).appendTo(e),r=rd(this._customOperations,t.filterOperation),o=r&&r.editorTemplate?r.editorTemplate:n.editorTemplate;return o?this._getTemplate(o).render({model:A({field:n},t),container:i}):this._editorFactory.createEditor.call(this,i,A({},n,t,{parentType:TY})),i},_createPopupWithTreeView:function(e,n){var t=this,i=x("<div>").addClass(e.menu.cssClass).appendTo(n);this._createComponent(i,Ma,{onHiding:e.menu.onHiding,onHidden:e.menu.onHidden,rtlEnabled:e.menu.rtlEnabled,position:e.menu.position,animation:e.menu.animation,contentTemplate:function(r){var o=x("<div>").appendTo(r);t._createComponent(o,D0,e.menu),this.repaint()},_ignoreFunctionValueDeprecation:!0,maxHeight:function(){return P4(e.menu.position.of)},visible:!0,focusStateEnabled:!1,hideOnParentScroll:this.option("closePopupOnTargetScroll"),hideOnOutsideClick:!0,onShown:e.popup.onShown,shading:!1,width:"auto",height:"auto",showTitle:!1,_wrapperClassExternal:e.menu.cssClass})},_subscribeOnClickAndEnterKey:function(e,n){R.on(e,"dxclick",n),R.on(e,"keyup",function(t){xn(t)===cV&&n(t)})}});Dt("dxFilterBuilder",PY);const N_e=PY;var H_e=dn.View.inherit({_renderCore(){this._updatePopupOptions()},_updatePopupOptions(){this.option("filterBuilderPopup.visible")?this._initPopup():this._filterBuilderPopup&&this._filterBuilderPopup.hide()},_disposePopup(){this._filterBuilderPopup&&(this._filterBuilderPopup.dispose(),this._filterBuilderPopup=void 0),this._filterBuilder&&(this._filterBuilder.dispose(),this._filterBuilder=void 0)},_initPopup(){var e=this;e._disposePopup(),e._filterBuilderPopup=e._createComponent(e.element(),Ma,A({title:J.format("dxDataGrid-filterBuilderPopupTitle"),contentTemplate:n=>e._getPopupContentTemplate(n),onOptionChanged(n){"visible"===n.name&&e.option("filterBuilderPopup.visible",n.value)},toolbarItems:e._getPopupToolbarItems()},e.option("filterBuilderPopup"),{onHidden(){rB(e),e._disposePopup()}}))},_getPopupContentTemplate(e){var n=x(e),t=x("<div>").appendTo(x(e));this._filterBuilder=this._createComponent(t,N_e,A({value:this.option("filterValue"),fields:this.getController("columns").getFilteringColumns()},this.option("filterBuilder"),{customOperations:this.getController("filterSync").getCustomFilterOperations()})),this._createComponent(n,WG,{direction:"both"})},_getPopupToolbarItems(){var e=this;return[{toolbar:"bottom",location:"after",widget:"dxButton",options:{text:J.format("OK"),onClick(){var n=e._filterBuilder.option("value");e.option("filterValue",n),e._filterBuilderPopup.hide()}}},{toolbar:"bottom",location:"after",widget:"dxButton",options:{text:J.format("Cancel"),onClick(){e._filterBuilderPopup.hide()}}}]},optionChanged(e){switch(e.name){case"filterBuilder":case"filterBuilderPopup":this._invalidate(),e.handled=!0;break;default:this.callBase(e)}}});Ge.registerModule("filterBuilder",{defaultOptions:()=>({filterBuilder:{groupOperationDescriptions:{and:J.format("dxFilterBuilder-and"),or:J.format("dxFilterBuilder-or"),notAnd:J.format("dxFilterBuilder-notAnd"),notOr:J.format("dxFilterBuilder-notOr")},filterOperationDescriptions:{between:J.format("dxFilterBuilder-filterOperationBetween"),equal:J.format("dxFilterBuilder-filterOperationEquals"),notEqual:J.format("dxFilterBuilder-filterOperationNotEquals"),lessThan:J.format("dxFilterBuilder-filterOperationLess"),lessThanOrEqual:J.format("dxFilterBuilder-filterOperationLessOrEquals"),greaterThan:J.format("dxFilterBuilder-filterOperationGreater"),greaterThanOrEqual:J.format("dxFilterBuilder-filterOperationGreaterOrEquals"),startsWith:J.format("dxFilterBuilder-filterOperationStartsWith"),contains:J.format("dxFilterBuilder-filterOperationContains"),notContains:J.format("dxFilterBuilder-filterOperationNotContains"),endsWith:J.format("dxFilterBuilder-filterOperationEndsWith"),isBlank:J.format("dxFilterBuilder-filterOperationIsBlank"),isNotBlank:J.format("dxFilterBuilder-filterOperationIsNotBlank")}},filterBuilderPopup:{}}),views:{filterBuilderView:H_e}});var Qx="filter-panel",W_e="".concat(Qx,"-text"),$_e="".concat(Qx,"-checkbox"),G_e="".concat(Qx,"-clear-filter"),U_e="".concat(Qx,"-left"),K_e=dn.View.inherit({isVisible(){return this.option("filterPanel.visible")&&this.getController("data").dataSource()},init(){this.getController("data").dataSourceChanged.add(()=>this.render()),this._columnsController=this.getController("columns")},_renderCore(){var e=this.element();if(e.empty(),this._columnsController.getColumns().length){e.addClass(this.addWidgetPrefix(Qx));var t=x("<div>").addClass(this.addWidgetPrefix(U_e)).appendTo(e);this._renderFilterBuilderText(e,t)}},_renderFilterBuilderText(e,n){var t=this._getFilterElement(),i=this._getTextElement();if(this.option("filterValue")||this._filterValueBuffer){var r=this._getCheckElement(),o=this._getRemoveButtonElement();return n.append(r).append(t).append(i),void e.append(o)}n.append(t).append(i)},_getCheckElement(){var e=this,n=x("<div>").addClass(this.addWidgetPrefix($_e));return e._createComponent(n,cx,{value:e.option("filterPanel.filterEnabled"),onValueChanged(t){e.option("filterPanel.filterEnabled",t.value)}}),n.attr("title",this.option("filterPanel.texts.filterEnabledHint")),n},_getFilterElement(){var e=this,n=x("<div>").addClass("dx-icon-filter");return R.on(n,"click",()=>e._showFilterBuilder()),hx("filterPanel",e,n,void 0,()=>e._showFilterBuilder()),e._addTabIndexToElement(n),n},_getTextElement(){var t,e=this,n=x("<div>").addClass(e.addWidgetPrefix(W_e)),i=e.option("filterValue");return i?ke(e.getFilterText(i,e.getController("filterSync").getCustomFilterOperations())).done(r=>{var o=e.option("filterPanel.customizeText");if(o){var s=o({component:e.component,filterValue:i,text:r});"string"==typeof s&&(r=s)}n.text(r)}):(t=e.option("filterPanel.texts.createFilter"),n.text(t)),R.on(n,"click",()=>e._showFilterBuilder()),hx("filterPanel",e,n,void 0,()=>e._showFilterBuilder()),e._addTabIndexToElement(n),n},_showFilterBuilder(){this.option("filterBuilderPopup.visible",!0)},_getRemoveButtonElement(){var e=this,n=()=>e.option("filterValue",null),t=x("<div>").addClass(e.addWidgetPrefix(G_e)).text(e.option("filterPanel.texts.clearFilter"));return R.on(t,"click",n),hx("filterPanel",this,t,void 0,n),e._addTabIndexToElement(t),t},_addTabIndexToElement(e){if(!this.option("useLegacyKeyboardNavigation")){var n=this.option("tabindex")||0;e.attr("tabindex",n)}},optionChanged(e){switch(e.name){case"filterValue":this._invalidate(),this.option("filterPanel.filterEnabled",!0),e.handled=!0;break;case"filterPanel":this._invalidate(),e.handled=!0;break;default:this.callBase(e)}},_getConditionText(e,n,t){var i="[".concat(e,"] ").concat(n);return T(t)&&(i+=t),i},_getValueMaskedText:e=>Array.isArray(e)?"('".concat(e.join("', '"),"')"):" '".concat(e,"'"),_getValueText(e,n,t){var i=new W,r=n&&n.customizeText;return T(t)||r?!r&&e.lookup?uY(e,t,s=>{i.resolve(this._getValueMaskedText(s))}):ke(hY(e,Array.isArray(t)?t:xe.getDisplayValue(e,t,null),n,"filterPanel")).done(s=>{i.resolve(this._getValueMaskedText(s))}):i.resolve(""),i.promise()},getConditionText(e,n){var s,t=this,i=e[1],r=new W,o=rd(n.customOperations,i),l=tI(e[0],n.columns),h=l.caption||"",g=e[2];return s=o?o.caption||Ni(o.name):XL(null===g?"="===i?"isblank":"isnotblank":i,n.filterOperationDescriptions),this._getValueText(l,o,g).done(_=>{r.resolve(t._getConditionText(h,s,_))}),r},getGroupText(e,n,t){var i=this,r=new W,o=[],s=kp(e);return e.forEach(l=>{pi(l)?o.push(i.getConditionText(l,n)):cc(l)&&o.push(i.getGroupText(l,n,!0))}),ke.apply(this,o).done(function(){for(var l,h=arguments.length,g=new Array(h),_=0;_<h;_++)g[_]=arguments[_];if(s.startsWith("!")){var v=n.groupOperationDescriptions["not".concat(s.substring(1,2).toUpperCase()).concat(s.substring(2))].split(" ");l="".concat(v[0]," ").concat(g[0])}else l=g.join(" ".concat(n.groupOperationDescriptions[s]," "));t&&(l="(".concat(l,")")),r.resolve(l)}),r},getFilterText(e,n){var t={customOperations:n,columns:this.getController("columns").getFilteringColumns(),filterOperationDescriptions:this.option("filterBuilder.filterOperationDescriptions"),groupOperationDescriptions:this.option("filterBuilder.groupOperationDescriptions")};return pi(e)?this.getConditionText(e,t):this.getGroupText(e,t)}}),Y_e={defaultOptions:()=>({filterPanel:{visible:!1,filterEnabled:!0,texts:{createFilter:J.format("dxDataGrid-filterPanelCreateFilter"),clearFilter:J.format("dxDataGrid-filterPanelClearFilter"),filterEnabledHint:J.format("dxDataGrid-filterPanelFilterEnabledHint")}}}),views:{filterPanelView:K_e},extenders:{controllers:{data:{optionChanged(e){"filterPanel"===e.name?(this._applyFilter(),e.handled=!0):this.callBase(e)}}}}};Ge.registerModule("filterPanel",Y_e);var FY="search-panel",kY="search-text";function BY(e){return T(e.allowSearch)?e.allowSearch:e.allowFiltering}function LY(e,n){var{lookup:t}=e;return e.parseValue?t?e.parseValue.call(t,n):e.parseValue(n):n}var X_e={defaultOptions:()=>({searchPanel:{visible:!1,width:160,placeholder:J.format("dxDataGrid-searchPanelPlaceholder"),highlightSearchText:!0,highlightCaseSensitive:!1,text:"",searchVisibleColumnsOnly:!1}}),extenders:{controllers:{data:{publicMethods(){return this.callBase().concat(["searchByText"])},_calculateAdditionalFilter(){var e=this.callBase(),n=function(t,i){var r,o,h,s=t._columnsController.getColumns(),l=t.option("searchPanel.searchVisibleColumnsOnly"),g=[];if(!i)return null;function _(C){for(var b=Yt(h.valueExpr),E=0;E<C.length;E++){var w=b(C[E]);g.push(o.createFilterExpression(w,null,"search"))}}for(r=0;r<s.length;r++)if(o=s[r],(!l||o.visible)&&BY(o)&&o.calculateFilterExpression){h=o.lookup;var v=LY(o,i);h&&h.items?zr(h.items).filter(o.createFilterExpression.call({dataField:h.displayExpr,dataType:h.dataType,calculateFilterExpression:o.calculateFilterExpression},v,null,"search")).enumerate().done(_):void 0!==v&&g.push(o.createFilterExpression(v,null,"search"))}return 0===g.length?["!"]:xe.combineFilters(g,"or")}(this,this.option("searchPanel.text"));return xe.combineFilters([e,n])},searchByText(e){this.option("searchPanel.text",e)},optionChanged(e){switch(e.fullName){case"searchPanel.text":case"searchPanel":this._applyFilter(),e.handled=!0;break;default:this.callBase(e)}}}},views:{headerPanel:function(){var e=function(n){return n.option("searchPanel")};return{_getToolbarItems(){var n=this.callBase();return this._prepareSearchItem(n)},_prepareSearchItem(n){var t=this,i=t.getController("data"),r=e(t);return r&&r.visible&&n.push({template(s,l,h){var g=x("<div>").addClass(t.addWidgetPrefix(FY)).appendTo(h);t.getController("editorFactory").createEditor(g,{width:r.width,placeholder:r.placeholder,parentType:"searchPanel",value:t.option("searchPanel.text"),updateValueTimeout:700,setValue(_){i.searchByText(_)},editorOptions:{inputAttr:{"aria-label":J.format("".concat(t.component.NAME,"-ariaSearchInGrid"))}}}),t.resize()},name:"searchPanel",location:"after",locateInMenu:"never",sortIndex:40}),n},getSearchTextEditor(){var n=this,t=n.element(),i=t.find(".".concat(n.addWidgetPrefix(FY))).filter(function(){return x(this).closest(".".concat(n.addWidgetPrefix("header-panel"))).is(t)});return i.length?i.dxTextBox("instance"):null},isVisible(){var n=e(this);return this.callBase()||n&&n.visible},optionChanged(n){if("searchPanel"===n.name){if("searchPanel.text"===n.fullName){var t=this.getSearchTextEditor();t&&t.option("value",n.value)}else this._invalidate();n.handled=!0}else this.callBase(n)}}}(),rowsView:{init(){this.callBase.apply(this,arguments),this._searchParams=[],this._dataController=this.getController("data")},_getFormattedSearchText(e,n){var t=LY(e,n),i=xe.getFormatOptionsByColumn(e,"search");return xe.formatValue(t,i)},_getStringNormalizer(){var e,n,t,i,r=this.option("searchPanel.highlightCaseSensitive"),o=null===(n=null===(e=this._dataController)||void 0===e?void 0:e.getDataSource)||void 0===n?void 0:n.call(e),s=null===(i=null===(t=o?.loadOptions)||void 0===t?void 0:t.call(o))||void 0===i?void 0:i.langParams;return l=>wi(l,r,s)},_findHighlightingTextNodes(e,n,t){var r,i=n.parent(),o=this._getStringNormalizer(),s=o(t),l=[];if(i.length){if(e)if(e.groupIndex>=0&&!e.showWhenGrouped)r=n;else{var h=this._columnsController.getVisibleIndex(e.index);r=i.children("td").eq(h).find("*")}}else i=x("<div>").append(n);return(r=r?.length?r:i.find("*")).each((g,_)=>{for(var v=x(_).contents(),C=0;C<v.length;C++){var b=v.get(C);3===b.nodeType&&o(b.textContent||b.nodeValue).indexOf(s)>-1&&l.push(b)}}),l},_highlightSearchTextCore(e,n){var t=x("<span>").addClass(this.addWidgetPrefix(kY)),i=e.text(),r=e[0],o=this._getStringNormalizer(),s=o(i).indexOf(o(n));if(s>=0)return r.textContent?r.textContent=i.substr(0,s):r.nodeValue=i.substr(0,s),e.after(t.text(i.substr(s,n.length))),e=x(se.createTextNode(i.substr(s+n.length))).insertAfter(t),this._highlightSearchTextCore(e,n)},_highlightSearchText(e,n,t){var i=this,r=this._getStringNormalizer(),o=i.option("searchPanel.text");n&&t&&(o=o&&i._getFormattedSearchText(t,o)),o&&i.option("searchPanel.highlightSearchText")&&i._findHighlightingTextNodes(t,e,o).forEach(l=>{n?r(x(l).text())===r(o)&&x(l).replaceWith(x("<span>").addClass(i.addWidgetPrefix(kY)).text(x(l).text())):i._highlightSearchTextCore(x(l),o)})},_renderCore(){var e=this.callBase.apply(this,arguments);return(this.option().rowTemplate||this.option("dataRowTemplate"))&&(this.option("templatesRenderAsynchronously")?(clearTimeout(this._highlightTimer),this._highlightTimer=setTimeout(()=>{this._highlightSearchText(this.getTableElement())})):this._highlightSearchText(this.getTableElement())),e},_updateCell(e,n){var{column:t}=n,r="string"!==(t.lookup&&t.lookup.dataType||t.dataType);BY(t)&&!n.isOnForm&&(this.option("templatesRenderAsynchronously")?(this._searchParams.length||(clearTimeout(this._highlightTimer),this._highlightTimer=setTimeout(()=>{this._searchParams.forEach(o=>{this._highlightSearchText.apply(this,o)}),this._searchParams=[]})),this._searchParams.push([e,r,t])):this._highlightSearchText(e,r,t)),this.callBase(e,n)},dispose(){clearTimeout(this._highlightTimer),this.callBase()}}}}};Ge.registerModule("search",X_e);class Z_e extends UP{_optionChanged(n){switch(n.name){case"pageIndex":var t=this.option("pageIndexChanged");t&&t(n.value);break;case"pageSize":var i=this.option("pageSizeChanged");i&&i(n.value)}super._optionChanged(n)}}function od(e,n){var t;return GG((null!==(t=dU(n))&&void 0!==t?t:{})[e])}function rI(e){return od("marginLeft",e)+od("marginRight",e)+od("width",e)}function VY(e){return od("minWidth",e)}var eme=["contentTemplate","pagerProps"];var ome={},sme=e=>e&&(e.defaultProps?n=>pr(rn(2,e,de({},n))):e);let ame=(()=>{class e extends Zo{constructor(t){super(t),this.parentRef={current:null},this.pageSizesRef={current:null},this.infoTextRef={current:null},this.pagesRef={current:null},this.actualIsLargeDisplayMode=!0,this.actualInfoTextVisible=!0,this.state={infoTextVisible:!0,isLargeDisplayMode:!0},this.subscribeToResize=this.subscribeToResize.bind(this),this.effectUpdateChildProps=this.effectUpdateChildProps.bind(this),this.updateAdaptivityProps=this.updateAdaptivityProps.bind(this)}createEffects(){return[new tn(this.subscribeToResize,[this.state.infoTextVisible,this.state.isLargeDisplayMode]),new tn(this.effectUpdateChildProps,[this.props,this.state.infoTextVisible,this.state.isLargeDisplayMode,this.props.pagerProps,this.props.contentTemplate])]}updateEffects(){var t,i;null===(t=this._effects[0])||void 0===t||t.update([this.state.infoTextVisible,this.state.isLargeDisplayMode]),null===(i=this._effects[1])||void 0===i||i.update([this.props,this.state.infoTextVisible,this.state.isLargeDisplayMode,this.props.pagerProps,this.props.contentTemplate])}subscribeToResize(){var t=()=>{this.parentWidth>0&&this.updateAdaptivityProps()};return Sa.add(t),()=>{Sa.remove(t)}}effectUpdateChildProps(){this.parentWidth>0&&this.updateAdaptivityProps()}get contentAttributes(){var{className:t,displayMode:i,gridCompatibility:r,hasKnownLastPage:o,infoText:s,label:l,lightModeEnabled:h,maxPagesCount:g,onKeyDown:_,pageCount:v,pageIndex:C,pageIndexChange:b,pageSize:E,pageSizeChange:w,pageSizes:M,pagesCountText:k,pagesNavigatorVisible:L,rtlEnabled:G,showInfo:Q,showNavigationButtons:le,showPageSizes:Te,totalCount:He,visible:Ee}=this.props.pagerProps;return de({},this.restAttributes,{pageSize:E,pageIndex:C,pageIndexChange:b,pageSizeChange:w,gridCompatibility:r,className:t,showInfo:Q,infoText:s,lightModeEnabled:h,displayMode:i,maxPagesCount:g,pageCount:v,pagesCountText:k,visible:Ee,hasKnownLastPage:o,pagesNavigatorVisible:L,showPageSizes:Te,pageSizes:M,rtlEnabled:G,showNavigationButtons:le,totalCount:He,onKeyDown:_,label:l})}get parentWidth(){return this.parentRef.current?rI(this.parentRef.current):0}updateAdaptivityProps(){var t=function rme(e){var{info:n,pageSizes:t,pages:i,parent:r}=e,o=function Q_e(e){var n=od("paddingLeft",e)+od("paddingRight",e);return od("width",e)-n}(r),s=rI(t),l=rI(n),h=rI(i);return{parent:o,pageSizes:s,info:l+od("marginLeft",n)+od("marginRight",n),pages:h}}({parent:this.parentRef.current,pageSizes:this.pageSizesRef.current,info:this.infoTextRef.current,pages:this.pagesRef.current});if(this.actualInfoTextVisible===this.state.infoTextVisible&&this.actualIsLargeDisplayMode===this.state.isLargeDisplayMode){var i=!T(this.elementsWidth);i&&(this.elementsWidth={}),(i||this.state.isLargeDisplayMode)&&(this.elementsWidth.pageSizes=t.pageSizes,this.elementsWidth.pages=t.pages),(i||this.state.infoTextVisible)&&(this.elementsWidth.info=t.info),this.actualIsLargeDisplayMode=function nme(e){var{pageSizes:n,pages:t,parent:i}=e;return i-(n+t)>0}(de({parent:t.parent},{pageSizes:this.elementsWidth.pageSizes,pages:this.elementsWidth.pages})),this.actualInfoTextVisible=function ime(e){var{info:n,pageSizes:t,pages:i,parent:r}=e;return r-(t+i+n)>0}(de({},t,{info:this.elementsWidth.info})),this.setState(r=>({infoTextVisible:this.actualInfoTextVisible})),this.setState(r=>({isLargeDisplayMode:this.actualIsLargeDisplayMode}))}}get restAttributes(){return mn(this.props,eme)}render(){var t=this.props;return(e=>{var{contentAttributes:n,infoTextRef:t,infoTextVisible:i,isLargeDisplayMode:r,pageSizesRef:o,pagesRef:s,parentRef:l,props:{contentTemplate:h}}=e;return h(de({rootElementRef:l,pageSizesRef:o,infoTextRef:t,pagesRef:s,infoTextVisible:i,isLargeDisplayMode:r},n))})({props:de({},t,{contentTemplate:sme(t.contentTemplate)}),infoTextVisible:this.state.infoTextVisible,isLargeDisplayMode:this.state.isLargeDisplayMode,parentRef:this.parentRef,pageSizesRef:this.pageSizesRef,infoTextRef:this.infoTextRef,pagesRef:this.pagesRef,contentAttributes:this.contentAttributes,parentWidth:this.parentWidth,updateAdaptivityProps:this.updateAdaptivityProps,restAttributes:this.restAttributes})}}return e.defaultProps=ome,e})();var NY={gridCompatibility:!0,showInfo:!1,displayMode:"adaptive",maxPagesCount:10,pageCount:10,visible:!0,hasKnownLastPage:!0,pagesNavigatorVisible:"auto",showPageSizes:!0,pageSizes:Object.freeze([5,10]),showNavigationButtons:!1,totalCount:0,get label(){return J.format("dxPager-ariaLabel")}},lme=Object.create(Object.prototype,de(Object.getOwnPropertyDescriptors(NY),Object.getOwnPropertyDescriptors({defaultPageSize:5,pageSizeChange:()=>{},defaultPageIndex:1,pageIndexChange:()=>{}}))),Ri=Object.create(Object.prototype,de(Object.getOwnPropertyDescriptors(NY),Object.getOwnPropertyDescriptors({pageSize:5,pageIndex:1}))),dme=["infoText","pageCount","pageIndex","rootElementRef","totalCount"],HY="dx-info",cme={get pageIndex(){return Ri.pageIndex},get pageCount(){return Ri.pageCount},get totalCount(){return Ri.totalCount}};let hme=(()=>{class e extends xo{constructor(t){super(t),this.state={}}get infoText(){var t;return(null!==(t=this.props.infoText)&&void 0!==t?t:"")||J.getFormatter("dxPager-infoText")()}get text(){var{pageCount:t,pageIndex:i,totalCount:r}=this.props;return Ho(this.infoText,(i+1).toString(),t.toString(),r.toString())}get restAttributes(){return mn(this.props,dme)}render(){return(e=>{var{props:{rootElementRef:n},text:t}=e;return wn(1,"div",HY,t,0,null,null,n)})({props:de({},this.props),infoText:this.infoText,text:this.text,restAttributes:this.restAttributes})}}return e.defaultProps=cme,e})();var eb=Ru(void 0),pme=["children","className","label","onClick","selected","tabIndex"],fme={className:"",label:"",tabIndex:0,selected:!1};let oI=(()=>{class e extends Zo{constructor(t){super(t),this.state={},this.widgetRef={current:null},this.keyboardEffect=this.keyboardEffect.bind(this),this.subscribeToClick=this.subscribeToClick.bind(this)}get keyboardContext(){return this.context[eb.id]?this.context[eb.id]:eb.defaultValue}createEffects(){return[new tn(this.keyboardEffect,[this.keyboardContext,this.props.onClick]),new tn(this.subscribeToClick,[this.props.onClick])]}updateEffects(){var t,i;null===(t=this._effects[0])||void 0===t||t.update([this.keyboardContext,this.props.onClick]),null===(i=this._effects[1])||void 0===i||i.update([this.props.onClick])}keyboardEffect(){return this.keyboardContext.registerKeyboardAction(this.widgetRef.current,this.props.onClick)}subscribeToClick(){return YJ(this.widgetRef.current,this.props.onClick)}get restAttributes(){return mn(this.props,pme)}render(){return(e=>{var{props:{children:n,className:t,label:i,selected:r,tabIndex:o},widgetRef:s}=e;return wn(1,"div",t,n,0,{tabIndex:o,role:"button","aria-label":i,"aria-current":r?"page":void 0},null,s)})({props:de({},this.props),widgetRef:this.widgetRef,keyboardContext:this.keyboardContext,restAttributes:this.restAttributes})}}return e.defaultProps=fme,e})();var zY="dx-selection",WY="dx-page-size",bme="".concat(WY," ").concat(zY),Dme=["className","index","onClick","selected"],Eme={index:0,selected:!1,className:"dx-page"};let $Y=(()=>{class e extends xo{constructor(t){super(t),this.state={}}get label(){return Ho(J.getFormatter("dxPager-page"),this.value)}get value(){return this.props.index+1}get className(){var{selected:t}=this.props;return ts({["".concat(this.props.className)]:!!this.props.className,[zY]:!!t})}get restAttributes(){return mn(this.props,Dme)}render(){return(e=>{var{className:n,label:t,props:{onClick:i,selected:r},value:o}=e;return rn(2,oI,{className:n,label:t,onClick:i,selected:r,children:o})})({props:de({},this.props),label:this.label,value:this.value,className:this.className,restAttributes:this.restAttributes})}}return e.defaultProps=Eme,e})();var wme=["pageIndexes"],Ime=["maxPagesCount","pageCount","pageIndex","pageIndexChange"];function GY(e,n,t){return 1===e?"high":e+n===t-1?"low":"both"}function UY(e,n,t){var i=[],r=[];switch(t){case"none":i=[...e];break;case"both":i=[0,"low",...e,"high",n-1],r=e.slice(1,-1);break;case"high":i=[0,...e,"high",n-1],r=e.slice(0,-1);break;case"low":i=[0,"low",...e,n-1],r=e.slice(1)}return{slidingWindowIndexes:e,indexesForReuse:r,pageIndexes:i}}function jY(e,n,t,i){for(var r=[],o=0;o<n;o+=1)r.push(o+e);return UY(r,t,i)}var Ame={get pageIndex(){return Ri.pageIndex},get maxPagesCount(){return Ri.maxPagesCount},get pageCount(){return Ri.pageCount}};let Rme=(()=>{class e extends xo{constructor(t){super(t),this.state={},this.canReuseSlidingWindow=this.canReuseSlidingWindow.bind(this),this.generatePageIndexes=this.generatePageIndexes.bind(this),this.isSlidingWindowMode=this.isSlidingWindowMode.bind(this),this.onPageClick=this.onPageClick.bind(this)}get config(){return this.context[Gi.id]?this.context[Gi.id]:Gi.defaultValue}get slidingWindowState(){return this.slidingWindowStateHolder||{indexesForReuse:[],slidingWindowIndexes:[]}}canReuseSlidingWindow(t,i){var{indexesForReuse:r}=this.slidingWindowState,o=r.slice(-1)[0]<t-1,s=r.includes(i);return o&&s}generatePageIndexes(){var r,{pageCount:t,pageIndex:i}=this.props,{slidingWindowIndexes:o}=this.slidingWindowState,h=jY(r=i===o[0]?i-1:i===o[o.length-1]?i+2-4:i<4?1:i>=t-4?t-4-1:i-1,4,t,GY(r,4,t)),{pageIndexes:g}=h,_=mn(h,wme);return this.slidingWindowStateHolder=_,g}isSlidingWindowMode(){var{maxPagesCount:t,pageCount:i}=this.props;return i<=4||i<=t}onPageClick(t){this.props.pageIndexChange(t)}get pageIndexes(){var{pageCount:t}=this.props;if(this.isSlidingWindowMode())return jY(0,t,t,"none").pageIndexes;if(this.canReuseSlidingWindow(t,this.props.pageIndex)){var{slidingWindowIndexes:i}=this.slidingWindowState;return UY(i,t,GY(i[0],4,t)).pageIndexes}return this.generatePageIndexes()}get pages(){var t,{pageIndex:i}=this.props,r=s=>{var l="low"===s||"high"===s?null:{index:s,onClick:()=>this.onPageClick(s),selected:i===s};return{key:s.toString(),pageProps:l}};return(null!==(t=this.config)&&void 0!==t&&t.rtlEnabled?[...this.pageIndexes].reverse():this.pageIndexes).map(s=>r(s))}get restAttributes(){return mn(this.props,Ime)}render(){return(e=>{var{pages:n}=e;return As(n.map(i=>{var{key:r,pageProps:o}=i;return o?rn(2,$Y,{index:o.index,selected:o.selected,onClick:o.onClick},r):wn(1,"div","dx-separator",". . .",16,null,r)}),0)})({props:de({},this.props),config:this.config,pageIndexes:this.pageIndexes,pages:this.pages,restAttributes:this.restAttributes})}}return e.defaultProps=Ame,e})();var X_={hoverStateEnabled:!0,activeStateEnabled:!0,get focusStateEnabled(){return"desktop"===$e.real().deviceType&&!$e.isSimulator()}},sI={label:"",get labelMode(){return Wn(es())?"floating":"static"}},Pme=["accessKey","activeStateEnabled","className","defaultValue","disabled","focusStateEnabled","height","hint","hoverStateEnabled","inputAttr","invalidValueMessage","isValid","label","labelMode","max","min","mode","name","onClick","onFocusIn","onKeyDown","readOnly","rtlEnabled","showSpinButtons","step","tabIndex","useLargeSpinButtons","validationError","validationErrors","validationMessageMode","validationMessagePosition","validationStatus","value","valueChange","visible","width"],so=Object.create(Object.prototype,de(Object.getOwnPropertyDescriptors(hi),Object.getOwnPropertyDescriptors({defaultValue:0,isReactComponentWrapper:!0}))),Bme={get defaultValue(){return so.defaultValue},get readOnly(){return so.readOnly},get name(){return so.name},get validationError(){return so.validationError},get validationErrors(){return so.validationErrors},get validationMessageMode(){return so.validationMessageMode},get validationMessagePosition(){return so.validationMessagePosition},get validationStatus(){return so.validationStatus},get isValid(){return so.isValid},get inputAttr(){return so.inputAttr},get className(){return so.className},get activeStateEnabled(){return X_.activeStateEnabled},get disabled(){return so.disabled},get focusStateEnabled(){return X_.focusStateEnabled},get hoverStateEnabled(){return X_.hoverStateEnabled},get tabIndex(){return so.tabIndex},get visible(){return so.visible},get label(){return sI.label},get labelMode(){return sI.labelMode},isReactComponentWrapper:!0};let Lme=(()=>{class e extends xo{constructor(t){super(t),this.state={value:void 0!==this.props.value?this.props.value:this.props.defaultValue}}get componentProps(){return de({},this.props,{value:void 0!==this.props.value?this.props.value:this.state.value})}get restAttributes(){return mn(de({},this.props,{value:void 0!==this.props.value?this.props.value:this.state.value}),Pme)}render(){return(e=>{var{componentProps:n,restAttributes:t}=e;return pr(rn(2,Xk,de({componentType:T0,componentProps:n,templateNames:[]},t)))})({props:de({},this.props,{value:void 0!==this.props.value?this.props.value:this.state.value}),componentProps:this.componentProps,restAttributes:this.restAttributes})}}return e.defaultProps=Bme,e})();function KY(e,n){return e+10*Math.max(...n).toString().length}var Nme=["inputAttr","pageCount","pageIndex","pageIndexChange","pagesCountText"],Hme="".concat(HY,"  dx-info-text"),YY="dx-page-index",Gme={inputAttr:Object.freeze({"aria-label":J.format("dxPager-ariaPageNumber")})},Ume={get pageIndex(){return Ri.pageIndex},get pageCount(){return Ri.pageCount},get inputAttr(){return Gme.inputAttr}};let jme=(()=>{class e extends Zo{constructor(t){super(t),this.pageIndexRef={current:null},this.state={minWidth:10},this.updateWidth=this.updateWidth.bind(this),this.selectLastPageIndex=this.selectLastPageIndex.bind(this),this.valueChange=this.valueChange.bind(this)}createEffects(){return[new tn(this.updateWidth,[this.state.minWidth])]}updateEffects(){var t;null===(t=this._effects[0])||void 0===t||t.update([this.state.minWidth])}updateWidth(){var t,i=null===(t=this.pageIndexRef.current)||void 0===t?void 0:t.querySelector(".".concat(YY));this.setState(r=>({minWidth:i&&VY(i)||r.minWidth}))}get value(){return this.props.pageIndex+1}get width(){var{pageCount:t}=this.props;return KY(this.state.minWidth,[t])}get pagesCountText(){var t;return(null!==(t=this.props.pagesCountText)&&void 0!==t?t:"")||J.getFormatter("dxPager-pagesCountText")()}selectLastPageIndex(){this.props.pageIndexChange(this.props.pageCount-1)}valueChange(t){this.props.pageIndexChange(t-1)}get restAttributes(){return mn(this.props,Nme)}render(){return(e=>{var{pageIndexRef:n,pagesCountText:t,props:{inputAttr:i,pageCount:r},selectLastPageIndex:o,value:s,valueChange:l,width:h}=e;return wn(1,"div","dx-light-pages",[rn(2,Lme,{className:YY,min:1,max:r,width:h,value:s,valueChange:l,inputAttr:i}),wn(1,"span",Hme,t,0),rn(2,$Y,{className:"dx-pages-count",selected:!1,index:r-1,onClick:o})],4,null,null,n)})({props:de({},this.props),pageIndexRef:this.pageIndexRef,value:this.value,width:this.width,pagesCountText:this.pagesCountText,selectLastPageIndex:this.selectLastPageIndex,valueChange:this.valueChange,restAttributes:this.restAttributes})}}return e.defaultProps=Ume,e})();var Kme=["hasKnownLastPage","isLargeDisplayMode","maxPagesCount","pageCount","pageIndex","pageIndexChange","pagesCountText","showNavigationButtons","totalCount"],aI="dx-navigate-button",qY="dx-prev-button",JY="dx-next-button",XY="dx-button-disable",Jme={nextEnabledClass:"".concat(aI," ").concat(JY),prevEnabledClass:"".concat(aI," ").concat(qY),nextDisabledClass:"".concat(XY," ").concat(aI," ").concat(JY),prevDisabledClass:"".concat(XY," ").concat(aI," ").concat(qY)},Xme={next:"prev",prev:"next"},tve={get pageIndex(){return Ri.pageIndex},get maxPagesCount(){return Ri.maxPagesCount},get pageCount(){return Ri.pageCount},get hasKnownLastPage(){return Ri.hasKnownLastPage},get showNavigationButtons(){return Ri.showNavigationButtons},get totalCount(){return Ri.totalCount},get isLargeDisplayMode(){return true}};let nve=(()=>{class e extends xo{constructor(t){super(t),this.state={},this.__getterCache={},this.pageIndexChange=this.pageIndexChange.bind(this),this.getButtonProps=this.getButtonProps.bind(this),this.canNavigateToPage=this.canNavigateToPage.bind(this),this.getNextPageIndex=this.getNextPageIndex.bind(this),this.canNavigateTo=this.canNavigateTo.bind(this),this.navigateToPage=this.navigateToPage.bind(this)}get config(){return this.context[Gi.id]?this.context[Gi.id]:Gi.defaultValue}pageIndexChange(t){this.canNavigateToPage(t)&&this.props.pageIndexChange(t)}getButtonProps(t){var i,r=null!==(i=this.config)&&void 0!==i&&i.rtlEnabled?Xme[t]:t,o=this.canNavigateTo(r);return{className:Jme["".concat(t).concat(o?"Enabled":"Disabled","Class")],tabIndex:o?0:-1,navigate:()=>this.navigateToPage(r)}}canNavigateToPage(t){return this.props.hasKnownLastPage?t>=0&&t<=this.props.pageCount-1:t>=0}getNextPageIndex(t){return this.props.pageIndex+function Qme(e){return"next"===e?1:-1}(t)}canNavigateTo(t){return this.canNavigateToPage(this.getNextPageIndex(t))}navigateToPage(t){this.pageIndexChange(this.getNextPageIndex(t))}get renderPrevButton(){var{isLargeDisplayMode:t,showNavigationButtons:i}=this.props;return!t||i}get renderNextButton(){return this.renderPrevButton||!this.props.hasKnownLastPage}get prevButtonProps(){return void 0!==this.__getterCache.prevButtonProps?this.__getterCache.prevButtonProps:this.__getterCache.prevButtonProps=(()=>this.getButtonProps("prev"))()}get nextButtonProps(){return void 0!==this.__getterCache.nextButtonProps?this.__getterCache.nextButtonProps:this.__getterCache.nextButtonProps=(()=>this.getButtonProps("next"))()}get restAttributes(){return mn(this.props,Kme)}componentWillUpdate(t,i,r){(this.context[Gi.id]!==r[Gi.id]||this.props.hasKnownLastPage!==t.hasKnownLastPage||this.props.pageCount!==t.pageCount||this.props.pageIndex!==t.pageIndex||this.props.pageIndexChange!==t.pageIndexChange)&&(this.__getterCache.prevButtonProps=void 0),(this.context[Gi.id]!==r[Gi.id]||this.props.hasKnownLastPage!==t.hasKnownLastPage||this.props.pageCount!==t.pageCount||this.props.pageIndex!==t.pageIndex||this.props.pageIndexChange!==t.pageIndexChange)&&(this.__getterCache.nextButtonProps=void 0)}render(){return(e=>{var{nextButtonProps:n,pageIndexChange:t,prevButtonProps:i,props:{isLargeDisplayMode:r,maxPagesCount:o,pageCount:s,pageIndex:l,pagesCountText:h},renderNextButton:g,renderPrevButton:_}=e;return As([_&&rn(2,oI,{label:J.getFormatter("dxPager-prevPage")(),className:i.className,tabIndex:i.tabIndex,onClick:i.navigate}),r&&rn(2,Rme,{maxPagesCount:o,pageCount:s,pageIndex:l,pageIndexChange:t}),!r&&rn(2,jme,{pageCount:s,pageIndex:l,pageIndexChange:t,pagesCountText:h}),g&&rn(2,oI,{label:J.getFormatter("dxPager-nextPage")(),className:n.className,tabIndex:n.tabIndex,onClick:n.navigate})],0)})({props:de({},this.props),config:this.config,pageIndexChange:this.pageIndexChange,renderPrevButton:this.renderPrevButton,renderNextButton:this.renderNextButton,prevButtonProps:this.prevButtonProps,nextButtonProps:this.nextButtonProps,restAttributes:this.restAttributes})}}return e.defaultProps=tve,e})();var ive=["accessKey","activeStateEnabled","className","dataSource","defaultValue","disabled","displayExpr","focusStateEnabled","height","hint","hoverStateEnabled","inputAttr","isValid","label","labelMode","name","onClick","onFocusIn","onKeyDown","placeholder","readOnly","rtlEnabled","searchEnabled","tabIndex","validationError","validationErrors","validationMessageMode","validationMessagePosition","validationStatus","value","valueChange","valueExpr","visible","width"],mr=Object.create(Object.prototype,de(Object.getOwnPropertyDescriptors(hi),Object.getOwnPropertyDescriptors({placeholder:"",hoverStateEnabled:!0,searchEnabled:!1,defaultValue:null,isReactComponentWrapper:!0}))),ove={get placeholder(){return mr.placeholder},get hoverStateEnabled(){return X_.hoverStateEnabled},get searchEnabled(){return mr.searchEnabled},get defaultValue(){return mr.defaultValue},get readOnly(){return mr.readOnly},get name(){return mr.name},get validationError(){return mr.validationError},get validationErrors(){return mr.validationErrors},get validationMessageMode(){return mr.validationMessageMode},get validationMessagePosition(){return mr.validationMessagePosition},get validationStatus(){return mr.validationStatus},get isValid(){return mr.isValid},get inputAttr(){return mr.inputAttr},get className(){return mr.className},get activeStateEnabled(){return X_.activeStateEnabled},get disabled(){return mr.disabled},get focusStateEnabled(){return X_.focusStateEnabled},get tabIndex(){return mr.tabIndex},get visible(){return mr.visible},get label(){return sI.label},get labelMode(){return sI.labelMode},isReactComponentWrapper:!0};let sve=(()=>{class e extends xo{constructor(t){super(t),this.state={value:void 0!==this.props.value?this.props.value:this.props.defaultValue}}get componentProps(){return de({},this.props,{value:void 0!==this.props.value?this.props.value:this.state.value})}get restAttributes(){return mn(de({},this.props,{value:void 0!==this.props.value?this.props.value:this.state.value}),ive)}render(){return(e=>{var{componentProps:n,restAttributes:t}=e;return pr(rn(2,Xk,de({componentType:eB,componentProps:n,templateNames:["dropDownButtonTemplate","groupTemplate","itemTemplate"]},t)))})({props:de({},this.props,{value:void 0!==this.props.value?this.props.value:this.state.value}),componentProps:this.componentProps,restAttributes:this.restAttributes})}}return e.defaultProps=ove,e})();var ave=["inputAttr","pageSize","pageSizeChange","pageSizes","parentRef"],dve={inputAttr:Object.freeze({"aria-label":J.format("dxPager-ariaPageSize")})},uve={get pageSize(){return Ri.pageSize},get inputAttr(){return dve.inputAttr}};let cve=(()=>{class e extends Zo{constructor(t){super(t),this.state={minWidth:10},this.updateWidth=this.updateWidth.bind(this)}createEffects(){return[new tn(this.updateWidth,[this.props,this.state.minWidth,this.props.pageSize,this.props.pageSizeChange,this.props.pageSizes,this.props.inputAttr])]}updateEffects(){var t;null===(t=this._effects[0])||void 0===t||t.update([this.props,this.state.minWidth,this.props.pageSize,this.props.pageSizeChange,this.props.pageSizes,this.props.inputAttr])}updateWidth(){this.setState(t=>({minWidth:VY(this.props.parentRef.current)||t.minWidth}))}get width(){return KY(this.state.minWidth,this.props.pageSizes.map(t=>t.value))}get restAttributes(){return mn(this.props,ave)}render(){return(e=>{var{props:{inputAttr:n,pageSize:t,pageSizeChange:i,pageSizes:r},width:o}=e;return rn(2,sve,{displayExpr:"text",valueExpr:"value",dataSource:r,value:t,valueChange:i,width:o,inputAttr:n})})({props:de({},this.props),width:this.width,restAttributes:this.restAttributes})}}return e.defaultProps=uve,e})();var hve=["pageSize","pageSizeChange","pageSizes"],gve={get pageSize(){return Ri.pageSize}};let fve=(()=>{class e extends xo{constructor(t){super(t),this.state={},this.__getterCache={},this.onPageSizeChange=this.onPageSizeChange.bind(this)}get pageSizesText(){return void 0!==this.__getterCache.pageSizesText?this.__getterCache.pageSizesText:this.__getterCache.pageSizesText=(()=>{var{pageSize:t,pageSizes:i}=this.props;return i.map((r,o)=>{var{text:s,value:l}=r;return{className:ts({[l===t?bme:WY]:!0,"dx-first-child":0===o}),click:this.onPageSizeChange(l),label:Ho(J.getFormatter("dxPager-pageSize"),l||J.getFormatter("dxPager-pageSizesAllText")),text:s}})})()}onPageSizeChange(t){return()=>(this.props.pageSizeChange(t),this.props.pageSize)}get restAttributes(){return mn(this.props,hve)}componentWillUpdate(t,i,r){(this.props.pageSize!==t.pageSize||this.props.pageSizes!==t.pageSizes||this.props.pageSizeChange!==t.pageSizeChange)&&(this.__getterCache.pageSizesText=void 0)}render(){return(e=>{var{pageSizesText:n}=e;return As(n.map(t=>{var{className:i,click:r,label:o,text:s}=t;return rn(2,oI,{className:i,label:o,onClick:r,children:s},s)}),0)})({props:de({},this.props),pageSizesText:this.pageSizesText,restAttributes:this.restAttributes})}}return e.defaultProps=gve,e})();var _ve=["isLargeDisplayMode","pageSize","pageSizeChange","pageSizes","rootElementRef"],yve={get pageSize(){return Ri.pageSize},get pageSizes(){return Ri.pageSizes},get isLargeDisplayMode(){return true}};let xve=(()=>{class e extends Zo{constructor(t){super(t),this.state={},this.htmlRef={current:null},this.__getterCache={},this.setRootElementRef=this.setRootElementRef.bind(this)}createEffects(){return[new tn(this.setRootElementRef,[])]}setRootElementRef(){var{rootElementRef:t}=this.props;t&&(t.current=this.htmlRef.current)}get normalizedPageSizes(){return void 0!==this.__getterCache.normalizedPageSizes?this.__getterCache.normalizedPageSizes:this.__getterCache.normalizedPageSizes=(()=>{var{pageSizes:t}=this.props;return t.map(i=>"all"===i||0===i?{text:J.getFormatter("dxPager-pageSizesAllText")(),value:0}:{text:String(i),value:i})})()}get restAttributes(){return mn(this.props,_ve)}componentWillUpdate(t,i,r){super.componentWillUpdate(),this.props.pageSizes!==t.pageSizes&&(this.__getterCache.normalizedPageSizes=void 0)}render(){return(e=>{var{htmlRef:n,normalizedPageSizes:t,props:{isLargeDisplayMode:i,pageSize:r,pageSizeChange:o}}=e;return wn(1,"div","dx-page-sizes",[i&&rn(2,fve,{pageSizes:t,pageSize:r,pageSizeChange:o}),!i&&rn(2,cve,{parentRef:n,pageSizes:t,pageSize:r,pageSizeChange:o})],0,null,null,n)})({props:de({},this.props),htmlRef:this.htmlRef,normalizedPageSizes:this.normalizedPageSizes,restAttributes:this.restAttributes})}}return e.defaultProps=yve,e})();var bve=["className","displayMode","gridCompatibility","hasKnownLastPage","infoText","infoTextRef","infoTextVisible","isLargeDisplayMode","label","lightModeEnabled","maxPagesCount","onKeyDown","pageCount","pageIndex","pageIndexChange","pageSize","pageSizeChange","pageSizes","pageSizesRef","pagesCountText","pagesNavigatorVisible","pagesRef","rootElementRef","rtlEnabled","showInfo","showNavigationButtons","showPageSizes","totalCount","visible"],Dve=Object.create(Object.prototype,de(Object.getOwnPropertyDescriptors(Ri),Object.getOwnPropertyDescriptors({infoTextVisible:!0,isLargeDisplayMode:!0})));let Sve=(()=>{class e extends Zo{constructor(t){super(t),this.state={},this.widgetRootElementRef={current:null},this.__getterCache={},this.setRootElementRef=this.setRootElementRef.bind(this),this.createFakeInstance=this.createFakeInstance.bind(this)}createEffects(){return[new tn(this.setRootElementRef,[])]}getChildContext(){return de({},this.context,{[eb.id]:this.keyboardAction||eb.defaultValue})}setRootElementRef(){var{rootElementRef:t}=this.props;t&&(t.current=this.widgetRootElementRef.current)}createFakeInstance(){return{option:()=>!1,element:()=>this.widgetRootElementRef.current,_createActionByOption:()=>t=>{var i,r;null===(i=(r=this.props).onKeyDown)||void 0===i||i.call(r,t)}}}get keyboardAction(){return void 0!==this.__getterCache.keyboardAction?this.__getterCache.keyboardAction:this.__getterCache.keyboardAction=(()=>({registerKeyboardAction:(t,i)=>wU("pager",this.createFakeInstance(),t,void 0,i)}))()}get infoVisible(){var{infoTextVisible:t,showInfo:i}=this.props;return i&&t}get pageIndexSelectorVisible(){return 0!==this.props.pageSize}get normalizedDisplayMode(){var{displayMode:t,lightModeEnabled:i}=this.props;return"adaptive"===t&&void 0!==i?i?"compact":"full":t}get pagesContainerVisible(){return!!this.props.pagesNavigatorVisible&&this.props.pageCount>0}get pagesContainerVisibility(){if("auto"===this.props.pagesNavigatorVisible&&1===this.props.pageCount&&this.props.hasKnownLastPage)return"hidden"}get isLargeDisplayMode(){var t=this.normalizedDisplayMode;return"adaptive"===t?this.props.isLargeDisplayMode:"full"===t}get classes(){return ts({["".concat(this.props.className)]:!!this.props.className,"dx-pager":!0,"dx-light-mode":!this.isLargeDisplayMode})}get aria(){return{role:"navigation",label:this.props.label}}get restAttributes(){return mn(this.props,bve)}componentWillUpdate(t,i,r){super.componentWillUpdate(),this.props.onKeyDown!==t.onKeyDown&&(this.__getterCache.keyboardAction=void 0)}render(){return(e=>{var{aria:n,classes:t,infoVisible:i,isLargeDisplayMode:r,pageIndexSelectorVisible:o,pagesContainerVisibility:s,pagesContainerVisible:l,props:{hasKnownLastPage:h,infoText:g,infoTextRef:_,maxPagesCount:v,pageCount:C,pageIndex:b,pageIndexChange:E,pageSize:w,pageSizeChange:M,pageSizes:k,pageSizesRef:L,pagesCountText:G,pagesRef:Q,rtlEnabled:le,showNavigationButtons:Te,showPageSizes:He,totalCount:Ee,visible:ze},restAttributes:ot,widgetRootElementRef:ht}=e;return pr(rn(2,pF,de({rootElementRef:ht,rtlEnabled:le,classes:t,visible:ze,aria:n},ot,{children:[He&&rn(2,xve,{rootElementRef:L,isLargeDisplayMode:r,pageSize:w,pageSizeChange:M,pageSizes:k}),l&&wn(1,"div","dx-pages",[i&&rn(2,hme,{rootElementRef:_,infoText:g,pageCount:C,pageIndex:b,totalCount:Ee}),o&&wn(1,"div","dx-page-indexes",rn(2,nve,{hasKnownLastPage:h,isLargeDisplayMode:r,maxPagesCount:v,pageCount:C,pageIndex:b,pageIndexChange:E,pagesCountText:G,showNavigationButtons:Te,totalCount:Ee}),2,null,null,Q)],0,{style:hy({visibility:s})})]})))})({props:de({},this.props),widgetRootElementRef:this.widgetRootElementRef,keyboardAction:this.keyboardAction,infoVisible:this.infoVisible,pageIndexSelectorVisible:this.pageIndexSelectorVisible,pagesContainerVisible:this.pagesContainerVisible,pagesContainerVisibility:this.pagesContainerVisibility,isLargeDisplayMode:this.isLargeDisplayMode,classes:this.classes,aria:this.aria,restAttributes:this.restAttributes})}}return e.defaultProps=Dve,e})();var Eve=["className","defaultPageIndex","defaultPageSize","displayMode","gridCompatibility","hasKnownLastPage","infoText","label","lightModeEnabled","maxPagesCount","onKeyDown","pageCount","pageIndex","pageIndexChange","pageSize","pageSizeChange","pageSizes","pagesCountText","pagesNavigatorVisible","rtlEnabled","showInfo","showNavigationButtons","showPageSizes","totalCount","visible"];let Ive=(()=>{class e extends i_{constructor(t){super(t),this.__getterCache={},this.state={pageSize:void 0!==this.props.pageSize?this.props.pageSize:this.props.defaultPageSize,pageIndex:void 0!==this.props.pageIndex?this.props.pageIndex:this.props.defaultPageIndex},this.pageIndexChange=this.pageIndexChange.bind(this),this.pageSizeChange=this.pageSizeChange.bind(this)}createEffects(){return[Jh()]}pageIndexChange(t){var i,r;this.props.gridCompatibility?(this.setState(o=>({pageIndex:i=t+1})),this.props.pageIndexChange(i)):(this.setState(o=>({pageIndex:r=t})),this.props.pageIndexChange(r))}get pageIndex(){return this.props.gridCompatibility?(void 0!==this.props.pageIndex?this.props.pageIndex:this.state.pageIndex)-1:void 0!==this.props.pageIndex?this.props.pageIndex:this.state.pageIndex}pageSizeChange(t){var i;this.setState(r=>({pageSize:i=t})),this.props.pageSizeChange(i)}get className(){return this.props.gridCompatibility?ts({"dx-datagrid-pager":!0,["".concat(this.props.className)]:!!this.props.className}):this.props.className}get pagerProps(){return void 0!==this.__getterCache.pagerProps?this.__getterCache.pagerProps:this.__getterCache.pagerProps=(()=>de({},de({},this.props,{pageSize:void 0!==this.props.pageSize?this.props.pageSize:this.state.pageSize,pageIndex:void 0!==this.props.pageIndex?this.props.pageIndex:this.state.pageIndex}),{className:this.className,pageIndex:this.pageIndex,pageIndexChange:t=>this.pageIndexChange(t),pageSizeChange:t=>this.pageSizeChange(t)}))()}get restAttributes(){return mn(de({},this.props,{pageSize:void 0!==this.props.pageSize?this.props.pageSize:this.state.pageSize,pageIndex:void 0!==this.props.pageIndex?this.props.pageIndex:this.state.pageIndex}),Eve)}componentWillUpdate(t,i,r){super.componentWillUpdate(),(this.props!==t||this.props.gridCompatibility!==t.gridCompatibility||this.props.className!==t.className||this.state.pageIndex!==i.pageIndex||this.props.pageIndex!==t.pageIndex||this.props.pageIndexChange!==t.pageIndexChange||this.props.pageSizeChange!==t.pageSizeChange)&&(this.__getterCache.pagerProps=void 0)}render(){return(e=>{var{pagerProps:n,restAttributes:t}=e;return pr(rn(2,ame,de({contentTemplate:Sve,pagerProps:n},t)))})({props:de({},this.props,{pageSize:void 0!==this.props.pageSize?this.props.pageSize:this.state.pageSize,pageIndex:void 0!==this.props.pageIndex?this.props.pageIndex:this.state.pageIndex}),pageIndexChange:this.pageIndexChange,pageIndex:this.pageIndex,pageSizeChange:this.pageSizeChange,className:this.className,pagerProps:this.pagerProps,restAttributes:this.restAttributes})}}return e.defaultProps=lme,e})();class ZY extends Z_e{getProps(){var n=super.getProps();return n.onKeyDown=this._wrapKeyDownHandler(n.onKeyDown),n}get _propsInfo(){return{twoWay:[["pageSize","defaultPageSize","pageSizeChange"],["pageIndex","defaultPageIndex","pageIndexChange"]],allowNull:[],elements:[],templates:[],props:["defaultPageSize","pageSizeChange","defaultPageIndex","pageIndexChange","gridCompatibility","className","showInfo","infoText","lightModeEnabled","displayMode","maxPagesCount","pageCount","pagesCountText","visible","hasKnownLastPage","pagesNavigatorVisible","showPageSizes","pageSizes","rtlEnabled","showNavigationButtons","totalCount","label","onKeyDown","pageSize","pageIndex"]}}get _viewComponent(){return Ive}}Dt("dxPager",ZY);const Tve=ZY;var QY=function(e){return 1+(parseInt(e.pageIndex())||0)},Rve=dn.View.inherit({init(){var e=this.getController("data");e.changed.add(n=>{if(n&&n.repaintChangesOnly){var t=this._pager;t?t.option({pageIndex:QY(e),pageSize:e.pageSize(),pageCount:e.pageCount(),totalCount:e.totalCount(),hasKnownLastPage:e.hasKnownLastPage()}):this.render()}else(!n||"update"!==n.changeType&&"updateSelection"!==n.changeType&&"updateFocusedRow"!==n.changeType)&&(this._pager=null,this.render())})},_renderCore(){var e=this.element().addClass(this.addWidgetPrefix("pager")),n=this.option("pager")||{},t=this.getController("data"),i=this.getController("keyboardNavigation"),r={maxPagesCount:10,pageIndex:QY(t),pageCount:t.pageCount(),pageSize:t.pageSize(),showPageSizes:n.showPageSizeSelector,showInfo:n.showInfo,displayMode:n.displayMode,pagesNavigatorVisible:n.visible,showNavigationButtons:n.showNavigationButtons,label:n.label,pageSizes:this.getPageSizes(),totalCount:t.totalCount(),hasKnownLastPage:t.hasKnownLastPage(),pageIndexChanged(o){t.pageIndex()!==o-1&&t.pageIndex(o-1)},pageSizeChanged(o){t.pageSize(o)},onKeyDown:o=>i&&i.executeAction("onKeyDown",o),useLegacyKeyboardNavigation:this.option("useLegacyKeyboardNavigation"),useKeyboard:this.option("keyboardNavigation.enabled")};T(n.infoText)&&(r.infoText=n.infoText),this._pager?this._pager.repaint():rt()?this._pager=this._createComponent(e,Tve,r):e.addClass("dx-pager").html('<div class="dx-pages"><div class="dx-page"></div></div>')},getPager(){return this._pager},getPageSizes(){var e=this.getController("data"),n=this.option("pager"),t=n&&n.allowedPageSizes,i=e.pageSize();return(!T(this._pageSizes)||!this._pageSizes.includes(i))&&(this._pageSizes=[],n&&(Array.isArray(t)?this._pageSizes=t:t&&i>1&&(this._pageSizes=[Math.floor(i/2),i,2*i]))),this._pageSizes},isVisible(){var e=this.getController("data"),n=this.option("pager"),t=n&&n.visible,i=this.option("scrolling");return"auto"===t&&(t=(!i||"virtual"!==i.mode&&"infinite"!==i.mode)&&(e.pageCount()>1||e.isLoaded()&&!e.hasKnownLastPage())),t},getHeight(){return this.getElementHeight()},optionChanged(e){var{name:n}=e,t="pager"===n,i="paging"===n,r="dataSource"===n,o="scrolling"===n,s=this.getController("data");if(t||i||o||r){if(e.handled=!0,s.skipProcessingPagingChange(e.fullName))return;(t||i)&&(this._pageSizes=null),r||(this._pager=null,this._invalidate(),rt()&&t&&this.component&&this.component.resize())}},dispose(){this._pager=null}});Ge.registerModule("pager",{defaultOptions:()=>({pager:{visible:"auto",showPageSizeSelector:!1,allowedPageSizes:"auto",label:J.format("dxPager-ariaLabel")}}),views:{pagerView:Rve}});var e6="columns-separator-transparent",t6="drag-header",hV="drag-action",n6="tracker",i6="drop-highlight",r6="dx-block-separator",o6="dx-header-row",ao="dxDataGridResizingReordering",tb=function(e){return e.option("allowColumnResizing")||e.getController("columns").isColumnOptionUsed("allowResizing")},a6=function(e){return e.option("allowColumnReordering")||e.getController("columns").isColumnOptionUsed("allowReordering")},Nve=dn.View.inherit({_renderCore(){var e=this.callBase();return this.element().addClass(this.addWidgetPrefix(n6)),this.hide(),e},_unsubscribeFromCallback(){this._positionChanged&&this._tablePositionController.positionChanged.remove(this._positionChanged)},_subscribeToCallback(){var e=this;e._positionChanged=function(n){var t=e.element();t&&t.hasClass(e.addWidgetPrefix(n6))&&(t.css({top:n.top}),ma(t,n.height))},this._tablePositionController.positionChanged.add(e._positionChanged)},optionChanged(e){"allowColumnResizing"===e.name&&(this._unsubscribeFromCallback(),e.value&&(this._subscribeToCallback(),this._invalidate())),this.callBase(e)},init(){this.callBase(),this._tablePositionController=this.getController("tablePosition"),this._subscribeToCallback()},isVisible(){return tb(this)},show(){this.element().show()},hide(){this.element()&&this.element().hide()},setHeight(e){ma(this.element(),e)},dispose(){this._unsubscribeFromCallback(),this.callBase()}}),l6=dn.View.inherit({_renderSeparator(){},_renderCore(e){var n=this.callBase(e);return this._isShown=!0,this._renderSeparator(),this.hide(),n},show(){this._isShown=!0},hide(){this._isShown=!1},height(e){var n=this.element();if(n){if(!T(e))return gt(n);ma(n,e)}},width(e){var n=this.element();if(n){if(!T(e))return Ze(n);pC(n,e)}}}),Hve=l6.inherit({_renderSeparator(){this.callBase(),this.element().addClass(this.addWidgetPrefix("columns-separator"))},_subscribeToCallback(){var n,e=this;e._positionChanged=function(t){(n=e.element())&&(n.css({top:t.top}),ma(n,t.height))},e._tablePositionController.positionChanged.add(e._positionChanged)},_unsubscribeFromCallback(){this._positionChanged&&this._tablePositionController.positionChanged.remove(this._positionChanged)},_init(){this._isTransparent=tb(this),this.isVisible()&&this._subscribeToCallback()},isVisible(){return this.option("showColumnHeaders")&&(a6(this)||tb(this))},optionChanged(e){"allowColumnResizing"===e.name&&(e.value?(this._init(),this._invalidate(),this.hide(!0)):(this._unsubscribeFromCallback(),this._isTransparent=tb(this),this.hide(!0))),this.callBase(e)},init(){this.callBase(),this._tablePositionController=this.getController("tablePosition"),this._init()},show(){var e=this.element();e&&!this._isShown&&(this._isTransparent?e.removeClass(this.addWidgetPrefix(e6)):e.show()),this.callBase()},hide(e){var n=this.element(),t=this.addWidgetPrefix(e6);n&&(this._isShown||e)&&(this._isTransparent?(n.addClass(t),n.css("left",""),n.show()):(n.hasClass(t)&&n.removeClass(t),n.hide())),this.callBase()},moveByX(e){var n=this.element();n&&n.css("left",null===e?0:e-this._parentElement().offset().left)},changeCursor(e){e=T(e)?e:"";var n=this.element();n&&n.css("cursor",e)},dispose(){this._unsubscribeFromCallback(),this.callBase()}}),zve=l6.inherit({init(){var e=this;this.callBase(),this.getController("data").loadingChanged.add(n=>{n||e.hide()})},_renderSeparator(){this.callBase(),this.element().addClass(r6).html("&nbsp;")},hide(){var e=this._parentElement(),n=this.element();n&&this._isShown&&n.css("display","none"),e&&!e.children(".".concat(r6)).length&&e.prepend(this.element()),this.callBase()},isVisible(){var e=this.option("groupPanel"),n=this.option("columnChooser");return e&&e.visible||n&&n.enabled},show(e){var n=this.element(),t=function(i){An.stop(n,!0),An.animate(n,{type:"slide",from:{width:0,display:i.display},to:i,duration:300,easing:"swing"})};if(n&&!this._isShown)switch(e){case"group":t({width:"50px",display:"inline-block"});break;case"columnChooser":t({width:"100%",display:"block"});break;default:n.css("display","")}this.callBase()}}),Wve=dn.View.inherit({_isDragging:!1,isDragging(){return this._isDragging},_getDraggingPanelByPos(e){var n;return B(this._dragOptions.draggingPanels,(t,i)=>{if(i){var r=i.getBoundingRect();if(r&&(void 0===r.bottom||e.y<r.bottom)&&(void 0===r.top||e.y>r.top)&&(void 0===r.left||e.x>r.left)&&(void 0===r.right||e.x<r.right))return n=i,!1}}),n},_renderCore(){this.element().addClass("".concat(this.addWidgetPrefix(t6)," ").concat(this.addWidgetPrefix("text-content")," ").concat("dx-widget")).hide()},_resetTargetColumnOptions(){var e=this._dropOptions;e.targetColumnIndex=-1,delete e.targetColumnElement,delete e.isLast,delete e.posX,delete e.posY},_getVisibleIndexObject:(e,n)=>T(e)?{columnIndex:n,rowIndex:e}:n,dispose(){var e=this.element();this._dragOptions=null,e&&e.parent().find(".".concat(this.addWidgetPrefix(t6))).remove()},isVisible(){var n=this.getController("columns").getCommonSettings();return this.option("showColumnHeaders")&&(a6(this)||n.allowGrouping||n.allowHiding)},init(){var e=this;this.callBase(),this._controller=this.getController("draggingHeader"),this._columnsResizerViewController=this.getController("columnsResizer"),this.getController("data").loadingChanged.add(n=>{var t=e.element();!n&&t&&t.hide()})},dragHeader(e){var{columnElement:n}=e,t=!!e.sourceColumn.type;this._isDragging=!0,this._dragOptions=e,this._dropOptions={sourceIndex:e.index,sourceColumnIndex:this._getVisibleIndexObject(e.rowIndex,e.columnIndex),sourceColumnElement:e.columnElement,sourceLocation:e.sourceLocation};var i=se.getDocument();this._onSelectStart=i.onselectstart,i.onselectstart=function(){return!1},this._controller.drag(this._dropOptions),this.element().css({textAlign:n&&n.css("textAlign"),height:n&&(t&&n.get(0).clientHeight||gt(n)),width:n&&(t&&n.get(0).clientWidth||Ze(n)),whiteSpace:n&&n.css("whiteSpace")}).addClass(this.addWidgetPrefix(hV)).toggleClass("dx-drag-command-cell",t).text(t?"":e.sourceColumn.caption),this.element().appendTo(bz_getSwatchContainer(n))},moveHeader(e){var n=e.event,{that:t}=n.data,i=In(n),r=!!t._columnsResizerViewController&&t._columnsResizerViewController.isResizing(),o=t._dragOptions;if(t._isDragging&&!r){var s=t.element(),l=Math.abs(i.x-o.columnElement.offset().left-o.deltaX),h=Math.abs(i.y-o.columnElement.offset().top-o.deltaY);(s.is(":visible")||l>5||h>5)&&(s.show(),s.css({left:i.x-o.deltaX,top:i.y-o.deltaY}),t.dockHeader(i)),n.preventDefault()}},dockHeader(e){var n=this._getDraggingPanelByPos(e),t=this._controller,i=this._dropOptions,r=this._dragOptions;if(n){var o=this.option("rtlEnabled"),s="columnChooser"===n.getName(),l=s?"y":"x",h=n.getName(),g="headers"===h?r.rowIndex:void 0,{sourceColumn:_}=r,v=n.getColumnElements(g,_?.ownerBand)||[],C=r.pointsByTarget=r.pointsByTarget||{},b="columnChooser"===h?[]:C[h]||t._generatePointsByColumns(A({},r,{targetDraggingPanel:n,columns:n.getColumns(g),columnElements:v,isVerticalOrientation:s,startColumnIndex:"headers"===h&&x(v[0]).index()}));if(C[h]=b,i.targetLocation=h,b.length>0)for(var E=0;E<b.length;E++){var w=b[E+1]&&(b[E][l]+b[E+1][l])/2;if(void 0===w||(o&&"x"===l?e[l]>w:e[l]<w)){i.targetColumnIndex=this._getVisibleIndexObject(g,b[E].columnIndex),v[E]?(i.targetColumnElement=v.eq(E),i.isLast=!1):(i.targetColumnElement=v.last(),i.isLast=!0),i.posX=b[E].x,i.posY=b[E].y,t.dock(i);break}}else this._resetTargetColumnOptions(),t.dock(i)}},dropHeader(e){var n=e.event,{that:t}=n.data,i=t._controller;t.element().hide(),i&&t._isDragging&&i.drop(t._dropOptions),t.element().appendTo(t._parentElement()),t._dragOptions=null,t._dropOptions=null,t._isDragging=!1,se.getDocument().onselectstart=t._onSelectStart||null}}),gV=function(e){return"widget"!==e.option("columnResizingMode")},$ve=dn.ViewController.inherit({_isHeadersRowArea(e){if(this._columnHeadersView){var n=this._columnHeadersView.element();if(n){var t=n.offset().top,i=this._columnHeadersView.getHeadersRowHeight();return e>=t&&e<=t+i}}return!1},_isRtlParentStyle(){var e;return this.option("rtlEnabled")&&"rtl"===(null===(e=this._$parentContainer)||void 0===e?void 0:e.parent().css("direction"))},_pointCreated(e,n,t){var i=gV(this),r=this.option("rtlEnabled"),o=this._isRtlParentStyle(),s=i||!r||o?1:0;if(e.index>=s&&e.index<n+(i||r&&!o?0:1)){e.columnIndex-=s;var l=t[e.columnIndex]||{};return!(i?l.allowResizing&&(t[e.columnIndex+1]||{}).allowResizing:l.allowResizing)}return!0},_getTargetPoint(e,n,t){if(e)for(var i=0;i<e.length;i++)if((e[i].x!==e[0].x||!e[i+1]||e[i].x!==e[i+1].x)&&e[i].x-t<=n&&n<=e[i].x+t)return e[i];return null},_moveSeparator(e){var n,t=e.event,i=t.data,r=i._columnsSeparatorView.width(),o=gV(i),s=r/2,l=i._$parentContainer.offset(),h=l.left,g=In(t),_=i.option("rtlEnabled"),v=this._isRtlParentStyle(),C=null===(n=i._draggingHeaderView)||void 0===n?void 0:n.isDragging();if(i._isResizing&&i._resizingInfo){if((h<=g.x||!o&&v)&&(!o||g.x<=h+Ze(i._$parentContainer))&&i._updateColumnsWidthIfNeeded(g.x)){var b=i._columnHeadersView.getColumnElements().eq(i._resizingInfo.currentColumnIndex),E=b[0];if(E){var w=E.getBoundingClientRect().width;i._columnsSeparatorView.moveByX(b.offset().left+((o||v)&&_?0:w)),i._tablePositionController.update(i._targetPoint.y),t.preventDefault()}}}else C||(i._isHeadersRowArea(g.y)?(i._previousParentOffset&&(i._previousParentOffset.left!==l.left||i._previousParentOffset.top!==l.top)&&i.pointsByColumns(null),i._targetPoint=i._getTargetPoint(i.pointsByColumns(),g.x,r),i._previousParentOffset=l,i._isReadyResizing=!1,i._targetPoint?(i._columnsSeparatorView.changeCursor("col-resize"),i._columnsSeparatorView.moveByX(i._targetPoint.x-s),i._tablePositionController.update(i._targetPoint.y),i._isReadyResizing=!0,t.preventDefault()):(i._columnsSeparatorView.changeCursor(),i._columnsSeparatorView.moveByX(null))):(i.pointsByColumns(null),i._isReadyResizing=!1,i._columnsSeparatorView.changeCursor(),i._columnsSeparatorView.moveByX(null)))},_endResizing(e){var t=e.event.data;t._isResizing&&(t.pointsByColumns(null),t._resizingInfo=null,t._columnsSeparatorView.hide(),t._columnsSeparatorView.changeCursor(),t._trackerView.hide(),t._isReadyResizing=!1,t._isResizing=!1)},_getNextColumnIndex:e=>e+1,_setupResizingInfo(e){var n=this._targetPoint.columnIndex,t=this._getNextColumnIndex(n),i=this._columnHeadersView.getHeaderElement(n),r=this._columnHeadersView.getHeaderElement(t);this._resizingInfo={startPosX:e,currentColumnIndex:n,currentColumnWidth:i&&i.length>0?Zn(i[0]).width:0,nextColumnIndex:t,nextColumnWidth:r&&r.length>0?Zn(r[0]).width:0}},_startResizing(e){var n=e.event,t=n.data,i=In(n);if(Mu(n)&&(t._isHeadersRowArea(i.y)?(t._targetPoint=t._getTargetPoint(t.pointsByColumns(),i.x,10),t._targetPoint&&(t._columnsSeparatorView.moveByX(t._targetPoint.x-t._columnsSeparatorView.width()/2),t._isReadyResizing=!0)):t._isReadyResizing=!1),t._isReadyResizing){t._setupResizingInfo(i.x),t._isResizing=!0,t._tablePositionController.update(t._targetPoint.y),t._columnsSeparatorView.show(),t._trackerView.show();var r=t.component.getScrollable();r&&t._isRtlParentStyle()&&(t._scrollRight=Ze(r.$content())-Ze(r.container())-r.scrollLeft()),n.preventDefault(),n.stopPropagation()}this.isResizing()&&this.getController("editorFactory").loseFocus()},_generatePointsByColumns(){var e=this,n=e._columnsController?e._columnsController.getVisibleColumns():[],t=e._columnHeadersView.getColumnElements(),i=[];t&&t.length>0&&(i=xe.getPointsByColumns(t,r=>e._pointCreated(r,t.length,n))),e._pointsByColumns=i},_unsubscribeFromEvents(){this._moveSeparatorHandler&&R.off(se.getDocument(),fe(Rt.move,ao),this._moveSeparatorHandler),this._startResizingHandler&&R.off(this._$parentContainer,fe(Rt.down,ao),this._startResizingHandler),this._endResizingHandler&&(R.off(this._columnsSeparatorView.element(),fe(Rt.up,ao),this._endResizingHandler),R.off(se.getDocument(),fe(Rt.up,ao),this._endResizingHandler))},_subscribeToEvents(){this._moveSeparatorHandler=this.createAction(this._moveSeparator),this._startResizingHandler=this.createAction(this._startResizing),this._endResizingHandler=this.createAction(this._endResizing),R.on(se.getDocument(),fe(Rt.move,ao),this,this._moveSeparatorHandler),R.on(this._$parentContainer,fe(Rt.down,ao),this,this._startResizingHandler),R.on(this._columnsSeparatorView.element(),fe(Rt.up,ao),this,this._endResizingHandler),R.on(se.getDocument(),fe(Rt.up,ao),this,this._endResizingHandler)},_updateColumnsWidthIfNeeded(e){var n,t,i=this._rowsView.contentWidth(),r=this._resizingInfo,o=this._columnsController,s=o.getVisibleColumns(),l=this._columnsSeparatorView.width(),h=gV(this),g=h&&this.option("adaptColumnWidthByRatio")&&!this.option("columnAutoWidth"),_=this.option("rtlEnabled"),v=this._isRtlParentStyle(),C=s[r.currentColumnIndex],b=s[r.nextColumnIndex];function E(Ee){return je(Ee)&&Ee.endsWith("%")}function w(Ee,ze,ot,ht){if(Ee){var Xt=Ee.width;Xt&&(ht=E(Xt)),ht?(o.columnOption(Ee.index,"visibleWidth",ze),o.columnOption(Ee.index,"width","".concat((ze/ot*100).toFixed(3),"%"))):(o.columnOption(Ee.index,"visibleWidth",null),o.columnOption(Ee.index,"width",ze))}}n=e-r.startPosX,(h||v)&&_&&(n=-n);var Ee,ze,ot,ht,Xt,on,On,{cellWidth:M,nextCellWidth:k}=(On={},(Xt=r.currentColumnWidth+(Ee=n))>=(on=C&&C.minWidth||l)?On.cellWidth=Xt:(On.cellWidth=on,ht=!0),h&&((ot=r.nextColumnWidth-Ee)>=(ze=b&&b.minWidth||l)?On.nextCellWidth=ht?r.nextColumnWidth-(Ee+on-Xt):ot:(On.nextCellWidth=ze,On.cellWidth=r.currentColumnWidth+(Ee-ze+ot))),On);if(t=C.width!==M){if(o.beginUpdate(),M=Math.floor(M),i=function(Ee,ze){var ot=ze.every(Xt=>Xt.width);if(ot){var ht=ze.reduce((Xt,on)=>(E(on.width)&&(Xt+=parseFloat(on.width)),Xt),0);ht>100&&(Ee=Ee/ht*100)}return Ee}(i,s),w(C,M,i,g),h)w(b,k=Math.floor(k),i,g);else{var L=this._columnHeadersView.getColumnWidths();L[r.currentColumnIndex]=M;var G=L.reduce((Ee,ze)=>Ee+ze,0)>this._rowsView.contentWidth();if(!G){var Q=xe.getLastResizableColumnIndex(s);Q>=0&&o.columnOption(s[Q].index,"visibleWidth","auto")}for(var le=0;le<L.length;le++)s[le]&&s[le]!==C&&void 0===s[le].width&&o.columnOption(s[le].index,"width",L[le])}if(o.endUpdate(),!h){this.component.updateDimensions();var Te=this.component.getScrollable();if(Te&&v){var He=Ze(Te.$content())-Ze(Te.container())-this._scrollRight;Te.scrollTo({left:He})}}}return t},_subscribeToCallback(e,n){e.add(n),this._subscribesToCallbacks.push({callback:e,handler:n})},_unsubscribeFromCallbacks(){for(var e=0;e<this._subscribesToCallbacks.length;e++){var n=this._subscribesToCallbacks[e];n.callback.remove(n.handler)}this._subscribesToCallbacks=[]},_unsubscribes(){this._unsubscribeFromEvents(),this._unsubscribeFromCallbacks()},_init(){var e=this,n=function(){e._isResizing||e.pointsByColumns(null)},t=function(o){e._scrollLeft!==o.left&&(e._scrollLeft=o.left,e.pointsByColumns(null))};e._columnsSeparatorView=e.getView("columnsSeparatorView"),e._columnHeadersView=e.getView("columnHeadersView"),e._trackerView=e.getView("trackerView"),e._rowsView=e.getView("rowsView"),e._columnsController=e.getController("columns"),e._tablePositionController=e.getController("tablePosition"),e._$parentContainer=e.component.$element(),e._draggingHeaderView=e.component.getView("draggingHeaderView"),e._subscribeToCallback(e._columnHeadersView.renderCompleted,n),e._subscribeToCallback(e._columnHeadersView.resizeCompleted,n),e._subscribeToCallback(e._columnsSeparatorView.renderCompleted,()=>{e._unsubscribeFromEvents(),e._subscribeToEvents()}),e._subscribeToCallback(e._rowsView.renderCompleted,()=>{e._rowsView.scrollChanged.remove(t),e._rowsView.scrollChanged.add(t)});var i=0!==e._rowsView.getScrollbarWidth(),r=0;e._subscribeToCallback(e.getController("tablePosition").positionChanged,o=>{if(e._isResizing&&!e._rowsView.isResizing){var s=0!==e._rowsView.getScrollbarWidth();i!==s||r&&r!==o.height?(i=s,r=o.height,e.component.updateDimensions()):e._rowsView.updateFreeSpaceRowHeight()}r=o.height})},optionChanged(e){this.callBase(e),"allowColumnResizing"===e.name&&(e.value?(this._init(),this._subscribeToEvents()):this._unsubscribes())},isResizing(){return this._isResizing},init(){this._subscribesToCallbacks=[],tb(this)&&this._init()},pointsByColumns(e){if(void 0===e)return this._pointsByColumns||this._generatePointsByColumns(),this._pointsByColumns;this._pointsByColumns=e},dispose(){this._unsubscribes(),this.callBase()}}),Gve=dn.ViewController.inherit({update(e){var n={},t=this._columnHeadersView.element(),i=t&&t.offset(),r=i&&i.top||0,o=T(e)?Math.abs(e-r):0,s=this._columnHeadersView?this._columnHeadersView.getHeight():0,l=this._rowsView.getScrollbarWidth(!0),h=this._rowsView?this._rowsView.height()-l:0,g=this.component.getController("columnsResizer"),_=this.component.getView("draggingHeaderView");n.height=s,(g.isResizing()||_.isDragging())&&(n.height+=h-o),null!==e&&t&&t.length&&(n.top=t[0].offsetTop+o),this.positionChanged.fire(n)},init(){var e=this;e.callBase(),e._columnHeadersView=this.getView("columnHeadersView"),e._rowsView=this.getView("rowsView"),e._pagerView=this.getView("pagerView"),e._rowsView.resizeCompleted.add(()=>{if(e.option("allowColumnResizing")){var n=e.getController("columnsResizer")._targetPoint;e.update(n?n.y:null)}})},ctor(e){this.callBase(e),this.positionChanged=Et()}}),Uve=dn.ViewController.inherit({_generatePointsByColumns(e){var n=this;return xe.getPointsByColumns(e.columnElements,t=>n._pointCreated(t,e.columns,e.targetDraggingPanel.getName(),e.sourceColumn),e.isVerticalOrientation,e.startColumnIndex)},_pointCreated(e,n,t,i){var r=n[e.columnIndex],o=n[e.columnIndex-1];switch(t){case"columnChooser":return!0;case"headers":return i&&!i.allowReordering||(!r||!r.allowReordering)&&(!o||!o.allowReordering);default:return 0===n.length}},_subscribeToEvents(e,n){var t=this;B(n,(i,r)=>{if(r)for(var o,s=r.getRowCount?r.getRowCount():1,l=r.getName(),h=function(v,C){if(C){var b=x(C),E=o[v];E&&r.allowDragging(E)&&(b.addClass(t.addWidgetPrefix(hV)),R.on(b,fe(ap,ao),t.createAction(w=>{var M=w.event,k=In(M);e.dragHeader({deltaX:k.x-x(M.currentTarget).offset().left,deltaY:k.y-x(M.currentTarget).offset().top,sourceColumn:E,index:E.index,columnIndex:v,columnElement:b,sourceLocation:l,draggingPanels:n,rowIndex:t._columnsController.getRowIndex(E.index,!0)})})),R.on(b,fe(Vu,ao),{that:e},t.createAction(e.moveHeader)),R.on(b,fe(lp,ao),{that:e},t.createAction(e.dropHeader)))}},g=0;g<s;g++){var _=r.getColumnElements(g)||[];_.length&&(o=r.getColumns(g)||[],B(_,h))}})},_unsubscribeFromEvents(e,n){var t=this;B(n,(i,r)=>{if(r){var o=r.getColumnElements()||[];B(o,(s,l)=>{var h=x(l);R.off(h,fe(ap,ao)),R.off(h,fe(Vu,ao)),R.off(h,fe(lp,ao)),h.removeClass(t.addWidgetPrefix(hV))})}})},_getSeparator(e){return"headers"===e?this._columnsSeparatorView:this._blockSeparatorView},hideSeparators(e){var n=this._blockSeparatorView,t=this._columnsSeparatorView;this._animationColumnIndex=null,n&&n.hide(),"block"!==e&&t&&t.hide()},init(){var e=this;e.callBase(),e._columnsController=e.getController("columns"),e._columnHeadersView=e.getView("columnHeadersView"),e._columnsSeparatorView=e.getView("columnsSeparatorView"),e._draggingHeaderView=e.getView("draggingHeaderView"),e._rowsView=e.getView("rowsView"),e._blockSeparatorView=e.getView("blockSeparatorView"),e._headerPanelView=e.getView("headerPanel"),e._columnChooserView=e.getView("columnChooserView");var n=function(){if(e._draggingHeaderView){var t=[e._columnChooserView,e._columnHeadersView,e._headerPanelView];e._unsubscribeFromEvents(e._draggingHeaderView,t),e._subscribeToEvents(e._draggingHeaderView,t)}};e._columnHeadersView.renderCompleted.add(n),e._headerPanelView&&e._headerPanelView.renderCompleted.add(n),e._columnChooserView&&e._columnChooserView.renderCompleted.add(n)},allowDrop(e){return this._columnsController.allowMoveColumn(e.sourceColumnIndex,e.targetColumnIndex,e.sourceLocation,e.targetLocation)},drag(e){var{sourceIndex:n}=e,{sourceLocation:t}=e,{sourceColumnElement:i}=e,r=this._columnHeadersView,o=this._rowsView;i&&(i.css({opacity:.5}),"headers"===t&&(r&&r.setRowsOpacity(n,.5),o&&o.setRowsOpacity(n,.5)))},dock(e){var n=this,t=qe(e.targetColumnIndex)?e.targetColumnIndex.columnIndex:e.targetColumnIndex,{sourceLocation:i}=e,{targetLocation:r}=e,o=n._getSeparator(r),s=t>=0;n._columnHeadersView.element().find(".".concat(o6)).toggleClass(n.addWidgetPrefix(i6),"headers"!==i&&"headers"===r&&!s),o&&(n.allowDrop(e)&&s?"group"===r||"columnChooser"===r?n._animationColumnIndex!==t&&(n.hideSeparators(),o.element()[e.isLast?"insertAfter":"insertBefore"](e.targetColumnElement),n._animationColumnIndex=t,o.show(r)):(n.hideSeparators("block"),n.getController("tablePosition").update(e.posY),o.moveByX(e.posX-o.width()),o.show()):n.hideSeparators())},drop(e){var{sourceColumnElement:n}=e;if(n&&(n.css({opacity:""}),this._columnHeadersView.setRowsOpacity(e.sourceIndex,""),this._rowsView.setRowsOpacity(e.sourceIndex,""),this._columnHeadersView.element().find(".".concat(o6)).removeClass(this.addWidgetPrefix(i6))),this.allowDrop(e)){var t=this._getSeparator(e.targetLocation);t&&t.hide(),this._columnsController.moveColumn(e.sourceColumnIndex,e.targetColumnIndex,e.sourceLocation,e.targetLocation)}},dispose(){this._draggingHeaderView&&this._unsubscribeFromEvents(this._draggingHeaderView,[this._columnChooserView,this._columnHeadersView,this._headerPanelView])}}),Lp={views:{columnsSeparatorView:Hve,blockSeparatorView:zve,draggingHeaderView:Wve,trackerView:Nve},controllers:{draggingHeader:Uve,tablePosition:Gve,columnsResizer:$ve},extenders:{views:{rowsView:{_needUpdateRowHeight(e){var n=this.option("wordWrapEnabled"),i=this.getController("columnsResizer").isResizing();return this.callBase.apply(this,arguments)||e>0&&n&&i}}},controllers:{editorFactory:{renderFocusOverlay(){if(!this.getController("columnsResizer").isResizing())return this.callBase.apply(this,arguments)}}}}};Ge.registerModule("columnsResizingReordering",Lp);var jve=(e,n)=>e.length===n.length&&!Object.keys(e).some(t=>e[t]!==n[t]),Kve=(e,n)=>Jt(e,n,{maxDepth:4}),qve={compareType:"reference"},d6=function(e){var{compareType:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:qve,t=null;return function(){for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];if(!t){var s=e(...r);return t=((e,n,t,i)=>{var r=e,o=n;return function(){for(var s=arguments.length,l=new Array(s),h=0;h<s;h++)l[h]=arguments[h];return i(l,r)||(r=l,o=t(...r)),o}})(r,s,e,"reference"===n?jve:Kve),s}return t(...r)}},_V="rowsview",u6="dx-data-row",c6="dx-freespace-row",h6="dx-master-detail-cell",lI="dx-command-expand",p6="dx-command-select",g6="[class^=dx-command]",dI="dx-cell-focus-disabled",f6="dx-state-focused",_6="dx-focused",mV="delete",uI="input:not([type='hidden']), textarea, a, select, button, [tabindex], .dx-checkbox",m6="".concat(uI,", .dx-dropdowneditor-icon"),y6="columnHeadersView",sCe=["shift","control","alt"];function nb(e){return e&&e.hasClass("dx-group-row")}function vV(e){return e&&e.hasClass("dx-master-detail-row")}function ib(e){return e&&e.hasClass(u6)}function b6(e,n){return!e._isRowEditMode()&&n&&!n.hasClass(p6)&&n.hasClass(B0)}function as(e){return T(e)&&e.length>0}function O6(){return"desktop"!==$e.current().deviceType}function D6(e){return!!e.parent(".".concat("dx-header-row")).length}var fCe={defaultOptions:()=>({useLegacyKeyboardNavigation:!1,keyboardNavigation:{enabled:!0,enterKeyAction:"startEdit",enterKeyDirection:"none",editOnKeyPress:!1}}),controllers:{keyboardNavigation:class gCe extends dn.ViewController{init(){this._dataController=this.getController("data"),this._selectionController=this.getController("selection"),this._editingController=this.getController("editing"),this._headerPanel=this.getView("headerPanel"),this._rowsView=this.getView("rowsView"),this._columnsController=this.getController("columns"),this._editorFactory=this.getController("editorFactory"),this._focusController=this.getController("focus"),this._memoFireFocusedCellChanged=d6(this._memoFireFocusedCellChanged.bind(this),{compareType:"value"}),this._memoFireFocusedRowChanged=d6(this._memoFireFocusedRowChanged.bind(this),{compareType:"value"}),this.isKeyboardEnabled()&&(function eie(){R.on(se.getDocument(),"visibilitychange",EU)}(),this._updateFocusTimeout=null,this._fastEditingStarted=!1,this._focusedCellPosition={},this._canceledCellPosition=null,this._editorFactory.focused.add(n=>{this.setupFocusedView(),this._isNeedScroll&&n.is(":visible")&&this._focusedView&&this._focusedView.getScrollable&&(this._focusedView._scrollToElement(n),this._isNeedScroll=!1)}),this._initViewHandlers(),this._initDocumentHandlers(),this.createAction("onKeyDown"))}_initViewHandlers(){var n=t=>{var i,r=x(t.target),o=x(t.relatedTarget).closest(this._rowsView.element()).length,s=r.is("a");if(t.relatedTarget&&s&&!o&&this._isEventInCurrentGrid(t)){var l=this._getFocusedCell();l=as(l)?l:this._rowsView.getCellElements(0).filter("[tabindex]").eq(0),r.closest(l).length||(t.preventDefault(),R.trigger(l,"focus"))}var h=r.is("td"),g=(null!==(i=this.option("focusedRowIndex"))&&void 0!==i?i:-1)<0;h&&g&&this._updateFocusedCellPosition(r)};this._rowsView.renderCompleted.add(t=>{var i=this._rowsView.element(),r=!t||"refresh"===t.changeType,o=this._focusedView&&this._focusedView.name===this._rowsView.name,l=t&&("append"===t.changeType||"prepend"===t.changeType),g=x(se.getRootNode(i.get&&i.get(0))).find(":focus"),_=!g.length||g.closest(i).length;R.off(i,"focusin",n),R.on(i,"focusin",n),this._initPointerEventHandler(),this._initKeyDownHandler(),this._setRowsViewAttributes(),o&&_&&(this._isNeedFocus?!l:this._isHiddenFocus&&r&&!t?.virtualColumnsScrolling)&&this._updateFocus(!0)})}_initDocumentHandlers(){var n=se.getDocument();this._documentClickHandler=this.createAction(t=>{var i=x(t.event.target),r=this._isEventInCurrentGrid(t.event)&&i.closest(".".concat(this.addWidgetPrefix(_V))).length,o=i.closest(".".concat("dx-dropdowneditor-overlay")).length,s=this.getController("columnsResizer"),l=!!s&&s.isResizing();r||o||l||(!(this._focusedView&&i.parents().filter(this._focusedView.element()).length>0)&&this._resetFocusedCell(!0),this._resetFocusedView())}),R.on(n,fe(Rt.down,"dxDataGridKeyboardNavigation"),this._documentClickHandler)}_setRowsViewAttributes(){var n=this._getRowsViewElement();!this._dataController.getVisibleRows().length&&this._applyTabIndexToElement(n)}_initPointerEventHandler(){var n=O6()?Kt:Rt.down,t=".".concat(ac," > td, .").concat(ac),i=this._getRowsViewElement();T(this._pointerEventAction)||(this._pointerEventAction=this.createAction(this._pointerEventHandler)),R.off(i,fe(n,"dxDataGridKeyboardNavigation"),this._pointerEventAction),R.on(i,fe(n,"dxDataGridKeyboardNavigation"),t,this._pointerEventAction)}_initKeyDownHandler(){var n=this._getRowsViewElement();Ls_off(this._keyDownListener),this._keyDownListener=Ls_on(n,null,t=>this._keyDownHandler(t))}dispose(){super.dispose(),this._resetFocusedView(),Ls_off(this._keyDownListener),R.off(se.getDocument(),fe(Rt.down,"dxDataGridKeyboardNavigation"),this._documentClickHandler),clearTimeout(this._updateFocusTimeout),function tie(){R.off(se.getDocument(),"visibilitychange",EU)}()}optionChanged(n){switch(n.name){case"keyboardNavigation":case"useLegacyKeyboardNavigation":n.handled=!0;break;default:super.optionChanged(n)}}isRowFocusType(){return"row"===this.focusType}isCellFocusType(){return"cell"===this.focusType}setRowFocusType(){this.option("focusedRowEnabled")&&(this.focusType="row")}setCellFocusType(){this.focusType="cell"}_keyDownHandler(n){var t,i=!0;this._isNeedFocus=!0,this._isNeedScroll=!0;var r=this._processOnKeyDown(n),o=null===(t=this._editingController)||void 0===t?void 0:t.isEditing(),{originalEvent:s}=n;if(s.isDefaultPrevented())return this._isNeedFocus=!1,void(this._isNeedScroll=!1);if(!sCe.includes(n.keyName)&&this._updateFocusedCellPositionByTarget(s.target),!r){switch(n.keyName){case"leftArrow":case"rightArrow":this._leftRightKeysHandler(n,o),r=!0;break;case"upArrow":case"downArrow":n.ctrl?oB("rowsView",this,s):this._upDownKeysHandler(n,o),r=!0;break;case"pageUp":case"pageDown":this._pageUpDownKeyHandler(n),r=!0;break;case"space":r=this._spaceKeyHandler(n,o);break;case"A":Un(n.originalEvent)?(this._ctrlAKeyHandler(n,o),r=!0):r=this._beginFastEditing(n.originalEvent);break;case"tab":this._tabKeyHandler(n,o),r=!0;break;case"enter":this._enterKeyHandler(n,o),r=!0;break;case"escape":this._escapeKeyHandler(n,o),r=!0;break;case"F":Un(n.originalEvent)?(this._ctrlFKeyHandler(n),r=!0):r=this._beginFastEditing(n.originalEvent);break;case"F2":this._f2KeyHandler(),r=!0;break;case"del":case"backspace":this._isFastEditingAllowed()&&!this._isFastEditingStarted()&&(r=this._beginFastEditing(s,!0))}!r&&!this._beginFastEditing(s)&&(this._isNeedFocus=!1,this._isNeedScroll=!1,i=!1),i&&s.stopPropagation()}}_processOnKeyDown(n){var{originalEvent:t}=n,i={handled:!1,event:t};return this.executeAction("onKeyDown",i),n.ctrl=t.ctrlKey,n.alt=t.altKey,n.shift=t.shiftKey,!!i.handled}_closeEditCell(){setTimeout(()=>{this._editingController.closeEditCell()})}_leftRightKeysHandler(n,t){var i=this.getVisibleRowIndex(),r=n.originalEvent,o=this._focusedView&&this._focusedView.getRow(i),s=this._getDirectionCodeByKey(n.keyName),l=this._isFastEditingStarted();if((!t||l)&&ib(o)){this.setCellFocusType(),l&&this._closeEditCell(),this._isVirtualColumnRender()&&this._processVirtualHorizontalPosition(s);var g=this._getNextCell(s);as(g)&&this._arrowKeysHandlerFocusCell(r,g,s),r&&r.preventDefault()}}_upDownKeysHandler(n,t){var i,r,o=this.getVisibleRowIndex(),s=this._focusedView&&this._focusedView.getRow(o),l=n.originalEvent,h="upArrow"===n.keyName,g=this._dataController.dataSource(),_=null===(r=null===(i=this._editingController)||void 0===i?void 0:i.isEditRowByIndex)||void 0===r?void 0:r.call(i,o),v=this._isFastEditingStarted();if((!_||!t||v)&&s&&!vV(s)){if(v&&this._closeEditCell(),!this._navigateNextCell(l,n.keyName)&&this._isVirtualRowRender()&&h&&g&&!g.isLoading()){var b=_t(s);this._scrollBy(0,-b,this._focusedCellPosition.rowIndex-1,l)}l&&l.preventDefault()}}_pageUpDownKeyHandler(n){var t=this._dataController.pageIndex(),i=this._dataController.pageCount(),r=this.option("paging.enabled"),o="pageUp"===n.keyName,s=o?-1:1,l=this._rowsView.getScrollable();r&&!this._isVirtualScrolling()?(o?t>0:t<i-1)&&!this._isVirtualScrolling()&&(this._dataController.pageIndex(t+s),n.originalEvent.preventDefault()):l&&gt(l.container())<gt(l.$content())&&(this._scrollBy(0,gt(l.container())*s),n.originalEvent.preventDefault())}_spaceKeyHandler(n,t){var i=this.getVisibleRowIndex(),r=x(n.originalEvent&&n.originalEvent.target);if(this.option("selection")&&"none"!==this.option("selection").mode&&!t){var o="row"===this._getElementType(r)&&this.isRowFocusType()&&ib(r);return r.hasClass(p6)&&"onClick"===this.option("selection.showCheckBoxesMode")&&this._selectionController.startSelectionWithCheckboxes(),!!(o||r.parent().hasClass(u6)||r.hasClass(this.addWidgetPrefix(_V)))&&(this._selectionController.changeItemSelection(i,{shift:n.shift,control:n.ctrl}),n.originalEvent.preventDefault(),!0)}return this._beginFastEditing(n.originalEvent)}_ctrlAKeyHandler(n,t){!t&&!n.alt&&"multiple"===this.option("selection.mode")&&this.option("selection.allowSelectAll")&&(this._selectionController.selectAll(),n.originalEvent.preventDefault())}_tabKeyHandler(n,t){var i=this.option("editing"),r=n.shift?"previous":"next",s=!(T(this._focusedCellPosition)&&!Pr(this._focusedCellPosition))||!n.shift&&this._isLastValidCell(this._focusedCellPosition)||n.shift&&this._isFirstValidCell(this._focusedCellPosition),l=n.originalEvent.target,h=this._focusedView&&this._focusedView.element();if(!this._handleTabKeyOnMasterDetailCell(l,r)){if(x(h).addClass(f6),i&&l&&!s)if(x(l).hasClass(this.addWidgetPrefix(_V))&&this._resetFocusedCell(),this._isVirtualColumnRender()&&this._processVirtualHorizontalPosition(r),t){if(!this._editingCellTabHandler(n,r))return}else this._targetCellTabHandler(n,r)&&(s=!0);s?(this._editorFactory.loseFocus(),this._editingController.isEditing()&&!this._isRowEditMode()&&(this._resetFocusedCell(!0),this._resetFocusedView(),this._closeEditCell())):n.originalEvent.preventDefault()}}_getMaxHorizontalOffset(){var n=this.component.getScrollable();return n?n.scrollWidth()-Ze(this._rowsView.element()):0}_isColumnRendered(n){var t=this._columnsController.getVisibleColumns(null,!0),i=this._columnsController.getVisibleColumns(),r=t[n],o=!1;return r&&(o=i.indexOf(r)>=0),o}_isFixedColumn(n){var i=this._columnsController.getVisibleColumns(null,!0)[n];return!!i&&!!i.fixed}_isColumnVirtual(n){var t=n-this._columnsController.getColumnIndexOffset(),r=this._columnsController.getVisibleColumns()[t];return!!r&&"virtual"===r.command}_processVirtualHorizontalPosition(n){var r,t=this.component.getScrollable(),i=this.getColumnIndex(),o=0,s=!1;switch(n){case"next":case"nextInRow":var l=this._getVisibleColumnCount();r=i+1,o=this.option("rtlEnabled")?this._getMaxHorizontalOffset():0,s="next"===n?l===r||this._isFixedColumn(i)&&!this._isColumnRendered(r):l>r&&this._isFixedColumn(i)&&!this._isColumnRendered(r);break;case"previous":case"previousInRow":if(r=i-1,o=this.option("rtlEnabled")?0:this._getMaxHorizontalOffset(),"previous"===n){var h=this._columnsController.getColumnIndexOffset();s=r<0&&0===h||this._isFixedColumn(i)&&!this._isColumnRendered(r)}else s=r>=0&&this._isFixedColumn(i)&&!this._isColumnRendered(r)}s?t.scrollTo({left:o}):T(r)&&T(n)&&this._isColumnVirtual(r)&&0!==(o=this._getHorizontalScrollPositionOffset(n))&&t.scrollBy({left:o,top:0})}_getHorizontalScrollPositionOffset(n){var t=0,i=this._getCell(this._focusedCellPosition),r=i&&wt(i);if(r>0){var o=this.option("rtlEnabled")?-1:1;t="nextInRow"===n||"next"===n?r*o:r*o*-1}return t}_editingCellTabHandler(n,t){var o,i=n.originalEvent.target,r=this._getCellElementFromTarget(i),s=n.originalEvent,l=this._getElementType(i);if(r.is(g6))return!this._targetCellTabHandler(n,t);this._updateFocusedCellPosition(r);var h=this._getNextCellByTabKey(s,t,l);if(!(r=h.$cell)||this._handleTabKeyOnMasterDetailCell(r,t))return!1;var g=this._columnsController,v=this._rowsView.getCellIndex(r)+g.getColumnIndexOffset(),C=g.getVisibleColumns(null,!0)[v],b=r.parent(),E=this._getRowIndex(b),w=this._dataController.items()[E];if(C&&C.allowEditing){var k=!w||"data"===w.rowType;o=this._editingController.allowUpdating({row:w})?k:w&&w.isNewRow}return o||this._closeEditCell(),this._focusCell(r,!h.isHighlighted)&&(!this._isRowEditMode()&&o?this._editFocusedCell():this._focusInteractiveElement(r,n.shift)),!0}_targetCellTabHandler(n,t){var h,i=n.originalEvent,r=i.target,o=this._getCellElementFromTarget(r),s=this._getInteractiveElement(o,!n.shift),l=!1;if(!b6(this,o)&&s.length&&r!==s.get(0))l=!0;else{void 0===this._focusedCellPosition.rowIndex&&x(r).hasClass(ac)&&this._updateFocusedCellPosition(o),h=this._getElementType(r),this.isRowFocusType()&&(this.setCellFocusType(),"row"===h&&ib(x(r))&&(r=this.getFirstValidCellInRow(x(r)),h=this._getElementType(r)));var g=this._getNextCellByTabKey(i,t,h);if(!(o=g.$cell)||!(o=this._checkNewLineTransition(i,o)))return!1;this._focusCell(o,!g.isHighlighted),b6(this,o)||this._focusInteractiveElement(o,n.shift)}return l}_getNextCellByTabKey(n,t,i){var r=this._getNextCell(t,i),o=r&&this._fireFocusedCellChanging(n,r,!0);return!o||o.cancel?{}:(o.$newCellElement&&(r=o.$newCellElement),{$cell:r,isHighlighted:o.isHighlighted})}_checkNewLineTransition(n,t){var i=this.getVisibleRowIndex(),r=t.parent();if(i!==this._getRowIndex(r)){var o=this._getCellPosition(t),s=this._fireFocusedRowChanging(n,r);if(s.cancel)return;s.rowIndexChanged&&o&&(this.setFocusedColumnIndex(o.columnIndex),t=this._getFocusedCell())}return t}_enterKeyHandler(n,t){var i=this._getFocusedCell(),r=this.getVisibleRowIndex(),o=this._focusedView&&this._focusedView.getRow(r);if(this.option("grouping.allowCollapsing")&&nb(o)||this.option("masterDetail.enabled")&&i&&i.hasClass(lI)){var s=this._dataController.getKeyByRowIndex(r),l=this._dataController.items()[r];void 0!==s&&l&&l.data&&!l.data.isContinuation&&this._dataController.changeRowExpand(s)}else this._processEnterKeyForDataCell(n,t)}_processEnterKeyForDataCell(n,t){var i=this._getEnterKeyDirection(n),r=this._allowEditingOnEnterKey();t||!r&&i?(this._handleEnterKeyEditingCell(n.originalEvent),"next"===i||"previous"===i?this._targetCellTabHandler(n,i):("upArrow"===i||"downArrow"===i)&&this._navigateNextCell(n.originalEvent,i)):r&&this._startEditing(n)}_getEnterKeyDirection(n){var t=this.option("keyboardNavigation.enterKeyDirection"),i=n.shift;return"column"===t?i?"upArrow":"downArrow":"row"===t?i?"previous":"next":void 0}_handleEnterKeyEditingCell(n){var{target:t}=n,i=this._getCellElementFromTarget(t),r=this._isRowEditMode();this._updateFocusedCellPosition(i),r?(this._focusEditFormCell(i),setTimeout(this._editingController.saveEditData.bind(this._editingController))):(R.trigger(x(t),"change"),this._closeEditCell(),n.preventDefault())}_escapeKeyHandler(n,t){var i=this._getCellElementFromTarget(n.originalEvent.target);t&&(this._updateFocusedCellPosition(i),this._isRowEditMode()?(this._focusEditFormCell(i),this._editingController.cancelEditData(),0===this._dataController.items().length&&(this._resetFocusedCell(),this._editorFactory.loseFocus())):"cell"===this._editingController.getEditMode()?this._editingController.cancelEditData():this._closeEditCell(),n.originalEvent.preventDefault())}_ctrlFKeyHandler(n){if(this.option("searchPanel.visible")){var t=this._headerPanel.getSearchTextEditor();t&&(t.focus(),n.originalEvent.preventDefault())}}_f2KeyHandler(){var n=this._editingController.isEditing(),t=this.getVisibleRowIndex(),i=this._focusedView&&this._focusedView.getRow(t);!n&&ib(i)&&this._startEditing()}_navigateNextCell(n,t){var i=this._getNextCell(t),r=this._getDirectionCodeByKey(t);return!(!i||!this._isCellValid(i))&&this._arrowKeysHandlerFocusCell(n,i,r)}_arrowKeysHandlerFocusCell(n,t,i){var o=this._fireFocusChangingEvents(n,t,"prevRow"===i||"nextRow"===i,!0);return t=o.$newCellElement,!(o.cancel||!this._isCellValid(t)||(this._focus(t,!o.isHighlighted),0))}_beginFastEditing(n,t){if(!this._isFastEditingAllowed()||n.altKey||n.ctrlKey||this._editingController.isEditing())return!1;if(t)this._startEditing(n,mV);else{var{key:i}=n,r=n.keyCode||n.which,o=i||r&&String.fromCharCode(r);o&&(1===o.length||o===mV)&&this._startEditing(n,o)}return!0}_pointerEventHandler(n){var t,i=n.event||n,r=x(i.currentTarget),o=null===(t=this._rowsView)||void 0===t?void 0:t.element(),s=r.parent(),l=x(i.target).is(uI),h=!!x(i.target).closest(".".concat("dx-revert-button")).length,g=r.hasClass(lI);this._isEventInCurrentGrid(i)&&(h||!this._isCellValid(r,!l)&&!g?r.is("td")&&this._resetFocusedCell():(r=this._isInsideEditForm(r)?x(i.target):r,this._focusView(),x(o).removeClass(f6),s.hasClass(c6)?(this._updateFocusedCellPosition(r),this._applyTabIndexToElement(this._focusedView.element()),this._focusedView.focus(!0)):this._isMasterDetailCell(r)?this._updateFocusedCellPosition(r):this._clickTargetCellHandler(i,r)))}_clickTargetCellHandler(n,t){var i=this._rowsView.getCellIndex(t),r=this._columnsController.getVisibleColumns()[i],o=this._isCellEditMode();this.setCellFocusType();var s=this._fireFocusChangingEvents(n,t,!0);if(t=s.$newCellElement,s.cancel)this.setRowFocusType(),this.setFocusedRowIndex(s.prevRowIndex),this._editingController.isEditing()&&o&&this._closeEditCell();else{if(s.resetFocusedRow)return void this.getController("focus")._resetFocusedRow();if(s.rowIndexChanged&&(t=this._getFocusedCell()),!s.isHighlighted&&!o&&this.setRowFocusType(),this._updateFocusedCellPosition(t),this._allowRowUpdating()&&o&&r&&r.allowEditing)this._isNeedFocus=!1,this._isHiddenFocus=!1;else{t=this._getFocusedCell();var l=n&&x(n.target).closest("".concat(m6,", td")),h=l&&l.not(t).is(m6),g=!!r&&!r.command&&t.hasClass(B0);this._focus(t,!g&&(!s.isHighlighted||h),h)}}}_allowRowUpdating(){var n=this.getVisibleRowIndex(),t=this._dataController.items()[n];return this._editingController.allowUpdating({row:t},"click")}focus(n){var t,i=this.option("focusedRowEnabled"),r=this._isCellElement(x(n));n||(t=".dx-datagrid-rowsview .dx-row[tabindex]",i||(t+=", .dx-datagrid-rowsview .dx-row > td[tabindex]"),n=this.component.$element().find(t).first()),n&&this._focusElement(x(n),r)}getFocusedView(){return this._focusedView}setupFocusedView(){this.isKeyboardEnabled()&&!T(this._focusedView)&&this._focusView()}_focusElement(n,t){var i=x(this._getRowsViewElement()),r=n.closest(i),o=this.isRowFocusType(),s={};!r.length||this._isCellElement(n)&&!this._isCellValid(n)||(this._focusView(),this._isNeedFocus=!0,this._isNeedScroll=!0,(this._isCellElement(n)||nb(n))&&(this.setCellFocusType(),n=(s=this._fireFocusChangingEvents(null,n,!0,t)).$newCellElement,o&&!s.isHighlighted&&this.setRowFocusType()),s.cancel||(this._focus(n,!s.isHighlighted),this._focusInteractiveElement(n)))}_getFocusedViewByElement(n){var t=this.getFocusedView(),i=t&&x(t.element());return n&&0!==n.closest(i).length}_focusView(){this._focusedView=this._rowsView}_resetFocusedView(){this.setRowFocusType(),this._focusedView=null}_focusInteractiveElement(n,t){if(n){var i=this._getInteractiveElement(n,t);xe.focusAndSelectElement(this,i)}}_focus(n,t,i){var r=n&&!n.hasClass(ac)?n.closest(".".concat(ac)):n;if(!r||!function cCe(e){return!e||e.hasClass(c6)||e.hasClass("dx-virtual-row")}(r)){var l,o=this._focusedView,s=o&&o.element();this._isHiddenFocus=t;var h=nb(r)||function uCe(e){return e&&e.hasClass("dx-datagrid-group-footer")}(r)||this.isRowFocusType();h?(l=r,o&&this.setFocusedRowIndex(this._getRowIndex(r))):this._isCellElement(n)&&(l=n,this._updateFocusedCellPosition(n)),l&&(s&&s.find(".dx-row[tabindex], .dx-row > td[tabindex]").not(l).removeClass(dI).removeClass(_6).removeAttr("tabindex"),R.one(l,"blur",g=>{g.relatedTarget&&l.removeClass(dI).removeClass(_6)}),i||(this._applyTabIndexToElement(l),R.trigger(l,"focus")),t?(l.addClass(dI),h&&n.addClass(dI)):this._editorFactory.focus(l))}}_updateFocus(n){this._updateFocusTimeout=setTimeout(()=>{var t=this._editingController,i=t.getEditMode()===N0,r=t.getEditMode()===Vx;if(i&&t.hasChanges()||r&&t.isNewRowInEditMode())t._focusEditingCell();else{var o=this._getFocusedCell(),s=t.isEditing();if(o&&(!this._isMasterDetailCell(o)||this._isRowEditMode())&&(this._hasSkipRow(o.parent())&&(o=this._getNextCell(this._focusedCellPosition&&this._focusedCellPosition.rowIndex>0?"upArrow":"downArrow")),as(o)))if(o.is("td")||o.hasClass(this.addWidgetPrefix("edit-form-item"))){var h=o.is(g6),g=o.find(":focus"),_=as(g);if(!n&&h||!this._editorFactory.focus())!_&&(this._isNeedFocus||this._isHiddenFocus)&&this._focus(o,this._isHiddenFocus);else{if(h&&_)return void xe.focusAndSelectElement(this,g);!_&&this._focus(o)}s&&this._focusInteractiveElement.bind(this)(o)}else R.trigger(o,"focus")}})}_getFocusedCell(){return x(this._getCell(this._focusedCellPosition))}_updateFocusedCellPositionByTarget(n){var t;if("row"===this._getElementType(n)&&T(null===(t=this._focusedCellPosition)||void 0===t?void 0:t.columnIndex)){var r=x(n);this._focusedView&&nb(r)&&this.setFocusedRowIndex(this._getRowIndex(r))}else this._updateFocusedCellPosition(this._getCellElementFromTarget(n))}_updateFocusedCellPosition(n,t){var i=this._getCellPosition(n,t);return i&&(!n.length||i.rowIndex>=0&&i.columnIndex>=0)&&this.setFocusedCellPosition(i.rowIndex,i.columnIndex),i}_getFocusedColumnIndexOffset(n){var t=0,i=this._columnsController.getVisibleColumns()[n];return i&&i.fixed?t=this._getFixedColumnIndexOffset(i):n>=0&&(t=this._columnsController.getColumnIndexOffset()),t}_getFixedColumnIndexOffset(n){var t=function hCe(e,n){return e.option("rtlEnabled")?!("right"===n.fixedPosition||T(n.command)&&!T(n.fixedPosition)):!(!T(n.fixedPosition)||"left"===n.fixedPosition)}(this,n)?this._getVisibleColumnCount()-this._columnsController.getVisibleColumns().length:0;return t}_getCellPosition(n,t){var i,r=as(n)&&n.closest("tr");if(as(r)){var o=this._getRowIndex(r);return i=this._rowsView.getCellIndex(n,o),i+=this._getFocusedColumnIndexOffset(i),t&&(i=this._applyColumnIndexBoundaries(i="previous"===t?i-1:i+1)),{rowIndex:o,columnIndex:i}}}_focusCell(n,t){if(this._isCellValid(n))return this._focus(n,t),!0}_focusEditFormCell(n){n.hasClass(h6)&&this._editorFactory.focus(n,!0)}_resetFocusedCell(n){var t,i=this._getFocusedCell();as(i)&&i.removeAttr("tabindex"),this._isNeedFocus=!1,this._isNeedScroll=!1,this._focusedCellPosition={},clearTimeout(this._updateFocusTimeout),null===(t=this._focusedView)||void 0===t||t.renderFocusState({preventScroll:n})}restoreFocusableElement(n,t){var i,r,o=T(n),s=this._rowsView.element(),{columnIndex:l}=this._focusedCellPosition,h=this._dataController.getRowIndexOffset();n=o?n:this._rowsView.getTopVisibleItemIndex()+h,o?(r=this._rowsView.getRow(n-h),!(i=this._fireFocusedRowChanging(t,r)).cancel&&i.rowIndexChanged&&(n=i.newRowIndex)):(this._editorFactory.loseFocus(),this._applyTabIndexToElement(s),R.trigger(s,"focus")),(!o||!i.cancel)&&this.setFocusedCellPosition(n,l),o&&this._updateFocus()}_getNewPositionByCode(n,t,i){var{columnIndex:r}=n,{rowIndex:o}=n;if(void 0===n.rowIndex&&"next"===i)return{columnIndex:0,rowIndex:0};switch(i){case"nextInRow":case"next":r<this._getVisibleColumnCount()-1&&"row"!==t&&this._hasValidCellAfterPosition({columnIndex:r,rowIndex:o})?r++:!this._isLastRow(o)&&"next"===i&&(r=0,o++);break;case"previousInRow":case"previous":r>0&&"row"!==t&&this._hasValidCellBeforePosition({columnIndex:r,rowIndex:o})?r--:o>0&&"previous"===i&&(o--,r=this._getVisibleColumnCount()-1);break;case"upArrow":o=o>0?o-1:o;break;case"downArrow":o=this._isLastRow(o)?o:o+1}return{columnIndex:r,rowIndex:o}}setFocusedCellPosition(n,t){this.setFocusedRowIndex(n),this.setFocusedColumnIndex(t)}setFocusedRowIndex(n){this._focusedCellPosition||(this._focusedCellPosition={}),this._focusedCellPosition.rowIndex=n}setFocusedColumnIndex(n){this._focusedCellPosition||(this._focusedCellPosition={}),this._focusedCellPosition.columnIndex=n}getRowIndex(){return this._focusedCellPosition?this._focusedCellPosition.rowIndex:-1}getColumnIndex(){return this._focusedCellPosition?this._focusedCellPosition.columnIndex:-1}getVisibleRowIndex(){var n,t=null===(n=this._focusedCellPosition)||void 0===n?void 0:n.rowIndex;return!T(t)||t<0?-1:t-this._dataController.getRowIndexOffset()}getVisibleColumnIndex(){var n,t=null===(n=this._focusedCellPosition)||void 0===n?void 0:n.columnIndex;return T(t)?t-this._columnsController.getColumnIndexOffset():-1}_applyColumnIndexBoundaries(n){var t=this._getVisibleColumnCount();return n<0?n=0:n>=t&&(n=t-1),n}_isCellByPositionValid(n){var t=x(this._getCell(n));return this._isCellValid(t)}_isLastRow(n){var t=this._dataController,i=t.items().filter(r=>!1!==r.visible);return this._isVirtualRowRender()?n>=t.getMaxRowIndex():n===i.length-1}_isFirstValidCell(n){var t=!1;return 0===n.rowIndex&&n.columnIndex>=0&&(t=t||!this._hasValidCellBeforePosition(n)),t}_hasValidCellBeforePosition(n){for(var{columnIndex:t}=n,i=!1;t>0&&!i;){var r={columnIndex:--t,rowIndex:n.rowIndex};i=this._isCellByPositionValid(r)}return i}_hasValidCellAfterPosition(n){for(var{columnIndex:t}=n,i=!1,r=this._getVisibleColumnCount();t<r-1&&!i;){var o={columnIndex:++t,rowIndex:n.rowIndex};i=this._isCellByPositionValid(o)}return i}_isLastValidCell(n){var t=n.columnIndex>=0?n.columnIndex+1:0,{rowIndex:i}=n,r={columnIndex:t,rowIndex:i},o=this._dataController.getVisibleRows(),s=o&&o[i];return!!this._isLastRow(i)&&(!!(s&&"group"===s.rowType&&n.columnIndex>0||n.columnIndex===this._getVisibleColumnCount()-1)||!this._isCellByPositionValid(r)&&this._isLastValidCell(r))}_isCellValid(n,t){if(as(n)){var i=n.parent(),r=this._columnsController,o=this._rowsView.getCellIndex(n)+r.getColumnIndexOffset(),s=r.getVisibleColumns(null,!0)[o],l=this._getVisibleColumnCount(),h=this._editingController,g=vV(i),_=s&&s.showWhenGrouped,v=s&&!n.hasClass(lI)&&ib(i);if((e=>void 0!==e.attr("dx-drag-cell"))(n))return!1;if(this._isMasterDetailCell(n))return!0;if(l>o&&(!g&&s&&(!T(s.groupIndex)||_&&v)||parseInt(n.attr("colspan"),10)>1)){var b=this._dataController.items(),E=this._rowsView.getRowIndex(i),w=b[E],M=h&&this._isCellEditMode()&&h.isEditing(),k=h&&h.isEditRow(E),L=k||M;return s.command?this._isLegacyNavigation()?!L&&"expand"===s.command:!M&&(k?"select"!==s.command:!L):(!M||!w||"data"===w.rowType)&&(!L||s.allowEditing||t)}}}getFirstValidCellInRow(n,t){for(var r,o,i=n.find("> td"),s=t=t||0;s<i.length;++s)if(r=i.eq(s),this._isCellValid(r)){o=r;break}return o}_getNextCell(n,t,i){var l,h,r=i||this._focusedCellPosition,o=this.isRowFocusType(),s=o||["next","previous"].includes(n);if(this._focusedView&&r){var g=this._getNewPositionByCode(r,t,n);l=x(this._getCell(g));var _="previous"===n?this._isFirstValidCell(g):this._isLastValidCell(g);if(as(l)&&!this._isCellValid(l)&&this._isCellInRow(g,s)&&!_&&(l=o?this.getFirstValidCellInRow(l.parent(),g.columnIndex):this._getNextCell(n,"cell",g)),h=as(l)&&l.parent(),this._hasSkipRow(h)){var v=this._getRowIndex(h);if(this._isLastRow(v))return null;l=this._getNextCell(n,"row",{columnIndex:r.columnIndex,rowIndex:v})}return as(l)?l:null}return null}_startEditing(n,t){var i=this._focusedCellPosition,r=this.getVisibleRowIndex(),o=this.getVisibleColumnIndex(),s=this._dataController.items()[r],l=this._columnsController.getVisibleColumns()[o];this._isAllowEditing(s,l)&&(this._isRowEditMode()?this._editingController.editRow(r):i&&this._startEditCell(n,t))}_isAllowEditing(n,t){return this._editingController.allowUpdating({row:n})&&t&&t.allowEditing}_editFocusedCell(){var n=this.getVisibleRowIndex(),t=this.getVisibleColumnIndex();return this._editingController.editCell(n,t)}_startEditCell(n,t){this._fastEditingStarted=T(t);var i=this._editFocusedCell(),r=uh(i);if(this._isFastEditingStarted()&&(r||i)){var s=r&&t===mV?"":t;ke(r?i:W().resolve(),this._rowsView.waitAsyncTemplates(!0)).done(()=>{this._editingCellHandler(n,s)})}}_editingCellHandler(n,t){var i,r,o=this._getFocusedCell().find(uI).eq(0),s=o.get(0);if(s){var l=Ml(n,{type:"keydown",target:s}),h=Ml(n,{type:"keypress",target:s}),g=Ml(n,{type:"input",target:s});g.originalEvent&&(g.originalEvent=Ml(g.originalEvent,{data:t})),null===(r=(i=s).select)||void 0===r||r.call(i),R.trigger(o,l),l.isDefaultPrevented()||(R.trigger(o,h),h.isDefaultPrevented())||setTimeout(()=>{o.val(t);var v=o.closest(".".concat("dx-widget"));R.off(v,"focusout"),R.one(v,"focusout",()=>{R.trigger(o,"change")}),R.trigger(o,g)},Gt.mozilla?25:0)}}_fireFocusChangingEvents(n,t,i,r){var o,s={},l=null!==(o=this._getCellPosition(t))&&void 0!==o?o:{};return this.isCellFocusType()&&((s=this._fireFocusedCellChanging(n,t,r)).cancel||(l.columnIndex=s.newColumnIndex,l.rowIndex=s.newRowIndex,r=s.isHighlighted,t=x(this._getCell(l)))),!s.cancel&&i&&t&&((s=this._fireFocusedRowChanging(n,t.parent())).cancel||(l.rowIndex=s.newRowIndex,s.isHighlighted=r)),s.$newCellElement=x(this._getCell(l)),s.$newCellElement.length||(s.$newCellElement=t),s}_fireFocusedCellChanging(n,t,i){var r=this.option("focusedColumnIndex"),o=this.option("focusedRowIndex"),s=this._getCellPosition(t),l=s?s.columnIndex:-1,h=s?s.rowIndex:-1,v={cellElement:t,prevColumnIndex:r,prevRowIndex:o,newColumnIndex:l,newRowIndex:h,rows:this._dataController.getVisibleRows(),columns:this._columnsController.getVisibleColumns(),event:n,isHighlighted:i||!1,cancel:!1};return this._canceledCellPosition=null,this.executeAction("onFocusedCellChanging",v),(v.newColumnIndex!==l||v.newRowIndex!==h)&&(v.$newCellElement=x(this._getCell({columnIndex:v.newColumnIndex,rowIndex:v.newRowIndex}))),v.cancel&&(this._canceledCellPosition={rowIndex:h,columnIndex:l}),v}_fireFocusedCellChanged(n){var t=this._rowsView.getCellIndex(n),i=n?.parent().data("options"),r=i?.key;this._memoFireFocusedCellChanged(r,t)}_memoFireFocusedCellChanged(n,t){var i=this._getFocusedCell(),r=this._getRowIndex(i?.parent()),o=Math.min(r-this._dataController.getRowIndexOffset(),this._dataController.items().length-1);if(!this._editingController.isEditCell(o,t)){var l=this._dataController.items()[o],h=this._columnsController.getVisibleColumns()[t];this.executeAction("onFocusedCellChanged",{cellElement:i?Ke(i):void 0,columnIndex:t,rowIndex:r,row:l,column:h})}}_fireFocusedRowChanging(n,t){var i=this._getRowIndex(t),r=this.option("focusedRowIndex"),o=this._dataController.loadingOperationTypes(),s={rowElement:t,prevRowIndex:r,newRowIndex:i,event:n,rows:this._dataController.getVisibleRows(),cancel:!1};return!this._dataController||this._dataController.isLoading()&&(o.reload||o.paging)?(s.cancel=!0,s):(this.option("focusedRowEnabled")&&(this.executeAction("onFocusedRowChanging",s),!s.cancel&&s.newRowIndex!==i&&(s.resetFocusedRow=s.newRowIndex<0,s.resetFocusedRow||this.setFocusedRowIndex(s.newRowIndex),s.rowIndexChanged=!0)),s)}_fireFocusedRowChanged(){var n,t=this.option("focusedRowEnabled"),i=this.option("focusedRowKey"),r=null===(n=this._focusController)||void 0===n?void 0:n.getFocusedRowIndexByKey(i);!t||T(i)&&r<0||this._memoFireFocusedRowChanged(i,r)}_memoFireFocusedRowChanged(n,t){var i=t-this._dataController.getRowIndexOffset();this.executeAction("onFocusedRowChanged",{rowElement:t<0?void 0:this._rowsView.getRowElement(i),rowIndex:t,row:t<0?void 0:this._dataController.getVisibleRows()[i]})}_isEventInCurrentGrid(n){return xe.isElementInCurrentGrid(this,x(n.target))}_isRowEditMode(){var n=this._editingController.getEditMode();return n===Mp||n===U_}_isCellEditMode(){var n=this._editingController.getEditMode();return n===N0||n===Vx}_isFastEditingAllowed(){return this._isCellEditMode()&&this.option("keyboardNavigation.editOnKeyPress")}_getInteractiveElement(n,t){var i=n.find(uI).filter(":visible");return t?i.last():i.first()}_applyTabIndexToElement(n){var t=this.option("tabIndex")||0;n.attr("tabindex",T(t)?t:0)}_getCell(n){if(this._focusedView&&n){var t=this._dataController.getRowIndexOffset(),i=this._columnsController.getVisibleColumns(null,!0)[n.columnIndex],r=i&&i.fixed?this._getFixedColumnIndexOffset(i):this._columnsController.getColumnIndexOffset();return this._focusedView.getCell({rowIndex:n.rowIndex>=0?n.rowIndex-t:-1,columnIndex:n.columnIndex>=0?n.columnIndex-r:-1})}}_getRowIndex(n){var t=this._rowsView.getRowIndex(n);return t>=0&&(t+=this._dataController.getRowIndexOffset()),t}_hasSkipRow(n){var t=n&&n.get(0);return t&&("none"===t.style.display||vV(n)&&!n.hasClass(this.addWidgetPrefix(L0)))}_allowEditingOnEnterKey(){return"startEdit"===this.option("keyboardNavigation.enterKeyAction")}_isLegacyNavigation(){return this.option("useLegacyKeyboardNavigation")}_getDirectionCodeByKey(n){var t;switch(n){case"upArrow":t="prevRow";break;case"downArrow":t="nextRow";break;case"leftArrow":t=this.option("rtlEnabled")?"nextInRow":"previousInRow";break;case"rightArrow":t=this.option("rtlEnabled")?"previousInRow":"nextInRow"}return t}_isVirtualScrolling(){var n=this.option("scrolling.mode");return"virtual"===n||"infinite"===n}_isVirtualRowRender(){return this._isVirtualScrolling()||xe.isVirtualRowRendering(this)}_isVirtualColumnRender(){return"virtual"===this.option("scrolling.columnRenderingMode")}_scrollBy(n,t,i,r){var o=this,s=this._rowsView.getScrollable();return o._focusedCellPosition&&s.on("scroll",function l(){s.off("scroll",l),setTimeout(o.restoreFocusableElement.bind(o,i,r))}),s.scrollBy({left:n,top:t})}_isInsideEditForm(n){var t=x(n).closest(".".concat(this.addWidgetPrefix(L0)));return t.length&&this.elementIsInsideGrid(t)}_isMasterDetailCell(n){var t=x(n).closest(".".concat(h6));return t.length&&this.elementIsInsideGrid(t)}_processNextCellInMasterDetail(n,t){!this._isInsideEditForm(n)&&n&&this._applyTabIndexToElement(n)}_handleTabKeyOnMasterDetailCell(n,t){if(this._isMasterDetailCell(n)){this._updateFocusedCellPosition(x(n),t);var i=this._getNextCell(t,"row");return this._processNextCellInMasterDetail(i,x(n)),!0}return!1}_getElementType(n){return x(n).is("tr")?"row":"cell"}_isFastEditingStarted(){return this._isFastEditingAllowed()&&this._fastEditingStarted}_getVisibleColumnCount(){return this._columnsController.getVisibleColumns(null,!0).length}_isCellInRow(n,t){var{columnIndex:i}=n,r=this._getVisibleColumnCount();return t?i>=0&&i<=r-1:i>0&&i<r-1}_isCellElement(n){return n.length&&"TD"===n[0].tagName}_getCellElementFromTarget(n){var t=this._getElementType(n),i=x(n);return"cell"===t?i.closest(".".concat(ac," > td")):i.children().not(".".concat(lI)).first()}_getRowsViewElement(){var n;return null===(n=this._rowsView)||void 0===n?void 0:n.element()}isKeyboardEnabled(){return this.option("keyboardNavigation.enabled")}_processCanceledEditCellPosition(n,t){if(this._canceledCellPosition){var i=this._canceledCellPosition.rowIndex===n&&this._canceledCellPosition.columnIndex===t;return this._canceledCellPosition=null,i}}updateFocusedRowIndex(){var n=this._dataController,t=this.getVisibleRowIndex(),i=n.items(),r=i.length?i.length-1:-1,o=n.getRowIndexOffset();r>=0&&t>r&&this.setFocusedRowIndex(r+o)}}},extenders:{views:{rowsView:{_rowClick(e){var n=this.getController("editing").getEditRowIndex(),t=this.getController("keyboardNavigation"),i=t.isKeyboardEnabled();n===e.rowIndex&&t.setCellFocusType(),(O6()||!i)&&this.option("focusedRowEnabled")&&this._triggerPointerDownEventHandler(e,!i),this.callBase.apply(this,arguments)},_triggerPointerDownEventHandler(e,n){var{originalEvent:t}=e.event;if(t){var i=this.getController("keyboardNavigation"),r=x(t.target),o=this.getCellIndex(r),s=this.getController("columns").getVisibleColumns()[o],l=this.getController("data").items()[e.rowIndex];if(i._isAllowEditing(l,s)||n){var h=Ml(t,{currentTarget:t.target});i._pointerEventHandler(h)}}},renderFocusState(e){var{preventScroll:n,pageSizeChanged:t}=e??{},i=this.getController("keyboardNavigation"),r=this.element();r&&!xa(r)&&r.attr("tabindex",null),t&&i.updateFocusedRowIndex();var o=i.getVisibleRowIndex();(!T(o)||o<0)&&(o=0);var s=this.getCellElements(o);i.isKeyboardEnabled()&&s?.length&&this.updateFocusElementTabIndex(s,n)},updateFocusElementTabIndex(e){var n=this.getController("keyboardNavigation"),t=e.eq(0).parent();if(nb(t))n._applyTabIndexToElement(t);else{var i=n.getColumnIndex();(!T(i)||i<0)&&(i=0),this._updateFocusedCellTabIndex(e,i)}},_updateFocusedCellTabIndex(e,n){var t=this.getController("keyboardNavigation"),i=e?e.length:-1,r=function(l){var h=t._isMasterDetailCell(l),g=t._isCellValid(l);if(!h&&g&&t._isCellElement(l))return t._applyTabIndexToElement(l),t.setCellFocusType(),!0},o=((e,n)=>e.filter("[".concat("aria-colindex",'="').concat(n+1,'"]:not([').concat("dx-drag-cell","])")).first())(e,n);if(o.length)r(o);else{i<=n&&(n=i-1);for(var s=n;s<i&&!r(x(e[s]));++s);}},renderDelayedTemplates(e){this.callBase.apply(this,arguments),this._renderFocusByChange(e)},_renderFocusByChange(e){var{operationTypes:n,repaintChangesOnly:t}=e??{},{fullReload:i,pageSize:r}=n??{};if(!e||!t||i||r){var o=function pCe(e){var n=e.getController("keyboardNavigation");return!!n._isVirtualScrolling()&&e.option("focusedRowIndex")===n.getRowIndex()}(this);this.renderFocusState({preventScroll:o,pageSizeChanged:r})}},_renderCore(e){var n=this.callBase.apply(this,arguments);return this._renderFocusByChange(e),n},_editCellPrepared(e){var n=this._getEditorInstance(e),t=this.getController("keyboardNavigation"),i=t&&t._isFastEditingStarted();n&&i&&this._handleEditingNavigationMode(n),this.callBase.apply(this,arguments)},_handleEditingNavigationMode(e){["downArrow","upArrow"].forEach(t=>{var i=e._supportedKeys()[t];e.registerKeyHandler(t,r=>{if("true"===e._input().attr("aria-expanded"))return i&&i.call(e,r)})}),e.registerKeyHandler("leftArrow",U),e.registerKeyHandler("rightArrow",U),"dxDateBox"===e.NAME&&e.option("useMaskBehavior")&&e.registerKeyHandler("enter",U)},_getEditorInstance(e){var n=e.find(".dx-texteditor").eq(0);return xe.getWidgetInstance(n)}}},controllers:{editing:{editCell(e,n){var t=this.getController("keyboardNavigation");if(t._processCanceledEditCellPosition(e,n))return!1;var i=this.callBase(e,n);return i&&t.setupFocusedView(),i},editRow(e){var n=this.getController("keyboardNavigation"),t=n.getVisibleColumnIndex(),i=this._columnsController.getVisibleColumns()[t];(i&&i.type||this.option("editing.mode")===U_)&&n._resetFocusedCell(),this.callBase(e)},addRow(e){var n=this.getController("keyboardNavigation");return n.setupFocusedView(),n.setCellFocusType(),this.callBase.apply(this,arguments)},getFocusedCellInRow(e){var n=this.getController("keyboardNavigation"),t=this.callBase(e);if(n.isKeyboardEnabled()&&n._focusedCellPosition.rowIndex===e){var i=n._getFocusedCell();as(i)&&!i.hasClass("dx-command-edit")&&(t=i)}return t},_processCanceledEditingCell(){this.closeEditCell().done(()=>{this.getController("keyboardNavigation")._updateFocus()})},init(){this.callBase(),this._keyboardNavigationController=this.getController("keyboardNavigation")},closeEditCell(){var e=this._keyboardNavigationController;e._fastEditingStarted=!1;var n=this.callBase.apply(this,arguments);return e._updateFocus(),n},_delayedInputFocus(){this._keyboardNavigationController._isNeedScroll=!0,this.callBase.apply(this,arguments)},_isEditingStart(){var e=this.getController("keyboardNavigation"),n=this.callBase.apply(this,arguments);if(n&&!e._isNeedFocus){var t=e._getFocusedCell();e._focus(t,!0)}return n}},data:{_correctRowIndices(e){var n=this.getController("keyboardNavigation"),t=this.getController("editorFactory"),i=n._focusedCellPosition;if(this.callBase.apply(this,arguments),i&&i.rowIndex>=0){var r=e(i.rowIndex);r&&(i.rowIndex+=r,t.refocus())}},getMaxRowIndex(){var e=this.items().length-1,n=this.virtualItemsCount();return n&&(e+=this.getRowIndexOffset()+n.end),e}},adaptiveColumns:{_showHiddenCellsInView(e){var{viewName:n,$cells:t,isCommandColumn:i}=e;this.callBase.apply(this,arguments),n===y6&&!i&&t.each((r,o)=>{var s=x(o);D6(s)&&s.attr("tabindex",0)})},_hideVisibleCellInView(e){var{viewName:n,$cell:t,isCommandColumn:i}=e;this.callBase.apply(this,arguments),n===y6&&!i&&D6(t)&&t.removeAttr("tabindex")}}}}};function CV(e,n,t,i){var r=0;if(e<n)for(;r<t.items.length;r++)CV(e+1,n,t.items[r],i);e===n&&i(t)}function cI(e,n){var t;if("map"in e)return e.map(n);var i=new Array(e.length);for(t in e)i[t]=n(e[t],t);return i}function mCe(e){return e===sk.count}function S6(e){var n=Yt(e.selector),t=!("skipEmptyValues"in e)||e.skipEmptyValues,{aggregator:i}=e;if("string"==typeof i&&!(i=sk[i]))throw si.Error("E4001",e.aggregator);return{selector:n,aggregator:i,skipEmptyValues:t}}Ge.registerModule("keyboardNavigation",fCe);const vCe=kt.inherit({ctor(e){this._data=e.data,this._groupLevel=e.groupLevel||0,this._totalAggregates=cI(e.totalAggregates||[],S6),this._groupAggregates=cI(e.groupAggregates||[],S6),this._totals=[]},calculate(){this._totalAggregates.length&&this._calculateTotals(0,{items:this._data}),this._groupAggregates.length&&this._groupLevel>0&&this._calculateGroups({items:this._data})},totalAggregates(){return this._totals},_aggregate(e,n,t){for(var i=n.items?n.items.length:0,r=0;r<e.length;r++)if(mCe(e[r].aggregator))t[r]=(t[r]||0)+i;else for(var o=0;o<i;o++)this._accumulate(r,e[r],t,n.items[o])},_calculateTotals(e,n){if(0===e&&(this._totals=this._seed(this._totalAggregates)),e===this._groupLevel)this._aggregate(this._totalAggregates,n,this._totals);else for(var t=0;t<n.items.length;t++)this._calculateTotals(e+1,n.items[t]);0===e&&(this._totals=this._finalize(this._totalAggregates,this._totals))},_calculateGroups(e){var n=this._groupLevel,t=n+1,i=this._seed.bind(this,this._groupAggregates),r=this._aggregate.bind(this,this._groupAggregates),o=this._finalize.bind(this,this._groupAggregates);function s(l){l.aggregates=i(t-1),t===n?r(l,l.aggregates):CV(t,n,l,h=>{r(h,l.aggregates)}),l.aggregates=o(l.aggregates)}for(;--t>0;)CV(0,t,e,s)},_seed:(e,n)=>cI(e,t=>{var{aggregator:i}=t;return"seed"in i?Re(i.seed)?i.seed(n):i.seed:NaN}),_accumulate(e,n,t,i){var r=n.selector(i),{aggregator:o}=n,{skipEmptyValues:s}=n;s&&function _Ce(e){return e!=e||""===e||null==e}(r)||(t[e]=t[e]!=t[e]?r:o.step(t[e],r))},_finalize:(e,n)=>cI(e,(t,i)=>{var r=t.aggregator.finalize;return r?r(n[i]):n[i]})});var yV="groupFooter",E6="totalFooter",w6=function(e,n){var t=x(e),{column:i}=n,{summaryItems:r}=n,o=[];if(!i.command&&r){for(var s=0;s<r.length;s++){var l=r[s];o.push(x("<div>").css("textAlign",l.alignment||i.alignment).addClass("dx-datagrid-summary-item").addClass("dx-datagrid-text-content").addClass(l.cssClass).toggleClass("dx-datagrid-group-text-content","group"===n.rowType).text(Ge.getSummaryText(l,n.summaryTexts)))}t.append(o)}},I6=function(e,n){var t=e.option("summary.texts")||{};return{totalItem:n.row,summaryItems:n.row.summaryCells[n.columnIndex],summaryTexts:t}},xV=function(e){return e.summary||e.aggregates||[]},bV=function(e){return e.option("summary.recalculateWhileEditing")},ECe=xx.inherit({_getRows(){return this._dataController.footerItems()},_getCellOptions(e){return A(this.callBase(e),I6(this,e))},_renderCellContent(e,n){w6(e,n),this.callBase.apply(this,arguments)},_renderCore(e){var n=!1,t=this._dataController.footerItems()[0];(!e||!e.columnIndices)&&(this.element().empty().addClass("dx-datagrid-total-footer").toggleClass("dx-datagrid-nowrap",!this.option("wordWrapEnabled")),n=!0),t&&t.summaryCells&&t.summaryCells.length&&(this._updateContent(this._renderTable({change:e}),e),n&&this._updateScrollLeftPosition())},_updateContent(e,n){return n&&"update"===n.changeType&&n.columnIndices?this.waitAsyncTemplates().done(()=>{var t=this.getTableElement().find(".dx-row"),i=e.find(".dx-row");this._updateCells(t,i,n.columnIndices[0])}):this.callBase.apply(this,arguments)},_rowClick(e){var n=this._dataController.footerItems()[e.rowIndex]||{};this.executeAction("onRowClick",A({},e,n))},_columnOptionChanged(e){var{optionNames:n}=e;e.changeTypes.grouping||(n.width||n.visibleWidth)&&this.callBase(e)},_handleDataChanged(e){var{changeType:n}=e;"update"===e.changeType&&e.repaintChangesOnly?e.totalColumnIndices?e.totalColumnIndices.length&&this.render(null,{changeType:"update",columnIndices:[e.totalColumnIndices]}):this.render():("refresh"===n||"append"===n||"prepend"===n)&&this.render()},_createRow(e){var n=this.callBase.apply(this,arguments);return e.rowType===E6&&n.addClass("dx-footer-row"),n},getHeight(){return this.getElementHeight()},isVisible(){return!!this._dataController.footerItems().length}}),wCe={init(){this.callBase.apply(this,arguments),this._totalAggregates=[],this._summaryGetter=U},summaryGetter(e){if(!arguments.length)return this._summaryGetter;Re(e)&&(this._summaryGetter=e)},summary(e){if(!arguments.length)return this._summaryGetter();this._summaryGetter=function(){return e}},totalAggregates(){return this._totalAggregates},isLastLevelGroupItemsPagingLocal(){var e=this.summary(),n=e&&e.sortByGroups();return n&&n.length},sortLastLevelGroupItems(e,n,t){var i=Kl.multiLevelGroup(zr(e),n).toArray(),r=[];return t.forEach(o=>{!function s(l,h,g,_){_=_||[];for(var v=0;v<l.length;v++)_.push(l[v].key),1===h?g(_,l[v].items):s(l[v].items,h-1,g,_),_.pop()}(i,n.length,(s,l)=>{o.toString()===s.toString()&&(r=r.concat(l))})}),r}},ICe=function(){var e=function(t,i,r,o){var s;if(bV(t)){var l=t.getController("editing");if(l){var h=l.getInsertedData();h.length&&(r=function _(v,C,b){return b?_(v,C.map(E=>({items:[E]}),b-1)):v.concat(C)}(r,h,o));var g=l.getRemovedData();g.length&&(r=function _(v,C,b){return b?v.map(E=>{var w={},M=_(E.items||[],C,b-1);return Object.defineProperty(w,"aggregates",{get:()=>E.aggregates,set:k=>{E.aggregates=k}}),A(w,E,{items:M})}):v.filter(E=>C.indexOf(E)<0)}(r,g,o))}}return i&&(s=new vCe({totalAggregates:i.totalAggregates,groupAggregates:i.groupAggregates,data:r,groupLevel:o})).calculate(),s?s.totalAggregates():[]},n=function(t,i,r){var o=r&&r.sortByGroups&&r.sortByGroups();return o&&o.length?function s(l,h,g){if(!l||!h.length)return l;var C,v=g[0];return h[0]&&v&&v.length&&(C=zr(l),B(v,function(b){C=0===b?C.sortBy(this.selector,this.desc):C.thenBy(this.selector,this.desc)}),C.enumerate().done(b=>{l=b})),h=h.slice(1),g=g.slice(1),h.length&&g.length&&B(l,function(){this.items=s(this.items,h,g)}),l}(t,i,o):t};return{_customizeRemoteOperations(t){var i=this.summary();i&&(t.remoteOperations.summary?(!t.isCustomLoading||t.storeLoadOptions.isLoadingAll)&&(t.storeLoadOptions.group&&(t.remoteOperations.grouping?t.storeLoadOptions.groupSummary=i.groupAggregates:i.groupAggregates.length&&(t.remoteOperations.paging=!1)),t.storeLoadOptions.totalSummary=i.totalAggregates):(i.totalAggregates.length||i.groupAggregates.length&&t.storeLoadOptions.group)&&(t.remoteOperations.paging=!1)),this.callBase.apply(this,arguments);var r=t.cachedData.extra;r&&r.summary&&!t.isCustomLoading&&(t.storeLoadOptions.totalSummary=void 0)},_handleDataLoadedCore(t){var i,r,o=jl(t.storeLoadOptions.group||t.loadOptions.group||[]),s=t.remoteOperations||{},l=this.summaryGetter()(s);if(!t.isCustomLoading||t.storeLoadOptions.isLoadingAll)if(s.summary)!s.paging&&o.length&&l&&(s.grouping||e(this,{groupAggregates:l.groupAggregates},t.data,o.length),t.data=n(t.data,o,l));else if(!s.paging&&l){var h=t.operationTypes||{};if(!Object.keys(h).some(v=>h[v])||null===(r=null===(i=t.cachedData)||void 0===i?void 0:i.extra)||void 0===r||!r.summary||o.length&&l.groupAggregates.length){var _=e(this,l,t.data,o.length);t.extra=ft(t.extra)?t.extra:{},t.extra.summary=_,t.cachedData&&(t.cachedData.extra=t.extra)}t.data=n(t.data,o,l)}t.isCustomLoading||(this._totalAggregates=t.extra&&t.extra.summary||this._totalAggregates),this.callBase(t)}}}();Ox.extend(wCe),Ox.extend(ICe),Ge.registerModule("summary",{defaultOptions:()=>({summary:{groupItems:void 0,totalItems:void 0,calculateCustomSummary:void 0,skipEmptyValues:!0,recalculateWhileEditing:!1,texts:{sum:J.format("dxDataGrid-summarySum"),sumOtherColumn:J.format("dxDataGrid-summarySumOtherColumn"),min:J.format("dxDataGrid-summaryMin"),minOtherColumn:J.format("dxDataGrid-summaryMinOtherColumn"),max:J.format("dxDataGrid-summaryMax"),maxOtherColumn:J.format("dxDataGrid-summaryMaxOtherColumn"),avg:J.format("dxDataGrid-summaryAvg"),avgOtherColumn:J.format("dxDataGrid-summaryAvgOtherColumn"),count:J.format("dxDataGrid-summaryCount")}},sortByGroupSummaryInfo:void 0}),views:{footerView:ECe},extenders:{controllers:{data:{_isDataColumn:e=>e&&(!T(e.groupIndex)||e.showWhenGrouped),_isGroupFooterVisible(){for(var e=this.option("summary.groupItems")||[],n=0;n<e.length;n++){var t=e[n],i=this._columnsController.columnOption(t.showInColumn||t.column);if(t.showInGroupFooter&&this._isDataColumn(i))return!0}return!1},_processGroupItems(e,n,t){var i=t&&t.data,r=this.callBase.apply(this,arguments);return t&&(void 0===t.isGroupFooterVisible&&(t.isGroupFooterVisible=this._isGroupFooterVisible()),i&&i.items&&t.isGroupFooterVisible&&(t.collectContinuationItems||!i.isContinuationOnNextPage)&&r.push({rowType:yV,key:t.path.slice(),data:i,groupIndex:t.path.length-1,values:[]})),r},_processGroupItem(e,n){var t=this;if(n.summaryGroupItems||(n.summaryGroupItems=t.option("summary.groupItems")||[]),"group"===e.rowType){var i=-1,r=-1;B(n.visibleColumns,function(o){e.groupIndex===this.groupIndex&&(i=this.index),o>0&&"expand"===n.visibleColumns[o-1].command&&"expand"!==this.command&&(r=this.index)}),e.summaryCells=this._calculateSummaryCells(n.summaryGroupItems,xV(e.data),n.visibleColumns,(o,s)=>o.showInGroupFooter?-1:o.alignByColumn&&s&&!T(s.groupIndex)&&s.index!==r?s.index:i,!0)}return e.rowType===yV&&(e.summaryCells=this._calculateSummaryCells(n.summaryGroupItems,xV(e.data),n.visibleColumns,(o,s)=>o.showInGroupFooter&&t._isDataColumn(s)?s.index:-1)),e},_calculateSummaryCells(e,n,t,i,r){var o=this,s=[],l={};return B(e,(h,g)=>{var _=o._columnsController.columnOption(g.column),v=g.showInColumn&&o._columnsController.columnOption(g.showInColumn)||_,C=i(g,v);if(C>=0){l[C]||(l[C]=[]);var E,b=n[h];b==b&&(T(g.valueFormat)?E=g.valueFormat:"count"!==g.summaryType&&(E=Ge.getFormatByDataType(_&&_.dataType)),l[C].push(A({},g,{value:je(b)&&_&&_.deserializeValue?_.deserializeValue(b):b,valueFormat:E,columnCaption:_&&_.index!==C?_.caption:void 0})))}}),Pr(l)||t.forEach((h,g)=>{var _=t[g-1];s.push(l[!r||"expand"!==_?.command&&"expand"!==h.command?h.index:_?.index]||[])}),s},_getSummaryCells(e,n){var t=this;return t._calculateSummaryCells(e,n,t._columnsController.getVisibleColumns(),(r,o)=>t._isDataColumn(o)?o.index:-1)},_updateItemsCore(e){var n,t=this._dataSource,i=this._footerItems,r=i&&i[0]&&i[0].summaryCells,o=this.option("summary.totalItems");if(this._footerItems=[],t&&o&&o.length){var s=t.totalAggregates();n=this._getSummaryCells(o,s),e&&e.repaintChangesOnly&&r&&(e.totalColumnIndices=n.map((l,h)=>JSON.stringify(l)!==JSON.stringify(r[h])?h:-1).filter(l=>l>=0)),n.length&&this._footerItems.push({rowType:E6,summaryCells:n})}this.callBase(e)},_prepareUnsavedDataSelector(e){if(bV(this)){var n=this.getController("editing");if(n)return function(t){return t=n.getUpdatedData(t),e(t)}}return e},_prepareAggregateSelector(e,n){return e=this._prepareUnsavedDataSelector(e),"avg"===n||"sum"===n?function(t){var i=e(t);return T(i)?Number(i):i}:e},_getAggregates(e,n){var t=this,i=t.getController("columns"),r=t.option("summary.calculateCustomSummary"),o=t.option("summary.skipEmptyValues");return Fn(e||[],s=>{var l=i.columnOption(s.column),h=l&&l.calculateCellValue?l.calculateCellValue.bind(l):Yt(l?l.dataField:s.column),g=s.summaryType||"count",_=T(s.skipEmptyValues)?s.skipEmptyValues:o;if(n)return{selector:s.column,summaryType:g};var v=t._prepareAggregateSelector(h,g);if("custom"===g){r||(It.log("E1026"),r=function(){});var C={component:t.component,name:s.name};r(C),C.summaryProcess="calculate",g={seed:b=>(C.summaryProcess="start",C.totalValue=void 0,C.groupIndex=b,delete C.value,r(C),C.totalValue),step:(b,E)=>(C.summaryProcess="calculate",C.totalValue=b,C.value=E,r(C),C.totalValue),finalize:b=>(C.summaryProcess="finalize",C.totalValue=b,delete C.value,r(C),C.totalValue)}}return{selector:v,aggregator:g,skipEmptyValues:_}})},_addSortInfo(e,n,t,i){if(n){var{groupIndex:r}=n;i=i||n.sortOrder,T(r)&&(e[r]=e[r]||[],e[r].push({selector:t,desc:"desc"===i}))}},_findSummaryItem(e,n){var t=-1;return T(n)&&B(e||[],function(i){if(this.name===n||i===n||this.summaryType===n||this.column===n||function(r){var{summaryType:o}=r,{column:s}=r;return o&&s&&"".concat(o,"_").concat(s)}(this)===n)return t=i,!1}),t},_getSummarySortByGroups(e,n){var t=this,i=t._columnsController,r=i.getGroupColumns(),o=[];if(n&&n.length)return B(e||[],function(){var{sortOrder:s}=this,{groupColumn:l}=this,h=t._findSummaryItem(n,this.summaryItem);if(!(h<0)){var g=function(_){return xV(_)[h]};T(l)?(l=i.columnOption(l),t._addSortInfo(o,l,g,s)):B(r,(_,v)=>{t._addSortInfo(o,v,g,s)})}}),o},_createDataSourceAdapterCore(e,n){var t=this,i=this.callBase(e,n);return i.summaryGetter(r=>t._getSummaryOptions(r||n)),i},_getSummaryOptions(e){var n=this,t=n.option("summary.groupItems"),i=n.option("summary.totalItems"),r=n.option("sortByGroupSummaryInfo"),o=n._getAggregates(t,e&&e.grouping&&e.summary),s=n._getAggregates(i,e&&e.summary);if(o.length||s.length)return{groupAggregates:o,totalAggregates:s,sortByGroups:function(){return n._getSummarySortByGroups(r,t)}}},publicMethods(){var e=this.callBase();return e.push("getTotalSummaryValue"),e},getTotalSummaryValue(e){var n=this._findSummaryItem(this.option("summary.totalItems"),e),t=this._dataSource.totalAggregates();if(t.length&&n>-1)return t[n]},optionChanged(e){("summary"===e.name||"sortByGroupSummaryInfo"===e.name)&&(e.name="dataSource"),this.callBase(e)},init(){this._footerItems=[],this.callBase()},footerItems(){return this._footerItems}},editing:{_refreshSummary(){bV(this)&&!this.isSaving()&&this._dataController.refresh({load:!0,changesOnly:!0})},_addChange(e){var n=this.callBase.apply(this,arguments);return e.type&&this._refreshSummary(),n},_removeChange(){var e=this.callBase.apply(this,arguments);return this._refreshSummary(),e},cancelEditData(){var e=this.callBase.apply(this,arguments);return this._refreshSummary(),e}}},views:{rowsView:{_createRow(e){var n=this.callBase.apply(this,arguments);return e&&n.addClass(e.rowType===yV?"dx-datagrid-group-footer":""),n},_renderCells(e,n){this.callBase.apply(this,arguments),"group"===n.row.rowType&&n.row.summaryCells&&n.row.summaryCells.length&&this._renderGroupSummaryCells(e,n)},_hasAlignByColumnSummaryItems:(e,n)=>!T(n.columns[e].groupIndex)&&n.row.summaryCells[e].length,_getAlignByColumnCellCount(e,n){for(var t=0,i=1;i<e;i++)t=this._hasAlignByColumnSummaryItems(n.row.summaryCells.length-i,n)?i:t;return t},_renderGroupSummaryCells(e,n){var t=e.children().last(),i=Number(t.attr("colSpan"))||1,r=this._getAlignByColumnCellCount(i,n);this._renderGroupSummaryCellsCore(t,n,i,r)},_renderGroupSummaryCellsCore(e,n,t,i){if(i>0){e.attr("colSpan",t-i);for(var r=0;r<i;r++){var o=n.columns.length-i+r;this._renderCell(e.parent(),A({column:n.columns[o],columnIndex:this._getSummaryCellIndex(o,n.columns)},n))}}},_getSummaryCellIndex:e=>e,_getCellTemplate(e){return!e.column.command&&!T(e.column.groupIndex)&&e.summaryItems&&e.summaryItems.length?w6:this.callBase(e)},_getCellOptions(e){var n=this.callBase(e);return e.row.summaryCells?A(n,I6(this,e)):n}}}}});var T6="content",rb="content-fixed",M6="dx-first-cell",A6="dx-state-hover",R6="dx-col-fixed",OV="dx-pointer-events-none",Vp="transparent",P6="dx-group-row",sd=function(e){var n=-1;return B(e,(t,i)=>{if(i.command===Vp)return n=t,!1}),n},F6=function(e,n,t){var i=0;if(e&&n&&t)for(var r=0;r<e.length;r++)e[r].command===Vp?i+=e[r].colspan:(n[i]<t[r]&&(n[i]=t[r]),i++);return n},DV={init(){this.callBase(),this._isFixedTableRendering=!1,this._isFixedColumns=!1},_createCol(e){return this.callBase(e).toggleClass(R6,!(!this._isFixedTableRendering||!(e.fixed||e.command&&e.command!==Vp)))},_correctColumnIndicesForFixedColumns(e,n){var t=sd(e),i=e[t].colspan,r=n&&n.columnIndices;r&&(n.columnIndices=r.map(o=>{if(o)return o.map(s=>s<t?s:s>=t+i?s-i+1:-1).filter(s=>s>=0)}))},_partialUpdateFixedTable(e){var n=this._fixedTableElement,t=this._getRowElementsCore(n);n.children("colgroup").replaceWith(this._createColGroup(e));for(var r=0;r<t.length;r++)this._partialUpdateFixedRow(x(t[r]),e)},_partialUpdateFixedRow(e,n){var t,l,i=e.get(0).childNodes,r=sd(n),o=n[r],h=this._columnsController.getColumnIndexOffset()+1,{colspan:g}=o;if(e.hasClass("dx-master-detail-row"))i[0].setAttribute("colspan",null===(t=this._columnsController.getVisibleColumns())||void 0===t?void 0:t.length);else{e.hasClass(P6)&&(g=(l=this._getGroupCellOptions({row:e.data("options"),columns:this._columnsController.getVisibleColumns()})).colspan-Math.max(0,i.length-(l.columnIndex+2)));for(var _=0;_<i.length;_++){var v=l?_===l.columnIndex+1:_===r;i[_].setAttribute("aria-colindex",h),v?(i[_].setAttribute("colspan",g),h+=g):h++}}},_renderTable(e){var n,t=this.getFixedColumns();this._isFixedColumns=!!t.length;var i=this.callBase(e);if(this._isFixedColumns){var r=e?.change;if(this._isFixedTableRendering=!0,r?.virtualColumnsScrolling&&!0!==this.option("scrolling.legacyMode"))this._partialUpdateFixedTable(t),this._isFixedTableRendering=!1;else{var o=r?.columnIndices;this._correctColumnIndicesForFixedColumns(t,r),n=this._createTable(t),this._renderRows(n,A({},e,{columns:t})),this._updateContent(n,r,!0),o&&(r.columnIndices=o),this._isFixedTableRendering=!1}}else this._fixedTableElement&&this._fixedTableElement.parent().remove(),this._fixedTableElement=null;return i},_renderRow(e,n){var t,{cells:i}=n.row;if(this.callBase.apply(this,arguments),this._isFixedTableRendering&&i&&i.length){t=0;var r=n.row.cells||[];i=i.slice(),n.row.cells=i;for(var o=0;o<r.length;o++)r[o].column&&r[o].column.command===Vp?t=(r[o].column.colspan||1)-1:i[o+t]=r[o]}},_createCell(e){var o,s,l,{column:n}=e,t=n&&n.command,{rowType:i}=e,r=this.callBase.apply(this,arguments);(this._isFixedTableRendering||"filter"===i)&&(s=(o=this.getFixedColumns())[(l=sd(o))-1]),this._isFixedTableRendering?t===Vp&&(r.addClass(OV).toggleClass(M6,0===l||s&&"expand"===s.command).toggleClass("dx-last-cell",o.length&&l===o.length-1),"freeSpace"!==i&&xe.setEmptyText(r)):"filter"===i&&r.toggleClass(M6,e.columnIndex===l);var h=this.option("rowAlternationEnabled")&&e.isAltRow,g="multiple"===this.option("selection.mode")&&0===e.columnIndex&&"header"===e.rowType;return Gt.mozilla&&e.column.fixed&&"group"!==e.rowType&&!h&&!g&&r.addClass(R6),r},_getContent(e){var n;return e?null===(n=this._fixedTableElement)||void 0===n?void 0:n.parent():this.callBase.apply(this,arguments)},_wrapTableInScrollContainer(e,n){var t=this.callBase.apply(this,arguments);return(this._isFixedTableRendering||n)&&t.addClass(this.addWidgetPrefix(rb)),t},_renderCellContent(e,n){var t,{column:i}=n,r=this._isFixedTableRendering,o="group"===n.rowType&&T(i.groupIndex);if(r&&o&&!i.command&&!i.groupCellTemplate&&e.css("pointerEvents","none"),!r&&this._isFixedColumns){if(t=i.fixed||i.command&&!1!==i.fixed,o&&(t=!1,n.row.summaryCells&&n.row.summaryCells.length)){var s=this._columnsController.getVisibleColumns(),l=this._getAlignByColumnCellCount?this._getAlignByColumnCellCount(i.colspan,{columns:s,row:n.row,isFixed:!0}):0;if(l>0){var h=sd(this._columnsController.getFixedColumns());t=s.length-l<h}}if(t){if(i.command&&"buttons"!==i.type||"group"===n.rowType)return void e.html("&nbsp;").addClass(i.cssClass);e.addClass("dx-hidden-cell")}}i.command!==Vp&&this.callBase.apply(this,arguments)},_getCellElementsCore(e){var n=this.callBase.apply(this,arguments),t=n?.parent().hasClass(P6),i="columnHeadersView"===this.name?e:void 0;if(this._fixedTableElement&&n){var r=this.getFixedColumns(i),o=this._getRowElements(this._fixedTableElement).eq(e).children("td");B(o,(s,l)=>{if(t)n[s]&&"hidden"!==l.style.visibility&&(n[s]=l);else{var h=r[s];if(h)if(h.command===Vp)o.eq(s).hasClass("dx-master-detail-cell")&&(n[s]=l||n[s]);else{var g=this._columnsController.getVisibleIndexByColumn(h,i);n[g]=l||n[g]}}})}return n},getColumnWidths(){var e=this.callBase(),n=this.getFixedColumns(),t=this._fixedTableElement&&e.length?this.callBase(this._fixedTableElement):void 0;return F6(n,e,t)},getTableElement(e){return(e=this._isFixedTableRendering||e)?this._fixedTableElement:this.callBase()},setTableElement(e,n){this._isFixedTableRendering||n?this._fixedTableElement=e.addClass(OV):this.callBase(e)},getColumns(e,n){return n=n||this.getTableElement(),this._isFixedTableRendering||n&&n.closest("table").parent(".".concat(this.addWidgetPrefix(rb))).length?this.getFixedColumns(e):this.callBase(e,n)},getRowIndex(e){var n=this._fixedTableElement;return n&&n.find(e).length?this._getRowElements(n).index(e):this.callBase(e)},getTableElements(){var e=this.callBase.apply(this,arguments);return this._fixedTableElement&&(e=x([e.get(0),this._fixedTableElement.get(0)])),e},getFixedColumns(e){return this._columnsController.getFixedColumns(e)},getFixedColumnsOffset(){var n,e={left:0,right:0};if(this._fixedTableElement){var t=(n=this.getTransparentColumnElement()).position();e={left:t.left,right:wt(this.element(),!0)-(wt(n,!0)+t.left)}}return e},getTransparentColumnElement(){return this._fixedTableElement&&this._fixedTableElement.find(".".concat(OV)).first()},getFixedTableElement(){return this._fixedTableElement},isFixedColumns(){return this._isFixedColumns},_resizeCore(){this.callBase(),this.synchronizeRows()},setColumnWidths(e){var n,t=this._columnsController.getVisibleColumns(),{widths:i}=e,r=i&&i.length&&T(t[0].visibleWidth),{optionNames:o}=e,s=o&&o.width;this.callBase.apply(this,arguments),this._fixedTableElement&&(i&&i.some(g=>"auto"===g)&&(!r||!this.isScrollbarVisible(!0))&&(n=t),this.callBase(A({},e,{$tableElement:this._fixedTableElement,columns:n,fixed:!0}))),(r||s&&this.option("wordWrapEnabled"))&&this.synchronizeRows()},_createColGroup(e){if(this._isFixedTableRendering&&!this.option("columnAutoWidth")){var n=this._columnsController.getVisibleColumns();n.filter(i=>!i.width).length&&(e=n)}return this.callBase(e)},_getClientHeight(e){var n=e.getBoundingClientRect&&Zn(e);return n&&n.height?n.height:e.clientHeight},synchronizeRows(){var t,i,r,o,e=[],n=[];this.waitAsyncTemplates(!0).done(()=>{if(this._isFixedColumns&&this._tableElement&&this._fixedTableElement){var s=this._getClientHeight(this._tableElement.get(0)),l=this._getClientHeight(this._fixedTableElement.get(0));if(i=this._getRowElements(this._tableElement),r=this._getRowElements(this._fixedTableElement),o=this._findContentElement(),s!==l){for(o&&o.css("height",s),i.css("height",""),r.css("height",""),t=0;t<i.length;t++)e.push(this._getClientHeight(i.get(t))),n.push(this._getClientHeight(r.get(t)));for(t=0;t<i.length;t++){var h=e[t],g=n[t];h>g?r.eq(t).css("height",h):h<g&&i.eq(t).css("height",g)}o&&o.css("height","")}}})},setScrollerSpacing(e){var n=this.option("rtlEnabled");this.callBase(e),this.element().children(".".concat(this.addWidgetPrefix(rb))).css({paddingLeft:n?e:"",paddingRight:n?"":e})}},PCe=A({},DV,{_getRowVisibleColumns(e){return this._isFixedTableRendering?this.getFixedColumns(e):this.callBase(e)},getContextMenuItems(e){var{column:n}=e,t=this.option("columnFixing"),i=this.callBase(e);if(e.row&&"header"===e.row.rowType&&!0===t.enabled&&n&&n.allowFixing){var r=o=>{switch(o.itemData.value){case"none":this._columnsController.columnOption(n.index,"fixed",!1);break;case"left":this._columnsController.columnOption(n.index,{fixed:!0,fixedPosition:"left"});break;case"right":this._columnsController.columnOption(n.index,{fixed:!0,fixedPosition:"right"})}};(i=i||[]).push({text:t.texts.fix,beginGroup:!0,items:[{text:t.texts.leftPosition,value:"left",disabled:n.fixed&&(!n.fixedPosition||"left"===n.fixedPosition),onItemClick:r},{text:t.texts.rightPosition,value:"right",disabled:n.fixed&&"right"===n.fixedPosition,onItemClick:r}]},{text:t.texts.unfix,value:"none",disabled:!n.fixed,onItemClick:r})}return i},getFixedColumnElements(e){if(T(e))return this._fixedTableElement&&this._getRowElements(this._fixedTableElement).eq(e).children();var n=this.getColumnElements(),t=this.getTransparentColumnElement();if(n&&t&&t.length){var i=sd(this.getFixedColumns());n.splice(i,t.get(0).colSpan,t.get(0))}return n},getColumnWidths(){var e,n=this.callBase(),t=this.getFixedColumnElements(),i=this.getFixedColumns();return this._fixedTableElement&&(e=t&&t.length?this._getWidths(t):this.callBase(this._fixedTableElement)),F6(i,n,e)}}),FCe=A({},DV,{_detachHoverEvents(){this._fixedTableElement&&R.off(this._fixedTableElement,"mouseover mouseout",".dx-data-row"),this._tableElement&&R.off(this._tableElement,"mouseover mouseout",".dx-data-row")},_attachHoverEvents(){var e=this,n=function(t){R.on(t,"mouseover mouseout",".dx-data-row",e.createAction(i=>{var{event:r}=i,o=e.getRowIndex(x(r.target).closest(".dx-row")),s="mouseover"===r.type;o>=0&&(e._tableElement&&e._getRowElements(e._tableElement).eq(o).toggleClass(A6,s),e._fixedTableElement&&e._getRowElements(e._fixedTableElement).eq(o).toggleClass(A6,s))}))};e._fixedTableElement&&e._tableElement&&(n(e._fixedTableElement),n(e._tableElement))},_getScrollDelay(){var e;return(null===(e=this.getController("resizing"))||void 0===e?void 0:e.hasResizeTimeout())?this.option("scrolling.updateTimeout"):Gt.mozilla?60:0},_findContentElement(e){var n,t,i=this.addWidgetPrefix(T6),r=this.element();if(e=this._isFixedTableRendering||e,r&&e){n=r.children(".".concat(i));var o=this.getScrollable();return!n.length&&o&&(n=x("<div>").addClass(i),R.on(n,"scroll",s=>{var{target:l}=s,h=this._getScrollDelay();clearTimeout(this._fixedScrollTimeout),this._fixedScrollTimeout=setTimeout(()=>{t=x(l).scrollTop(),o.scrollTo({y:t})},h)}),R.on(n,My,s=>{var l=x(s.target).closest(".dx-scrollable"),h=!1;if(o&&o.$element().is(l))h=!0;else{var g=l.length&&Fa.getInstance(l.get(0)),_=g&&g.scrollHeight()-g.clientHeight()>0;h=g&&!_}if(h){t=o.scrollTop(),o.scrollTo({y:t-s.delta});var v=o.scrollTop()+o.clientHeight(),C=o.scrollHeight()+this.getScrollbarWidth();if(o.scrollTop()>0&&v<C)return!1}}),n.appendTo(r)),n}return this.callBase()},_updateScrollable(){this.callBase();var e=this.getScrollable();if(!e?._disposed){var n=e&&e.scrollOffset().top;this._updateFixedTablePosition(n)}},_renderContent(e,n,t){return this._isFixedTableRendering||t?e.empty().addClass("".concat(this.addWidgetPrefix(T6)," ").concat(this.addWidgetPrefix(rb))).append(n):this.callBase(e,n)},_getGroupCellOptions(e){return this.callBase(this._isFixedTableRendering?A({},e,{columns:this._columnsController.getVisibleColumns()}):e)},_renderGroupedCells(e,n){return this.callBase(e,A({},n,{columns:this._columnsController.getVisibleColumns()}))},_renderGroupSummaryCells(e,n){this.callBase(e,this._isFixedTableRendering?A({},n,{columns:this._columnsController.getVisibleColumns()}):n)},_hasAlignByColumnSummaryItems(e,n){var t=this.callBase.apply(this,arguments),i=n.columns[e];return n.isFixed?i.fixed&&(t||"right"===i.fixedPosition):t&&(!this._isFixedColumns||!i.fixed)},_renderGroupSummaryCellsCore(e,n,t,i){var r;if(this._isFixedTableRendering){n.isFixed=!0,r=this._getAlignByColumnCellCount(t,n),n.isFixed=!1;var o=n.columns.length-r;n=A({},n,{columns:this.getFixedColumns()});var s=sd(n.columns);o<s?(r-=n.columns[s].colspan-1||0,t-=n.columns[s].colspan-1||0):i>0&&e.css("visibility","hidden"),i=r}this.callBase(e,n,t,i)},_getSummaryCellIndex(e,n){if(this._isFixedTableRendering){var t=sd(n);return e>t&&(e+=n[t].colspan-1),e}return this.callBase.apply(this,arguments)},_renderCore(e){this._detachHoverEvents();var n=this.callBase(e),t=this._isFixedColumns;return this.element().toggleClass("dx-fixed-columns",t),this.option("hoverStateEnabled")&&t&&n.done(()=>{this._attachHoverEvents()}),n},setRowsOpacity(e,n){this.callBase(e,n);var t=this._getRowElements(this._fixedTableElement);this._setRowsOpacityCore(t,this.getFixedColumns(),e,n)},optionChanged(e){this.callBase(e),"hoverStateEnabled"===e.name&&this._isFixedColumns&&(e.value?this._attachHoverEvents():this._detachHoverEvents())},getCellIndex(e){var n=this._fixedTableElement,t=0;if(n&&e.is("td")&&e.closest(n).length){var i=this.getFixedColumns();return B(i,(r,o)=>{if(r===e[0].cellIndex)return!1;o.colspan?t+=o.colspan:t++}),t}return this.callBase.apply(this,arguments)},_updateFixedTablePosition(e,n){if(this._fixedTableElement&&this._tableElement){var t,i=this.getController("editorFactory");this._fixedTableElement.parent().scrollTop(e),n&&i&&(t=i.focus())&&i.focus(t)}},setScrollerSpacing(e,n){var t={marginBottom:0},i=this.element().children(".".concat(this.addWidgetPrefix(rb)));i.length&&this._fixedTableElement&&(i.css(t),this._fixedTableElement.css(t),t[this.option("rtlEnabled")?"marginLeft":"marginRight"]=e,t.marginBottom=n,(this._scrollable&&this._scrollable.option("useNative")?i:this._fixedTableElement).css(t))},_getElasticScrollTop(e){var n=0;if(e.scrollOffset.top<0)n=-e.scrollOffset.top;else if(e.reachedBottom){var t=x(e.component.content()),i=x(e.component.container()),r=Math.max(t.get(0).clientHeight-i.get(0).clientHeight,0);n=Math.min(r-e.scrollOffset.top,0)}return Math.floor(n)},_applyElasticScrolling(e){if(this._fixedTableElement){var n=this._getElasticScrollTop(e);0!==Math.ceil(n)?Mi(this._fixedTableElement,{top:n}):this._fixedTableElement.css("transform","")}},_handleScroll(e){this._updateFixedTablePosition(e.scrollOffset.top,!0),this._applyElasticScrolling(e),this.callBase(e)},_updateContentPosition(e){this.callBase.apply(this,arguments),e||this._updateFixedTablePosition(this._scrollTop)},_afterRowPrepared(e){this._isFixedTableRendering||this.callBase(e)},_scrollToElement(e){this.callBase(e,this.getFixedColumnsOffset())},dispose(){this.callBase.apply(this,arguments),clearTimeout(this._fixedScrollTimeout)}}),BCe={defaultOptions:()=>({columnFixing:{enabled:!1,texts:{fix:J.format("dxDataGrid-columnFixingFix"),unfix:J.format("dxDataGrid-columnFixingUnfix"),leftPosition:J.format("dxDataGrid-columnFixingLeftPosition"),rightPosition:J.format("dxDataGrid-columnFixingRightPosition")}}}),extenders:{views:{columnHeadersView:PCe,rowsView:FCe,footerView:DV},controllers:{draggingHeader:{_generatePointsByColumns(e){var r,o,s,l,h,n=e.columns,{targetDraggingPanel:t}=e;if(t&&"headers"===t.getName()&&t.isFixedColumns()&&e.sourceColumn.fixed){e.rowIndex||(e.columnElements=t.getFixedColumnElements(0)),e.columns=t.getFixedColumns(e.rowIndex);var i=this.callBase(e);return r=n,s=i,l=sd(o=e.columns),h=r.length-o.length,B(s,(g,_)=>{_.index>l&&(_.columnIndex+=h,_.index+=h)}),i}return this.callBase(e)},_pointCreated(e,n,t,i){var r=this.callBase.apply(this,arguments),o=n[e.columnIndex],s=this._columnHeadersView.getTransparentColumnElement();if(!r&&"headers"===t&&s&&s.length){var l=Zn(s.get(0));return i&&i.fixed?"right"===i.fixedPosition?e.x<l.right:e.x>l.left:!(!o||!o.fixed||"right"===o.fixedPosition)||e.x<l.left||e.x>l.right}return r}},columnsResizer:{_generatePointsByColumns(){var e=this,n=e._columnsController,t=n&&e._columnsController.getVisibleColumns(),i=n&&e._columnsController.getFixedColumns(),r=sd(i),o=t.length-i.length,s=e._columnHeadersView.getFixedColumnElements();e.callBase(),s&&s.length>0&&(e._pointsByFixedColumns=xe.getPointsByColumns(s,l=>(l.index>r&&(l.columnIndex+=o,l.index+=o),e._pointCreated(l,t.length,t))))},_getTargetPoint(e,n,t){var i=this._columnHeadersView.getTransparentColumnElement();if(i&&i.length){var r=Zn(i.get(0));if(n<=r.left||n>=r.right)return this.callBase(this._pointsByFixedColumns,n,t)}return this.callBase(e,n,t)}}}}};Ge.registerModule("columnFixing",BCe);var k6="columnHeadersView",B6="rowsView",SV=[k6,B6,"footerView"],ad="adaptiveHidden",Np="detailAdaptive",EV="dx-field-item-content",ob="hidden-column",L6="dx-command-adaptive",hI="dx-command-adaptive-hidden",wV="dx-adaptive-item-text",pI="adaptive",V6="dx-group-cell",N6="dxDataGrid-ariaAdaptiveExpand";function gI(e,n){return e._columnsController.getColumnId(n)}function ZCe(e,n){var t,i=x(e),r=n.component.getController("adaptiveColumns");"data"===n.rowType?(t=x("<span>").addClass(r.addWidgetPrefix("adaptive-more")),R.on(t,fe(Kt,"dxDataGridAdaptivity"),r.createAction(()=>{r.toggleExpandAdaptiveDetailRow(n.key)})),t.appendTo(i)):xe.setEmptyText(i)}function TV(e){var n,t=null===(n=e.data)||void 0===n?void 0:n.$nextCell;R.off(t,"focus",TV),R.trigger(t,"dxclick")}var QCe={_isRowEditMode(){return"row"===this._getEditMode()},_isItemModified(e,n){var t=this._columnsController.getVisibleIndex(e.column.index),i=this._dataController.getRowIndexByKey(n.key),r=this._dataController.items()[i+1];return r&&r.modifiedValues&&T(r.modifiedValues[t])},_renderFormViewTemplate(e,n,t){var i=this,{column:r}=e,o=i.createAction(()=>{i._editingController.isEditing()&&R.trigger(t,Kt)}),s=n.row.data,l=r.calculateCellValue(s),h=xe.getDisplayValue(r,l,s,n.rowType),g=xe.formatValue(h,r),_=this._editingController.isCellOrBatchEditMode(),v=i._rowsView;if(r.allowEditing&&i.getController("keyboardNavigation").isKeyboardEnabled()&&(t.attr("tabIndex",i.option("tabIndex")),_&&(R.off(t,"focus",o),R.on(t,"focus",o))),r.cellTemplate){var C=A({},n,{value:l,displayValue:h,text:g,column:r});v.renderTemplate(t,r.cellTemplate,C,xy(t)).done(()=>{v._cellPrepared(t,n)})}else{var b=t.get(0);r.encodeHtml?b.textContent=g:b.innerHTML=g,t.addClass(wV),(!T(g)||""===g)&&t.html("&nbsp;"),i._isRowEditMode()||i._isItemModified(e,n)&&t.addClass("dx-item-modified"),v._cellPrepared(t,n)}},_getTemplate(e,n){var t=this,{column:i}=e,r=this.getController("editing");return function(o,s){var l=x(s),h=t._columnsController.getVisibleIndex(i.index),g=A({},n),_=function(){var v=t._isItemEdited(e);g.value=n.row.values[h],v||i.showEditorAlways?r.renderFormEditorTemplate(g,e,o,l,!v):(g.column=i,g.columnIndex=h,t._renderFormViewTemplate(e,g,l))};_(),g.watch&&g.watch(()=>({isItemEdited:t._isItemEdited(e),value:n.row.values[h]}),()=>{l.contents().remove(),l.removeClass(wV),_()})}},_isVisibleColumnsValid:e=>!(e<2||e.length-function(){for(var n=0,t=0;t<e.length;t++)e[t].command&&n++;return n}()<=1),_calculatePercentWidths(e,n){var t=this,i=0;return n.forEach((r,o)=>{e[o]!==ad&&(i+=t._getItemPercentWidth(r))}),i},_isPercentWidth:e=>je(e)&&e.endsWith("%"),_isColumnHidden(e){return this._hiddenColumns.filter(n=>n.index===e.index).length>0},_getAverageColumnsWidth(e,n,t){var i=this,r=0,o=0;return n.forEach(s=>{if(!i._isColumnHidden(s)){var{width:l}=s;T(l)&&!isNaN(parseFloat(l))?r+=i._isPercentWidth(l)?i._calculatePercentWidth({visibleIndex:s.visibleIndex,columnsCount:n.length,columnsCanFit:t,bestFitWidth:s.bestFitWidth,columnWidth:l,containerWidth:e}):parseFloat(l):o++}}),(e-r)/o},_calculateColumnWidth(e,n,t,i){var h,r=gI(this,e),o=this._columnsController.columnOption(r,"width"),s=this._columnsController.columnOption(r,"bestFitWidth"),l=t.length;if(o&&"auto"!==o){if(!this._isPercentWidth(o))return parseFloat(o);h=this._calculatePercentWidth({visibleIndex:e.visibleIndex,columnsCount:l,columnsCanFit:i,bestFitWidth:s,columnWidth:o,containerWidth:n})}else h=this.option("columnAutoWidth")||e.command?s:this._getAverageColumnsWidth(n,t,i);return h},_calculatePercentWidth(e){var n=e.visibleIndex<e.columnsCount-1&&e.columnsCanFit,t=e.containerWidth*parseFloat(e.columnWidth)/100,i=e.columnsCanFit&&t<e.bestFitWidth?e.bestFitWidth:t;return n?e.containerWidth*parseFloat(e.columnWidth)/100:i},_getNotTruncatedColumnWidth(e,n,t,i){var r=gI(this,e),o=this._columnsController.columnOption(r,"width"),s=this._columnsController.columnOption(r,"bestFitWidth");if(o&&"auto"!==o&&!this._isPercentWidth(o))return parseFloat(o);var l=this._calculateColumnWidth(e,n,t,i);return l<s?null:l},_getItemPercentWidth(e){var n=0;return e.width&&this._isPercentWidth(e.width)&&(n=parseFloat(e.width)),n},_getCommandColumnsWidth(){var e=this,n=e._columnsController.getVisibleColumns(),t=0;return B(n,(i,r)=>{(r.index<0||r.command)&&(t+=e._columnsController.columnOption(gI(e,r),"bestFitWidth")||0)}),t},_isItemEdited(e){if(this.isFormOrPopupEditMode())return!1;if(!this._isRowEditMode()){var t=this._dataController.getRowIndexByKey(this._dataController.adaptiveExpandedKey())+1,i=this._columnsController.getVisibleIndex(e.column.index);return this._editingController.isEditCell(t,i)}var n=this.option("editing.editRowKey");return!!Jt(n,this._dataController.adaptiveExpandedKey())||void 0},_getFormItemsByHiddenColumns(e){var n=[];return B(e,(t,i)=>{n.push({column:i,name:i.name,dataField:i.dataField,visibleIndex:i.visibleIndex})}),n},_getAdaptiveColumnVisibleIndex(e){for(var n=0;n<e.length;n++)if(e[n].command===pI)return n},_hideAdaptiveColumn(e,n){var t=this._getAdaptiveColumnVisibleIndex(n);T(t)&&(e[t]=ad,this._hideVisibleColumn({isCommandColumn:!0,visibleIndex:t}))},_showHiddenCellsInView(e){var{$cells:n,isCommandColumn:t}=e,i=this.addWidgetPrefix(ob);t?(i=hI,n.attr({tabIndex:0,"aria-hidden":null}).removeClass(i)):n.removeClass(i)},_showHiddenColumns(){for(var e=0;e<SV.length;e++){var n=this.getView(SV[e]);if(n&&n.isVisible()&&n.element()){var t=n.name,i=n.element().find(".".concat(hI));this._showHiddenCellsInView({viewName:t,$cells:i,isCommandColumn:!0});var r=n.element().find(".".concat(this.addWidgetPrefix(ob)));this._showHiddenCellsInView({viewName:t,$cells:r})}}},_isCellValid:e=>e&&e.length&&!e.hasClass("dx-master-detail-cell")&&!e.hasClass(V6),_hideVisibleColumn(e){var{isCommandColumn:n,visibleIndex:t}=e,i=this;SV.forEach(r=>{var o=i.getView(r);o&&i._hideVisibleColumnInView({view:o,isCommandColumn:n,visibleIndex:t})})},_hideVisibleColumnInView(e){var o,{view:n,isCommandColumn:t,visibleIndex:i}=e,r=n.name,s=this._columnsController.getVisibleColumns()[i],l=this._editingController&&this._editingController.getEditFormRowIndex();if(n&&n.isVisible()&&s)for(var h=n.getRowsCount(),g=n._getRowElements(),_=0;_<h;_++)if(_!==l||r!==B6||"popup"===this.option("editing.mode")){var C=r===k6?this._columnsController.getVisibleIndex(s.index,_):i;if(C>=0){var b=g.eq(_);o=this._findCellElementInRow(b,C),this._isCellValid(o)&&this._hideVisibleCellInView({viewName:r,isCommandColumn:t,$cell:o})}}},_findCellElementInRow(e,n){var t=e.children(),i=n,r=!1;if(e.hasClass("dx-group-row")){var o=e.find(".".concat(V6)),s=o.attr("colspan");if(o.length&&T(s)){var l=parseInt(s);n>o.index()+l-1?i=n-l+1:r=!0}}return r?void 0:t.eq(i)},_hideVisibleCellInView(e){var{$cell:n,isCommandColumn:t}=e,i=t?hI:this.addWidgetPrefix(ob);n.attr({tabIndex:-1,"aria-hidden":!0}).addClass(i)},_getEditMode(){return this._editingController.getEditMode()},isFormOrPopupEditMode(){var e=this._getEditMode();return"form"===e||"popup"===e},hideRedundantColumns(e,n,t){if(this._hiddenColumns=[],this._isVisibleColumnsValid(n)&&t.length){var g,_,v,i=0,r=this.component.$element(),o=Ze(r)-this._getCommandColumnsWidth(),s=function(){return n.filter(Te=>!Te.command&&0===this._hiddenColumns.filter(He=>He.index===Te.index).length)}.bind(this),l=s(),h=l.length;do{v=!1,i=0;var C=this._calculatePercentWidths(e,n),b=C<100&&0!==C;for(g=0;g<n.length;g++){var E=n[g],w=this._getNotTruncatedColumnWidth(E,o,l,b),M=gI(this,E),k=this._columnsController.columnOption(M,"width"),L=this._columnsController.columnOption(M,"minWidth"),G=this._columnsController.columnOption(M,"bestFitWidth");if(e[g]!==ad){if(!w&&!E.command&&!E.fixed){v=!0;break}(!k||"auto"===k)&&(w=Math.max(G||0,L||0)),(E.command!==pI||_)&&(i+=w)}else _=!0}if(v=v||i>Ze(r)){var Q=t.pop(),le=this._columnsController.getVisibleIndex(Q.index);o+=this._calculateColumnWidth(Q,o,l,b),this._hideVisibleColumn({visibleIndex:le}),e[le]=ad,this._hiddenColumns.push(Q),l=s()}}while(v&&l.length>1&&t.length);h===l.length&&this._hideAdaptiveColumn(e,n)}else this._hideAdaptiveColumn(e,n)},getAdaptiveDetailItems(){return this._$itemContents},getItemContentByColumnIndex(e){for(var n,t=0;t<this._$itemContents.length;t++){var i=(n=this._$itemContents.eq(t)).data("dx-form-item");if(i&&i.column&&this._columnsController.getVisibleIndex(i.column.index)===e)return n}},toggleExpandAdaptiveDetailRow(e,n){this.isFormOrPopupEditMode()&&this._editingController.isEditing()||this.getController("data").toggleExpandAdaptiveDetailRow(e,n)},createFormByHiddenColumns(e,n){var t=this,i=x(e),r={items:t._getFormItemsByHiddenColumns(t._hiddenColumns),formID:"dx-".concat(new En)},o=Wn()?{colCount:2}:{};this.executeAction("onAdaptiveDetailRowPreparing",{formOptions:r}),t._$itemContents=null,t._form=t._createComponent(x("<div>").appendTo(i),h4,A(o,r,{customizeItem(s){var l=s.column||t._columnsController.columnOption(s.name||s.dataField);l&&(s.label=s.label||{},s.label.text=s.label.text||l.caption,s.column=l,s.template=t._getTemplate(s,n,t.updateForm.bind(t))),r.customizeItem&&r.customizeItem.call(this,s)},onContentReady(s){r.onContentReady&&r.onContentReady.call(this,s),t._$itemContents=i.find(".".concat(EV))}}))},hasAdaptiveDetailRowExpanded(){return T(this._dataController.adaptiveExpandedKey())},updateForm(e){this.hasAdaptiveDetailRowExpanded()&&this._form&&T(this._form._contentReadyAction)&&(e&&e.length?this._form.option("items",this._getFormItemsByHiddenColumns(e)):this._form.repaint())},updateHidingQueue(e){var t,i,n=e.filter(o=>o.visible&&!o.type&&!o.fixed&&!(T(o.groupIndex)&&o.groupIndex>=0));if(this._hidingColumnsQueue=[],this.option("allowColumnResizing")&&"widget"===this.option("columnResizingMode"))return this._hidingColumnsQueue;for(i=0;i<n.length;i++)T(n[i].hidingPriority)&&n[i].hidingPriority>=0&&(t=!0,this._hidingColumnsQueue[n[i].hidingPriority]=n[i]);if(t)this._hidingColumnsQueue.reverse();else if(this.option("columnHidingEnabled"))for(i=0;i<n.length;i++){var r=this._columnsController.getVisibleIndex(n[i].index);this._hidingColumnsQueue[r]=n[i]}return this._hidingColumnsQueue=this._hidingColumnsQueue.filter(Object),this._hidingColumnsQueue},getHiddenColumns(){return this._hiddenColumns},hasHiddenColumns(){return this._hiddenColumns.length>0},getHidingColumnsQueue(){return this._hidingColumnsQueue},init(){var e=this;e._columnsController=e.getController("columns"),e._dataController=e.getController("data"),e._rowsView=e.getView("rowsView"),e._columnsController.addCommandColumn({type:pI,command:pI,visible:!0,adaptiveHidden:!0,cssClass:L6,alignment:"center",width:"auto",cellTemplate:ZCe,fixedPosition:"right"}),e._columnsController.columnsChanged.add(()=>{var n=!!e.updateHidingQueue(e._columnsController.getColumns()).length;e._columnsController.columnOption("command:adaptive","adaptiveHidden",!n,!0)}),e._editingController=e.getController("editing"),e._hidingColumnsQueue=[],e._hiddenColumns=[],e.createAction("onAdaptiveDetailRowPreparing"),e.callBase()},optionChanged(e){"columnHidingEnabled"===e.name&&this._columnsController.columnOption("command:adaptive","adaptiveHidden",!e.value),this.callBase(e)},publicMethods:()=>["isAdaptiveDetailRowExpanded","expandAdaptiveDetailRow","collapseAdaptiveDetailRow"],isAdaptiveDetailRowExpanded(e){var n=this._dataController;return n.adaptiveExpandedKey()&&Jt(n.adaptiveExpandedKey(),e)},expandAdaptiveDetailRow(e){this.hasAdaptiveDetailRowExpanded()||this.toggleExpandAdaptiveDetailRow(e)},collapseAdaptiveDetailRow(){this.hasAdaptiveDetailRowExpanded()&&this.toggleExpandAdaptiveDetailRow()},updateCommandAdaptiveAriaLabel(e,n){var t=this._dataController.getRowIndexByKey(e);if(-1!==t){var i=x(this.component.getRowElement(t));this.setCommandAdaptiveAriaLabel(i,n)}},setCommandAdaptiveAriaLabel(e,n){e.find(".dx-command-adaptive").attr("aria-label",J.format(n))}},nye={defaultOptions:()=>({columnHidingEnabled:!1,onAdaptiveDetailRowPreparing:null}),controllers:{adaptiveColumns:dn.ViewController.inherit(QCe)},extenders:{views:{rowsView:{_getCellTemplate(e){var n=this,{column:t}=e;return e.rowType===Np&&"detail"===t.command?function(i,r){n._adaptiveColumnsController.createFormByHiddenColumns(x(i),r)}:n.callBase(e)},_createRow(e){var n=this.callBase.apply(this,arguments);return e&&e.rowType===Np&&e.key===this._dataController.adaptiveExpandedKey()&&n.addClass("dx-adaptive-detail-row"),n},_renderCells(e,n){this.callBase(e,n);var t=this._adaptiveColumnsController,i=t.getHidingColumnsQueue().length,r=t.getHiddenColumns().length;i&&!r&&function XCe(e){return e.find("td:not(.dx-datagrid-hidden-column):not([class*='dx-command-'])")}(e).last().addClass("dx-last-data-cell"),"data"===n.row.rowType&&t.setCommandAdaptiveAriaLabel(e,N6)},_getColumnIndexByElementCore(e){var n=e.closest(".".concat(EV));if(n.length&&n.closest(this.component.$element()).length){var t=n.length?n.first().data("dx-form-item"):null;return t&&t.column&&this._columnsController.getVisibleIndex(t.column.index)}return this.callBase(e)},_cellPrepared(e,n){this.callBase.apply(this,arguments),n.row.rowType!==Np&&n.column.visibleWidth===ad&&e.addClass(this.addWidgetPrefix(ob))},getCell(e,n){var t=this._dataController.items()[e?.rowIndex];if(t?.rowType===Np){var i=this._adaptiveColumnsController.getAdaptiveDetailItems();return this.callBase(e,n,i)}return this.callBase.apply(this,arguments)},_getCellElement(e,n){var t=this._dataController.items()[e];return t&&t.rowType===Np?this._adaptiveColumnsController.getItemContentByColumnIndex(n):this.callBase.apply(this,arguments)},getContextMenuItems(e){if(e.row&&"detailAdaptive"===e.row.rowType){var n=this.component.getView("columnHeadersView"),t=x(e.targetElement).closest(".dx-field-item-label").next().data("dx-form-item");return e.column=t?t.column:e.column,n.getContextMenuItems&&n.getContextMenuItems(e)}return this.callBase&&this.callBase(e)},isClickableElement(e){return!!this.callBase&&this.callBase(e)||!!e.closest(".".concat(L6)).length},init(){this.callBase(),this._adaptiveColumnsController=this.getController("adaptiveColumns")}}},controllers:{export:{_updateColumnWidth(e,n){this.callBase(e,e.visibleWidth===ad?e.bestFitWidth:n)}},columnsResizer:{_pointCreated(e,n,t){var i=this.callBase(e,n,t),r=t[e.columnIndex]||{},o=this._getNextColumnIndex(e.columnIndex);return i||r.visibleWidth===ad||o!==e.columnIndex+1&&(t[o]||{}).command},_getNextColumnIndex(e){for(var n=this._columnsController.getVisibleColumns(),t=this.callBase(e);n[t]&&n[t].visibleWidth===ad;)t++;return t}},draggingHeader:{_pointCreated(e,n,t,i){return this.callBase(e,n,t,i)||(n[e.columnIndex-1]||{}).visibleWidth===ad}},editing:{_isRowEditMode(){return"row"===this.getEditMode()},_getFormEditItemTemplate(e,n){return"row"!==this.getEditMode()&&"detailAdaptive"===e.rowType?(e.columnIndex=this._columnsController.getVisibleIndex(n.index),this.getColumnTemplate(e)):this.callBase(e,n)},_closeEditItem(e){var n=e.closest(".".concat(EV)),t=this._dataController.getRowIndexByKey(this._dataController.adaptiveExpandedKey())+1,i=n.length?n.first().data("dx-form-item"):null,r=i&&i.column&&this._columnsController.getVisibleIndex(i.column.index);this.isEditCell(t,r)||this.callBase(e)},_beforeUpdateItems(e,n){if(!this._adaptiveController.isFormOrPopupEditMode()&&this._adaptiveController.hasHiddenColumns()){var t=this._dataController.items(),i=t[n],r=xe.getIndexByKey(this._dataController.adaptiveExpandedKey(),t);this._isForceRowAdaptiveExpand=!this._adaptiveController.hasAdaptiveDetailRowExpanded(),r>=0&&e.push(r+1),e.push(n+1),this._dataController.adaptiveExpandedKey(i.key)}},_afterInsertRow(e){this.callBase.apply(this,arguments),this._adaptiveController.hasHiddenColumns()&&(this._adaptiveController.toggleExpandAdaptiveDetailRow(e,this.isRowEditMode()),this._isForceRowAdaptiveExpand=!0)},_collapseAdaptiveDetailRow(){this._isRowEditMode()&&this._isForceRowAdaptiveExpand&&(this._adaptiveController.collapseAdaptiveDetailRow(),this._isForceRowAdaptiveExpand=!1)},_cancelEditAdaptiveDetailRow(){this._adaptiveController.hasHiddenColumns()&&this._collapseAdaptiveDetailRow()},_afterSaveEditData(){this.callBase.apply(this,arguments);var e=new W;return this._isRowEditMode()&&this._adaptiveController.hasHiddenColumns()?ke(this.getController("validating").validate(!0)).done(n=>{n&&this._cancelEditAdaptiveDetailRow(),e.resolve()}):e.resolve(),e.promise()},_beforeCancelEditData(){this.callBase(),this._cancelEditAdaptiveDetailRow()},_getRowIndicesForCascadeUpdating(e){var n=this.callBase.apply(this,arguments);return this._adaptiveController.isAdaptiveDetailRowExpanded(e.key)&&n.push(e.rowType===Np?e.rowIndex-1:e.rowIndex+1),n},_beforeCloseEditCellInBatchMode(e){var n=this._dataController._adaptiveExpandedKey;if(n){var t=xe.getIndexByKey(n,this._dataController.items());t>-1&&e.unshift(t)}},editRow(e){this._adaptiveController.isFormOrPopupEditMode()&&this._adaptiveController.collapseAdaptiveDetailRow(),this.callBase(e)},deleteRow(e){var n=this._dataController.getKeyByRowIndex(e);"batch"===this.getEditMode()&&this._adaptiveController.isAdaptiveDetailRowExpanded(n)&&this._adaptiveController.collapseAdaptiveDetailRow(),this.callBase(e)},init(){this.callBase(),this._adaptiveController=this.getController("adaptiveColumns")}},resizing:{_needBestFit(){return this.callBase()||!!this._adaptiveColumnsController.getHidingColumnsQueue().length},_correctColumnWidths(e,n){var t=this._adaptiveColumnsController,i=t.getHiddenColumns(),r=t.updateHidingQueue(this._columnsController.getColumns());t.hideRedundantColumns(e,n,r);var o=t.getHiddenColumns();return t.hasAdaptiveDetailRowExpanded()&&i.length!==o.length&&t.updateForm(o),!o.length&&t.collapseAdaptiveDetailRow(),this.callBase.apply(this,arguments)},_toggleBestFitMode(e){e&&this._adaptiveColumnsController._showHiddenColumns(),this.callBase(e)},_needStretch(){var e=this._adaptiveColumnsController;return this.callBase.apply(this,arguments)||e.getHidingColumnsQueue().length||e.hasHiddenColumns()},init(){this._adaptiveColumnsController=this.getController("adaptiveColumns"),this.callBase()},dispose(){this.callBase.apply(this,arguments),clearTimeout(this._updateScrollableTimeoutID)}},data:{_processItems(e,n){var{changeType:t}=n;if(e=this.callBase.apply(this,arguments),"loadingAll"===t||!T(this._adaptiveExpandedKey))return e;var i=xe.getIndexByKey(this._adaptiveExpandedKey,e),r=!1===this.option("scrolling.legacyMode");if(i>=0){var o=e[i];e.splice(i+1,0,{visible:!0,rowType:Np,key:o.key,data:o.data,node:o.node,modifiedValues:o.modifiedValues,isNewRow:o.isNewRow,values:o.values})}else"refresh"===t&&(!r||!n.repaintChangesOnly)&&(this._adaptiveExpandedKey=void 0);return e},_getRowIndicesForExpand(e){var n=this.callBase.apply(this,arguments);return this.getController("adaptiveColumns").isAdaptiveDetailRowExpanded(e)&&n.push(n[n.length-1]+1),n},adaptiveExpandedKey(e){if(!T(e))return this._adaptiveExpandedKey;this._adaptiveExpandedKey=e},toggleExpandAdaptiveDetailRow(e,n){var t=xe.getIndexByKey(this._adaptiveExpandedKey,this._items),i=xe.getIndexByKey(e,this._items);t>=0&&t===i&&!n&&(e=void 0,i=-1);var r=this._adaptiveExpandedKey;this._adaptiveExpandedKey=e,t>=0&&t++,i>=0&&i++;var o=this.getRowIndexDelta();this.updateItems({allowInvisibleRowIndices:!0,changeType:"update",rowIndices:[t-o,i-o]});var s=this.getController("adaptiveColumns");s.updateCommandAdaptiveAriaLabel(e,"dxDataGrid-ariaAdaptiveCollapse"),s.updateCommandAdaptiveAriaLabel(r,N6)},init(){this.callBase(),this._adaptiveExpandedKey=void 0}},editorFactory:{_needHideBorder(e){return this.callBase(e)||e?.hasClass("dx-field-item-content")&&e?.find(".dx-checkbox").length},_getFocusCellSelector(){return"".concat(this.callBase(),", .dx-adaptive-detail-row .dx-field-item > .dx-field-item-content")},_getRevertTooltipsSelector(){return"".concat(this.callBase(),", .dx-field-item-content .").concat(this.addWidgetPrefix("revert-tooltip"))}},columns:{_isColumnVisible(e){return this.callBase(e)&&!e.adaptiveHidden}},keyboardNavigation:e=>class extends e{_isCellValid(n,t){return super._isCellValid(n,t)&&!n.hasClass(this.addWidgetPrefix(ob))&&!n.hasClass(hI)}_processNextCellInMasterDetail(n,t){super._processNextCellInMasterDetail(n,t);var i=this._editingController.isCellOrBatchEditMode();this._editingController.isEditing()&&n&&i&&!this._isInsideEditForm(n)&&(R.off(n,"focus",TV),R.on(n,"focus",{$nextCell:n},TV),R.trigger(t,"focus"))}_isCellElement(n){return super._isCellElement(n)||n.hasClass(wV)}init(){super.init(),this._adaptiveController=this.getController("adaptiveColumns")}}}}};function H6(e,n,t,i,r,o){o=o||[],(i=i||[])[t=t||0]=i[t]||0;var g,s=e[t],h=0;if(s){for(g=o[t]+1||0;g<s.length;g++){var _=s[g],v=g+i[t],C=_.colspan||1;if(H6(e,n,t+(_.rowspan||1),i,C,o),i[t]+=C-1,h+=C,_.rowspan)for(var b=t+1;b<t+_.rowspan;b++)i[b]=i[b]||0,i[b]+=_.colspan||1;if(!1===n(_,v,t,g)||void 0!==r&&h>=r)break}o[t]=g}}function MV(e,n,t){var i=[];H6(e,(o,s,l)=>{var g,h=o,_=h.colspan||1,v=s+_-1>=n&&s<t;if(i[l]=i[l]||[],v)s<n?(g=_-(n-s),s=n):g=_,s+g>t&&(g=t-s),g!==_&&(h=A({},h,{colspan:g})),i[l].push(h);else if(s>t)return!1});for(var r=0;r<i.length;r++)i[r]=i[r]||[];return i}Ge.registerModule("adaptivity",nye);var rye={_resizeCore(){this.callBase.apply(this,arguments),this._columnsController.resize()},_handleScroll(e){var n=this.getScrollable(),{left:t}=e.scrollOffset;this.callBase.apply(this,arguments),this.option("rtlEnabled")&&n&&(t=Ze(n.$content())-Ze(n.$element())-t),this._columnsController.setScrollPosition(t)},_restoreScrollTop(){var e=this.getScrollable(),n=e?.scrollTop();this._scrollTop>0&&n!==this._scrollTop&&e.scrollTo({y:this._scrollTop})},_renderCore(e){if(e?.virtualColumnsScrolling){var n=()=>{this.resizeCompleted.remove(n),this._restoreScrollTop()};this.resizeCompleted.add(n)}return this.callBase.apply(this,arguments)}},oye={_renderCore(){var e=this.callBase.apply(this,arguments);return this._columnsController.isVirtualMode()&&this._updateScrollLeftPosition(),e}},sye=function(){var e=function(t){return t.map(i=>i.visibleWidth||parseFloat(i.width)||50)},n={init(){this.callBase.apply(this,arguments),this._beginPageIndex=null,this._endPageIndex=null,this._position=0,this._virtualVisibleColumns={}},resetColumnsCache(){this.callBase(),this._virtualVisibleColumns={}},getBeginPageIndex(t){for(var i=this.getVisibleColumns(void 0,!0),r=e(i),o=0,s=0;s<r.length;s++){if(o>=t)return Math.floor(s/this.getColumnPageSize());o+=r[s]}return 0},getTotalWidth(){var t=this.option("width");return"number"==typeof t?t:this.getController("resizing")._lastWidth||wt(this.component.$element())},getEndPageIndex(t){var i=this.getVisibleColumns(void 0,!0),r=e(i),o=0;t+=this.getTotalWidth();for(var s=0;s<r.length;s++){if(o>=t)return Math.ceil(s/this.getColumnPageSize());o+=r[s]}return Math.ceil(r.length/this.getColumnPageSize())},getColumnPageSize(){return this.option("scrolling.columnPageSize")},_fireColumnsChanged(){var t=new Date;this.columnsChanged.fire({optionNames:{all:!0,length:1},changeTypes:{columns:!0,virtualColumnsScrolling:!0,length:2}}),this._renderTime=new Date-t},getScrollingTimeout(){var t=this.option("scrolling.columnRenderingThreshold"),i=this.option("scrolling.renderAsync"),r=0;return(!T(i)&&this._renderTime>t||i)&&(r=this.option("scrolling.timeout")),r},setScrollPosition(t){var i=this.getScrollingTimeout();i>0?(clearTimeout(this._changedTimeout),this._changedTimeout=setTimeout(()=>{this._setScrollPositionCore(t)},i)):this._setScrollPositionCore(t)},isVirtualMode(){return rt()&&"virtual"===this.option("scrolling.columnRenderingMode")},resize(){this._setScrollPositionCore(this._position)},_setScrollPositionCore(t){if(this.isVirtualMode()){var i=this.getBeginPageIndex(t),r=this.getEndPageIndex(t),o=t<this._position?this._beginPageIndex>i:this._endPageIndex<r;this._position=t,o&&(this._beginPageIndex=i,this._endPageIndex=r,this._fireColumnsChanged())}},getFixedColumns(t,i){var r=this.callBase(t);if(this.isVirtualMode()&&!i&&r.length){var o=r.map(s=>s.command).indexOf("transparent");return r[o].colspan=this.getVisibleColumns().length-this.callBase().length+1,r}return r},_compileVisibleColumns(t,i){var r;if(i||!this.isVirtualMode()||!this._shouldReturnVisibleColumns())return this.callBase(t);null!==(r=this._columns)&&void 0!==r&&r.length&&!T(this._beginPageIndex)&&!T(this._endPageIndex)&&(this._beginPageIndex=this.getBeginPageIndex(this._position),this._endPageIndex=this.getEndPageIndex(this._position));var o=this._beginPageIndex,s=this._endPageIndex,l="".concat(t,"-").concat(o,"-").concat(s);if(this._virtualVisibleColumns[l])return this._virtualVisibleColumns[l];var h=this.callBase(),g=this.getRowCount(),_=this.getColumnPageSize(),v=o*_,C=s*_,b=this.getFixedColumns(void 0,!0),E=b.map(ze=>ze.command).indexOf("transparent"),w=b.length?E:0,M=h.slice(0,w),k=h.slice(w,v),L=e(k).reduce((ze,ot)=>ze+ot,0);L||(v=0);var G=b.length?b.length-E-1:0,Q=h.slice(h.length-G),le=h.slice(C,h.length-G),Te=e(le).reduce((ze,ot)=>ze+ot,0);if(Te||(C=h.length),g>1&&"number"==typeof t){for(var He=[],Ee=0;Ee<=g;Ee++)He.push(this.callBase(Ee));M=MV(He,0,M.length)[t]||[],Q=MV(He,h.length-Q.length,h.length)[t]||[],h=MV(He,v,C)[t]||[]}else h=h.slice(v,C);return L&&(h.unshift({command:"virtual",width:L}),h=M.concat(h)),Te&&(h.push({command:"virtual",width:Te}),h=h.concat(Q)),this._virtualVisibleColumns[l]=h,h},getColumnIndexOffset(){var t=0;if(this._beginPageIndex>0){var r=this.getFixedColumns().map(s=>s.command).indexOf("transparent"),o=r>=0?r:0;t=this._beginPageIndex*this.getColumnPageSize()-o-1}return t>0?t:0},dispose(){clearTimeout(this._changedTimeout),this.callBase.apply(this,arguments)}};return n}();Ge.registerModule("virtualColumns",{defaultOptions:()=>({scrolling:{columnRenderingMode:"standard",columnPageSize:5,columnRenderingThreshold:300}}),extenders:{controllers:{columns:sye},views:{columnHeadersView:oye,rowsView:rye}}});var sb="dx-buttongroup",lye=sb+"-wrapper",z6=sb+"-item",dye=sb+"-first-item",uye=sb+"-last-item",W6=z6+"-has-width",hye=_p.inherit({_initTemplates(){this.callBase(),this._templateManager.addDefaultTemplates({item:new fp((e,n,t)=>{this._prepareItemStyles(e);var i=this.option("buttonTemplate");this._createComponent(e,Ui,A({},t,n,this._getBasicButtonOptions(),{_templateData:this._hasCustomTemplate(i)?t:{},template:t.template||i}))},["text","type","icon","disabled","visible","hint"],this.option("integrationOptions.watchMethod"))})},_getBasicButtonOptions(){return{focusStateEnabled:!1,onClick:null,hoverStateEnabled:this.option("hoverStateEnabled"),activeStateEnabled:this.option("activeStateEnabled"),stylingMode:this.option("stylingMode")}},_getDefaultOptions:function(){return A(this.callBase(),{itemTemplateProperty:null})},_hasCustomTemplate(e){return Re(e)||this.option("integrationOptions.templates")[e]},_prepareItemStyles(e){var n=e.data("dxItemIndex");0===n&&e.addClass(dye);var t=this.option("items");t&&n===t.length-1&&e.addClass(uye),e.addClass("dx-shape-standard")},_renderItemContent(e){return e.container=x(e.container).parent(),this.callBase(e)},_setAriaSelectionAttribute:function(e,n){this.setAria("pressed",n,e)},_renderItemContentByNode:function(e,n){return e.container=x(e.container.children().first()),this.callBase(e,n)},_focusTarget(){return this.$element().parent()},_keyboardEventBindingTarget(){return this._focusTarget()},_refreshContent(){this._prepareContent(),this._renderContent()},_itemClass:()=>z6,_itemSelectHandler:function(e){"single"===this.option("selectionMode")&&this.isItemSelected(e.currentTarget)||this.callBase(e)}}),$6=Ki.inherit({_getDefaultOptions(){return A(this.callBase(),{hoverStateEnabled:!0,focusStateEnabled:!0,selectionMode:"single",selectedItems:[],selectedItemKeys:[],stylingMode:"contained",keyExpr:"text",items:[],buttonTemplate:"content",onSelectionChanged:null,onItemClick:null})},_init(){this.callBase(),this._createItemClickAction()},_createItemClickAction(){this._itemClickAction=this._createActionByOption("onItemClick")},_initMarkup(){this.setAria("role","group"),this.$element().addClass(sb),this._renderButtons(),this._syncSelectionOptions(),this.callBase()},_fireSelectionChangeEvent:function(e,n){this._createActionByOption("onSelectionChanged",{excludeValidators:["disabled","readOnly"]})({addedItems:e,removedItems:n})},_renderButtons(){var e=x("<div>").addClass(lye).appendTo(this.$element()),n=this.option("selectedItems"),t={selectionMode:this.option("selectionMode"),items:this.option("items"),keyExpr:this.option("keyExpr"),buttonTemplate:this.option("buttonTemplate"),scrollingEnabled:!1,selectedItemKeys:this.option("selectedItemKeys"),focusStateEnabled:this.option("focusStateEnabled"),hoverStateEnabled:this.option("hoverStateEnabled"),activeStateEnabled:this.option("activeStateEnabled"),stylingMode:this.option("stylingMode"),accessKey:this.option("accessKey"),tabIndex:this.option("tabIndex"),noDataText:"",selectionRequired:!1,onItemRendered:i=>{var r=this.option("width");T(r)&&x(i.itemElement).addClass(W6)},onSelectionChanged:i=>{this._syncSelectionOptions(),this._fireSelectionChangeEvent(i.addedItems,i.removedItems)},onItemClick:i=>{this._itemClickAction(i)}};T(n)&&n.length&&(t.selectedItems=n),this._buttonsCollection=this._createComponent(e,hye,t)},_syncSelectionOptions(){this._setOptionWithoutOptionChange("selectedItems",this._buttonsCollection.option("selectedItems")),this._setOptionWithoutOptionChange("selectedItemKeys",this._buttonsCollection.option("selectedItemKeys"))},_optionChanged(e){switch(e.name){case"stylingMode":case"selectionMode":case"keyExpr":case"buttonTemplate":case"items":case"activeStateEnabled":case"focusStateEnabled":case"hoverStateEnabled":case"tabIndex":this._invalidate();break;case"selectedItemKeys":case"selectedItems":this._buttonsCollection.option(e.name,e.value);break;case"onItemClick":this._createItemClickAction();break;case"onSelectionChanged":break;case"width":this.callBase(e),this._buttonsCollection.itemElements().toggleClass(W6,!!e.value);break;default:this.callBase(e)}}});Dt("dxButtonGroup",$6);const pye=$6;var G6="dx-dropdownbutton",U6="dx-dropdownbutton-action",j6="dx-dropdownbutton-toggle",xye=Ki.inherit({_getDefaultOptions(){return A(this.callBase(),{itemTemplate:"item",keyExpr:"this",displayExpr:void 0,selectedItem:null,selectedItemKey:null,stylingMode:"outlined",deferRendering:!0,noDataText:J.format("dxCollectionWidget-noDataText"),useSelectMode:!1,splitButton:!1,showArrowIcon:!0,text:"",icon:void 0,onButtonClick:null,onSelectionChanged:null,onItemClick:null,opened:!1,items:null,dataSource:null,focusStateEnabled:!0,hoverStateEnabled:!0,dropDownOptions:{},dropDownContentTemplate:"content",wrapItemText:!1,useItemTextAsTitle:!0,grouped:!1,groupTemplate:"group",buttonGroupOptions:{}})},_setOptionsByReference(){this.callBase(),A(this._optionsByReference,{selectedItem:!0})},_init(){this.callBase(),this._createItemClickAction(),this._createActionClickAction(),this._createSelectionChangedAction(),this._initDataSource(),this._compileKeyGetter(),this._compileDisplayGetter(),this._itemsToDataSource(this.option("items")),this._options.cache("buttonGroupOptions",this.option("buttonGroupOptions")),this._options.cache("dropDownOptions",this.option("dropDownOptions"))},_initTemplates(){this._templateManager.addDefaultTemplates({content:new kl(e=>{var n=x(e.container),t=x("<div>").appendTo(n);this._list=this._createComponent(t,dx,this._listOptions()),this._list.registerKeyHandler("escape",this._escHandler.bind(this)),this._list.registerKeyHandler("tab",this._escHandler.bind(this)),this._list.registerKeyHandler("leftArrow",this._escHandler.bind(this)),this._list.registerKeyHandler("rightArrow",this._escHandler.bind(this))})}),this.callBase()},_itemsToDataSource:function(e){this._dataSource||(this._dataSource=new Yl({store:new tx({key:this._getKey(),data:e}),pageSize:0}))},_getKey:function(){var e,n=this.option("keyExpr"),t=null===(e=this._dataSource)||void 0===e?void 0:e.key();return!T(t)||T(n)&&"this"!==n?n:t},_compileKeyGetter(){this._keyGetter=Yt(this._getKey())},_compileDisplayGetter(){this._displayGetter=Yt(this.option("displayExpr"))},_initMarkup(){this.callBase(),this.$element().addClass(G6),this._renderButtonGroup(),this._updateArrowClass(),T(this.option("selectedItemKey"))&&this._loadSelectedItem().done(this._updateActionButton.bind(this))},_renderFocusTarget:U,_render(){(!this.option("deferRendering")||this.option("opened"))&&this._renderPopup(),this.callBase()},_renderContentImpl(){return this._popup&&this._renderPopupContent(),this.callBase()},_loadSelectedItem(){var e;null===(e=this._loadSingleDeferred)||void 0===e||e.reject();var n=new W;if(this._list&&void 0!==this._lastSelectedItemData){var t=this.option("useSelectMode")?this._list.option("selectedItem"):this._lastSelectedItemData;return n.resolve(t)}this._lastSelectedItemData=void 0;var i=this.option("selectedItemKey");return this._loadSingle(this._getKey(),i).done(n.resolve).fail(()=>{n.resolve(null)}),this._loadSingleDeferred=n,n.promise()},_createActionClickAction(){this._actionClickAction=this._createActionByOption("onButtonClick")},_createSelectionChangedAction(){this._selectionChangedAction=this._createActionByOption("onSelectionChanged")},_createItemClickAction(){this._itemClickAction=this._createActionByOption("onItemClick")},_fireSelectionChangedAction(e){var{previousValue:n,value:t}=e;this._selectionChangedAction({item:t,previousItem:n})},_fireItemClickAction(e){var{event:n,itemElement:t,itemData:i}=e;return this._itemClickAction({event:n,itemElement:t,itemData:this._actionItem||i})},_actionButtonConfig(){return{text:this.option("text"),icon:this.option("icon"),elementAttr:{class:U6}}},_getButtonGroupItems(){var e=[];return e.push(this._actionButtonConfig()),this.option("splitButton")&&e.push({icon:"spindown",elementAttr:{class:j6}}),e},_buttonGroupItemClick(e){var{event:n,itemData:t}=e,i=t.elementAttr.class===U6;t.elementAttr.class===j6?this.toggle():i&&(this._actionClickAction({event:n,selectedItem:this.option("selectedItem")}),this.option("splitButton")||this.toggle())},_buttonGroupOptions(){var{splitButton:e,showArrowIcon:n,focusStateEnabled:t,hoverStateEnabled:i,stylingMode:r,accessKey:o,tabIndex:s}=this.option(),l=e||!n?"content":(h,g)=>{var{text:_,icon:v}=h,C=Ll(v),b=_?x("<span>").text(_).addClass("dx-button-text"):void 0,E=Ll("spindown").addClass("dx-icon-right");x(g).append(C,b,E)};return A({items:this._getButtonGroupItems(),onItemClick:this._buttonGroupItemClick.bind(this),width:"100%",height:"100%",selectionMode:"none",onKeyboardHandled:h=>this._keyboardHandler(h),buttonTemplate:l,focusStateEnabled:t,hoverStateEnabled:i,stylingMode:r,accessKey:o,tabIndex:s},this._options.cache("buttonGroupOptions"))},_renderPopupContent(){var e=this._popup.$content(),n=this._getTemplateByOption("dropDownContentTemplate");return e.empty(),this._popupContentId="dx-"+new En,this.setAria("id",this._popupContentId,e),n.render({container:Ke(e),model:this.option("items")||this._dataSource})},_popupOptions(){var e=this.option("rtlEnabled")?"right":"left";return A({dragEnabled:!1,focusStateEnabled:!1,deferRendering:this.option("deferRendering"),hideOnOutsideClick:n=>{var t=this.$element();return!x(n.target).closest(".".concat(G6)).is(t)},showTitle:!1,animation:{show:{type:"fade",duration:0,from:0,to:1},hide:{type:"fade",duration:400,from:1,to:0}},_ignoreFunctionValueDeprecation:!0,width:()=>zw(this.$element()),height:"auto",shading:!1,position:{of:this.$element(),collision:"flipfit",my:e+" top",at:e+" bottom"},_wrapperClassExternal:"dx-dropdowneditor-overlay"},this._options.cache("dropDownOptions"),{visible:this.option("opened")})},_listOptions(){var e=this.option("selectedItemKey"),n=this.option("useSelectMode");return{selectionMode:n?"single":"none",wrapItemText:this.option("wrapItemText"),focusStateEnabled:this.option("focusStateEnabled"),hoverStateEnabled:this.option("hoverStateEnabled"),useItemTextAsTitle:this.option("useItemTextAsTitle"),onContentReady:()=>this._fireContentReadyAction(),selectedItemKeys:T(e)&&n?[e]:[],grouped:this.option("grouped"),groupTemplate:this.option("groupTemplate"),keyExpr:this._getKey(),noDataText:this.option("noDataText"),displayExpr:this.option("displayExpr"),itemTemplate:this.option("itemTemplate"),items:this.option("items"),dataSource:this._dataSource,onItemClick:t=>{this.option("useSelectMode")||(this._lastSelectedItemData=t.itemData),this.option("selectedItemKey",this._keyGetter(t.itemData)),!1!==this._fireItemClickAction(t)&&(this.toggle(!1),this._buttonGroup.focus())}}},_upDownKeyHandler(){return this._popup&&this._popup.option("visible")&&this._list?this._list.focus():this.open(),!0},_escHandler(){return this.close(),this._buttonGroup.focus(),!0},_tabHandler(){return this.close(),!0},_renderPopup(){var e=x("<div>");this.$element().append(e),this._popup=this._createComponent(e,Ma,this._popupOptions()),this._popup.$content().addClass("dx-dropdownbutton-content"),this._popup.$wrapper().addClass("dx-dropdownbutton-popup-wrapper"),this._popup.on("hiding",this._popupHidingHandler.bind(this)),this._popup.on("showing",this._popupShowingHandler.bind(this)),this._bindInnerWidgetOptions(this._popup,"dropDownOptions")},_popupHidingHandler(){this.option("opened",!1),this._updateAriaAttributes(!1)},_popupOptionChanged:function(e){var n=Ki.getOptionsFromContainer(e);this._setPopupOption(n);var t=Object.keys(n);(-1!==t.indexOf("width")||-1!==t.indexOf("height"))&&this._dimensionChanged()},_dimensionChanged:function(){void 0===wk(this.option("dropDownOptions.width"))&&this._setPopupOption("width",()=>zw(this.$element()))},_setPopupOption:function(e,n){this._setWidgetOption("_popup",arguments)},_popupShowingHandler(){this.option("opened",!0),this._updateAriaAttributes(!0)},_setElementAria(e){this.setAria({owns:e?this._popupContentId:void 0},this.$element())},_setButtonsAria(e){var n={expanded:e,haspopup:"listbox"},t={};this.option("text")||(t.label="dropdownbutton"),this._getButtons().each((i,r)=>{this.setAria(0===i?de({},t,n):n,x(r))})},_updateAriaAttributes(e){this._setElementAria(e),this._setButtonsAria(e)},_getButtons(){return this._buttonGroup.$element().find(".".concat("dx-button"))},_renderButtonGroup(){var e=this._buttonGroup&&this._buttonGroup.$element()||x("<div>");this._buttonGroup||this.$element().append(e),this._buttonGroup=this._createComponent(e,pye,this._buttonGroupOptions()),this._buttonGroup.registerKeyHandler("downArrow",this._upDownKeyHandler.bind(this)),this._buttonGroup.registerKeyHandler("tab",this._tabHandler.bind(this)),this._buttonGroup.registerKeyHandler("upArrow",this._upDownKeyHandler.bind(this)),this._buttonGroup.registerKeyHandler("escape",this._escHandler.bind(this)),this._bindInnerWidgetOptions(this._buttonGroup,"buttonGroupOptions"),this._updateAriaAttributes(this.option("opened"))},_updateArrowClass(){var e=this.option("splitButton")||this.option("showArrowIcon");this.$element().toggleClass("dx-dropdownbutton-has-arrow",e)},toggle(e){return this._popup||(this._renderPopup(),this._renderContent()),this._popup.toggle(e)},open(){return this.toggle(!0)},close(){return this.toggle(!1)},_setListOption(e,n){this._list&&this._list.option(e,n)},_getDisplayValue(e){var t=ft(e)?this._displayGetter(e):e;return ft(t)?"":String(Cn(t,""))},_updateActionButton(e){this.option("useSelectMode")&&this.option({text:this._getDisplayValue(e),icon:ft(e)?e.icon:void 0}),this._setOptionWithoutOptionChange("selectedItem",e),this._setOptionWithoutOptionChange("selectedItemKey",this._keyGetter(e))},_clean(){this._list&&this._list.$element().remove(),this._popup&&this._popup.$element().remove()},_selectedItemKeyChanged(e){this._setListOption("selectedItemKeys",this.option("useSelectMode")&&T(e)?[e]:[]);var n=this.option("selectedItem");this._loadSelectedItem().done(t=>{this._updateActionButton(t),this._displayGetter(n)!==this._displayGetter(t)&&this._fireSelectionChangedAction({previousValue:n,value:t})})},_updateButtonGroup(e,n){this._buttonGroup.option(e,n),this._updateAriaAttributes(this.option("opened"))},_actionButtonOptionChanged(e){var{name:n,value:t}=e,i={};i[n]=t,this._updateButtonGroup("items[0]",A({},this._actionButtonConfig(),i)),this._popup&&this._popup.repaint()},_selectModeChanged(e){if(e){this._setListOption("selectionMode","single");var n=this.option("selectedItemKey");this._setListOption("selectedItemKeys",T(n)?[n]:[]),this._selectedItemKeyChanged(this.option("selectedItemKey"))}else this._setListOption("selectionMode","none"),this.option({selectedItemKey:void 0,selectedItem:void 0}),this._actionButtonOptionChanged({text:this.option("text")})},_updateItemCollection(e){var n=this.option("selectedItemKey");this._setListOption("selectedItem",null),this._setWidgetOption("_list",[e]),T(n)&&this._loadSelectedItem().done(t=>{this._setListOption("selectedItemKeys",[n]),this._setListOption("selectedItem",t)}).fail(t=>{this._setListOption("selectedItemKeys",[])}).always(this._updateActionButton.bind(this))},_updateDataSource:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._dataSource.items();this._dataSource=void 0,this._itemsToDataSource(e),this._updateKeyExpr()},_updateKeyExpr:function(){this._compileKeyGetter(),this._setListOption("keyExpr",this._getKey())},focus:function(){this._buttonGroup.focus()},_optionChanged(e){var n,{name:t,value:i}=e;switch(t){case"useSelectMode":this._selectModeChanged(i);break;case"splitButton":this._updateArrowClass(),this._renderButtonGroup();break;case"displayExpr":this._compileDisplayGetter(),this._setListOption(t,i),this._updateActionButton(this.option("selectedItem"));break;case"keyExpr":this._updateDataSource();break;case"buttonGroupOptions":this._innerWidgetOptionChanged(this._buttonGroup,e);break;case"dropDownOptions":if("dropDownOptions.visible"===e.fullName)break;void 0!==e.value.visible&&delete e.value.visible,this._popupOptionChanged(e),this._innerWidgetOptionChanged(this._popup,e);break;case"opened":this.toggle(i);break;case"focusStateEnabled":case"hoverStateEnabled":this._setListOption(t,i),this._updateButtonGroup(t,i),this.callBase(e);break;case"items":this._updateDataSource(this.option("items")),this._updateItemCollection(t);break;case"dataSource":Array.isArray(i)?this._updateDataSource(this.option("dataSource")):(this._initDataSource(),this._updateKeyExpr()),this._updateItemCollection(t);break;case"icon":case"text":this._actionButtonOptionChanged(e);break;case"showArrowIcon":this._updateArrowClass(),this._renderButtonGroup(),this._popup&&this._popup.repaint();break;case"width":case"height":this.callBase(e),null===(n=this._popup)||void 0===n||n.repaint();break;case"stylingMode":case"tabIndex":this._updateButtonGroup(t,i);break;case"itemTemplate":case"grouped":case"noDataText":case"groupTemplate":case"wrapItemText":case"useItemTextAsTitle":this._setListOption(t,i);break;case"dropDownContentTemplate":this._renderContent();break;case"selectedItemKey":this._selectedItemKeyChanged(i);break;case"selectedItem":break;case"onItemClick":this._createItemClickAction();break;case"onButtonClick":this._createActionClickAction();break;case"onSelectionChanged":this._createSelectionChangedAction();break;case"deferRendering":this.toggle(this.option("opened"));break;default:this.callBase(e)}}}).include(Lw);Dt("dxDropDownButton",xye);var K6="dx-datagrid-export-button";class Iye{constructor(n,t,i){this._exportController=n,this._initialColumnWidthsByColumnIndex=t,this._selectedRowsOnly=i}_getGroupValue(n){var{key:t,data:i,rowType:r,groupIndex:o,summaryCells:s}=n,l=this._options.groupColumns[o],h=Ge.getDisplayValue(l,l.deserializeValue?l.deserializeValue(t[o]):t[o],i,r),g="".concat(l.caption,": ").concat(Ge.formatValue(h,l));return s&&s[0]&&s[0].length&&(g+=" ".concat(Ge.getGroupRowSummaryText(s[0],this._options.summaryTexts))),g}_correctCellIndex(n){return n}_initOptions(){var n=this._exportController,t=n._columnsController.getGroupColumns();this._options={columns:n._getColumns(this._initialColumnWidthsByColumnIndex),groupColumns:t,items:this._selectedRowsOnly||n._selectionOnly?n._getSelectedItems():n._getAllItems(),isHeadersVisible:n.option("showColumnHeaders"),summaryTexts:n.option("summary.texts"),rtlEnabled:n.option("rtlEnabled")}}getHeaderStyles(){return[{bold:!0,alignment:"center"},{bold:!0,alignment:"left"},{bold:!0,alignment:"right"}]}getGroupRowStyle(){return{bold:!0,alignment:Lu(this._options.rtlEnabled)}}getColumnStyles(){var n=[];return this.getColumns().forEach(t=>{n.push({alignment:t.alignment||"left",format:t.format,dataType:t.dataType})}),n}getStyles(){return[...this.getHeaderStyles(),...this.getColumnStyles(),this.getGroupRowStyle()]}_getTotalCellStyleId(n){var t,i=(null===(t=this.getColumns()[n])||void 0===t?void 0:t.alignment)||"right";return this.getHeaderStyles().map(r=>r.alignment).indexOf(i)}getStyleId(n,t){return n<this.getHeaderRowCount()?0:this.isTotalCell(n-this.getHeaderRowCount(),t)?this._getTotalCellStyleId(t):this.isGroupRow(n-this.getHeaderRowCount())?this.getHeaderStyles().length+this.getColumns().length:t+this.getHeaderStyles().length}getColumns(n){var{columns:t}=this._options;return n?t:t[t.length-1]}getColumnsWidths(){var n=this.getColumns();return T(n)?n.map(t=>t.width):void 0}getRowsCount(){return this._options.items.length+this.getHeaderRowCount()}getHeaderRowCount(){return this.isHeadersVisible()?this._options.columns.length-1:0}isGroupRow(n){return n<this._options.items.length&&"group"===this._options.items[n].rowType}getGroupLevel(n){var t=this._options.items[n-this.getHeaderRowCount()],i=t&&t.groupIndex;return t&&"totalFooter"===t.rowType?0:T(i)?i:this._options.groupColumns.length}getCellType(n,t){var i=this.getColumns();if(n<this.getHeaderRowCount())return"string";if(n-=this.getHeaderRowCount(),t<i.length){var r=this._options.items.length&&this._options.items[n],o=i[t];return r&&"data"===r.rowType&&isFinite(r.values[this._correctCellIndex(t)])&&!T(o.customizeText)?T(o.lookup)?o.lookup.dataType:o.dataType:"string"}}ready(){this._initOptions();var n=this._options;return ke(n.items).done(t=>{n.items=t}).fail(()=>{n.items=[]})}_convertFromGridGroupSummaryItems(n){if(T(n)&&n.length>0)return n.map(t=>({value:t.value,name:t.name}))}getCellData(n,t,i){var r,o,s={cellSourceData:{},value:r},l=this.getColumns(),h=this._correctCellIndex(t);if(n<this.getHeaderRowCount())o=this.getColumns(!0)[n][t],s.cellSourceData.rowType="header",s.cellSourceData.column=o&&o.gridColumn,s.value=o&&o.caption;else{n-=this.getHeaderRowCount();var _=this._options.items.length&&this._options.items[n];if(_){var v=_.values;switch(s.cellSourceData.rowType=_.rowType,s.cellSourceData.column=l[t]&&l[t].gridColumn,_.rowType){case"groupFooter":case"totalFooter":h<v.length&&(T(r=v[h])?(s.cellSourceData.value=r.value,s.cellSourceData.totalSummaryItemName=r.name,s.value=Ge.getSummaryText(r,this._options.summaryTexts)):s.cellSourceData.value=void 0);break;case"group":if(s.cellSourceData.groupIndex=_.groupIndex,t<1)s.cellSourceData.column=this._options.groupColumns[_.groupIndex],s.cellSourceData.value=_.key[_.groupIndex],s.cellSourceData.groupSummaryItems=this._convertFromGridGroupSummaryItems(_.summaryCells[0]),s.value=this._getGroupValue(_);else{var C=_.values[h];if(Array.isArray(C)){s.cellSourceData.groupSummaryItems=this._convertFromGridGroupSummaryItems(C),r="";for(var b=0;b<C.length;b++)r+=(b>0?i?"\n":" \n ":"")+Ge.getSummaryText(C[b],this._options.summaryTexts);s.value=r}else s.cellSourceData.value=void 0}break;default:if(o=l[t]){var E=v[h],w=Ge.getDisplayValue(o,E,_.data,_.rowType);s.value=!isFinite(w)||T(o.customizeText)?i&&T(o.customizeText)&&o.customizeText===this._exportController._columnsController.getCustomizeTextByDataType("boolean")?w:Ge.formatValue(w,o):w,s.cellSourceData.value=E}s.cellSourceData.data=_.data}}}return s}isHeadersVisible(){return this._options.isHeadersVisible}isTotalCell(n,t){var{items:i}=this._options,r=i[n],o=this._correctCellIndex(t);return r&&"groupFooter"===r.rowType||"totalFooter"===r.rowType||r.summaryCells&&r.summaryCells[o]&&r.summaryCells[o].length>0&&r.summaryCells[o][0].alignByColumn}getCellMerging(n,t){var{columns:i}=this._options,r=i[n]&&i[n][t];return r?{colspan:(r.exportColspan||1)-1,rowspan:(r.rowspan||1)-1}:{colspan:0,rowspan:0}}getFrozenArea(){return{x:0,y:this.getHeaderRowCount()}}}Ge.registerModule("export",{defaultOptions:()=>({export:{enabled:!1,fileName:"DataGrid",formats:["xlsx"],allowExportSelectedData:!1,texts:{exportTo:J.format("dxDataGrid-exportTo"),exportAll:J.format("dxDataGrid-exportAll"),exportSelectedRows:J.format("dxDataGrid-exportSelectedRows")}}}),controllers:{export:class Tye extends Ge.ViewController{_getEmptyCell(){return{caption:"",colspan:1,rowspan:1}}_updateColumnWidth(n,t){n.width=t}_getColumns(n){var i,r,t=[],o=this._columnsController,s=o.getRowCount();for(i=0;i<=s;i++){var l=[];r=o.getVisibleColumns(i,!0);var h=void 0;if(i===s)if(this._updateLockCount)h=n;else{var g=this._getColumnWidths(this._headersView,this._rowsView);if(g&&g.length){h={};for(var _=0;_<r.length;_++)h[r[_].index]=g[_]}}for(var v=0;v<r.length;v++){var C=A({},r[v],{dataType:"datetime"===r[v].dataType?"date":r[v].dataType,gridColumn:r[v]});if(this._needColumnExporting(C)){var b=this._calculateExportColspan(C);T(b)&&(C.exportColspan=b),h&&this._updateColumnWidth(C,h[C.index]),l.push(C)}}t.push(l)}return r=t[s],t=function bye(e,n){for(var t=_=>_||1,i=[],r=(e[0]||[]).reduce((_,v)=>_+t(v.colspan),0),o=(_=>{var v=0,C=0;return()=>{var b=_[v]||[],E=b[C++];return C>=b.length&&(v++,C=0),E&&(E.colspan=t(E.colspan),E.rowspan=t(E.rowspan)),E}})(e),s=(_,v,C)=>{if((i[_]=i[_]||[])[v]=C,C.colspan>1||C.rowspan>1){for(var E=A({},C,n),w=1;w<C.colspan;w++)s(_,v+w,E);for(var M=1;M<C.rowspan;M++)for(var k=0;k<C.colspan;k++)s(_+M,v+k,E)}},l=o(),h=0;l;){for(var g=0;g<r&&l;g++)i[h]&&i[h][g]||(s(h,g,l),g+=l.colspan-1,l=o());h++}return i}(t.slice(0,-1),this._getEmptyCell()),t.push(r),t}_calculateExportColspan(n){if(n.isBand){var t=this._columnsController.getChildrenByBandColumn(n.index,!0);if(T(t))return t.reduce((i,r)=>this._needColumnExporting(r)?i+(this._calculateExportColspan(r)||1):i,0)}}_needColumnExporting(n){return!n.command&&(n.allowExporting||void 0===n.allowExporting)}_getFooterSummaryItems(n,t){var i=[],r=1,o=0;do{for(var s=[],l=0;l<n.length;l++){var h=n[l],g=h.length;r<g&&(r=g),s.push(h[o])}i.push({values:s,rowType:t?"totalFooter":"groupFooter"})}while(o++<r-1);return i}_hasSummaryGroupFooters(){var n=this.option("summary.groupItems");if(T(n))for(var t=0;t<n.length;t++)if(n[t].showInGroupFooter)return!0;return!1}_getItemsWithSummaryGroupFooters(n){for(var t=[],i=[],r=[],o=0;o<n.length;o++){var s=n[o];"groupFooter"===s.rowType?(r=this._getFooterSummaryItems(s.summaryCells),t=t.concat(i,r),i=[]):i.push(s)}return t.length?t:i}_updateGroupValuesWithSummaryByColumn(n){for(var t=[],i=0;i<n.length;i++){var r=n[i],{summaryCells:o}=r;if("group"===r.rowType&&o&&o.length>1){for(var s=r.values.length,l=1;l<o.length;l++)for(var h=0;h<o[l].length;h++){var g=o[l][h];g&&g.alignByColumn&&(Array.isArray(t[l-s])||(t[l-s]=[]),t[l-s].push(g))}t.length>0&&(r.values.push(...t),t=[])}}}_processUnExportedItems(n){for(var r,o,t=this._columnsController.getVisibleColumns(null,!0),i=this._columnsController.getGroupColumns(),s=0;s<n.length;s++){var l=n[s],h=!1;r=[],o=[];for(var g=0;g<t.length;g++){var _=t[g];if(h||(h=["detailExpand","buttons"].includes(_.type)),this._needColumnExporting(_)&&(l.values&&r.push("group"!==l.rowType||r.length?l.values[g]:l.key[l.groupIndex]),l.summaryCells))if("group"!==l.rowType||o.length)o.push(l.summaryCells[g]);else{var v=g-i.length+l.groupIndex;o.push(l.summaryCells[h?v:v+1])}}r.length&&(l.values=r),o.length&&(l.summaryCells=o)}}_getAllItems(n){var g,t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=this,r=new W,o=this.getController("data"),s=o.footerItems(),l=s.length&&s[0],h=i.option("summary.totalItems");return ke(n).done(_=>{o.loadAll(_,t).done((v,C)=>{i._updateGroupValuesWithSummaryByColumn(v),i._hasSummaryGroupFooters()&&(v=i._getItemsWithSummaryGroupFooters(v)),g=l&&l.summaryCells,T(C)&&h&&(g=i._getSummaryCells(h,C));var b=l&&i._getFooterSummaryItems(g,!0);b&&(v=v.concat(b)),i._processUnExportedItems(v),r.resolve(v)}).fail(r.reject)}).fail(r.reject),r}_getSummaryCells(n,t){var i=this.getController("data");return i._calculateSummaryCells(n,t,i._columnsController.getVisibleColumns(null,!0),(o,s)=>i._isDataColumn(s)?s.index:-1)}_getSelectedItems(){var n=this.getController("selection");return this.needLoadItemsOnExportingSelectedItems()?this._getAllItems(n.loadSelectedItemsWithFilter(),!0):this._getAllItems(n.getSelectedRowsData())}_getColumnWidths(n,t){return n&&n.isVisible()?n.getColumnWidths():t.getColumnWidths()}init(){this._columnsController=this.getController("columns"),this._rowsView=this.getView("rowsView"),this._headersView=this.getView("columnHeadersView"),this.createAction("onExporting",{excludeValidators:["disabled","readOnly"]})}callbackNames(){return["selectionOnlyChanged"]}getDataProvider(n){var i,t=this._getColumnWidths(this._headersView,this._rowsView);if(t&&t.length){i={};for(var r=this._columnsController.getVisibleColumns(this._columnsController.getRowCount(),!0),o=0;o<r.length;o++)i[r[o].index]=t[o]}return new Iye(this,i,n)}exportTo(n,t){this._selectionOnly=n;var i=this.getAction("onExporting"),r={rtlEnabled:this.option("rtlEnabled"),selectedRowsOnly:!!n,format:t,fileName:"DataGrid",cancel:!1};Re(i)&&i(r)}publicMethods(){return["getDataProvider"]}selectionOnly(n){if(!T(n))return this._isSelectedRows;this._isSelectedRows=n,this.selectionOnlyChanged.fire()}needLoadItemsOnExportingSelectedItems(){var n;return null!==(n=this.option("loadItemsOnExportingSelectedItems"))&&void 0!==n?n:this.getController("data")._dataSource.remoteOperations().filtering}}},extenders:{controllers:{editing:{callbackNames(){var e=this.callBase();return T(e)?e.push("editingButtonsUpdated"):["editingButtonsUpdated"]},_updateEditButtons(){this.callBase(),this.editingButtonsUpdated.fire()}}},views:{headerPanel:{_getToolbarItems(){var e=this.callBase(),n=this._getExportToolbarButton();return n&&(e.push(n),this._correctItemsPosition(e)),e},_getExportToolbarButton(){var e=this._getExportToolbarItems();if(0===e.length)return null;var n=this._needDisableExportButton(),t={name:"exportButton",location:"after",locateInMenu:"auto",sortIndex:30,options:{items:e},disabled:n};if(1===e.length){var i=de(de({},e[0]),{hint:e[0].text,elementAttr:{class:K6}});t.widget="dxButton",t.showText="inMenu",t.options=i}else{var r={icon:"export",displayExpr:"text",items:e,hint:this.option("export.texts.exportTo"),elementAttr:{class:K6},dropDownOptions:{width:"auto",_wrapperClassExternal:"dx-datagrid-export-menu"}};t.options=r,t.widget="dxDropDownButton",t.menuItemTemplate=(o,s,l)=>{this._createComponent(x(l),dx,{items:e})}}return t},_getExportToolbarItems(){var e,n=this.option("export"),t=this.option("export.texts"),i=null!==(e=this.option("export.formats"))&&void 0!==e?e:[];if(!n.enabled)return[];var r=[];return i.forEach(o=>{var s=o.toUpperCase(),l="export";"xlsx"===o&&(s="Excel",l="xlsxfile"),"pdf"===o&&(l="pdffile"),r.push({text:Ho(t.exportAll,s),icon:l,onClick:()=>{this._exportController.exportTo(!1,o)}}),n.allowExportSelectedData&&r.push({text:Ho(t.exportSelectedRows,s),icon:"exportselected",onClick:()=>{this._exportController.exportTo(!0,o)}})}),r},_correctItemsPosition(e){e.sort((n,t)=>n.sortIndex-t.sortIndex)},_isExportButtonVisible(){return this.option("export.enabled")},optionChanged(e){this.callBase(e),"export"===e.name&&(e.handled=!0,this._invalidate())},_needDisableExportButton(){var e=!this._columnsController.hasVisibleDataColumns(),n=this._editingController.hasChanges();return e||n},_columnOptionChanged(e){if(this.callBase(e),Ge.checkChanges(e.optionNames,["groupIndex","visible","all"])){var t=this._needDisableExportButton();this.setToolbarItemDisabled("exportButton",t)}},init(){this.callBase(),this._exportController=this.getController("export"),this._editingController=this.getController("editing"),this._editingController.editingButtonsUpdated.add(()=>{var e=this._needDisableExportButton();this.setToolbarItemDisabled("exportButton",e)})},isVisible(){return this.callBase()||this._isExportButtonVisible()}}}}});var ab="dx-row-focused",Rye=".dx-row.".concat(ab),q6="dx-cell-focus-disabled",J6={defaultOptions:()=>({focusedRowEnabled:!1,autoNavigateToFocusedRow:!0,focusedRowKey:null,focusedRowIndex:-1,focusedColumnIndex:-1}),controllers:{focus:dn.ViewController.inherit({init(){this._dataController=this.getController("data"),this._keyboardController=this.getController("keyboardNavigation"),this.component._optionsByReference.focusedRowKey=!0},optionChanged(n){var{name:t,value:i,previousValue:r}=n;switch(t){case"focusedRowIndex":this._focusRowByIndex(i),this._keyboardController._fireFocusedRowChanged(),n.handled=!0;break;case"focusedRowKey":if(Array.isArray(i)&&JSON.stringify(i)===JSON.stringify(r))return;this._focusRowByKey(i),this._keyboardController._fireFocusedRowChanged(),n.handled=!0;break;case"focusedColumnIndex":case"focusedRowEnabled":case"autoNavigateToFocusedRow":n.handled=!0;break;default:this.callBase(n)}},isAutoNavigateToFocusedRow(){return"infinite"!==this.option("scrolling.mode")&&this.option("autoNavigateToFocusedRow")},_focusRowByIndex(n,t){this.option("focusedRowEnabled")&&((n=void 0!==n?n:this.option("focusedRowIndex"))<0?this.isAutoNavigateToFocusedRow()&&this._resetFocusedRow():this._focusRowByIndexCore(n,t))},_focusRowByIndexCore(n,t){var i=this.getController("data"),r=i.pageSize(),o=()=>{if(this._isValidFocusedRowIndex(n)){var l=n-i.getRowIndexOffset(!0);if(!t||t.paging&&!t.filtering){var h=i._getLastItemIndex();l=Math.min(l,h)}var g=i.getKeyByRowIndex(l,!0);T(g)&&!this.isRowFocused(g)&&this.option("focusedRowKey",g)}};if(r>=0)if(this._isLocalRowIndex(n))o();else{var s=Math.floor(n/i.pageSize());ke(i.pageIndex(s),i.waitReady()).done(()=>{o()})}},_isLocalRowIndex(n){var t=this.getController("data");if(this.getController("keyboardNavigation")._isVirtualScrolling()){var r=Math.floor(n/t.pageSize()),o=t.virtualItemsCount(),s=o?o.begin:-1,l=t.getVisibleRows().length+t.getRowIndexOffset(),h=Math.ceil(l/t.pageSize());return s<=n&&h>r}return!0},_setFocusedRowKeyByIndex(n){var t=this.getController("data");if(this._isValidFocusedRowIndex(n)){var i=Math.min(n-t.getRowIndexOffset(),t.items().length-1),r=t.getKeyByRowIndex(i);T(r)&&!this.isRowFocused(r)&&this.option("focusedRowKey",r)}},_focusRowByKey(n){T(n)?this._navigateToRow(n,!0):this._resetFocusedRow()},_resetFocusedRow(){var n=this.option("focusedRowKey"),t=T(n);if(t||!(this.option("focusedRowIndex")<0)){var i=this.getController("keyboardNavigation");t&&this.option("focusedRowKey",null),i.setFocusedRowIndex(-1),this.option("focusedRowIndex",-1),this.getController("data").updateItems({changeType:"updateFocusedRow",focusedRowKey:null}),i._fireFocusedRowChanged(void 0,-1)}},_isValidFocusedRowIndex(n){var i=this.getController("data").getVisibleRows()[n];return!i||"data"===i.rowType||"group"===i.rowType},publicMethods:()=>["navigateToRow","isRowFocused"],navigateToRow(n){return this.isAutoNavigateToFocusedRow()||this.option("focusedRowIndex",-1),this._navigateToRow(n)},_navigateToRow(n,t){var i=this,r=i.getController("data"),o=i.isAutoNavigateToFocusedRow(),s=new W;if(void 0===n||!r.dataSource())return s.reject().promise();var l=i.getFocusedRowIndexByKey(n);return!o&&t||l>=0?i._navigateTo(n,s,t):r.getPageIndexByKey(n).done(h=>{h<0?s.resolve(-1):h===r.pageIndex()?r.reload().done(()=>{i.isRowFocused(n)&&r.getRowIndexByKey(n)>=0?s.resolve(i.getFocusedRowIndexByKey(n)):i._navigateTo(n,s,t)}).fail(s.reject):r.pageIndex(h).done(()=>{i._navigateTo(n,s,t)}).fail(s.reject)}).fail(s.reject),s.promise()},_navigateTo(n,t,i){var r=this.getController("data").getRowIndexByKey(n),o=xe.isVirtualRowRendering(this);this.isAutoNavigateToFocusedRow()&&o&&r<0?this._navigateToVirtualRow(n,t,i):this._navigateToVisibleRow(n,t,i)},_navigateToVisibleRow(n,t,i){if(i)this._triggerUpdateFocusedRow(n,t);else{var r=this.getFocusedRowIndexByKey(n);this.getView("rowsView").scrollToRowElement(n,t).done(()=>{t.resolve(r)})}},_navigateToVirtualRow(n,t,i){var r=this.getController("data"),o=r._rowsScrollController,s=xe.getIndexByKey(n,r.items(!0)),l=this.getView("rowsView").getScrollable();if(o&&l&&s>=0){var h=s+r.getRowIndexOffset(!0),g=o.getItemOffset(h),_=()=>{r.totalCount()&&!r.items().length||(this.component.off("contentReady",_),i?this._triggerUpdateFocusedRow(n,t):t.resolve(h))};this.component.on("contentReady",_),this.getView("rowsView").scrollTopPosition(g)}else t.resolve(-1)},_triggerUpdateFocusedRow(n,t){var o,i=this.getController("data"),r=this.getFocusedRowIndexByKey(n);this._isValidFocusedRowIndex(r)?(this.option("focusedRowEnabled")?i.updateItems({changeType:"updateFocusedRow",focusedRowKey:n}):o=this.getView("rowsView").scrollToRowElement(n),ke(o).done(()=>{this.getController("keyboardNavigation").setFocusedRowIndex(r),t&&t.resolve(r)})):t&&t.resolve(-1)},getFocusedRowIndexByKey(n){var t=this.getController("data"),i=t.getRowIndexByKey(n,!0);return i>=0?i+t.getRowIndexOffset(!0):-1},_focusRowByKeyOrIndex(){var n=this.option("focusedRowKey"),t=this.option("focusedRowIndex"),i=this.getController("keyboardNavigation"),r=this.getController("data");if(T(n)){var o=r.getRowIndexByKey(n);o>=0?(i._isVirtualScrolling()&&(t=o+r.getRowIndexOffset()),i.setFocusedRowIndex(t),this._triggerUpdateFocusedRow(n)):this._navigateToRow(n,!0).done(s=>{t>=0&&s<0?this._focusRowByIndex():t<0&&s>=0&&i.setFocusedRowIndex(s)})}else t>=0&&this.getController("focus")._focusRowByIndex(t)},isRowFocused(n){var t=this.option("focusedRowKey");if(T(t))return Jt(n,this.option("focusedRowKey"))},updateFocusedRow(n){var s,l,{focusedRowKey:t}=n,i=this,r=i._dataController.getRowIndexByKey(t),o=i.getView("rowsView");B(o.getTableElements(),(h,g)=>{var _=0===h;s=x(g),i._clearPreviousFocusedRow(s,r);var v=i._prepareFocusedRow({changedItem:i._dataController.getVisibleRows()[r],$tableElement:s,focusedRowIndex:r});_&&(l=v)}),l&&o.scrollToElementVertically(l)},_clearPreviousFocusedRow(n,t){var i=n.find(Rye).filter((o,s)=>{var l=x(s).closest(".".concat(this.addWidgetPrefix("table")));return n.is(l)});i.removeClass(ab).removeClass(q6).removeAttr("tabindex"),i.children("td").removeAttr("tabindex"),0!==t&&x(this.getView("rowsView").getRowElement(0)).removeClass(q6).removeAttr("tabIndex")},_prepareFocusedRow(n){var t,{changedItem:i}=n;if(i&&("data"===i.rowType||"group"===i.rowType)){var{focusedRowIndex:r}=n,{$tableElement:o}=n,s=this.option("tabindex")||0,l=this.getView("rowsView");(t=x(l._getRowElements(o).eq(r))).addClass(ab).attr("tabindex",s)}return t}})},extenders:{controllers:{keyboardNavigation:{init(){var e=this.option("focusedRowIndex"),n=this.option("focusedColumnIndex");this.createAction("onFocusedRowChanging",{excludeValidators:["disabled","readOnly"]}),this.createAction("onFocusedRowChanged",{excludeValidators:["disabled","readOnly"]}),this.createAction("onFocusedCellChanging",{excludeValidators:["disabled","readOnly"]}),this.createAction("onFocusedCellChanged",{excludeValidators:["disabled","readOnly"]}),this.callBase(),this.setRowFocusType(),this._focusedCellPosition={},T(e)&&e>=0&&(this._focusedCellPosition.rowIndex=e),T(n)&&n>=0&&(this._focusedCellPosition.columnIndex=n)},setFocusedRowIndex(e){this.callBase(e),this.option("focusedRowIndex",e)},setFocusedColumnIndex(e){this.callBase(e),this.option("focusedColumnIndex",e)},_escapeKeyHandler(e,n){!n&&this.option("focusedRowEnabled")?this.isCellFocusType()&&(this.setRowFocusType(),this._focus(this._getCellElementFromTarget(e.originalEvent.target),!0)):this.callBase(e,n)},_updateFocusedCellPosition(e,n){var t=this.callBase(e,n);t&&t.columnIndex>=0&&this._fireFocusedCellChanged(e)}},editorFactory:{renderFocusOverlay(e,n){var o,t=this.getController("keyboardNavigation"),i=this.option("focusedRowEnabled"),r=this.getController("editing");i&&t?.isRowFocusType()&&!r.isEditing()?i&&"row"===t._getElementType(e)&&!e.hasClass(ab)&&(o=t.getFirstValidCellInRow(e),t.focus(o)):this.callBase(e,n)}},columns:{getSortDataSourceParameters(e,n){var t=this.callBase.apply(this,arguments),i=this.getController("data"),r=i._dataSource,o=i.store(),s=o&&o.key(),l=r&&r.remoteOperations()||{},h=Object.keys(l).every(_=>!l[_]);if(s&&(this.option("focusedRowEnabled")&&!1!==this.getController("focus").isAutoNavigateToFocusedRow()||n)){var g=(s=Array.isArray(s)?s:[s]).filter(_=>!this.columnOption(_,"sortOrder"));g.length&&(t=t||[],h?t.push({selector:r.getDataIndexGetter(),desc:!1}):g.forEach(_=>t.push({selector:_,desc:!1})))}return t}},data:{_applyChange(e){if(!e||"updateFocusedRow"!==e.changeType)return this.callBase.apply(this,arguments)},_fireChanged(e){if(this.callBase(e),this.option("focusedRowEnabled")&&this._dataSource){var t="update"===e.changeType&&e.repaintChangesOnly&&e.changeTypes&&e.changeTypes.indexOf("remove")>=0;"refresh"===e.changeType&&e.items.length||t?(this._updatePageIndexes(),this._updateFocusedRow(e)):"append"===e.changeType||"prepend"===e.changeType?this._updatePageIndexes():"update"===e.changeType&&e.repaintChangesOnly&&this._updateFocusedRow(e)}},_updatePageIndexes(){var e=this._lastRenderingPageIndex||0,n=this._rowsScrollController?this._rowsScrollController.pageIndex():0;this._lastRenderingPageIndex=n,this._isPagingByRendering=n!==e},isPagingByRendering(){return this._isPagingByRendering},_updateFocusedRow(e){var n=e.operationTypes||{},t=this.getController("focus"),{reload:i,fullReload:r,pageIndex:o,paging:s}=n,h=this.getController("keyboardNavigation")._isVirtualScrolling(),g=s&&!h,_=this.option("focusedRowKey"),v=t.isAutoNavigateToFocusedRow();if(i&&!1===o&&!r&&T(_))t._navigateToRow(_,!0).done(L=>{L<0&&t._focusRowByIndex(void 0,n)});else if(g&&v){var b=this.getRowIndexByKey(_),E=this.option("focusedRowIndex");E>=0&&(E===b||!(b>=0))&&t._focusRowByIndex(E,n)}else g&&!v&&this.getRowIndexByKey(_)<0?this.option("focusedRowIndex",-1):n.fullReload&&t._focusRowByKeyOrIndex()},getPageIndexByKey(e){var n=this,t=new W;return n.getGlobalRowIndexByKey(e).done(i=>{t.resolve(i>=0?Math.floor(i/n.pageSize()):-1)}).fail(t.reject),t.promise()},getGlobalRowIndexByKey(e){return this._dataSource.group()?this._calculateGlobalRowIndexByGroupedData(e):this._calculateGlobalRowIndexByFlatData(e)},_calculateGlobalRowIndexByFlatData(e,n,t){var i=this,r=new W,o=i._dataSource;if(Array.isArray(e))return r.resolve(-1).promise();var s=i._generateFilterByKey(e);return o.load({filter:i._concatWithCombinedFilter(s),skip:0,take:1}).done(l=>{l.length>0?(s=i._generateOperationFilterByKey(e,l[0],t),o.load({filter:i._concatWithCombinedFilter(s,n),skip:0,take:1,requireTotalCount:!0}).done((h,g)=>{r.resolve(g.totalCount)})):r.resolve(-1)}),r.promise()},_concatWithCombinedFilter(e,n){var t=this.getCombinedFilter();return xe.combineFilters([e,t,n])},_generateBooleanFilter(e,n,t){var{desc:i}=t;switch(!0){case!1===n&&i:return[e,"=",!0];case!1===n&&!i:return[e,"=",null];case!0===n&&!i:case!dh(n)&&i:return[e,"<>",n];default:return}},_generateOperationFilterByKey(e,n,t){var i=this,r=i.option("dateSerializationFormat"),o=i._dataSource.remoteOperations().filtering,s=i._generateFilterByKey(e,"<"),l=i._columnsController.getSortDataSourceParameters(!o,!0);if(t){var h=i._columnsController.getGroupDataSourceParameters(!o);h&&(l=l?h.concat(l):h)}return l&&l.slice().reverse().forEach(g=>{var{selector:_,desc:v,compare:C}=g,{getter:b,rawValue:E,safeValue:w}=((e,n,t)=>{var{isRemoteFiltering:i,dateSerializationFormat:r,getSelector:o}=t,{selector:s}=e,l=Re(s)?s:o(s),h=l?l(n):n[s];return{getter:l,rawValue:h,safeValue:i&&ur(h)?Qn.serializeDate(h,r):h}})(g,n,{isRemoteFiltering:o,dateSerializationFormat:r,getSelector:G=>i._columnsController.columnOption(G,"selector")});if(s=[[_,"=",w],"and",s],null===E||dh(E)){var M=i._generateBooleanFilter(_,w,v);M&&(s=[M,"or",s])}else{var L,k=v?">":"<";C?L=G=>"<"===k?C(E,b(G))>=1:C(E,b(G))<=-1:(L=[_,k,w],v||(L=[L,"or",[_,"=",null]])),s=[L,"or",s]}}),s},_generateFilterByKey(e,n){var t=this._dataSource.key(),i=[];if(n||(n="="),Array.isArray(t))for(var r=0;r<t.length;++r){var o=e[t[r]];o&&(i.length>0&&i.push("and"),i.push([t[r],n,o]))}else i=[t,n,e];return i},_getLastItemIndex(){return this.items(!0).length-1}},editing:{_deleteRowCore(e){var n=this.callBase.apply(this,arguments),t=this.getController("data"),i=t.getKeyByRowIndex(e);n.done(()=>{var r=t.getRowIndexByKey(i),o=t.getVisibleRows();-1===r&&!o.length&&this.getController("focus")._resetFocusedRow()})}}},views:{rowsView:{_createRow(e){var n=this.callBase.apply(this,arguments);return this.option("focusedRowEnabled")&&e&&this.getController("focus").isRowFocused(e.key)&&n.addClass(ab),n},_checkRowKeys(e){if(this.callBase.apply(this,arguments),this.option("focusedRowEnabled")&&this.option("dataSource")){var n=this._dataController.store();n&&!n.key()&&this._dataController.fireError("E1042","Row focusing")}},_update(e){"updateFocusedRow"===e.changeType?this.option("focusedRowEnabled")&&this.getController("focus").updateFocusedRow(e):this.callBase(e)},updateFocusElementTabIndex(e,n){this.option("focusedRowEnabled")?this._setFocusedRowElementTabIndex(n):this.callBase(e)},_setFocusedRowElementTabIndex(e){var n=this.option("focusedRowKey"),t=this.option("tabIndex")||0,i=this._dataController,r=this._columnsController,o=i.getRowIndexByKey(n),s=this.option("focusedColumnIndex"),l=this._findRowElementForTabIndex();if(T(this._scrollToFocusOnResize)||(this._scrollToFocusOnResize=()=>{this.scrollToElementVertically(this._findRowElementForTabIndex()),this.resizeCompleted.remove(this._scrollToFocusOnResize)}),l.attr("tabIndex",t),o>=0&&!e&&(s<0&&(s=0),o+=i.getRowIndexOffset(),s+=r.getColumnIndexOffset(),this.getController("keyboardNavigation").setFocusedCellPosition(o,s),this.getController("focus").isAutoNavigateToFocusedRow())){var h=i.dataSource(),g=h&&h.operationTypes();g&&!g.paging&&!i.isPagingByRendering()&&(this.resizeCompleted.remove(this._scrollToFocusOnResize),this.resizeCompleted.add(this._scrollToFocusOnResize))}},_findRowElementForTabIndex(){var e=this.option("focusedRowKey"),n=this._dataController.getRowIndexByKey(e);return x(this.getRowElement(n>=0?n:0))},scrollToRowElement(e){var n=this.getController("data").getRowIndexByKey(e),t=x(this.getRow(n));return this.scrollToElementVertically(t)},scrollToElementVertically(e){var n=this.getScrollable();if(n&&e.length){var t=n.getScrollElementPosition(e,"vertical");return this.scrollTopPosition(t)}return(new W).resolve()},scrollTopPosition(e){var n=new W,t=this.getScrollable();if(t){var i=t.scrollTop(),r=()=>{t.off("scroll",r),n.resolve()};if(e!==i)return t.on("scroll",r),this._dataController.resetFilterApplying(),t.scrollTo({top:e}),n.promise()}return n.resolve()}}}}},kye=Number.MAX_SAFE_INTEGER||9007199254740991;Ge.registerModule("focus",A(!0,{},J6,{extenders:{controllers:{data:e=>class extends(e.inherit(J6.extenders.controllers.data)){changeRowExpand(n,t){if(this.option("focusedRowEnabled")&&Array.isArray(n)&&this.isRowExpanded(n)){var i=this.getController("keyboardNavigation");(!t||!i.isKeyboardEnabled())&&this._isFocusedRowInsideGroup(n)&&this.option("focusedRowKey",n)}return super.changeRowExpand(n,t)}_isFocusedRowInsideGroup(n){var t=this.getController("columns"),i=this.option("focusedRowKey"),r=this.getRowIndexByKey(i),o=r>=0&&this.getVisibleRows()[r],s=t.getGroupDataSourceParameters(!0);if(o)for(var l=0;l<n.length;++l)if(Yt(s[l]&&s[l].selector)(o.data)!==n[l])return!1;return!0}_getGroupPath(n,t){for(var i=[],r=[n];r&&r[0]&&t;){var o=r[0];void 0!==o.key&&i.push(o.key),r=o.items,t--}return i}_expandGroupByPath(n,t,i){var r=new W;return i++,n.expandRow(t.slice(0,i)).done(()=>{i===t.length?r.resolve():n._expandGroupByPath(n,t,i).done(r.resolve).fail(r.reject)}).fail(r.reject),r.promise()}_calculateGlobalRowIndexByGroupedData(n){var t=this,i=t._dataSource,r=t._generateFilterByKey(n),o=new W,s=Array.isArray(n),l=i.group();return s?o.resolve(-1).promise():i._grouping._updatePagingOptions?(i.load({filter:t._concatWithCombinedFilter(r),group:l}).done(h=>{if(!h||0===h.length||!T(h[0].key)||-1===h[0].key)return o.resolve(-1).promise();var g=t._getGroupPath(h[0],l.length);t._expandGroupByPath(t,g,0).done(()=>{t._calculateExpandedRowGlobalIndex(o,n,g,l)}).fail(o.reject)}).fail(o.reject),o.promise()):(t._calculateGlobalRowIndexByFlatData(n,null,!0).done(o.resolve).fail(o.reject),o)}_calculateExpandedRowGlobalIndex(n,t,i,r){var _,o=Ep(i,{group:r}),s=this._dataSource,l=this.option("scrolling.mode"),h="virtual"===l||"infinite"===l,g=s.pageSize();s._grouping._updatePagingOptions({skip:0,take:kye},(v,C)=>{Jt(v.path,i)&&(_=C)}),this._calculateGlobalRowIndexByFlatData(t,o).done(v=>{var C,b;v<0?n.resolve(-1):(C=(_%g||g)+v-i.length,b=h?0:Math.floor(C/(g-i.length))*i.length,n.resolve(C=_+v+b))}).fail(n.reject)}}}}}));var AV,Z_,X6=ut(),$a="dxDraggable",Lye=fe(ap,$a),Vye=fe(Vu,$a),Nye=fe(lp,$a),Hye=fe(pw,$a),zye=fe(gw,$a),Wye=fe(Rt.down,$a),$ye=fe("keydown",$a),RV=e=>({x:e.pageX-x(X6).scrollLeft(),y:e.pageY-x(X6).scrollTop()});class Q6{constructor(n,t){this._$scrollableAtPointer=null,this._preventScroll=!0,this._component=t,"vertical"===n?(this._scrollValue="scrollTop",this._overFlowAttr="overflowY",this._sizeAttr="height",this._scrollSizeProp="scrollHeight",this._clientSizeProp="clientHeight",this._limitProps={start:"top",end:"bottom"}):(this._scrollValue="scrollLeft",this._overFlowAttr="overflowX",this._sizeAttr="width",this._scrollSizeProp="scrollWidth",this._clientSizeProp="clientWidth",this._limitProps={start:"left",end:"right"})}updateScrollable(n,t){var i=!1;n.some(r=>{var o=x(r),s=o.hasClass("dx-overlay-wrapper"),l=o.hasClass("dx-overlay-content");return!(!s&&!l)||(i=this._trySetScrollable(r,t))}),i||(this._$scrollableAtPointer=null,this._scrollSpeed=0)}isScrolling(){return!!this._scrollSpeed}isScrollable(n){return("auto"===n.css(this._overFlowAttr)||n.hasClass("dx-scrollable-container"))&&n.prop(this._scrollSizeProp)>Math.ceil("width"===this._sizeAttr?Ze(n):gt(n))}_trySetScrollable(n,t){var r,i=x(n),o=this._component.option("scrollSensitivity"),s=this.isScrollable(i);return s&&(o>(r=this._calculateDistanceToBorders(i,t))[this._limitProps.start]?this._preventScroll||(this._scrollSpeed=-this._calculateScrollSpeed(r[this._limitProps.start]),this._$scrollableAtPointer=i):o>r[this._limitProps.end]?this._preventScroll||(this._scrollSpeed=this._calculateScrollSpeed(r[this._limitProps.end]),this._$scrollableAtPointer=i):(s=!1,this._preventScroll=!1)),s}_calculateDistanceToBorders(n,t){var r,i=n.get(0);return i?(r=Zn(i),{left:t.x-r.left,top:t.y-r.top,right:r.right-t.x,bottom:r.bottom-t.y}):{}}_calculateScrollSpeed(n){var t=this._component,i=t.option("scrollSensitivity"),r=t.option("scrollSpeed");return Math.ceil(Math.pow((i-n)/i,2)*r)}scrollByStep(){if(this._$scrollableAtPointer&&this._scrollSpeed){if(this._$scrollableAtPointer.hasClass("dx-scrollable-container")){var n=this._$scrollableAtPointer.closest(".dx-scrollable"),t=n.data("dxScrollable")||n.data("dxScrollView");if(t){var i=t.scrollOffset()[this._limitProps.start]+this._scrollSpeed;t.scrollTo({[this._limitProps.start]:i})}}else{var r=this._$scrollableAtPointer[this._scrollValue]()+this._scrollSpeed;this._$scrollableAtPointer[this._scrollValue](r)}var o=this._component._dragMoveArgs;o&&this._component._dragMoveHandler(o)}}reset(){this._$scrollableAtPointer=null,this._scrollSpeed=0,this._preventScroll=!0}isOutsideScrollable(n,t){if(!n)return!1;var i=Zn(n.get(0)),r=i[this._limitProps.start],o=i[this._sizeAttr],s=RV(t),l="width"===this._sizeAttr?s.x:s.y;return l<r||l>r+o}}var Yye=OG.inherit({ctor(e){this.callBase(),this._strategy=e},_step(){var e=this._strategy._horizontalScrollHelper,n=this._strategy._verticalScrollHelper;e&&e.scrollByStep(),n&&n.scrollByStep()}}),eq=Ta.inherit({reset:U,dragMove:U,dragEnter:U,dragLeave:U,dragEnd(e){return this._getSourceDraggable()._fireRemoveEvent(e),W().resolve()},_fireRemoveEvent:U,_getDefaultOptions(){return A(this.callBase(),{onDragStart:null,onDragMove:null,onDragEnd:null,onDragEnter:null,onDragLeave:null,onDragCancel:null,onCancelByEsc:!1,onDrop:null,immediate:!0,dragDirection:"both",boundary:void 0,boundOffset:0,allowMoveByClick:!1,itemData:null,container:void 0,dragTemplate:void 0,contentTemplate:"content",handle:"",filter:"",clone:!1,autoScroll:!0,scrollSpeed:30,scrollSensitivity:60,group:void 0,data:void 0})},_setOptionsByReference(){this.callBase.apply(this,arguments),A(this._optionsByReference,{component:!0,group:!0,itemData:!0,data:!0})},_init(){this.callBase(),this._attachEventHandlers(),this._scrollAnimator=new Yye(this),this._horizontalScrollHelper=new Q6("horizontal",this),this._verticalScrollHelper=new Q6("vertical",this),this._initScrollTop=0,this._initScrollLeft=0},_normalizeCursorOffset:e=>(qe(e)&&(e={h:e.x,v:e.y}),{left:(e=_l(e).map(n=>parseFloat(n)))[0],top:1===e.length?e[0]:e[1]}),_getNormalizedCursorOffset(e,n){return Re(e)&&(e=e.call(this,n)),this._normalizeCursorOffset(e)},_calculateElementOffset(e){var n,t,{event:i}=e,r=x(e.itemElement),o=x(e.dragElement),s=this._dragElementIsCloned(),l=this.option("cursorOffset"),h={left:0,top:0},g=this._initialLocate=is(o);return(s||e.initialOffset||l)&&(n=e.initialOffset||r.offset(),l&&(h=this._getNormalizedCursorOffset(l,e),isFinite(h.left)&&(n.left=i.pageX),isFinite(h.top)&&(n.top=i.pageY)),t=o.offset(),n.top-=t.top+(h.top||0)-g.top,n.left-=t.left+(h.left||0)-g.left),n},_initPosition(e){var n=x(e.dragElement),t=this._calculateElementOffset(e);t&&this._move(t,n),this._startPosition=is(n)},_startAnimator(){this._scrollAnimator.inProgress()||this._scrollAnimator.start()},_stopAnimator(){this._scrollAnimator.stop()},_addWidgetPrefix(e){return sC(this.NAME)+(e?"-".concat(e):"")},_getItemsSelector(){return this.option("filter")||""},_$content(){var e=this.$element(),n=e.children(".dx-template-wrapper");return n.length?n:e},_attachEventHandlers(){if(!this.option("disabled")){var e=this._$content(),n=this._getItemsSelector(),t=this.option("allowMoveByClick"),i={direction:this.option("dragDirection"),immediate:this.option("immediate"),checkDropTarget:(r,o)=>{var s=this.option("group"),l=this._getSourceDraggable().option("group"),h=this._getScrollable(r);return!this._verticalScrollHelper.isOutsideScrollable(h,o)&&!this._horizontalScrollHelper.isOutsideScrollable(h,o)&&l&&l===s}};t&&(e=this._getArea(),R.on(e,Wye,i,this._pointerDownHandler.bind(this))),">"===n[0]&&(n=n.slice(1)),R.on(e,Lye,n,i,this._dragStartHandler.bind(this)),R.on(e,Vye,i,this._dragMoveHandler.bind(this)),R.on(e,Nye,i,this._dragEndHandler.bind(this)),R.on(e,Hye,i,this._dragEnterHandler.bind(this)),R.on(e,zye,i,this._dragLeaveHandler.bind(this)),this.option("onCancelByEsc")&&R.on(e,$ye,this._keydownHandler.bind(this))}},_dragElementIsCloned(){return this._$dragElement&&this._$dragElement.hasClass(this._addWidgetPrefix("clone"))},_getDragTemplateArgs(e,n){return{container:Ke(n),model:{itemData:this.option("itemData"),itemElement:Ke(e)}}},_createDragElement(e){var n=e,t=this.option("clone"),i=this._getContainer(),r=this.option("dragTemplate");return r?(r=this._getTemplate(r),n=x("<div>").appendTo(i),r.render(this._getDragTemplateArgs(e,n))):t&&(n=x("<div>").appendTo(i),e.clone().css({width:e.css("width"),height:e.css("height")}).appendTo(n)),n.toggleClass(this._addWidgetPrefix("clone"),n.get(0)!==e.get(0)).toggleClass("dx-rtl",this.option("rtlEnabled"))},_resetDragElement(){this._dragElementIsCloned()?this._$dragElement.remove():this._toggleDraggingClass(!1),this._$dragElement=null},_resetSourceElement(){this._toggleDragSourceClass(!1),this._$sourceElement=null},_detachEventHandlers(){R.off(this._$content(),".".concat($a)),R.off(this._getArea(),".".concat($a))},_move(e,n){Mi(n||this._$dragElement,e)},_getDraggableElement(e){var n=this._getSourceElement();if(n)return n;if(this.option("allowMoveByClick"))return this.$element();var i=x(e&&e.target),r=this._getItemsSelector();if(">"===r[0]){var o=this._$content().find(r);o.is(i)||(i=i.closest(o))}return i},_getSourceElement(){return this._getSourceDraggable()._$sourceElement},_pointerDownHandler(e){if(!zR(e)){var n={},t=this.$element(),i=this.option("dragDirection");("horizontal"===i||"both"===i)&&(n.left=e.pageX-t.offset().left+is(t).left-Ze(t)/2),("vertical"===i||"both"===i)&&(n.top=e.pageY-t.offset().top+is(t).top-gt(t)/2),this._move(n,t),this._getAction("onDragMove")(this._getEventArgs(e))}},_isValidElement(e,n){var t=this.option("handle"),i=x(e.originalEvent&&e.originalEvent.target);return!(t&&!i.closest(t).length||!n.length||n.is(".dx-state-disabled, .dx-state-disabled *"))},_dragStartHandler(e){var n=this._getDraggableElement(e);if(this.dragInProgress=!0,this._isValidElement(e,n)){if(!this._$sourceElement){var t=this._getDragStartArgs(e,n);if(this._getAction("onDragStart")(t),t.cancel)return void(e.cancel=!0);this.option("itemData",t.itemData),this._setSourceDraggable(),this._$sourceElement=n;var i=n.offset();!this._hasClonedDraggable()&&this.option("autoScroll")&&(this._initScrollTop=this._getScrollableScrollTop(),this._initScrollLeft=this._getScrollableScrollLeft(),i=this._getDraggableElementOffset(i.left,i.top));var r=this._$dragElement=this._createDragElement(n);this._toggleDraggingClass(!0),this._toggleDragSourceClass(!0),this._setGestureCoverCursor(r.children());var o="fixed"===r.css("position");this._initPosition(A({},t,{dragElement:r.get(0),initialOffset:o&&i})),this._getAction("onDraggableElementShown")(de(de({},t),{dragElement:r}));var s=this._getArea(),l=this._getAreaOffset(s),h=this._getBoundOffset(),g=wt(s),_=_t(s),v=Ze(r),C=gt(r),b=r.offset().left-l.left,E=r.offset().top-l.top;s.length&&(e.maxLeftOffset=b-h.left,e.maxRightOffset=g-b-v-h.right,e.maxTopOffset=E-h.top,e.maxBottomOffset=_-E-C-h.bottom),this.option("autoScroll")&&this._startAnimator()}}else e.cancel=!0},_getAreaOffset:e=>e&&Ns.offset(e)||{left:0,top:0},_toggleDraggingClass(e){this._$dragElement&&this._$dragElement.toggleClass(this._addWidgetPrefix("dragging"),e)},_toggleDragSourceClass(e,n){var t=n||this._$sourceElement;t&&t.toggleClass(this._addWidgetPrefix("source"),e)},_setGestureCoverCursor(e){x(".".concat("dx-gesture-cover")).css("cursor",e.css("cursor"))},_getBoundOffset(){var e=this.option("boundOffset");return Re(e)&&(e=e.call(this)),function(e){var n=function(e){switch(typeof e){case"string":return e.split(/\s+/,4);case"object":return[e.x||e.h||e.left,e.y||e.v||e.top,e.x||e.h||e.right,e.y||e.v||e.bottom];case"number":return[e];default:return e}}(e),t=parseInt(n&&n[0],10),i=parseInt(n&&n[1],10),r=parseInt(n&&n[2],10),o=parseInt(n&&n[3],10);return isFinite(t)||(t=0),isFinite(i)||(i=t),isFinite(r)||(r=t),isFinite(o)||(o=i),{top:i,right:r,bottom:o,left:t}}(e)},_getArea(){var e=this.option("boundary");return Re(e)&&(e=e.call(this)),x(e)},_getContainer(){var e=this.option("container");return void 0===e&&(e=ks()),x(e)},_getDraggableElementOffset(e,n){var t,i,r,o,s=this._initScrollTop,l=this._initScrollLeft,h=this._getScrollableScrollTop(),g=this._getScrollableScrollLeft(),_=x(this.element()).css("position"),C={left:(null!==(i=null===(t=this._startPosition)||void 0===t?void 0:t.left)&&void 0!==i?i:0)+e,top:(null!==(o=null===(r=this._startPosition)||void 0===r?void 0:r.top)&&void 0!==o?o:0)+n};return"fixed"===_||this._hasClonedDraggable()?C:{left:Vt(g)?C.left+g-l:C.left,top:Vt(h)?C.top+h-s:C.top}},_hasClonedDraggable(){return this.option("clone")||this.option("dragTemplate")},_dragMoveHandler(e){if(this._dragMoveArgs=e,this._$dragElement){var n=this._getDraggableElementOffset(e.offset.x,e.offset.y);this._move(n),this._updateScrollable(e);var t=this._getEventArgs(e);this._getAction("onDragMove")(t),!0!==t.cancel&&this._getTargetDraggable().dragMove(e,scrollBy)}else e.cancel=!0},_updateScrollable(e){if(this.option("autoScroll")){var n=RV(e),t=se.elementsFromPoint(n.x,n.y,this.$element().get(0));this._verticalScrollHelper.updateScrollable(t,n),this._horizontalScrollHelper.updateScrollable(t,n)}},_getScrollable(e){var n;return e.parents().toArray().some(t=>{var i=x(t);return!(!this._horizontalScrollHelper.isScrollable(i)&&!this._verticalScrollHelper.isScrollable(i)||(n=i,0))}),n},_getScrollableScrollTop(){var e,n;return null!==(n=null===(e=this._getScrollable(x(this.element())))||void 0===e?void 0:e.scrollTop())&&void 0!==n?n:0},_getScrollableScrollLeft(){var e,n;return null!==(n=null===(e=this._getScrollable(x(this.element())))||void 0===e?void 0:e.scrollLeft())&&void 0!==n?n:0},_defaultActionArgs(){var e=this.callBase.apply(this,arguments),n=this.option("component");return n&&(e.component=n,e.element=n.element()),e},_getEventArgs(e){var n=this._getSourceDraggable(),t=this._getTargetDraggable();return{event:e,itemData:n.option("itemData"),itemElement:Ke(n._$sourceElement),fromComponent:n.option("component")||n,toComponent:t.option("component")||t,fromData:n.option("data"),toData:t.option("data")}},_getDragStartArgs(e,n){var t=this._getEventArgs(e);return{event:t.event,itemData:t.itemData,itemElement:n,fromData:t.fromData}},_revertItemToInitialPosition(){!this._dragElementIsCloned()&&this._move(this._initialLocate,this._$sourceElement)},_dragEndHandler(e){var n=W(),t=this._getEventArgs(e),i=this._getEventArgs(e),r=this._getTargetDraggable(),o=!0;this.dragInProgress=!1;try{this._getAction("onDragEnd")(t)}finally{ke(Gn(t.cancel)).done(s=>{if(!s&&(r!==this&&r._getAction("onDrop")(i),!i.cancel))return o=!1,void ke(Gn(r.dragEnd(t))).always(n.resolve);n.resolve()}).fail(n.resolve),n.done(()=>{o&&this._revertItemToInitialPosition(),this._resetDragOptions(r)})}},_isTargetOverAnotherDraggable(e){var n=this._getSourceDraggable();if(this===n)return!1;var t=n._$dragElement,i=n.$element(),r=this.$element(),o=RV(e),l=se.elementsFromPoint(o.x,o.y,this.element()).filter(v=>{var C=x(v);return!!C.hasClass(this._addWidgetPrefix())&&!C.closest(t).length})[0],h=this._getSourceElement(),g=l===i.get(0),_=x(l).closest(h).length;return!l||l===r.get(0)&&!g&&!_},_dragEnterHandler(e){this._fireDragEnterEvent(e),this._isTargetOverAnotherDraggable(e)&&this._setTargetDraggable(),this._getSourceDraggable().dragEnter(e)},_dragLeaveHandler(e){this._fireDragLeaveEvent(e),this._resetTargetDraggable(),this!==this._getSourceDraggable()&&this.reset(),this._getSourceDraggable().dragLeave(e)},_keydownHandler(e){this.dragInProgress&&"Escape"===e.key&&this._keydownEscapeHandler(e)},_keydownEscapeHandler(e){if(this._getSourceElement()){var t=this._getEventArgs(e);if(this._getAction("onDragCancel")(t),!t.cancel){this.dragInProgress=!1,Z_?._toggleDraggingClass(!1),this._detachEventHandlers(),this._revertItemToInitialPosition();var i=this._getTargetDraggable();this._resetDragOptions(i),this._attachEventHandlers()}}},_getAction(e){return this["_".concat(e,"Action")]||this._createActionByOption(e)},_getAnonymousTemplateName:()=>"content",_initTemplates(){this.option("contentTemplate")&&(this._templateManager.addDefaultTemplates({content:new Bs}),this.callBase.apply(this,arguments))},_render(){this.callBase(),this.$element().addClass(this._addWidgetPrefix());var e=this._templateManager.anonymousTemplateName===this.option("contentTemplate"),n=this._getTemplateByOption("contentTemplate");n&&x(n.render({container:this.element(),transclude:e}))},_optionChanged(e){var{name:n}=e;switch(n){case"onDragStart":case"onDragMove":case"onDragEnd":case"onDrop":case"onDragEnter":case"onDragLeave":case"onDragCancel":case"onDraggableElementShown":this["_".concat(n,"Action")]=this._createActionByOption(n);break;case"dragTemplate":case"contentTemplate":case"container":case"clone":case"scrollSensitivity":case"scrollSpeed":case"boundOffset":case"handle":case"group":case"data":case"itemData":break;case"allowMoveByClick":case"dragDirection":case"disabled":case"boundary":case"filter":case"immediate":this._resetDragElement(),this._detachEventHandlers(),this._attachEventHandlers();break;case"onCancelByEsc":this._keydownHandler();break;case"autoScroll":this._verticalScrollHelper.reset(),this._horizontalScrollHelper.reset();break;default:this.callBase(e)}},_getTargetDraggable(){return AV||this},_getSourceDraggable(){return Z_||this},_setTargetDraggable(){var e=this.option("group"),n=this._getSourceDraggable();e&&e===n.option("group")&&(AV=this)},_setSourceDraggable(){Z_=this},_resetSourceDraggable(){Z_=null},_resetTargetDraggable(){AV=null},_resetDragOptions(e){this.reset(),e.reset(),this._stopAnimator(),this._horizontalScrollHelper.reset(),this._verticalScrollHelper.reset(),this._resetDragElement(),this._resetSourceElement(),this._resetTargetDraggable(),this._resetSourceDraggable()},_dispose(){this.callBase(),this._detachEventHandlers(),this._resetDragElement(),this._resetTargetDraggable(),this._resetSourceDraggable(),this._$sourceElement=null,this._stopAnimator()},_fireDragEnterEvent(e){var n=this._getEventArgs(e);this._getAction("onDragEnter")(n)},_fireDragLeaveEvent(e){var n=this._getEventArgs(e);this._getAction("onDragLeave")(n)}});Dt($a,eq);const qye=eq;var tq=ut(),nq="placeholder",iq=e=>x(e).is(":visible"),Zye=(e,n)=>{var t,i;if(e){var r=(null===(t=n.to)||void 0===t?void 0:t.left)||0,o=(null===(i=n.to)||void 0===i?void 0:i.top)||0;e.style.transform="translate(".concat(r,"px,").concat(o,"px)"),e.style.transition=An.off?"":"transform ".concat(n.duration,"ms ").concat(n.easing)}},Qye=e=>{e&&(e.style.transform="",e.style.transition="")},rq=qye.inherit({_init(){this.callBase(),this._sourceScrollHandler=this._handleSourceScroll.bind(this),this._sourceScrollableInfo=null},_getDefaultOptions(){return A(this.callBase(),{clone:!0,filter:"> *",itemOrientation:"vertical",dropFeedbackMode:"push",allowDropInsideItem:!1,allowReordering:!0,moveItemOnDrop:!1,onDragChange:null,onAdd:null,onRemove:null,onReorder:null,onPlaceholderPrepared:null,animation:{type:"slide",duration:300,easing:"ease"},fromIndex:null,toIndex:null,dropInsideItem:!1,itemPoints:null,fromIndexOffset:0,offset:0,autoUpdate:!1,draggableElementSize:0})},reset(){this.option({dropInsideItem:!1,toIndex:null,fromIndex:null,itemPoints:null,fromIndexOffset:0,draggableElementSize:0}),this._$placeholderElement&&this._$placeholderElement.remove(),this._$placeholderElement=null,!this._isIndicateMode()&&this._$modifiedItem&&(this._$modifiedItem.css("marginBottom",this._modifiedItemMargin),this._$modifiedItem=null)},_getPrevVisibleItem:(e,n)=>e.slice(0,n).reverse().filter(iq)[0],_dragStartHandler(e){if(this.callBase.apply(this,arguments),!0!==e.cancel){var n=this._getSourceElement();this._updateItemPoints(),this._subscribeToSourceScroll(e),this.option("fromIndex",this._getElementIndex(n)),this.option("fromIndexOffset",this.option("offset"))}},_subscribeToSourceScroll(e){var n=this._getScrollable(x(e.target));n&&(this._sourceScrollableInfo={element:n,scrollLeft:n.scrollLeft(),scrollTop:n.scrollTop()},R.off(n,"scroll",this._sourceScrollHandler),R.on(n,"scroll",this._sourceScrollHandler))},_unsubscribeFromSourceScroll(){this._sourceScrollableInfo&&(R.off(this._sourceScrollableInfo.element,"scroll",this._sourceScrollHandler),this._sourceScrollableInfo=null)},_handleSourceScroll(e){var n=this._sourceScrollableInfo;n&&["scrollLeft","scrollTop"].forEach(t=>{e.target[t]!==n[t]&&(this._correctItemPoints(e.target[t]-n[t]),this._movePlaceholder(),n[t]=e.target[t])})},_dragEnterHandler(e){if(this.callBase.apply(this,arguments),this!==this._getSourceDraggable()&&(this._subscribeToSourceScroll(e),this._updateItemPoints(),this.option("fromIndex",-1),!this._isIndicateMode())){var n=this.option("itemPoints"),t=n[n.length-1];if(t){var i=this.$element(),r=this._getSourceElement(),o=this._isVerticalOrientation(),s=o?_t(r,!0):wt(r,!0),l=i.get(0)[o?"scrollHeight":"scrollWidth"],h=i.get(0)[o?"scrollTop":"scrollLeft"],g=o?"top":"left",_=t[g],C=i.offset()[g]+l-h-_;if(C<s&&o){var b=this._getItems(),E=x(this._getPrevVisibleItem(b));this._$modifiedItem=E,this._modifiedItemMargin=E.get(0).style.marginBottom,E.css("marginBottom",s-C);var w=E.closest(".dx-sortable"),M=w.data("dxScrollable")||w.data("dxScrollView");M&&M.update()}}}},_dragLeaveHandler(){this.callBase.apply(this,arguments),this!==this._getSourceDraggable()&&this._unsubscribeFromSourceScroll()},dragEnter(){this!==this._getTargetDraggable()&&this.option("toIndex",-1)},dragLeave(){this!==this._getTargetDraggable()&&this.option("toIndex",this.option("fromIndex"))},_allowDrop(e){var t=this._getTargetDraggable().$element(),i=this._getScrollable(t);if(i){var{left:r,right:o,top:s,bottom:l}=function exe(e){var n=e.offset(),{style:t}=e[0],i=parseFloat(t.paddingLeft)||0,r=parseFloat(t.paddingRight)||0,o=parseFloat(t.paddingTop)||0,s=e[0].clientWidth-(i+r),l=gt(e),h=n.left+i,g=n.top+o;return{left:h,right:h+s,top:g,bottom:g+l}}(i),h=this.option("toIndex"),g=this.option("itemPoints"),_=g?.filter(C=>C.index===h)[0];if(_&&void 0!==_.top)return this._isVerticalOrientation()?s<=Math.ceil(_.top)&&Math.floor(_.top)<=l:r<=Math.ceil(_.left)&&Math.floor(_.left)<=o}return!0},dragEnd(e){this._unsubscribeFromSourceScroll();var l,h,n=this._getSourceElement(),t=this._getSourceDraggable(),i=t.NAME!==this.NAME,r=this.option("toIndex"),{event:o}=e,s=this._allowDrop(o);return null!==r&&r>=0&&s&&(t!==this&&((l=this._fireAddEvent(o))||(h=this._fireRemoveEvent(o))),i&&zy(n),this.option("moveItemOnDrop")&&!l&&this._moveItem(n,r,h),t===this)?this._fireReorderEvent(o):W().resolve()},dragMove(e){var n=this.option("itemPoints");if(n){for(var s,t=this._isVerticalOrientation(),i=t?"top":"left",r=t?e.pageY:e.pageX,o=this.option("rtlEnabled"),l=n.length-1;l>=0;l--){var h=n[l+1]&&(n[l][i]+n[l+1][i])/2;if(!(!t&&o?r>h:h>r)&&void 0!==h)break;s=n[l]}s&&(this._updatePlaceholderPosition(e,s),this._verticalScrollHelper.isScrolling()&&this._isIndicateMode()&&this._movePlaceholder())}},_isIndicateMode(){return"indicate"===this.option("dropFeedbackMode")||this.option("allowDropInsideItem")},_createPlaceholder(){var e;return this._isIndicateMode()&&(e=x("<div>").addClass(this._addWidgetPrefix(nq)).insertBefore(this._getSourceDraggable()._$dragElement)),this._$placeholderElement=e,e},_getItems(){var e=this._getItemsSelector();return this._$content().find(e).not(".".concat(this._addWidgetPrefix(nq))).not(".".concat(this._addWidgetPrefix("clone"))).toArray()},_allowReordering(){return this._getSourceDraggable()!==this._getTargetDraggable()||this.option("allowReordering")},_isValidPoint(e,n,t){var i=this.option("allowDropInsideItem");return!!(t||this._allowReordering()||0===e&&i)&&(!this._isIndicateMode()||-1===n||e!==n&&(t||e!==n+1))},_getItemPoints(){var n,t,i,e=[],r=this.option("rtlEnabled"),o=this._isVerticalOrientation(),s=this._getItems(),l=s.filter(iq),h=l.length,g=this._getDraggableElement(),_=l.indexOf(g.get(0));if(h){for(var v=0;v<=h;v++){var C=!o&&r^v===h,b=o&&v===h;v<h&&(t=(n=x(l[v])).offset(),i=wt(n)),e.push({dropInsideItem:!1,left:t.left+(C?i:0),top:t.top+(b?e[v-1].height:0),index:v===h?s.length:s.indexOf(n.get(0)),$item:n,width:wt(n),height:_t(n),isValid:this._isValidPoint(v,_)})}if(this.option("allowDropInsideItem")){var E=e;e=[];for(var w=0;w<E.length;w++)e.push(E[w]),E[w+1]&&e.push(A({},E[w],{dropInsideItem:!0,top:Math.floor((E[w].top+E[w+1].top)/2),left:Math.floor((E[w].left+E[w+1].left)/2),isValid:this._isValidPoint(w,_,!0)}))}}else e.push({dropInsideItem:!1,index:0,isValid:!0});return e},_updateItemPoints(e){(e||this.option("autoUpdate")||!this.option("itemPoints"))&&this.option("itemPoints",this._getItemPoints())},_correctItemPoints(e){var n=this.option("itemPoints");if(e&&n&&!this.option("autoUpdate")){var i=this._isVerticalOrientation()?"top":"left";n.forEach(r=>{r[i]-=e})}},_getElementIndex(e){return this._getItems().indexOf(e.get(0))},_getDragTemplateArgs(e){var n=this.callBase.apply(this,arguments);return n.model.fromIndex=this._getElementIndex(e),n},_togglePlaceholder(e){this._$placeholderElement&&this._$placeholderElement.toggle(e)},_isVerticalOrientation(){return"vertical"===this.option("itemOrientation")},_normalizeToIndex(e,n){var t=this._getSourceDraggable()!==this._getTargetDraggable(),i=this._getActualFromIndex();return null===e?i:Math.max(t||i>=e||n?e:e-1,0)},_updatePlaceholderPosition(e,n){var t=this._getSourceDraggable(),i=this._normalizeToIndex(n.index,n.dropInsideItem),r=A(this._getEventArgs(e),{toIndex:i,dropInsideItem:n.dropInsideItem});n.isValid&&this._getAction("onDragChange")(r),!r.cancel&&n.isValid?(this.option({dropInsideItem:n.dropInsideItem,toIndex:n.index}),this._getAction("onPlaceholderPrepared")(A(this._getEventArgs(e),{placeholderElement:Ke(this._$placeholderElement),dragElement:Ke(t._$dragElement)})),this._updateItemPoints()):n.isValid||this.option({dropInsideItem:!1,toIndex:null})},_makeWidthCorrection(e,n){if(this._$scrollable=this._getScrollable(e),this._$scrollable){var t=Ze(this._$scrollable),i=this._$scrollable.offset().left-e.offset().left,r=wt(e)-i-t;i>0&&(n-=i),r>0&&(n-=r)}return n},_updatePlaceholderSizes(e,n){var t=this.option("dropInsideItem"),i=x(n),r=this._isVerticalOrientation(),o="",s="";e.toggleClass(this._addWidgetPrefix("placeholder-inside"),t),(r||t)&&(o=wt(i)),(!r||t)&&(s=_t(i)),o=this._makeWidthCorrection(i,o),e.css({width:o,height:s})},_moveItem(e,n,t){var i,r=this._getItems(),o=r[n],s=this._getSourceDraggable();t&&(e=e.clone(),s._toggleDragSourceClass(!1,e)),o||(i=r[n-1]),this._moveItemCore(e,o,i)},_moveItemCore(e,n,t){n||t?t?e.insertAfter(x(t)):e.insertBefore(x(n)):e.appendTo(this.$element())},_getDragStartArgs(e,n){return A(this.callBase.apply(this,arguments),{fromIndex:this._getElementIndex(n)})},_getEventArgs(e){var n=this._getSourceDraggable(),t=this._getTargetDraggable(),i=t.option("dropInsideItem");return A(this.callBase.apply(this,arguments),{fromIndex:n.option("fromIndex"),toIndex:this._normalizeToIndex(t.option("toIndex"),i),dropInsideItem:i})},_optionChanged(e){var{name:n}=e;switch(n){case"onDragChange":case"onPlaceholderPrepared":case"onAdd":case"onRemove":case"onReorder":this["_".concat(n,"Action")]=this._createActionByOption(n);break;case"itemOrientation":case"allowDropInsideItem":case"moveItemOnDrop":case"dropFeedbackMode":case"itemPoints":case"animation":case"allowReordering":case"fromIndexOffset":case"offset":case"draggableElementSize":case"autoUpdate":break;case"fromIndex":[!1,!0].forEach(t=>{var i=t?e.value:e.previousValue;if(null!==i){var r=x(this._getItems()[i]);this._toggleDragSourceClass(t,r)}});break;case"dropInsideItem":this._optionChangedDropInsideItem(e);break;case"toIndex":this._optionChangedToIndex(e);break;default:this.callBase(e)}},_optionChangedDropInsideItem(){this._isIndicateMode()&&this._$placeholderElement&&this._movePlaceholder()},_isPositionVisible(e){var t,n=this.$element();if("hidden"!==n.css("overflow")?t=n.get(0):n.parents().each(function(){if("visible"!==x(this).css("overflow"))return t=this,!1}),t){var i=Zn(t),r=this._isVerticalOrientation(),o=r?"top":"left",l=r?tq.pageYOffset:tq.pageXOffset;if(e[o]<i[o]+l||e[o]>i[r?"bottom":"right"]+l)return!1}return!0},_optionChangedToIndex(e){var n=e.value;if(this._isIndicateMode()){var t=null!==n&&n>=0;this._togglePlaceholder(t),t&&this._movePlaceholder()}else this._moveItems(e.previousValue,e.value,e.fullUpdate)},update(){if(null!==this.option("fromIndex")||null!==this.option("toIndex")){this._updateItemPoints(!0),this._updateDragSourceClass();var e=this.option("toIndex");this._optionChangedToIndex({value:e,fullUpdate:!0})}},_updateDragSourceClass(){var e=this._getActualFromIndex(),n=x(this._getItems()[e]);n.length&&(this._$sourceElement=n,this._toggleDragSourceClass(!0,n))},_makeLeftCorrection(e){var n=this._$scrollable;if(n&&this._isVerticalOrientation()){var t=n.offset().left-e;t>0&&(e+=t)}return e},_movePlaceholder(){var e=this._$placeholderElement||this._createPlaceholder();if(e){var n=this._getItems(),t=this.option("toIndex"),i=this._isVerticalOrientation(),r=this.option("rtlEnabled"),o=this.option("dropInsideItem"),s=null,l=n[t];if(l){var h=x(l);s=h.offset(),!i&&r&&!o&&(s.left+=wt(h,!0))}else{var g=l=this._getPrevVisibleItem(n,t);g&&(s=x(g).offset(),i?s.top+=_t(g,!0):r||(s.left+=wt(g,!0)))}if(this._updatePlaceholderSizes(e,l),s&&!this._isPositionVisible(s)&&(s=null),s){var _=i&&t===n.length,v=_t(e);s.left=this._makeLeftCorrection(s.left),s.top=_&&s.top>=v?s.top-v:s.top,this._move(s,e)}e.toggle(!!s)}},_getPositions(e,n,t,i){for(var r=[],o=0;o<e.length;o++){var s=0;null!==i&&null!==t?(-1===t?o>=i&&(s=n):-1===i?o>t&&(s=-n):t<i?o>t&&o<i&&(s=-n):t>i&&o>=i&&o<t&&(s=n),r.push(s)):r.push(s)}return r},_getDraggableElementSize(e){var n=this._getDraggableElement(),t=this.option("draggableElementSize");return t||(t=e?(_t(n)+_t(n,!0))/2:(wt(n)+wt(n,!0))/2,this.option("autoUpdate")||this.option("draggableElementSize",t)),t},_getActualFromIndex(){var{fromIndex:e,fromIndexOffset:n,offset:t}=this.option();return null==e?null:e+n-t},_moveItems(e,n,t){for(var i=this._getActualFromIndex(),r=this._isVerticalOrientation(),o=r?"top":"left",s=this._getDraggableElementSize(r),l=this._getItems(),h=this._getPositions(l,s,i,e),g=this._getPositions(l,s,i,n),_=this.option("animation"),v=this.option("rtlEnabled"),C=0;C<l.length;C++){var b=l[C],E=h[C],w=g[C];null===n||null===i?Qye(b):(E!==w||t&&w)&&Zye(b,A({},_,{to:{[o]:!r&&v?-w:w}}))}},_toggleDragSourceClass(e,n){var t=n||this._$sourceElement;this.callBase.apply(this,arguments),this._isIndicateMode()||t&&t.toggleClass(this._addWidgetPrefix("source-hidden"),e)},_dispose(){this.reset(),this.callBase()},_fireAddEvent(e){var n=this._getEventArgs(e);return this._getAction("onAdd")(n),n.cancel},_fireRemoveEvent(e){var n=this._getSourceDraggable(),t=this._getEventArgs(e);return n._getAction("onRemove")(t),t.cancel},_fireReorderEvent(e){var n=this._getEventArgs(e);return this._getAction("onReorder")(n),n.promise||W().resolve()}});Dt("dxSortable",rq);const txe=rq;var oxe={init(){this.callBase.apply(this,arguments),this._updateHandleColumn()},_allowReordering(){var e=this.option("rowDragging");return!(!e||!(e.allowReordering||e.allowDropInsideItem||e.group))},_updateHandleColumn(){var e=this.option("rowDragging"),n=this._allowReordering(),t=this._columnsController,i=n&&e.showDragIcons;t&&t.addCommandColumn({type:"drag",command:"drag",visibleIndex:-2,alignment:"center",cssClass:"dx-command-drag",width:"auto",cellTemplate:this._getHandleTemplate(),visible:i}),t.columnOption("type:drag","visible",i)},_renderContent(){var e=this.option("rowDragging"),n=this._allowReordering(),t=this.callBase.apply(this,arguments),i=this._isFixedTableRendering,r=i?"_sortableFixed":"_sortable",o=i?"_sortable":"_sortableFixed",s=g=>{var _;null===(_=this._sortableFixed)||void 0===_||_.$element().css("pointerEvents",g?"auto":"")},l=".dx-row:not(.dx-freespace-row):not(.dx-virtual-row):not(.dx-header-row):not(.dx-footer-row)",h=this.option("dataRowTemplate")?"> table > tbody".concat(l):"> table > tbody > ".concat(l);return(n||this[r])&&t.length&&(this[r]=this._createComponent(t,txe,A({component:this.component,contentTemplate:null,filter:h,cursorOffset:g=>{var{event:_}=g,v=x(this.element()).offset();return{x:_.pageX-v.left}},onDraggableElementShown:g=>{if(!e.dragTemplate){var v=x(g.dragElement).children(".dx-widget").data(this.component.NAME);this._synchronizeScrollLeftPosition(v)}},dragTemplate:this._getDraggableRowTemplate(),handle:e.showDragIcons&&".".concat("dx-command-drag"),dropFeedbackMode:"indicate"},e,{onDragStart:g=>{var _,v;null===(_=this.getController("keyboardNavigation"))||void 0===_||_._resetFocusedCell();var C=g.component.getVisibleRows()[g.fromIndex];g.itemData=C&&C.data,g.cancel=!n||!(C&&"data"===C.rowType),null===(v=e.onDragStart)||void 0===v||v.call(e,g)},onDragEnter:()=>{s(!0)},onDragLeave:()=>{s(!1)},onDragEnd:g=>{var _;s(!1),null===(_=e.onDragEnd)||void 0===_||_.call(e,g)},onAdd:g=>{var _;s(!1),null===(_=e.onAdd)||void 0===_||_.call(e,g)},dropFeedbackMode:e.dropFeedbackMode,onOptionChanged:g=>{this._sortableFixed&&("fromIndex"===g.name||"toIndex"===g.name)&&this[o].option(g.name,g.value)}})),t.toggleClass("dx-scrollable-container",i),t.toggleClass("dx-sortable-without-handle",n&&!e.showDragIcons)),t},_renderCore(e){this.callBase.apply(this,arguments),e&&"update"===e.changeType&&e.repaintChangesOnly&&xe.isVirtualRowRendering(this)&&er(()=>{this._updateSortable()})},_updateSortable(){var e=this._dataController.getRowIndexOffset();[this._sortable,this._sortableFixed].forEach(n=>{n?.option("offset",e),n?.update()})},_resizeCore(){this.callBase.apply(this,arguments),this._updateSortable()},_getDraggableGridOptions(e){var n=this.option(),t=this.getColumns(),i=x(this.getRowElement(e.rowIndex));return{dataSource:[{id:1,parentId:0}],showBorders:!0,showColumnHeaders:!1,scrolling:{useNative:!1,showScrollbar:"never"},pager:{visible:!1},loadingTimeout:null,columnFixing:n.columnFixing,columnAutoWidth:n.columnAutoWidth,showColumnLines:n.showColumnLines,columns:t.map(r=>({width:r.width||r.visibleWidth,fixed:r.fixed,fixedPosition:r.fixedPosition})),onRowPrepared:r=>{var o=r.component.getView("rowsView");x(r.rowElement).replaceWith(i.eq(o._isFixedTableRendering?1:0).clone())}}},_synchronizeScrollLeftPosition(e){var n=e?.getScrollable();n?.scrollTo({x:this._scrollLeft})},_getDraggableRowTemplate(){return e=>{var n=this.component.$element(),t=x("<div>");pC(t,Ze(n));var i=this._dataController.items(),o=this._getDraggableGridOptions(i&&i[e.fromIndex]);return this._createComponent(t,this.component.NAME,o),t.find(".dx-gridbase-container").children(":not(.".concat(this.addWidgetPrefix("rowsview"),")")).hide(),t}},_getHandleTemplate(){return(e=>(n,t)=>{var i=x(n);if(i.attr("dx-drag-cell",""),"data"===t.rowType)return i.addClass("dx-cell-focus-disabled"),x("<span>").addClass(e("drag-icon"));xe.setEmptyText(i)})(e=>this.addWidgetPrefix(e))},optionChanged(e){"rowDragging"===e.name&&(this._updateHandleColumn(),this._invalidate(!0,!0),e.handled=!0),this.callBase.apply(this,arguments)}};Ge.registerModule("rowDragging",{defaultOptions:()=>({rowDragging:{showDragIcons:!0,dropFeedbackMode:"indicate",allowReordering:!1,allowDropInsideItem:!1}}),extenders:{views:{rowsView:oxe}}});const axe=tle;let lb=(()=>{class e extends zl{constructor(t,i,r,o,s,l,h,g){super(t,i,r,o,h,g),this._watcherHelper=o,this._idh=s,this._createEventEmitters([{subscribe:"adaptiveDetailRowPreparing",emit:"onAdaptiveDetailRowPreparing"},{subscribe:"cellClick",emit:"onCellClick"},{subscribe:"cellDblClick",emit:"onCellDblClick"},{subscribe:"cellHoverChanged",emit:"onCellHoverChanged"},{subscribe:"cellPrepared",emit:"onCellPrepared"},{subscribe:"contentReady",emit:"onContentReady"},{subscribe:"contextMenuPreparing",emit:"onContextMenuPreparing"},{subscribe:"dataErrorOccurred",emit:"onDataErrorOccurred"},{subscribe:"disposing",emit:"onDisposing"},{subscribe:"editCanceled",emit:"onEditCanceled"},{subscribe:"editCanceling",emit:"onEditCanceling"},{subscribe:"editingStart",emit:"onEditingStart"},{subscribe:"editorPrepared",emit:"onEditorPrepared"},{subscribe:"editorPreparing",emit:"onEditorPreparing"},{subscribe:"exporting",emit:"onExporting"},{subscribe:"focusedCellChanged",emit:"onFocusedCellChanged"},{subscribe:"focusedCellChanging",emit:"onFocusedCellChanging"},{subscribe:"focusedRowChanged",emit:"onFocusedRowChanged"},{subscribe:"focusedRowChanging",emit:"onFocusedRowChanging"},{subscribe:"initialized",emit:"onInitialized"},{subscribe:"initNewRow",emit:"onInitNewRow"},{subscribe:"keyDown",emit:"onKeyDown"},{subscribe:"optionChanged",emit:"onOptionChanged"},{subscribe:"rowClick",emit:"onRowClick"},{subscribe:"rowCollapsed",emit:"onRowCollapsed"},{subscribe:"rowCollapsing",emit:"onRowCollapsing"},{subscribe:"rowDblClick",emit:"onRowDblClick"},{subscribe:"rowExpanded",emit:"onRowExpanded"},{subscribe:"rowExpanding",emit:"onRowExpanding"},{subscribe:"rowInserted",emit:"onRowInserted"},{subscribe:"rowInserting",emit:"onRowInserting"},{subscribe:"rowPrepared",emit:"onRowPrepared"},{subscribe:"rowRemoved",emit:"onRowRemoved"},{subscribe:"rowRemoving",emit:"onRowRemoving"},{subscribe:"rowUpdated",emit:"onRowUpdated"},{subscribe:"rowUpdating",emit:"onRowUpdating"},{subscribe:"rowValidating",emit:"onRowValidating"},{subscribe:"saved",emit:"onSaved"},{subscribe:"saving",emit:"onSaving"},{subscribe:"selectionChanged",emit:"onSelectionChanged"},{subscribe:"toolbarPreparing",emit:"onToolbarPreparing"},{emit:"accessKeyChange"},{emit:"activeStateEnabledChange"},{emit:"allowColumnReorderingChange"},{emit:"allowColumnResizingChange"},{emit:"autoNavigateToFocusedRowChange"},{emit:"cacheEnabledChange"},{emit:"cellHintEnabledChange"},{emit:"columnAutoWidthChange"},{emit:"columnChooserChange"},{emit:"columnFixingChange"},{emit:"columnHidingEnabledChange"},{emit:"columnMinWidthChange"},{emit:"columnResizingModeChange"},{emit:"columnsChange"},{emit:"columnWidthChange"},{emit:"customizeColumnsChange"},{emit:"dataRowTemplateChange"},{emit:"dataSourceChange"},{emit:"dateSerializationFormatChange"},{emit:"disabledChange"},{emit:"editingChange"},{emit:"elementAttrChange"},{emit:"errorRowEnabledChange"},{emit:"exportChange"},{emit:"filterBuilderChange"},{emit:"filterBuilderPopupChange"},{emit:"filterPanelChange"},{emit:"filterRowChange"},{emit:"filterSyncEnabledChange"},{emit:"filterValueChange"},{emit:"focusedColumnIndexChange"},{emit:"focusedRowEnabledChange"},{emit:"focusedRowIndexChange"},{emit:"focusedRowKeyChange"},{emit:"groupingChange"},{emit:"groupPanelChange"},{emit:"headerFilterChange"},{emit:"heightChange"},{emit:"highlightChangesChange"},{emit:"hintChange"},{emit:"hoverStateEnabledChange"},{emit:"keyboardNavigationChange"},{emit:"keyExprChange"},{emit:"loadPanelChange"},{emit:"masterDetailChange"},{emit:"noDataTextChange"},{emit:"pagerChange"},{emit:"pagingChange"},{emit:"remoteOperationsChange"},{emit:"renderAsyncChange"},{emit:"repaintChangesOnlyChange"},{emit:"rowAlternationEnabledChange"},{emit:"rowDraggingChange"},{emit:"rowTemplateChange"},{emit:"rtlEnabledChange"},{emit:"scrollingChange"},{emit:"searchPanelChange"},{emit:"selectedRowKeysChange"},{emit:"selectionChange"},{emit:"selectionFilterChange"},{emit:"showBordersChange"},{emit:"showColumnHeadersChange"},{emit:"showColumnLinesChange"},{emit:"showRowLinesChange"},{emit:"sortByGroupSummaryInfoChange"},{emit:"sortingChange"},{emit:"stateStoringChange"},{emit:"summaryChange"},{emit:"syncLookupFilterValuesChange"},{emit:"tabIndexChange"},{emit:"toolbarChange"},{emit:"twoWayBindingEnabledChange"},{emit:"visibleChange"},{emit:"widthChange"},{emit:"wordWrapEnabledChange"}]),this._idh.setHost(this),l.setHost(this)}get accessKey(){return this._getOption("accessKey")}set accessKey(t){this._setOption("accessKey",t)}get activeStateEnabled(){return this._getOption("activeStateEnabled")}set activeStateEnabled(t){this._setOption("activeStateEnabled",t)}get allowColumnReordering(){return this._getOption("allowColumnReordering")}set allowColumnReordering(t){this._setOption("allowColumnReordering",t)}get allowColumnResizing(){return this._getOption("allowColumnResizing")}set allowColumnResizing(t){this._setOption("allowColumnResizing",t)}get autoNavigateToFocusedRow(){return this._getOption("autoNavigateToFocusedRow")}set autoNavigateToFocusedRow(t){this._setOption("autoNavigateToFocusedRow",t)}get cacheEnabled(){return this._getOption("cacheEnabled")}set cacheEnabled(t){this._setOption("cacheEnabled",t)}get cellHintEnabled(){return this._getOption("cellHintEnabled")}set cellHintEnabled(t){this._setOption("cellHintEnabled",t)}get columnAutoWidth(){return this._getOption("columnAutoWidth")}set columnAutoWidth(t){this._setOption("columnAutoWidth",t)}get columnChooser(){return this._getOption("columnChooser")}set columnChooser(t){this._setOption("columnChooser",t)}get columnFixing(){return this._getOption("columnFixing")}set columnFixing(t){this._setOption("columnFixing",t)}get columnHidingEnabled(){return this._getOption("columnHidingEnabled")}set columnHidingEnabled(t){this._setOption("columnHidingEnabled",t)}get columnMinWidth(){return this._getOption("columnMinWidth")}set columnMinWidth(t){this._setOption("columnMinWidth",t)}get columnResizingMode(){return this._getOption("columnResizingMode")}set columnResizingMode(t){this._setOption("columnResizingMode",t)}get columns(){return this._getOption("columns")}set columns(t){this._setOption("columns",t)}get columnWidth(){return this._getOption("columnWidth")}set columnWidth(t){this._setOption("columnWidth",t)}get customizeColumns(){return this._getOption("customizeColumns")}set customizeColumns(t){this._setOption("customizeColumns",t)}get dataRowTemplate(){return this._getOption("dataRowTemplate")}set dataRowTemplate(t){this._setOption("dataRowTemplate",t)}get dataSource(){return this._getOption("dataSource")}set dataSource(t){this._setOption("dataSource",t)}get dateSerializationFormat(){return this._getOption("dateSerializationFormat")}set dateSerializationFormat(t){this._setOption("dateSerializationFormat",t)}get disabled(){return this._getOption("disabled")}set disabled(t){this._setOption("disabled",t)}get editing(){return this._getOption("editing")}set editing(t){this._setOption("editing",t)}get elementAttr(){return this._getOption("elementAttr")}set elementAttr(t){this._setOption("elementAttr",t)}get errorRowEnabled(){return this._getOption("errorRowEnabled")}set errorRowEnabled(t){this._setOption("errorRowEnabled",t)}get export(){return this._getOption("export")}set export(t){this._setOption("export",t)}get filterBuilder(){return this._getOption("filterBuilder")}set filterBuilder(t){this._setOption("filterBuilder",t)}get filterBuilderPopup(){return this._getOption("filterBuilderPopup")}set filterBuilderPopup(t){this._setOption("filterBuilderPopup",t)}get filterPanel(){return this._getOption("filterPanel")}set filterPanel(t){this._setOption("filterPanel",t)}get filterRow(){return this._getOption("filterRow")}set filterRow(t){this._setOption("filterRow",t)}get filterSyncEnabled(){return this._getOption("filterSyncEnabled")}set filterSyncEnabled(t){this._setOption("filterSyncEnabled",t)}get filterValue(){return this._getOption("filterValue")}set filterValue(t){this._setOption("filterValue",t)}get focusedColumnIndex(){return this._getOption("focusedColumnIndex")}set focusedColumnIndex(t){this._setOption("focusedColumnIndex",t)}get focusedRowEnabled(){return this._getOption("focusedRowEnabled")}set focusedRowEnabled(t){this._setOption("focusedRowEnabled",t)}get focusedRowIndex(){return this._getOption("focusedRowIndex")}set focusedRowIndex(t){this._setOption("focusedRowIndex",t)}get focusedRowKey(){return this._getOption("focusedRowKey")}set focusedRowKey(t){this._setOption("focusedRowKey",t)}get grouping(){return this._getOption("grouping")}set grouping(t){this._setOption("grouping",t)}get groupPanel(){return this._getOption("groupPanel")}set groupPanel(t){this._setOption("groupPanel",t)}get headerFilter(){return this._getOption("headerFilter")}set headerFilter(t){this._setOption("headerFilter",t)}get height(){return this._getOption("height")}set height(t){this._setOption("height",t)}get highlightChanges(){return this._getOption("highlightChanges")}set highlightChanges(t){this._setOption("highlightChanges",t)}get hint(){return this._getOption("hint")}set hint(t){this._setOption("hint",t)}get hoverStateEnabled(){return this._getOption("hoverStateEnabled")}set hoverStateEnabled(t){this._setOption("hoverStateEnabled",t)}get keyboardNavigation(){return this._getOption("keyboardNavigation")}set keyboardNavigation(t){this._setOption("keyboardNavigation",t)}get keyExpr(){return this._getOption("keyExpr")}set keyExpr(t){this._setOption("keyExpr",t)}get loadPanel(){return this._getOption("loadPanel")}set loadPanel(t){this._setOption("loadPanel",t)}get masterDetail(){return this._getOption("masterDetail")}set masterDetail(t){this._setOption("masterDetail",t)}get noDataText(){return this._getOption("noDataText")}set noDataText(t){this._setOption("noDataText",t)}get pager(){return this._getOption("pager")}set pager(t){this._setOption("pager",t)}get paging(){return this._getOption("paging")}set paging(t){this._setOption("paging",t)}get remoteOperations(){return this._getOption("remoteOperations")}set remoteOperations(t){this._setOption("remoteOperations",t)}get renderAsync(){return this._getOption("renderAsync")}set renderAsync(t){this._setOption("renderAsync",t)}get repaintChangesOnly(){return this._getOption("repaintChangesOnly")}set repaintChangesOnly(t){this._setOption("repaintChangesOnly",t)}get rowAlternationEnabled(){return this._getOption("rowAlternationEnabled")}set rowAlternationEnabled(t){this._setOption("rowAlternationEnabled",t)}get rowDragging(){return this._getOption("rowDragging")}set rowDragging(t){this._setOption("rowDragging",t)}get rowTemplate(){return this._getOption("rowTemplate")}set rowTemplate(t){this._setOption("rowTemplate",t)}get rtlEnabled(){return this._getOption("rtlEnabled")}set rtlEnabled(t){this._setOption("rtlEnabled",t)}get scrolling(){return this._getOption("scrolling")}set scrolling(t){this._setOption("scrolling",t)}get searchPanel(){return this._getOption("searchPanel")}set searchPanel(t){this._setOption("searchPanel",t)}get selectedRowKeys(){return this._getOption("selectedRowKeys")}set selectedRowKeys(t){this._setOption("selectedRowKeys",t)}get selection(){return this._getOption("selection")}set selection(t){this._setOption("selection",t)}get selectionFilter(){return this._getOption("selectionFilter")}set selectionFilter(t){this._setOption("selectionFilter",t)}get showBorders(){return this._getOption("showBorders")}set showBorders(t){this._setOption("showBorders",t)}get showColumnHeaders(){return this._getOption("showColumnHeaders")}set showColumnHeaders(t){this._setOption("showColumnHeaders",t)}get showColumnLines(){return this._getOption("showColumnLines")}set showColumnLines(t){this._setOption("showColumnLines",t)}get showRowLines(){return this._getOption("showRowLines")}set showRowLines(t){this._setOption("showRowLines",t)}get sortByGroupSummaryInfo(){return this._getOption("sortByGroupSummaryInfo")}set sortByGroupSummaryInfo(t){this._setOption("sortByGroupSummaryInfo",t)}get sorting(){return this._getOption("sorting")}set sorting(t){this._setOption("sorting",t)}get stateStoring(){return this._getOption("stateStoring")}set stateStoring(t){this._setOption("stateStoring",t)}get summary(){return this._getOption("summary")}set summary(t){this._setOption("summary",t)}get syncLookupFilterValues(){return this._getOption("syncLookupFilterValues")}set syncLookupFilterValues(t){this._setOption("syncLookupFilterValues",t)}get tabIndex(){return this._getOption("tabIndex")}set tabIndex(t){this._setOption("tabIndex",t)}get toolbar(){return this._getOption("toolbar")}set toolbar(t){this._setOption("toolbar",t)}get twoWayBindingEnabled(){return this._getOption("twoWayBindingEnabled")}set twoWayBindingEnabled(t){this._setOption("twoWayBindingEnabled",t)}get visible(){return this._getOption("visible")}set visible(t){this._setOption("visible",t)}get width(){return this._getOption("width")}set width(t){this._setOption("width",t)}get wordWrapEnabled(){return this._getOption("wordWrapEnabled")}set wordWrapEnabled(t){this._setOption("wordWrapEnabled",t)}get columnsChildren(){return this._getOption("columns")}set columnsChildren(t){this.setChildren("columns",t)}get sortByGroupSummaryInfoChildren(){return this._getOption("sortByGroupSummaryInfo")}set sortByGroupSummaryInfoChildren(t){this.setChildren("sortByGroupSummaryInfo",t)}_createInstance(t,i){return new axe(t,i)}ngOnDestroy(){this._destroyWidget()}ngOnChanges(t){super.ngOnChanges(t),this.setupChanges("columns",t),this.setupChanges("dataSource",t),this.setupChanges("keyExpr",t),this.setupChanges("selectedRowKeys",t),this.setupChanges("sortByGroupSummaryInfo",t)}setupChanges(t,i){t in this._optionsToUpdate||this._idh.setup(t,i)}ngDoCheck(){this._idh.doCheck("columns"),this._idh.doCheck("dataSource"),this._idh.doCheck("keyExpr"),this._idh.doCheck("selectedRowKeys"),this._idh.doCheck("sortByGroupSummaryInfo"),this._watcherHelper.checkWatchers(),super.ngDoCheck(),super.clearChangedOptions()}_setOption(t,i){let r=this._idh.setupSingle(t,i),o=null!==this._idh.getChanges(t,i);(r||o)&&super._setOption(t,i)}}return e.\u0275fac=function(t){return new(t||e)(u.Y36(u.SBq),u.Y36(u.R0b),u.Y36(vn),u.Y36(Ti),u.Y36(ns),u.Y36(D),u.Y36(ko),u.Y36(u.Lbi))},e.\u0275cmp=u.Xpm({type:e,selectors:[["dx-data-grid"]],contentQueries:function(t,i,r){if(1&t&&(u.Suo(r,cp,4),u.Suo(r,Q9,4)),2&t){let o;u.iGM(o=u.CRH())&&(i.columnsChildren=o),u.iGM(o=u.CRH())&&(i.sortByGroupSummaryInfoChildren=o)}},inputs:{accessKey:"accessKey",activeStateEnabled:"activeStateEnabled",allowColumnReordering:"allowColumnReordering",allowColumnResizing:"allowColumnResizing",autoNavigateToFocusedRow:"autoNavigateToFocusedRow",cacheEnabled:"cacheEnabled",cellHintEnabled:"cellHintEnabled",columnAutoWidth:"columnAutoWidth",columnChooser:"columnChooser",columnFixing:"columnFixing",columnHidingEnabled:"columnHidingEnabled",columnMinWidth:"columnMinWidth",columnResizingMode:"columnResizingMode",columns:"columns",columnWidth:"columnWidth",customizeColumns:"customizeColumns",dataRowTemplate:"dataRowTemplate",dataSource:"dataSource",dateSerializationFormat:"dateSerializationFormat",disabled:"disabled",editing:"editing",elementAttr:"elementAttr",errorRowEnabled:"errorRowEnabled",export:"export",filterBuilder:"filterBuilder",filterBuilderPopup:"filterBuilderPopup",filterPanel:"filterPanel",filterRow:"filterRow",filterSyncEnabled:"filterSyncEnabled",filterValue:"filterValue",focusedColumnIndex:"focusedColumnIndex",focusedRowEnabled:"focusedRowEnabled",focusedRowIndex:"focusedRowIndex",focusedRowKey:"focusedRowKey",grouping:"grouping",groupPanel:"groupPanel",headerFilter:"headerFilter",height:"height",highlightChanges:"highlightChanges",hint:"hint",hoverStateEnabled:"hoverStateEnabled",keyboardNavigation:"keyboardNavigation",keyExpr:"keyExpr",loadPanel:"loadPanel",masterDetail:"masterDetail",noDataText:"noDataText",pager:"pager",paging:"paging",remoteOperations:"remoteOperations",renderAsync:"renderAsync",repaintChangesOnly:"repaintChangesOnly",rowAlternationEnabled:"rowAlternationEnabled",rowDragging:"rowDragging",rowTemplate:"rowTemplate",rtlEnabled:"rtlEnabled",scrolling:"scrolling",searchPanel:"searchPanel",selectedRowKeys:"selectedRowKeys",selection:"selection",selectionFilter:"selectionFilter",showBorders:"showBorders",showColumnHeaders:"showColumnHeaders",showColumnLines:"showColumnLines",showRowLines:"showRowLines",sortByGroupSummaryInfo:"sortByGroupSummaryInfo",sorting:"sorting",stateStoring:"stateStoring",summary:"summary",syncLookupFilterValues:"syncLookupFilterValues",tabIndex:"tabIndex",toolbar:"toolbar",twoWayBindingEnabled:"twoWayBindingEnabled",visible:"visible",width:"width",wordWrapEnabled:"wordWrapEnabled"},outputs:{onAdaptiveDetailRowPreparing:"onAdaptiveDetailRowPreparing",onCellClick:"onCellClick",onCellDblClick:"onCellDblClick",onCellHoverChanged:"onCellHoverChanged",onCellPrepared:"onCellPrepared",onContentReady:"onContentReady",onContextMenuPreparing:"onContextMenuPreparing",onDataErrorOccurred:"onDataErrorOccurred",onDisposing:"onDisposing",onEditCanceled:"onEditCanceled",onEditCanceling:"onEditCanceling",onEditingStart:"onEditingStart",onEditorPrepared:"onEditorPrepared",onEditorPreparing:"onEditorPreparing",onExporting:"onExporting",onFocusedCellChanged:"onFocusedCellChanged",onFocusedCellChanging:"onFocusedCellChanging",onFocusedRowChanged:"onFocusedRowChanged",onFocusedRowChanging:"onFocusedRowChanging",onInitialized:"onInitialized",onInitNewRow:"onInitNewRow",onKeyDown:"onKeyDown",onOptionChanged:"onOptionChanged",onRowClick:"onRowClick",onRowCollapsed:"onRowCollapsed",onRowCollapsing:"onRowCollapsing",onRowDblClick:"onRowDblClick",onRowExpanded:"onRowExpanded",onRowExpanding:"onRowExpanding",onRowInserted:"onRowInserted",onRowInserting:"onRowInserting",onRowPrepared:"onRowPrepared",onRowRemoved:"onRowRemoved",onRowRemoving:"onRowRemoving",onRowUpdated:"onRowUpdated",onRowUpdating:"onRowUpdating",onRowValidating:"onRowValidating",onSaved:"onSaved",onSaving:"onSaving",onSelectionChanged:"onSelectionChanged",onToolbarPreparing:"onToolbarPreparing",accessKeyChange:"accessKeyChange",activeStateEnabledChange:"activeStateEnabledChange",allowColumnReorderingChange:"allowColumnReorderingChange",allowColumnResizingChange:"allowColumnResizingChange",autoNavigateToFocusedRowChange:"autoNavigateToFocusedRowChange",cacheEnabledChange:"cacheEnabledChange",cellHintEnabledChange:"cellHintEnabledChange",columnAutoWidthChange:"columnAutoWidthChange",columnChooserChange:"columnChooserChange",columnFixingChange:"columnFixingChange",columnHidingEnabledChange:"columnHidingEnabledChange",columnMinWidthChange:"columnMinWidthChange",columnResizingModeChange:"columnResizingModeChange",columnsChange:"columnsChange",columnWidthChange:"columnWidthChange",customizeColumnsChange:"customizeColumnsChange",dataRowTemplateChange:"dataRowTemplateChange",dataSourceChange:"dataSourceChange",dateSerializationFormatChange:"dateSerializationFormatChange",disabledChange:"disabledChange",editingChange:"editingChange",elementAttrChange:"elementAttrChange",errorRowEnabledChange:"errorRowEnabledChange",exportChange:"exportChange",filterBuilderChange:"filterBuilderChange",filterBuilderPopupChange:"filterBuilderPopupChange",filterPanelChange:"filterPanelChange",filterRowChange:"filterRowChange",filterSyncEnabledChange:"filterSyncEnabledChange",filterValueChange:"filterValueChange",focusedColumnIndexChange:"focusedColumnIndexChange",focusedRowEnabledChange:"focusedRowEnabledChange",focusedRowIndexChange:"focusedRowIndexChange",focusedRowKeyChange:"focusedRowKeyChange",groupingChange:"groupingChange",groupPanelChange:"groupPanelChange",headerFilterChange:"headerFilterChange",heightChange:"heightChange",highlightChangesChange:"highlightChangesChange",hintChange:"hintChange",hoverStateEnabledChange:"hoverStateEnabledChange",keyboardNavigationChange:"keyboardNavigationChange",keyExprChange:"keyExprChange",loadPanelChange:"loadPanelChange",masterDetailChange:"masterDetailChange",noDataTextChange:"noDataTextChange",pagerChange:"pagerChange",pagingChange:"pagingChange",remoteOperationsChange:"remoteOperationsChange",renderAsyncChange:"renderAsyncChange",repaintChangesOnlyChange:"repaintChangesOnlyChange",rowAlternationEnabledChange:"rowAlternationEnabledChange",rowDraggingChange:"rowDraggingChange",rowTemplateChange:"rowTemplateChange",rtlEnabledChange:"rtlEnabledChange",scrollingChange:"scrollingChange",searchPanelChange:"searchPanelChange",selectedRowKeysChange:"selectedRowKeysChange",selectionChange:"selectionChange",selectionFilterChange:"selectionFilterChange",showBordersChange:"showBordersChange",showColumnHeadersChange:"showColumnHeadersChange",showColumnLinesChange:"showColumnLinesChange",showRowLinesChange:"showRowLinesChange",sortByGroupSummaryInfoChange:"sortByGroupSummaryInfoChange",sortingChange:"sortingChange",stateStoringChange:"stateStoringChange",summaryChange:"summaryChange",syncLookupFilterValuesChange:"syncLookupFilterValuesChange",tabIndexChange:"tabIndexChange",toolbarChange:"toolbarChange",twoWayBindingEnabledChange:"twoWayBindingEnabledChange",visibleChange:"visibleChange",widthChange:"widthChange",wordWrapEnabledChange:"wordWrapEnabledChange"},features:[u._Bn([vn,Ti,D,ns]),u.qOj,u.TTD],decls:0,vars:0,template:function(t,i){},encapsulation:2}),e})(),db=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=u.oAB({type:e}),e.\u0275inj=u.cJS({imports:[[cW,qu,zu,Wu,Gu,Ku,Yu,GW,UW,hW,QW,Ow,$u,AW,kW,Sw,DW,PW,iW,rk,dW,ok,uW,up,ZW,oW,lW,NW,Hu,ju,Uu,Xu,Ju,b_,vW,yW,gW,_W,xW,IW,CW,bW,OW,LW,MW,TW,RW,FW,BW,VW,ww,HW,zW,pW,WW,$W,jW,KW,YW,XW,wW,t$,JW,e$,Wl,ji],cW,qu,zu,Wu,Gu,Ku,Yu,GW,UW,hW,QW,Ow,$u,AW,kW,Sw,DW,PW,iW,rk,dW,ok,uW,up,ZW,oW,lW,NW,Hu,ju,Uu,Xu,Ju,b_,vW,yW,gW,_W,xW,IW,CW,bW,OW,LW,MW,TW,RW,FW,BW,VW,ww,HW,zW,pW,WW,$W,jW,KW,YW,XW,wW,t$,JW,e$,ji]}),e})();const lxe=["*"];let dxe=(()=>{class e extends zl{constructor(t,i,r,o,s,l,h,g){super(t,i,r,o,h,g),this._watcherHelper=o,this._idh=s,this._createEventEmitters([{subscribe:"contentReady",emit:"onContentReady"},{subscribe:"disposing",emit:"onDisposing"},{subscribe:"hidden",emit:"onHidden"},{subscribe:"hiding",emit:"onHiding"},{subscribe:"initialized",emit:"onInitialized"},{subscribe:"optionChanged",emit:"onOptionChanged"},{subscribe:"resize",emit:"onResize"},{subscribe:"resizeEnd",emit:"onResizeEnd"},{subscribe:"resizeStart",emit:"onResizeStart"},{subscribe:"showing",emit:"onShowing"},{subscribe:"shown",emit:"onShown"},{subscribe:"titleRendered",emit:"onTitleRendered"},{emit:"accessKeyChange"},{emit:"animationChange"},{emit:"closeOnOutsideClickChange"},{emit:"containerChange"},{emit:"contentTemplateChange"},{emit:"copyRootClassesToWrapperChange"},{emit:"deferRenderingChange"},{emit:"disabledChange"},{emit:"dragAndResizeAreaChange"},{emit:"dragEnabledChange"},{emit:"dragOutsideBoundaryChange"},{emit:"elementAttrChange"},{emit:"enableBodyScrollChange"},{emit:"focusStateEnabledChange"},{emit:"fullScreenChange"},{emit:"heightChange"},{emit:"hideOnOutsideClickChange"},{emit:"hideOnParentScrollChange"},{emit:"hintChange"},{emit:"hoverStateEnabledChange"},{emit:"maxHeightChange"},{emit:"maxWidthChange"},{emit:"minHeightChange"},{emit:"minWidthChange"},{emit:"positionChange"},{emit:"resizeEnabledChange"},{emit:"restorePositionChange"},{emit:"rtlEnabledChange"},{emit:"shadingChange"},{emit:"shadingColorChange"},{emit:"showCloseButtonChange"},{emit:"showTitleChange"},{emit:"tabIndexChange"},{emit:"titleChange"},{emit:"titleTemplateChange"},{emit:"toolbarItemsChange"},{emit:"visibleChange"},{emit:"widthChange"},{emit:"wrapperAttrChange"}]),this._idh.setHost(this),l.setHost(this)}get accessKey(){return this._getOption("accessKey")}set accessKey(t){this._setOption("accessKey",t)}get animation(){return this._getOption("animation")}set animation(t){this._setOption("animation",t)}get closeOnOutsideClick(){return this._getOption("closeOnOutsideClick")}set closeOnOutsideClick(t){this._setOption("closeOnOutsideClick",t)}get container(){return this._getOption("container")}set container(t){this._setOption("container",t)}get contentTemplate(){return this._getOption("contentTemplate")}set contentTemplate(t){this._setOption("contentTemplate",t)}get copyRootClassesToWrapper(){return this._getOption("copyRootClassesToWrapper")}set copyRootClassesToWrapper(t){this._setOption("copyRootClassesToWrapper",t)}get deferRendering(){return this._getOption("deferRendering")}set deferRendering(t){this._setOption("deferRendering",t)}get disabled(){return this._getOption("disabled")}set disabled(t){this._setOption("disabled",t)}get dragAndResizeArea(){return this._getOption("dragAndResizeArea")}set dragAndResizeArea(t){this._setOption("dragAndResizeArea",t)}get dragEnabled(){return this._getOption("dragEnabled")}set dragEnabled(t){this._setOption("dragEnabled",t)}get dragOutsideBoundary(){return this._getOption("dragOutsideBoundary")}set dragOutsideBoundary(t){this._setOption("dragOutsideBoundary",t)}get elementAttr(){return this._getOption("elementAttr")}set elementAttr(t){this._setOption("elementAttr",t)}get enableBodyScroll(){return this._getOption("enableBodyScroll")}set enableBodyScroll(t){this._setOption("enableBodyScroll",t)}get focusStateEnabled(){return this._getOption("focusStateEnabled")}set focusStateEnabled(t){this._setOption("focusStateEnabled",t)}get fullScreen(){return this._getOption("fullScreen")}set fullScreen(t){this._setOption("fullScreen",t)}get height(){return this._getOption("height")}set height(t){this._setOption("height",t)}get hideOnOutsideClick(){return this._getOption("hideOnOutsideClick")}set hideOnOutsideClick(t){this._setOption("hideOnOutsideClick",t)}get hideOnParentScroll(){return this._getOption("hideOnParentScroll")}set hideOnParentScroll(t){this._setOption("hideOnParentScroll",t)}get hint(){return this._getOption("hint")}set hint(t){this._setOption("hint",t)}get hoverStateEnabled(){return this._getOption("hoverStateEnabled")}set hoverStateEnabled(t){this._setOption("hoverStateEnabled",t)}get maxHeight(){return this._getOption("maxHeight")}set maxHeight(t){this._setOption("maxHeight",t)}get maxWidth(){return this._getOption("maxWidth")}set maxWidth(t){this._setOption("maxWidth",t)}get minHeight(){return this._getOption("minHeight")}set minHeight(t){this._setOption("minHeight",t)}get minWidth(){return this._getOption("minWidth")}set minWidth(t){this._setOption("minWidth",t)}get position(){return this._getOption("position")}set position(t){this._setOption("position",t)}get resizeEnabled(){return this._getOption("resizeEnabled")}set resizeEnabled(t){this._setOption("resizeEnabled",t)}get restorePosition(){return this._getOption("restorePosition")}set restorePosition(t){this._setOption("restorePosition",t)}get rtlEnabled(){return this._getOption("rtlEnabled")}set rtlEnabled(t){this._setOption("rtlEnabled",t)}get shading(){return this._getOption("shading")}set shading(t){this._setOption("shading",t)}get shadingColor(){return this._getOption("shadingColor")}set shadingColor(t){this._setOption("shadingColor",t)}get showCloseButton(){return this._getOption("showCloseButton")}set showCloseButton(t){this._setOption("showCloseButton",t)}get showTitle(){return this._getOption("showTitle")}set showTitle(t){this._setOption("showTitle",t)}get tabIndex(){return this._getOption("tabIndex")}set tabIndex(t){this._setOption("tabIndex",t)}get title(){return this._getOption("title")}set title(t){this._setOption("title",t)}get titleTemplate(){return this._getOption("titleTemplate")}set titleTemplate(t){this._setOption("titleTemplate",t)}get toolbarItems(){return this._getOption("toolbarItems")}set toolbarItems(t){this._setOption("toolbarItems",t)}get visible(){return this._getOption("visible")}set visible(t){this._setOption("visible",t)}get width(){return this._getOption("width")}set width(t){this._setOption("width",t)}get wrapperAttr(){return this._getOption("wrapperAttr")}set wrapperAttr(t){this._setOption("wrapperAttr",t)}get toolbarItemsChildren(){return this._getOption("toolbarItems")}set toolbarItemsChildren(t){this.setChildren("toolbarItems",t)}_createInstance(t,i){return new kae(t,i)}ngOnDestroy(){this._destroyWidget()}ngOnChanges(t){super.ngOnChanges(t),this.setupChanges("toolbarItems",t)}setupChanges(t,i){t in this._optionsToUpdate||this._idh.setup(t,i)}ngDoCheck(){this._idh.doCheck("toolbarItems"),this._watcherHelper.checkWatchers(),super.ngDoCheck(),super.clearChangedOptions()}_setOption(t,i){let r=this._idh.setupSingle(t,i),o=null!==this._idh.getChanges(t,i);(r||o)&&super._setOption(t,i)}}return e.\u0275fac=function(t){return new(t||e)(u.Y36(u.SBq),u.Y36(u.R0b),u.Y36(vn),u.Y36(Ti),u.Y36(ns),u.Y36(D),u.Y36(ko),u.Y36(u.Lbi))},e.\u0275cmp=u.Xpm({type:e,selectors:[["dx-popup"]],contentQueries:function(t,i,r){if(1&t&&u.Suo(r,Dw,4),2&t){let o;u.iGM(o=u.CRH())&&(i.toolbarItemsChildren=o)}},inputs:{accessKey:"accessKey",animation:"animation",closeOnOutsideClick:"closeOnOutsideClick",container:"container",contentTemplate:"contentTemplate",copyRootClassesToWrapper:"copyRootClassesToWrapper",deferRendering:"deferRendering",disabled:"disabled",dragAndResizeArea:"dragAndResizeArea",dragEnabled:"dragEnabled",dragOutsideBoundary:"dragOutsideBoundary",elementAttr:"elementAttr",enableBodyScroll:"enableBodyScroll",focusStateEnabled:"focusStateEnabled",fullScreen:"fullScreen",height:"height",hideOnOutsideClick:"hideOnOutsideClick",hideOnParentScroll:"hideOnParentScroll",hint:"hint",hoverStateEnabled:"hoverStateEnabled",maxHeight:"maxHeight",maxWidth:"maxWidth",minHeight:"minHeight",minWidth:"minWidth",position:"position",resizeEnabled:"resizeEnabled",restorePosition:"restorePosition",rtlEnabled:"rtlEnabled",shading:"shading",shadingColor:"shadingColor",showCloseButton:"showCloseButton",showTitle:"showTitle",tabIndex:"tabIndex",title:"title",titleTemplate:"titleTemplate",toolbarItems:"toolbarItems",visible:"visible",width:"width",wrapperAttr:"wrapperAttr"},outputs:{onContentReady:"onContentReady",onDisposing:"onDisposing",onHidden:"onHidden",onHiding:"onHiding",onInitialized:"onInitialized",onOptionChanged:"onOptionChanged",onResize:"onResize",onResizeEnd:"onResizeEnd",onResizeStart:"onResizeStart",onShowing:"onShowing",onShown:"onShown",onTitleRendered:"onTitleRendered",accessKeyChange:"accessKeyChange",animationChange:"animationChange",closeOnOutsideClickChange:"closeOnOutsideClickChange",containerChange:"containerChange",contentTemplateChange:"contentTemplateChange",copyRootClassesToWrapperChange:"copyRootClassesToWrapperChange",deferRenderingChange:"deferRenderingChange",disabledChange:"disabledChange",dragAndResizeAreaChange:"dragAndResizeAreaChange",dragEnabledChange:"dragEnabledChange",dragOutsideBoundaryChange:"dragOutsideBoundaryChange",elementAttrChange:"elementAttrChange",enableBodyScrollChange:"enableBodyScrollChange",focusStateEnabledChange:"focusStateEnabledChange",fullScreenChange:"fullScreenChange",heightChange:"heightChange",hideOnOutsideClickChange:"hideOnOutsideClickChange",hideOnParentScrollChange:"hideOnParentScrollChange",hintChange:"hintChange",hoverStateEnabledChange:"hoverStateEnabledChange",maxHeightChange:"maxHeightChange",maxWidthChange:"maxWidthChange",minHeightChange:"minHeightChange",minWidthChange:"minWidthChange",positionChange:"positionChange",resizeEnabledChange:"resizeEnabledChange",restorePositionChange:"restorePositionChange",rtlEnabledChange:"rtlEnabledChange",shadingChange:"shadingChange",shadingColorChange:"shadingColorChange",showCloseButtonChange:"showCloseButtonChange",showTitleChange:"showTitleChange",tabIndexChange:"tabIndexChange",titleChange:"titleChange",titleTemplateChange:"titleTemplateChange",toolbarItemsChange:"toolbarItemsChange",visibleChange:"visibleChange",widthChange:"widthChange",wrapperAttrChange:"wrapperAttrChange"},features:[u._Bn([vn,Ti,D,ns]),u.qOj,u.TTD],ngContentSelectors:lxe,decls:1,vars:0,template:function(t,i){1&t&&(u.F$t(),u.Hsn(0))},encapsulation:2}),e})(),oq=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=u.oAB({type:e}),e.\u0275inj=u.cJS({imports:[[Hu,ju,Uu,qu,zu,Wu,Gu,Ku,Yu,Xu,Ju,b_,Wl,ji],Hu,ju,Uu,qu,zu,Wu,Gu,Ku,Yu,Xu,Ju,b_,ji]}),e})();const uxe={provide:fi,useExisting:(0,u.Gpc)(()=>fI),multi:!0};let fI=(()=>{class e extends zl{constructor(t,i,r,o,s,l,h,g){super(t,i,r,o,h,g),this._watcherHelper=o,this._idh=s,this.touched=_=>{},this._createEventEmitters([{subscribe:"change",emit:"onChange"},{subscribe:"contentReady",emit:"onContentReady"},{subscribe:"copy",emit:"onCopy"},{subscribe:"cut",emit:"onCut"},{subscribe:"disposing",emit:"onDisposing"},{subscribe:"enterKey",emit:"onEnterKey"},{subscribe:"focusIn",emit:"onFocusIn"},{subscribe:"focusOut",emit:"onFocusOut"},{subscribe:"initialized",emit:"onInitialized"},{subscribe:"input",emit:"onInput"},{subscribe:"keyDown",emit:"onKeyDown"},{subscribe:"keyUp",emit:"onKeyUp"},{subscribe:"optionChanged",emit:"onOptionChanged"},{subscribe:"paste",emit:"onPaste"},{subscribe:"valueChanged",emit:"onValueChanged"},{emit:"accessKeyChange"},{emit:"activeStateEnabledChange"},{emit:"buttonsChange"},{emit:"disabledChange"},{emit:"elementAttrChange"},{emit:"focusStateEnabledChange"},{emit:"formatChange"},{emit:"heightChange"},{emit:"hintChange"},{emit:"hoverStateEnabledChange"},{emit:"inputAttrChange"},{emit:"invalidValueMessageChange"},{emit:"isValidChange"},{emit:"labelChange"},{emit:"labelModeChange"},{emit:"maxChange"},{emit:"minChange"},{emit:"modeChange"},{emit:"nameChange"},{emit:"placeholderChange"},{emit:"readOnlyChange"},{emit:"rtlEnabledChange"},{emit:"showClearButtonChange"},{emit:"showSpinButtonsChange"},{emit:"stepChange"},{emit:"stylingModeChange"},{emit:"tabIndexChange"},{emit:"textChange"},{emit:"useLargeSpinButtonsChange"},{emit:"validationErrorChange"},{emit:"validationErrorsChange"},{emit:"validationMessageModeChange"},{emit:"validationMessagePositionChange"},{emit:"validationStatusChange"},{emit:"valueChange"},{emit:"valueChangeEventChange"},{emit:"visibleChange"},{emit:"widthChange"},{emit:"onBlur"}]),this._idh.setHost(this),l.setHost(this)}get accessKey(){return this._getOption("accessKey")}set accessKey(t){this._setOption("accessKey",t)}get activeStateEnabled(){return this._getOption("activeStateEnabled")}set activeStateEnabled(t){this._setOption("activeStateEnabled",t)}get buttons(){return this._getOption("buttons")}set buttons(t){this._setOption("buttons",t)}get disabled(){return this._getOption("disabled")}set disabled(t){this._setOption("disabled",t)}get elementAttr(){return this._getOption("elementAttr")}set elementAttr(t){this._setOption("elementAttr",t)}get focusStateEnabled(){return this._getOption("focusStateEnabled")}set focusStateEnabled(t){this._setOption("focusStateEnabled",t)}get format(){return this._getOption("format")}set format(t){this._setOption("format",t)}get height(){return this._getOption("height")}set height(t){this._setOption("height",t)}get hint(){return this._getOption("hint")}set hint(t){this._setOption("hint",t)}get hoverStateEnabled(){return this._getOption("hoverStateEnabled")}set hoverStateEnabled(t){this._setOption("hoverStateEnabled",t)}get inputAttr(){return this._getOption("inputAttr")}set inputAttr(t){this._setOption("inputAttr",t)}get invalidValueMessage(){return this._getOption("invalidValueMessage")}set invalidValueMessage(t){this._setOption("invalidValueMessage",t)}get isValid(){return this._getOption("isValid")}set isValid(t){this._setOption("isValid",t)}get label(){return this._getOption("label")}set label(t){this._setOption("label",t)}get labelMode(){return this._getOption("labelMode")}set labelMode(t){this._setOption("labelMode",t)}get max(){return this._getOption("max")}set max(t){this._setOption("max",t)}get min(){return this._getOption("min")}set min(t){this._setOption("min",t)}get mode(){return this._getOption("mode")}set mode(t){this._setOption("mode",t)}get name(){return this._getOption("name")}set name(t){this._setOption("name",t)}get placeholder(){return this._getOption("placeholder")}set placeholder(t){this._setOption("placeholder",t)}get readOnly(){return this._getOption("readOnly")}set readOnly(t){this._setOption("readOnly",t)}get rtlEnabled(){return this._getOption("rtlEnabled")}set rtlEnabled(t){this._setOption("rtlEnabled",t)}get showClearButton(){return this._getOption("showClearButton")}set showClearButton(t){this._setOption("showClearButton",t)}get showSpinButtons(){return this._getOption("showSpinButtons")}set showSpinButtons(t){this._setOption("showSpinButtons",t)}get step(){return this._getOption("step")}set step(t){this._setOption("step",t)}get stylingMode(){return this._getOption("stylingMode")}set stylingMode(t){this._setOption("stylingMode",t)}get tabIndex(){return this._getOption("tabIndex")}set tabIndex(t){this._setOption("tabIndex",t)}get text(){return this._getOption("text")}set text(t){this._setOption("text",t)}get useLargeSpinButtons(){return this._getOption("useLargeSpinButtons")}set useLargeSpinButtons(t){this._setOption("useLargeSpinButtons",t)}get validationError(){return this._getOption("validationError")}set validationError(t){this._setOption("validationError",t)}get validationErrors(){return this._getOption("validationErrors")}set validationErrors(t){this._setOption("validationErrors",t)}get validationMessageMode(){return this._getOption("validationMessageMode")}set validationMessageMode(t){this._setOption("validationMessageMode",t)}get validationMessagePosition(){return this._getOption("validationMessagePosition")}set validationMessagePosition(t){this._setOption("validationMessagePosition",t)}get validationStatus(){return this._getOption("validationStatus")}set validationStatus(t){this._setOption("validationStatus",t)}get value(){return this._getOption("value")}set value(t){this._setOption("value",t)}get valueChangeEvent(){return this._getOption("valueChangeEvent")}set valueChangeEvent(t){this._setOption("valueChangeEvent",t)}get visible(){return this._getOption("visible")}set visible(t){this._setOption("visible",t)}get width(){return this._getOption("width")}set width(t){this._setOption("width",t)}change(t){}get buttonsChildren(){return this._getOption("buttons")}set buttonsChildren(t){this.setChildren("buttons",t)}_createInstance(t,i){return new T0(t,i)}writeValue(t){this.eventHelper.lockedValueChangeEvent=!0,this.value=t,this.eventHelper.lockedValueChangeEvent=!1}setDisabledState(t){this.disabled=t}registerOnChange(t){this.change=t}registerOnTouched(t){this.touched=t}_createWidget(t){super._createWidget(t),this.instance.on("focusOut",i=>{this.eventHelper.fireNgEvent("onBlur",[i])})}ngOnDestroy(){this._destroyWidget()}ngOnChanges(t){super.ngOnChanges(t),this.setupChanges("buttons",t),this.setupChanges("validationErrors",t)}setupChanges(t,i){t in this._optionsToUpdate||this._idh.setup(t,i)}ngDoCheck(){this._idh.doCheck("buttons"),this._idh.doCheck("validationErrors"),this._watcherHelper.checkWatchers(),super.ngDoCheck(),super.clearChangedOptions()}_setOption(t,i){let r=this._idh.setupSingle(t,i),o=null!==this._idh.getChanges(t,i);(r||o)&&super._setOption(t,i)}}return e.\u0275fac=function(t){return new(t||e)(u.Y36(u.SBq),u.Y36(u.R0b),u.Y36(vn),u.Y36(Ti),u.Y36(ns),u.Y36(D),u.Y36(ko),u.Y36(u.Lbi))},e.\u0275cmp=u.Xpm({type:e,selectors:[["dx-number-box"]],contentQueries:function(t,i,r){if(1&t&&u.Suo(r,Yy,4),2&t){let o;u.iGM(o=u.CRH())&&(i.buttonsChildren=o)}},hostBindings:function(t,i){1&t&&u.NdJ("valueChange",function(o){return i.change(o)})("onBlur",function(o){return i.touched(o)})},inputs:{accessKey:"accessKey",activeStateEnabled:"activeStateEnabled",buttons:"buttons",disabled:"disabled",elementAttr:"elementAttr",focusStateEnabled:"focusStateEnabled",format:"format",height:"height",hint:"hint",hoverStateEnabled:"hoverStateEnabled",inputAttr:"inputAttr",invalidValueMessage:"invalidValueMessage",isValid:"isValid",label:"label",labelMode:"labelMode",max:"max",min:"min",mode:"mode",name:"name",placeholder:"placeholder",readOnly:"readOnly",rtlEnabled:"rtlEnabled",showClearButton:"showClearButton",showSpinButtons:"showSpinButtons",step:"step",stylingMode:"stylingMode",tabIndex:"tabIndex",text:"text",useLargeSpinButtons:"useLargeSpinButtons",validationError:"validationError",validationErrors:"validationErrors",validationMessageMode:"validationMessageMode",validationMessagePosition:"validationMessagePosition",validationStatus:"validationStatus",value:"value",valueChangeEvent:"valueChangeEvent",visible:"visible",width:"width"},outputs:{onChange:"onChange",onContentReady:"onContentReady",onCopy:"onCopy",onCut:"onCut",onDisposing:"onDisposing",onEnterKey:"onEnterKey",onFocusIn:"onFocusIn",onFocusOut:"onFocusOut",onInitialized:"onInitialized",onInput:"onInput",onKeyDown:"onKeyDown",onKeyUp:"onKeyUp",onOptionChanged:"onOptionChanged",onPaste:"onPaste",onValueChanged:"onValueChanged",accessKeyChange:"accessKeyChange",activeStateEnabledChange:"activeStateEnabledChange",buttonsChange:"buttonsChange",disabledChange:"disabledChange",elementAttrChange:"elementAttrChange",focusStateEnabledChange:"focusStateEnabledChange",formatChange:"formatChange",heightChange:"heightChange",hintChange:"hintChange",hoverStateEnabledChange:"hoverStateEnabledChange",inputAttrChange:"inputAttrChange",invalidValueMessageChange:"invalidValueMessageChange",isValidChange:"isValidChange",labelChange:"labelChange",labelModeChange:"labelModeChange",maxChange:"maxChange",minChange:"minChange",modeChange:"modeChange",nameChange:"nameChange",placeholderChange:"placeholderChange",readOnlyChange:"readOnlyChange",rtlEnabledChange:"rtlEnabledChange",showClearButtonChange:"showClearButtonChange",showSpinButtonsChange:"showSpinButtonsChange",stepChange:"stepChange",stylingModeChange:"stylingModeChange",tabIndexChange:"tabIndexChange",textChange:"textChange",useLargeSpinButtonsChange:"useLargeSpinButtonsChange",validationErrorChange:"validationErrorChange",validationErrorsChange:"validationErrorsChange",validationMessageModeChange:"validationMessageModeChange",validationMessagePositionChange:"validationMessagePositionChange",validationStatusChange:"validationStatusChange",valueChange:"valueChange",valueChangeEventChange:"valueChangeEventChange",visibleChange:"visibleChange",widthChange:"widthChange",onBlur:"onBlur"},features:[u._Bn([vn,Ti,uxe,D,ns]),u.qOj,u.TTD],decls:0,vars:0,template:function(t,i){},encapsulation:2}),e})(),PV=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=u.oAB({type:e}),e.\u0275inj=u.cJS({imports:[[$u,O_,Sw,Wl,ji],$u,O_,Sw,ji]}),e})(),sq=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=u.oAB({type:e}),e.\u0275inj=u.cJS({imports:[[up,sW,Wl,ji],up,sW,ji]}),e})();var _I=F(5619);function cxe(e,n){if(1&e){const t=u.EpF();u.TgZ(0,"dx-popup",9),u.NdJ("visibleChange",function(r){u.CHM(t);const o=u.oxw();return u.KtG(o.editorVisible=r)})("onShown",function(r){u.CHM(t);const o=u.oxw();return u.KtG(o.onEditorShown(r))})("onHidden",function(){u.CHM(t);const r=u.oxw();return u.KtG(r.onEditorHidden())}),u.TgZ(1,"h3"),u._uU(2,"Item editor"),u.qZA(),u._UZ(3,"dx-number-box",10)(4,"dx-text-box",11)(5,"dx-number-box",12)(6,"dx-number-box",13)(7,"dx-number-box",14)(8,"dx-text-box",15),u.qZA()}if(2&e){const t=n.ngIf,i=u.oxw();u.Q6J("visible",i.editorVisible)("hideOnOutsideClick",!0),u.xp6(3),u.Q6J("ngrxFormControlState",t.controls.ordinal)("readOnly",!0),u.xp6(1),u.Q6J("ngrxFormControlState",t.controls.name),u.xp6(1),u.Q6J("ngrxFormControlState",t.controls.price),u.xp6(1),u.Q6J("ngrxFormControlState",t.controls.amount),u.xp6(1),u.Q6J("ngrxFormControlState",t.controls.totalPrice),u.xp6(1),u.Q6J("ngrxFormControlState",t.controls.description)}}let hxe=(()=>{var e;class n{constructor(i){this.store=i,this.gridComponent=null,this.gridItems=[],this.focusedRowKey=null,this.editorVisible=!1,this.focusedRowState$=new _I.X(null)}ngOnChanges(i){i.formState&&(this.gridItems=i.formState.currentValue.value.map((o,s)=>({__storeIndex:s,...o}))),this.updateFocusedRowState()}onInitialized(i){this.gridComponent=i.component}onFocusedRowKeyChange(i){this.focusedRowKey=i,this.updateFocusedRowState()}onCellDblClick(i){this.tryToShowEditor()}onKeyDown(i){"Enter"===i.event.key&&this.tryToShowEditor()}tryToShowEditor(){null!==this.focusedRowKey&&(this.editorVisible=!0)}updateFocusedRowState(){this.focusedRowState$.next(null!==this.focusedRowKey?this.formState.controls[this.focusedRowKey]:null)}onEditorHidden(){this.gridComponent?.focus()}onEditorShown(i){console.log(">>> onEditorShown",i),i.component?.focus()}}return(e=n).\u0275fac=function(i){return new(i||e)(u.Y36(Wt.yh))},e.\u0275cmp=u.Xpm({type:e,selectors:[["app-data-grid-custom-editor"]],inputs:{formState:"formState"},standalone:!0,features:[u.TTD,u.jDz],decls:10,vars:9,consts:[["keyExpr","__storeIndex",3,"dataSource","repaintChangesOnly","hoverStateEnabled","focusedRowEnabled","showBorders","onInitialized","focusedRowKeyChange","onCellDblClick","onKeyDown"],[3,"pageSize"],["dataField","ordinal","width","50","caption","#"],["dataField","name","width","150","caption","Name"],["dataField","price","width","150","caption","Unit price","format","#,##0.00####","dataType","number"],["dataField","amount","width","150","caption","Amount","format","#,##0.00####","dataType","number"],["dataField","totalPrice","width","150","caption","Total price","format","#,##0.00####","dataType","number"],["dataField","description","caption","Description"],["height","auto","width","500","position","center",3,"visible","hideOnOutsideClick","visibleChange","onShown","onHidden",4,"ngIf"],["height","auto","width","500","position","center",3,"visible","hideOnOutsideClick","visibleChange","onShown","onHidden"],["label","Item no.",3,"ngrxFormControlState","readOnly"],["label","Name",3,"ngrxFormControlState"],["label","Unit price",3,"ngrxFormControlState"],["label","Amount",3,"ngrxFormControlState"],["label","TotalPrice",3,"ngrxFormControlState"],["label","Description",3,"ngrxFormControlState"]],template:function(i,r){1&i&&(u.TgZ(0,"dx-data-grid",0),u.NdJ("onInitialized",function(s){return r.onInitialized(s)})("focusedRowKeyChange",function(s){return r.onFocusedRowKeyChange(s)})("onCellDblClick",function(s){return r.onCellDblClick(s)})("onKeyDown",function(s){return r.onKeyDown(s)}),u._UZ(1,"dxo-paging",1)(2,"dxi-column",2)(3,"dxi-column",3)(4,"dxi-column",4)(5,"dxi-column",5)(6,"dxi-column",6)(7,"dxi-column",7),u.qZA(),u.YNc(8,cxe,9,9,"dx-popup",8),u.ALo(9,"async")),2&i&&(u.Q6J("dataSource",r.gridItems)("repaintChangesOnly",!0)("hoverStateEnabled",!1)("focusedRowEnabled",!0)("showBorders",!0),u.xp6(1),u.Q6J("pageSize",10),u.xp6(7),u.Q6J("ngIf",u.lcZ(9,7,r.focusedRowState$)))},dependencies:[or,vc,We,ah,du,sh,db,lb,cp,Ew,oq,dxe,Iw,qy,PV,fI,sq,bF],changeDetection:0}),n})(),pxe=(()=>{var e;class n{constructor(i){this.store=i,this.gridItems=[]}ngOnChanges(i){i.formState&&(this.gridItems=i.formState.currentValue.value.map((o,s)=>({__storeIndex:s,...o})))}rowUpdating(i){if(i&&i.newData){const r=Object.keys(i.newData)[0],s=new wr(`${uu}.items.${i.key}.${r}`,i.newData[r]);this.store.dispatch(s)}}}return(e=n).\u0275fac=function(i){return new(i||e)(u.Y36(Wt.yh))},e.\u0275cmp=u.Xpm({type:e,selectors:[["app-data-grid-form-items"]],inputs:{formState:"formState"},standalone:!0,features:[u.TTD,u.jDz],decls:16,vars:19,consts:[["keyExpr","__storeIndex",3,"dataSource","repaintChangesOnly","hoverStateEnabled","focusedRowEnabled","showBorders","onRowUpdating"],["mode","form",3,"allowUpdating","allowDeleting","allowAdding","selectTextOnEditStart","useIcons"],["colCount","3","labelLocation","left",3,"showColonAfterLabel"],["dataField","ordinal",3,"colSpan"],["dataField","name",3,"colSpan"],["dataField","price",3,"colSpan"],["dataField","amount",3,"colSpan"],["dataField","totalPrice",3,"colSpan"],["dataField","description",3,"colSpan"],[3,"pageSize"],["dataField","ordinal","width","50","caption","#",3,"allowEditing"],["dataField","name","width","150","caption","Name"],["dataField","price","width","150","caption","Unit price","format","#,##0.00####","dataType","number"],["dataField","amount","width","150","caption","Amount","format","#,##0.00####","dataType","number"],["dataField","totalPrice","width","150","caption","Total price","format","#,##0.00####","dataType","number"],["dataField","description","caption","Description"]],template:function(i,r){1&i&&(u.TgZ(0,"dx-data-grid",0),u.NdJ("onRowUpdating",function(s){return r.rowUpdating(s)}),u.TgZ(1,"dxo-editing",1)(2,"dxo-form",2),u._UZ(3,"dxi-item",3)(4,"dxi-item",4)(5,"dxi-item",5)(6,"dxi-item",6)(7,"dxi-item",7)(8,"dxi-item",8),u.qZA()(),u._UZ(9,"dxo-paging",9)(10,"dxi-column",10)(11,"dxi-column",11)(12,"dxi-column",12)(13,"dxi-column",13)(14,"dxi-column",14)(15,"dxi-column",15),u.qZA()),2&i&&(u.Q6J("dataSource",r.gridItems)("repaintChangesOnly",!0)("hoverStateEnabled",!1)("focusedRowEnabled",!0)("showBorders",!0),u.xp6(1),u.Q6J("allowUpdating",!0)("allowDeleting",!1)("allowAdding",!1)("selectTextOnEditStart",!0)("useIcons",!0),u.xp6(1),u.Q6J("showColonAfterLabel",!1),u.xp6(1),u.Q6J("colSpan",1),u.xp6(1),u.Q6J("colSpan",2),u.xp6(1),u.Q6J("colSpan",1),u.xp6(1),u.Q6J("colSpan",1),u.xp6(1),u.Q6J("colSpan",1),u.xp6(1),u.Q6J("colSpan",3),u.xp6(1),u.Q6J("pageSize",10),u.xp6(1),u.Q6J("allowEditing",!1))},dependencies:[or,db,lb,cp,ik,SW,So,Ew]}),n})();function aq(e,n,t,i,r,o,s){try{var l=e[o](s),h=l.value}catch(g){return void t(g)}l.done?n(h):Promise.resolve(h).then(i,r)}function mI(e){return function(){var n=this,t=arguments;return new Promise(function(i,r){var o=e.apply(n,t);function s(h){aq(o,i,r,s,l,"next",h)}function l(h){aq(o,i,r,s,l,"throw",h)}s(void 0)})}}const gxe=function(){return["row","form"]};let fxe=(()=>{var e;class n{constructor(i,r){var o=this;this.store=i,this.recalculateApiService=r,this.gridItems=[],this.gridEditingMode="row",this.setUnitPriceCellValue=function(){var s=mI(function*(l,h,g){const _=yield o.recalculateApiService.recalculateRowAsync({...g,price:h,changedField:"price"});return l.price=h,l.totalPrice=_.totalPrice,l});return function(l,h,g){return s.apply(this,arguments)}}(),this.setAmountCellValue=function(){var s=mI(function*(l,h,g){const _=yield o.recalculateApiService.recalculateRowAsync({...g,amount:h,changedField:"amount"});return l.amount=h,l.totalPrice=_.totalPrice,l});return function(l,h,g){return s.apply(this,arguments)}}(),this.setTotalPriceCellValue=function(){var s=mI(function*(l,h,g){const _=yield o.recalculateApiService.recalculateRowAsync({...g,totalPrice:h,changedField:"totalPrice"});return l.totalPrice=h,l.price=_.price,l});return function(l,h,g){return s.apply(this,arguments)}}()}ngOnChanges(i){i.formState&&(this.gridItems=i.formState.currentValue.value.map((o,s)=>({__storeIndex:s,...o})))}rowUpdating(i){console.log(">>> rowUpdating",i)}rowUpdated(i){console.log(">>> rowUpdated",i);const{__storeIndex:r,...o}=i.data,s=new wr(`${uu}.items.${r}`,o);this.store.dispatch(s)}}return(e=n).\u0275fac=function(i){return new(i||e)(u.Y36(Wt.yh),u.Y36(kv))},e.\u0275cmp=u.Xpm({type:e,selectors:[["app-data-grid-internal-recalc-items"]],inputs:{formState:"formState"},standalone:!0,features:[u.TTD,u.jDz],decls:17,vars:26,consts:[["label","Grid editing mode","width","200",3,"items","value","valueChange"],["keyExpr","__storeIndex",3,"dataSource","repaintChangesOnly","hoverStateEnabled","focusedRowEnabled","showBorders","onRowUpdating","onRowUpdated"],[3,"mode","allowUpdating","allowDeleting","allowAdding","selectTextOnEditStart","useIcons"],["colCount","3","labelLocation","left",3,"showColonAfterLabel"],["dataField","ordinal",3,"colSpan"],["dataField","name",3,"colSpan"],["dataField","price",3,"colSpan"],["dataField","amount",3,"colSpan"],["dataField","totalPrice",3,"colSpan"],["dataField","description",3,"colSpan"],[3,"pageSize"],["dataField","ordinal","width","50","caption","Item no.",3,"allowEditing"],["dataField","name","width","150","caption","Name"],["dataField","price","width","150","caption","Unit price","format","#,##0.00####","dataType","number",3,"setCellValue"],["dataField","amount","width","150","caption","Amount","format","#,##0.00####","dataType","number",3,"setCellValue"],["dataField","totalPrice","width","150","caption","Total price","format","#,##0.00####","dataType","number",3,"setCellValue"],["dataField","description","caption","Description"]],template:function(i,r){1&i&&(u.TgZ(0,"dx-select-box",0),u.NdJ("valueChange",function(s){return r.gridEditingMode=s}),u.qZA(),u.TgZ(1,"dx-data-grid",1),u.NdJ("onRowUpdating",function(s){return r.rowUpdating(s)})("onRowUpdated",function(s){return r.rowUpdated(s)}),u.TgZ(2,"dxo-editing",2)(3,"dxo-form",3),u._UZ(4,"dxi-item",4)(5,"dxi-item",5)(6,"dxi-item",6)(7,"dxi-item",7)(8,"dxi-item",8)(9,"dxi-item",9),u.qZA()(),u._UZ(10,"dxo-paging",10)(11,"dxi-column",11)(12,"dxi-column",12)(13,"dxi-column",13)(14,"dxi-column",14)(15,"dxi-column",15)(16,"dxi-column",16),u.qZA()),2&i&&(u.Q6J("items",u.DdM(25,gxe))("value",r.gridEditingMode),u.xp6(1),u.Q6J("dataSource",r.gridItems)("repaintChangesOnly",!0)("hoverStateEnabled",!1)("focusedRowEnabled",!0)("showBorders",!0),u.xp6(1),u.Q6J("mode",r.gridEditingMode)("allowUpdating",!0)("allowDeleting",!1)("allowAdding",!1)("selectTextOnEditStart",!0)("useIcons",!0),u.xp6(1),u.Q6J("showColonAfterLabel",!1),u.xp6(1),u.Q6J("colSpan",1),u.xp6(1),u.Q6J("colSpan",2),u.xp6(1),u.Q6J("colSpan",1),u.xp6(1),u.Q6J("colSpan",1),u.xp6(1),u.Q6J("colSpan",1),u.xp6(1),u.Q6J("colSpan",3),u.xp6(1),u.Q6J("pageSize",10),u.xp6(1),u.Q6J("allowEditing",!1),u.xp6(2),u.Q6J("setCellValue",r.setUnitPriceCellValue),u.xp6(1),u.Q6J("setCellValue",r.setAmountCellValue),u.xp6(1),u.Q6J("setCellValue",r.setTotalPriceCellValue))},dependencies:[or,db,lb,cp,ik,SW,So,Ew,Ow,up,rk,ok,ww,vU,tB],styles:["dx-select-box[_ngcontent-%COMP%]{margin-bottom:20px}"],changeDetection:0}),n})(),_xe=(()=>{var e;class n{constructor(i){this.store=i,this.gridItems=[]}ngOnChanges(i){i.formState&&(this.gridItems=i.formState.currentValue.value.map((o,s)=>({__storeIndex:s,...o})))}rowUpdating(i){if(i&&i.newData){const r=Object.keys(i.newData)[0],s=new wr(`${uu}.items.${i.key}.${r}`,i.newData[r]);this.store.dispatch(s)}}}return(e=n).\u0275fac=function(i){return new(i||e)(u.Y36(Wt.yh))},e.\u0275cmp=u.Xpm({type:e,selectors:[["app-data-grid-items"]],inputs:{formState:"formState"},standalone:!0,features:[u.TTD,u.jDz],decls:9,vars:12,consts:[["keyExpr","__storeIndex",3,"dataSource","repaintChangesOnly","hoverStateEnabled","focusedRowEnabled","showBorders","onRowUpdating"],["mode","cell",3,"allowUpdating","allowDeleting","allowAdding","selectTextOnEditStart","useIcons"],[3,"pageSize"],["dataField","ordinal","width","50","caption","#",3,"allowEditing"],["dataField","name","width","150","caption","Name"],["dataField","price","width","150","caption","Unit price","format","#,##0.00####","dataType","number"],["dataField","amount","width","150","caption","Amount","format","#,##0.00####","dataType","number"],["dataField","totalPrice","width","150","caption","Total price","format","#,##0.00####","dataType","number"],["dataField","description","caption","Description"]],template:function(i,r){1&i&&(u.TgZ(0,"dx-data-grid",0),u.NdJ("onRowUpdating",function(s){return r.rowUpdating(s)}),u._UZ(1,"dxo-editing",1)(2,"dxo-paging",2)(3,"dxi-column",3)(4,"dxi-column",4)(5,"dxi-column",5)(6,"dxi-column",6)(7,"dxi-column",7)(8,"dxi-column",8),u.qZA()),2&i&&(u.Q6J("dataSource",r.gridItems)("repaintChangesOnly",!0)("hoverStateEnabled",!1)("focusedRowEnabled",!0)("showBorders",!0),u.xp6(1),u.Q6J("allowUpdating",!0)("allowDeleting",!1)("allowAdding",!1)("selectTextOnEditStart",!0)("useIcons",!0),u.xp6(1),u.Q6J("pageSize",10),u.xp6(1),u.Q6J("allowEditing",!1))},dependencies:[or,db,lb,cp,ik,Ew],changeDetection:0}),n})();var mxe=F(7103);function vxe(...e){const n=(0,_s.yG)(e),t=(0,_s.jO)(e),{args:i,keys:r}=function fg(e){if(1===e.length){const n=e[0];if(hT(n))return{args:n,keys:null};if(function _g(e){return e&&"object"==typeof e&&pT(e)===gT}(n)){const t=fT(n);return{args:t.map(i=>n[i]),keys:t}}}return{args:e,keys:null}}(e);if(0===i.length)return(0,Fc.D)([],n);const o=new rl.y(function Cxe(e,n,t=Mv.y){return i=>{lq(n,()=>{const{length:r}=e,o=new Array(r);let s=r,l=r;for(let h=0;h<r;h++)lq(n,()=>{const g=(0,Fc.D)(e[h],n);let _=!1;g.subscribe((0,Sr.x)(i,v=>{o[h]=v,_||(_=!0,l--),l||i.next(t(o.slice()))},()=>{--s||i.complete()}))},i)},i)}}(i,n,r?s=>function mg(e,n){return e.reduce((t,i,r)=>(t[i]=n[r],t),{})}(r,s):Mv.y));return t?o.pipe(function aO(e){return(0,Kr.U)(n=>function Lm(e,n){return sO(n)?e(...n):e(n)}(e,n))}(t)):o}function lq(e,n,t){e?(0,mxe.f)(t,e,n):n()}const yxe=["firstEditor"];function xxe(e,n){if(1&e){const t=u.EpF();u.TgZ(0,"div",10),u.NdJ("keydown",function(r){u.CHM(t);const o=u.oxw(2);return u.KtG(o.onEditorKeyDown(r))}),u._UZ(1,"dx-number-box",11)(2,"dx-text-box",12,13)(4,"dx-number-box",14)(5,"dx-number-box",15)(6,"dx-number-box",16)(7,"dx-text-box",17),u.TgZ(8,"div",18)(9,"div")(10,"dx-button",19),u.NdJ("onClick",function(){u.CHM(t);const r=u.oxw(2);return u.KtG(r.goto(-1))}),u.qZA(),u.TgZ(11,"dx-button",20),u.NdJ("onClick",function(){u.CHM(t);const r=u.oxw(2);return u.KtG(r.goto(1))}),u.qZA()(),u.TgZ(12,"dx-button",21),u.NdJ("onClick",function(){u.CHM(t);const r=u.oxw(2);return u.KtG(r.hideEditor())}),u.qZA()()()}if(2&e){const t=u.oxw().ngIf;u.xp6(1),u.Q6J("ngrxFormControlState",t.focusedRow.controls.ordinal)("readOnly",!0),u.xp6(1),u.Q6J("ngrxFormControlState",t.focusedRow.controls.name),u.xp6(2),u.Q6J("ngrxFormControlState",t.focusedRow.controls.price),u.xp6(1),u.Q6J("ngrxFormControlState",t.focusedRow.controls.amount),u.xp6(1),u.Q6J("ngrxFormControlState",t.focusedRow.controls.totalPrice),u.xp6(1),u.Q6J("ngrxFormControlState",t.focusedRow.controls.description),u.xp6(3),u.Q6J("tabIndex",1),u.xp6(1),u.Q6J("tabIndex",0)}}const bxe=function(){return{enabled:!1}};function Oxe(e,n){if(1&e){const t=u.EpF();u.TgZ(0,"div",1)(1,"dx-data-grid",2),u.NdJ("onInitialized",function(r){u.CHM(t);const o=u.oxw();return u.KtG(o.onInitialized(r))})("focusedRowKeyChange",function(r){u.CHM(t);const o=u.oxw();return u.KtG(o.onFocusedRowKeyChange(r))})("onCellDblClick",function(r){u.CHM(t);const o=u.oxw();return u.KtG(o.onCellDblClick(r))})("onKeyDown",function(r){u.CHM(t);const o=u.oxw();return u.KtG(o.onKeyDown(r))}),u._UZ(2,"dxi-column",3)(3,"dxi-column",4)(4,"dxi-column",5)(5,"dxi-column",6)(6,"dxi-column",7)(7,"dxi-column",8),u.qZA(),u.YNc(8,xxe,13,9,"div",9),u.qZA()}if(2&e){const t=n.ngIf,i=u.oxw();u.xp6(1),u.Q6J("dataSource",i.gridItems)("focusedRowKey",t.focusedRowKey)("repaintChangesOnly",!0)("hoverStateEnabled",!1)("focusedRowEnabled",!0)("autoNavigateToFocusedRow",!0)("height",450)("showBorders",!0)("paging",u.DdM(13,bxe)),u.xp6(3),u.Q6J("visible",!t.sideEditorVisible),u.xp6(1),u.Q6J("visible",!t.sideEditorVisible),u.xp6(2),u.Q6J("visible",!t.sideEditorVisible),u.xp6(1),u.Q6J("ngIf",t.focusedRow&&t.sideEditorVisible)}}let Dxe=(()=>{var e;class n{constructor(i){this.store=i,this.gridComponent=null,this.gridItems=[],this.editorVisible$=new _I.X(!1),this.focusedRowState$=new _I.X(null),this.focusedRowKey$=new _I.X(null),this.firstEditorTextBox=null}ngOnChanges(i){i.formState&&(this.gridItems=i.formState.currentValue.value.map((o,s)=>({__storeIndex:s,...o})))}get viewModel$(){return vxe([this.editorVisible$,this.focusedRowState$,this.focusedRowKey$],(i,r,o)=>({sideEditorVisible:i,focusedRow:r,focusedRowKey:o}))}onInitialized(i){this.gridComponent=i.component}onFocusedRowKeyChange(i){this.focusedRowKey$.next(i),this.updateFocusedRowState()}onCellDblClick(i){this.tryToShowEditor()}onKeyDown(i){"Enter"===i.event.key&&this.tryToShowEditor()}tryToShowEditor(){null!==this.focusedRowKey$.value&&(this.editorVisible$.next(!0),this.updateFocusedRowState())}hideEditor(){this.editorVisible$.next(!1)}updateFocusedRowState(){this.focusedRowState$.next(null!==this.focusedRowKey$.value?this.formState.controls[this.focusedRowKey$.value]:null)}goto(i){var r=this;return mI(function*(){if(null===r.focusedRowKey$.value)return;const o=r.gridComponent.getRowIndexByKey(r.focusedRowKey$.value)+i;console.log(">>> nextIndex",o);const s=r.gridComponent.getKeyByRowIndex(o);void 0!==s&&(r.focusedRowKey$.next(s),r.updateFocusedRowState(),r.firstEditorTextBox?.instance.focus())})()}onEditorKeyDown(i){"Escape"===i.key&&this.hideEditor()}}return(e=n).\u0275fac=function(i){return new(i||e)(u.Y36(Wt.yh))},e.\u0275cmp=u.Xpm({type:e,selectors:[["app-data-grid-side-editor"]],viewQuery:function(i,r){if(1&i&&u.Gf(yxe,5),2&i){let o;u.iGM(o=u.CRH())&&(r.firstEditorTextBox=o.first)}},inputs:{formState:"formState"},standalone:!0,features:[u.TTD,u.jDz],decls:2,vars:3,consts:[["id","grid-editor",4,"ngIf"],["id","grid-editor"],["keyExpr","__storeIndex",3,"dataSource","focusedRowKey","repaintChangesOnly","hoverStateEnabled","focusedRowEnabled","autoNavigateToFocusedRow","height","showBorders","paging","onInitialized","focusedRowKeyChange","onCellDblClick","onKeyDown"],["dataField","ordinal","width","50","caption","#"],["dataField","name","width","150","caption","Name"],["dataField","price","width","150","caption","Unit price","format","#,##0.00####","dataType","number",3,"visible"],["dataField","amount","width","150","caption","Amount","format","#,##0.00####","dataType","number",3,"visible"],["dataField","totalPrice","width","150","caption","Total price","format","#,##0.00####","dataType","number"],["dataField","description","caption","Description",3,"visible"],["class","editor",3,"keydown",4,"ngIf"],[1,"editor",3,"keydown"],["label","Item no.",3,"ngrxFormControlState","readOnly"],["label","Name",3,"ngrxFormControlState"],["firstEditor",""],["label","Unit price",3,"ngrxFormControlState"],["label","Amount",3,"ngrxFormControlState"],["label","TotalPrice",3,"ngrxFormControlState"],["label","Description",3,"ngrxFormControlState"],[1,"navigation"],["text","< Prev",3,"tabIndex","onClick"],["text","Next >",3,"tabIndex","onClick"],["text","Close",3,"onClick"]],template:function(i,r){1&i&&(u.YNc(0,Oxe,9,14,"div",0),u.ALo(1,"async")),2&i&&u.Q6J("ngIf",u.lcZ(1,1,r.viewModel$))},dependencies:[or,vc,We,ah,du,sh,db,lb,cp,PV,fI,oq,Iw,qy,Ow,ww,bF,KH,sq],styles:["#grid-editor[_ngcontent-%COMP%]{display:flex;flex-direction:row;gap:20px}#grid-editor[_ngcontent-%COMP%]   dx-data-grid[_ngcontent-%COMP%]{flex:1}#grid-editor[_ngcontent-%COMP%]   .editor[_ngcontent-%COMP%]{flex:1}.navigation[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-top:20px}"],changeDetection:0}),n})();function Sxe(e,n){if(1&e&&(u.ynx(0),u.TgZ(1,"tr")(2,"td")(3,"strong"),u._uU(4),u.qZA()(),u.TgZ(5,"td"),u._UZ(6,"dx-text-box",2),u.qZA(),u.TgZ(7,"td"),u._UZ(8,"dx-number-box",3),u.qZA(),u.TgZ(9,"td"),u._UZ(10,"dx-number-box",4),u.qZA(),u.TgZ(11,"td"),u._UZ(12,"dx-number-box",5),u.qZA()(),u.TgZ(13,"tr"),u._UZ(14,"td"),u.TgZ(15,"td",6),u._UZ(16,"dx-text-box",7),u.qZA()(),u.BQk()),2&e){const t=n.$implicit;u.xp6(4),u.Oqu(t.controls.ordinal.value),u.xp6(2),u.Q6J("ngrxFormControlState",t.controls.name),u.xp6(2),u.Q6J("ngrxFormControlState",t.controls.price),u.xp6(2),u.Q6J("ngrxFormControlState",t.controls.amount),u.xp6(2),u.Q6J("ngrxFormControlState",t.controls.totalPrice),u.xp6(4),u.Q6J("ngrxFormControlState",t.controls.description)}}let Exe=(()=>{var e;class n{itemIdentity(i,r){return r.id}}return(e=n).\u0275fac=function(i){return new(i||e)},e.\u0275cmp=u.Xpm({type:e,selectors:[["app-simple-items"]],inputs:{formState:"formState"},standalone:!0,features:[u.jDz],decls:13,vars:2,consts:[[1,"header"],[4,"ngFor","ngForOf","ngForTrackBy"],["label","Name",3,"ngrxFormControlState"],["label","Unit price",3,"ngrxFormControlState"],["label","Amount",3,"ngrxFormControlState"],["label","Total price",3,"ngrxFormControlState"],["colSpan","4"],["label","Description",3,"ngrxFormControlState"]],template:function(i,r){1&i&&(u.TgZ(0,"table")(1,"tr",0)(2,"th"),u._uU(3,"#"),u.qZA(),u.TgZ(4,"th"),u._uU(5,"Name"),u.qZA(),u.TgZ(6,"th"),u._uU(7,"Unit price"),u.qZA(),u.TgZ(8,"th"),u._uU(9,"Amount"),u.qZA(),u.TgZ(10,"th"),u._uU(11,"Total price"),u.qZA()(),u.YNc(12,Sxe,17,6,"ng-container",1),u.qZA()),2&i&&(u.xp6(12),u.Q6J("ngForOf",r.formState.controls)("ngForTrackBy",r.itemIdentity))},dependencies:[or,xd,Iw,qy,PV,fI,ah,du,sh],styles:["table[_ngcontent-%COMP%]{width:100%}"],changeDetection:0}),n})();function wxe(e,n){if(1&e&&u._UZ(0,"app-simple-items",16),2&e){const t=u.oxw().ngIf;u.Q6J("formState",t.controls.items)}}function Ixe(e,n){if(1&e&&u._UZ(0,"app-data-grid-items",16),2&e){const t=u.oxw().ngIf;u.Q6J("formState",t.controls.items)}}function Txe(e,n){if(1&e&&u._UZ(0,"app-data-grid-form-items",16),2&e){const t=u.oxw().ngIf;u.Q6J("formState",t.controls.items)}}function Mxe(e,n){if(1&e&&u._UZ(0,"app-data-grid-internal-recalc-items",16),2&e){const t=u.oxw().ngIf;u.Q6J("formState",t.controls.items)}}function Axe(e,n){if(1&e&&u._UZ(0,"app-data-grid-custom-editor",16),2&e){const t=u.oxw().ngIf;u.Q6J("formState",t.controls.items)}}function Rxe(e,n){if(1&e&&u._UZ(0,"app-data-grid-side-editor",16),2&e){const t=u.oxw().ngIf;u.Q6J("formState",t.controls.items)}}function Pxe(e,n){if(1&e){const t=u.EpF();u.ynx(0),u.TgZ(1,"div",6)(2,"h3"),u._uU(3,"Header"),u.qZA(),u._UZ(4,"dx-text-box",7),u.TgZ(5,"h3"),u._uU(6,"Items editor"),u.qZA(),u.TgZ(7,"div",8)(8,"dx-select-box",9),u.NdJ("valueChange",function(r){u.CHM(t);const o=u.oxw();return u.KtG(o.currentItemsEditorVariant=r)}),u.qZA(),u.TgZ(9,"div",10),u._UZ(10,"dx-load-indicator",11),u.ALo(11,"async"),u.qZA()(),u.TgZ(12,"div",12),u.YNc(13,wxe,1,1,"app-simple-items",13),u.YNc(14,Ixe,1,1,"app-data-grid-items",13),u.YNc(15,Txe,1,1,"app-data-grid-form-items",13),u.YNc(16,Mxe,1,1,"app-data-grid-internal-recalc-items",13),u.YNc(17,Axe,1,1,"app-data-grid-custom-editor",13),u.YNc(18,Rxe,1,1,"app-data-grid-side-editor",13),u.qZA(),u.TgZ(19,"div",14)(20,"h3"),u._uU(21,"Footer"),u.qZA(),u._UZ(22,"dx-text-box",15),u.qZA()(),u.TgZ(23,"h2"),u._uU(24,"NgRx Form state"),u.qZA(),u.TgZ(25,"pre"),u._uU(26),u.ALo(27,"json"),u.qZA(),u.BQk()}if(2&e){const t=n.ngIf,i=u.oxw();u.xp6(4),u.Q6J("ngrxFormControlState",t.controls.documentNumber),u.xp6(4),u.Q6J("value",i.currentItemsEditorVariant)("items",i.itemsEditorVariants)("hoverStateEnabled",!0)("width",400),u.xp6(2),u.Q6J("visible",u.lcZ(11,14,i.recalculationInProgress$)),u.xp6(3),u.Q6J("ngIf","simple"===i.currentItemsEditorVariant),u.xp6(1),u.Q6J("ngIf","dx-cell"===i.currentItemsEditorVariant),u.xp6(1),u.Q6J("ngIf","dx-form"===i.currentItemsEditorVariant),u.xp6(1),u.Q6J("ngIf","dx-internal-recalc"===i.currentItemsEditorVariant),u.xp6(1),u.Q6J("ngIf","dx-custom-editor"===i.currentItemsEditorVariant),u.xp6(1),u.Q6J("ngIf","dx-side-editor"===i.currentItemsEditorVariant),u.xp6(4),u.Q6J("ngrxFormControlState",t.controls.finalDocumentText),u.xp6(4),u.Oqu(u.lcZ(27,16,t.value))}}const Fxe=function(){return{of:"#document-editor"}};(function HI(e,n){return(0,u.iPO)({rootComponent:e,...Me(n)})})((()=>{var e;class n{constructor(i){this.store=i,this.currentItemsEditorVariant="dx-side-editor",this.itemsEditorVariants=[{value:"simple",text:"Simple *ngFor and table"},{value:"dx-cell",text:"DxDataGrid, edit mode cell"},{value:"dx-form",text:"DxDataGrid, edit mode form"},{value:"dx-internal-recalc",text:"DxDataGrid, recalc logic in grid rows"},{value:"dx-custom-editor",text:"DxDataGrid, custom modal editor"},{value:"dx-side-editor",text:"DxDataGrid, side editor"}],this.formState$=i.select(CD),this.recalculationInProgress$=i.select(xD),this.loadInProgress$=i.select(yD)}ngOnInit(){this.loadDocumentById(1)}loadEmptyDocument(){this.store.dispatch(fs.loadEmptyDocument())}loadDocumentById(i){this.store.dispatch(fs.loadDocumentById({id:i}))}}return(e=n).\u0275fac=function(i){return new(i||e)(u.Y36(Wt.yh))},e.\u0275cmp=u.Xpm({type:e,selectors:[["app-root"]],standalone:!0,features:[u.jDz],decls:12,vars:8,consts:[[1,"loaders"],["type","default","text","Empty document",3,"onClick"],["type","default","text","Small document",3,"onClick"],["type","default","text","Large document",3,"onClick"],[4,"ngIf"],["shadingColor","rgba(0,0,0,0.4)",3,"visible","position"],["id","document-editor"],["label","Document nr.",3,"ngrxFormControlState"],[1,"items-header"],["label","Items editor variant","displayExpr","text","valueExpr","value",3,"value","items","hoverStateEnabled","width","valueChange"],[1,"recalc-indicator"],[3,"visible"],[1,"items-editor-container"],[3,"formState",4,"ngIf"],[1,"document-footer"],["label","Final document text",3,"ngrxFormControlState"],[3,"formState"]],template:function(i,r){1&i&&(u.TgZ(0,"h2"),u._uU(1,"Document editor"),u.qZA(),u.TgZ(2,"h3"),u._uU(3,"Load document"),u.qZA(),u.TgZ(4,"div",0)(5,"dx-button",1),u.NdJ("onClick",function(){return r.loadEmptyDocument()}),u.qZA(),u.TgZ(6,"dx-button",2),u.NdJ("onClick",function(){return r.loadDocumentById(1)}),u.qZA(),u.TgZ(7,"dx-button",3),u.NdJ("onClick",function(){return r.loadDocumentById(2)}),u.qZA()(),u.YNc(8,Pxe,28,18,"ng-container",4),u.ALo(9,"async"),u._UZ(10,"dx-load-panel",5),u.ALo(11,"async")),2&i&&(u.xp6(8),u.Q6J("ngIf",u.lcZ(9,3,r.formState$)),u.xp6(2),u.Q6J("visible",u.lcZ(11,5,r.loadInProgress$))("position",u.DdM(7,Fxe)))},dependencies:[or,vc,We,yb,bF,KH,Iw,qy,ah,du,sh,Exe,_xe,pxe,fxe,hxe,Dxe,vU,tB,jne,Une,Yne,Kne],styles:[".loaders[_ngcontent-%COMP%] > dx-button[_ngcontent-%COMP%]{margin-right:10px;width:150px;margin-bottom:20px}#document-editor[_ngcontent-%COMP%]{border:3px solid grey;padding:0 20px 20px}pre[_ngcontent-%COMP%]{color:#4169e1}.items-editor-container[_ngcontent-%COMP%]{margin-top:20px}.items-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.document-footer[_ngcontent-%COMP%]{margin-top:30px}"],changeDetection:0}),n})(),Bv).catch(e=>console.error(e))},5619:(q,z,F)=>{F.d(z,{X:()=>u});var N=F(8645);class u extends N.x{constructor(ue){super(),this._value=ue}get value(){return this.getValue()}_subscribe(ue){const K=super._subscribe(ue);return!K.closed&&ue.next(this._value),K}getValue(){const{hasError:ue,thrownError:K,_value:ge}=this;if(ue)throw K;return this._throwIfClosed(),ge}next(ue){super.next(this._value=ue)}}},3018:(q,z,F)=>{F.d(z,{y:()=>Y});var N=F(305),u=F(7394),ae=F(4850),ue=F(2737);var Z=F(2653),oe=F(4674),X=F(1441);let Y=(()=>{class Ve{constructor(Oe){Oe&&(this._subscribe=Oe)}lift(Oe){const st=new Ve;return st.source=this,st.operator=Oe,st}subscribe(Oe,st,et){const at=function Pe(Ve){return Ve&&Ve instanceof N.Lv||function me(Ve){return Ve&&(0,oe.m)(Ve.next)&&(0,oe.m)(Ve.error)&&(0,oe.m)(Ve.complete)}(Ve)&&(0,u.Nn)(Ve)}(Oe)?Oe:new N.Hp(Oe,st,et);return(0,X.x)(()=>{const{operator:Xe,source:re}=this;at.add(Xe?Xe.call(at,re):re?this._subscribe(at):this._trySubscribe(at))}),at}_trySubscribe(Oe){try{return this._subscribe(Oe)}catch(st){Oe.error(st)}}forEach(Oe,st){return new(st=te(st))((et,at)=>{const Xe=new N.Hp({next:re=>{try{Oe(re)}catch(Ie){at(Ie),Xe.unsubscribe()}},error:at,complete:et});this.subscribe(Xe)})}_subscribe(Oe){var st;return null===(st=this.source)||void 0===st?void 0:st.subscribe(Oe)}[ae.L](){return this}pipe(...Oe){return function ge(Ve){return 0===Ve.length?ue.y:1===Ve.length?Ve[0]:function(Oe){return Ve.reduce((st,et)=>et(st),Oe)}}(Oe)(this)}toPromise(Oe){return new(Oe=te(Oe))((st,et)=>{let at;this.subscribe(Xe=>at=Xe,Xe=>et(Xe),()=>st(at))})}}return Ve.create=Qe=>new Ve(Qe),Ve})();function te(Ve){var Qe;return null!==(Qe=Ve??Z.config.Promise)&&void 0!==Qe?Qe:Promise}},7328:(q,z,F)=>{F.d(z,{t:()=>ae});var N=F(8645),u=F(4552);class ae extends N.x{constructor(K=1/0,ge=1/0,Z=u.l){super(),this._bufferSize=K,this._windowTime=ge,this._timestampProvider=Z,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=ge===1/0,this._bufferSize=Math.max(1,K),this._windowTime=Math.max(1,ge)}next(K){const{isStopped:ge,_buffer:Z,_infiniteTimeWindow:oe,_timestampProvider:X,_windowTime:Y}=this;ge||(Z.push(K),!oe&&Z.push(X.now()+Y)),this._trimBuffer(),super.next(K)}_subscribe(K){this._throwIfClosed(),this._trimBuffer();const ge=this._innerSubscribe(K),{_infiniteTimeWindow:Z,_buffer:oe}=this,X=oe.slice();for(let Y=0;Y<X.length&&!K.closed;Y+=Z?1:2)K.next(X[Y]);return this._checkFinalizedStatuses(K),ge}_trimBuffer(){const{_bufferSize:K,_timestampProvider:ge,_buffer:Z,_infiniteTimeWindow:oe}=this,X=(oe?1:2)*K;if(K<1/0&&X<Z.length&&Z.splice(0,Z.length-X),!oe){const Y=ge.now();let te=0;for(let me=1;me<Z.length&&Z[me]<=Y;me+=2)te=me;te&&Z.splice(0,te+1)}}}},8645:(q,z,F)=>{F.d(z,{x:()=>Z});var N=F(3018),u=F(7394);const ue=(0,F(2306).d)(X=>function(){X(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var K=F(9039),ge=F(1441);let Z=(()=>{class X extends N.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(te){const me=new oe(this,this);return me.operator=te,me}_throwIfClosed(){if(this.closed)throw new ue}next(te){(0,ge.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const me of this.currentObservers)me.next(te)}})}error(te){(0,ge.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=te;const{observers:me}=this;for(;me.length;)me.shift().error(te)}})}complete(){(0,ge.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:te}=this;for(;te.length;)te.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var te;return(null===(te=this.observers)||void 0===te?void 0:te.length)>0}_trySubscribe(te){return this._throwIfClosed(),super._trySubscribe(te)}_subscribe(te){return this._throwIfClosed(),this._checkFinalizedStatuses(te),this._innerSubscribe(te)}_innerSubscribe(te){const{hasError:me,isStopped:Pe,observers:Ve}=this;return me||Pe?u.Lc:(this.currentObservers=null,Ve.push(te),new u.w0(()=>{this.currentObservers=null,(0,K.P)(Ve,te)}))}_checkFinalizedStatuses(te){const{hasError:me,thrownError:Pe,isStopped:Ve}=this;me?te.error(Pe):Ve&&te.complete()}asObservable(){const te=new N.y;return te.source=this,te}}return X.create=(Y,te)=>new oe(Y,te),X})();class oe extends Z{constructor(Y,te){super(),this.destination=Y,this.source=te}next(Y){var te,me;null===(me=null===(te=this.destination)||void 0===te?void 0:te.next)||void 0===me||me.call(te,Y)}error(Y){var te,me;null===(me=null===(te=this.destination)||void 0===te?void 0:te.error)||void 0===me||me.call(te,Y)}complete(){var Y,te;null===(te=null===(Y=this.destination)||void 0===Y?void 0:Y.complete)||void 0===te||te.call(Y)}_subscribe(Y){var te,me;return null!==(me=null===(te=this.source)||void 0===te?void 0:te.subscribe(Y))&&void 0!==me?me:u.Lc}}},305:(q,z,F)=>{F.d(z,{Hp:()=>Oe,Lv:()=>me});var N=F(4674),u=F(7394),ae=F(2653),ue=F(3894),K=F(2420);const ge=X("C",void 0,void 0);function X(re,Ie,Ae){return{kind:re,value:Ie,error:Ae}}var Y=F(7599),te=F(1441);class me extends u.w0{constructor(Ie){super(),this.isStopped=!1,Ie?(this.destination=Ie,(0,u.Nn)(Ie)&&Ie.add(this)):this.destination=Xe}static create(Ie,Ae,Fe){return new Oe(Ie,Ae,Fe)}next(Ie){this.isStopped?at(function oe(re){return X("N",re,void 0)}(Ie),this):this._next(Ie)}error(Ie){this.isStopped?at(function Z(re){return X("E",void 0,re)}(Ie),this):(this.isStopped=!0,this._error(Ie))}complete(){this.isStopped?at(ge,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Ie){this.destination.next(Ie)}_error(Ie){try{this.destination.error(Ie)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Pe=Function.prototype.bind;function Ve(re,Ie){return Pe.call(re,Ie)}class Qe{constructor(Ie){this.partialObserver=Ie}next(Ie){const{partialObserver:Ae}=this;if(Ae.next)try{Ae.next(Ie)}catch(Fe){st(Fe)}}error(Ie){const{partialObserver:Ae}=this;if(Ae.error)try{Ae.error(Ie)}catch(Fe){st(Fe)}else st(Ie)}complete(){const{partialObserver:Ie}=this;if(Ie.complete)try{Ie.complete()}catch(Ae){st(Ae)}}}class Oe extends me{constructor(Ie,Ae,Fe){let tt;if(super(),(0,N.m)(Ie)||!Ie)tt={next:Ie??void 0,error:Ae??void 0,complete:Fe??void 0};else{let nt;this&&ae.config.useDeprecatedNextContext?(nt=Object.create(Ie),nt.unsubscribe=()=>this.unsubscribe(),tt={next:Ie.next&&Ve(Ie.next,nt),error:Ie.error&&Ve(Ie.error,nt),complete:Ie.complete&&Ve(Ie.complete,nt)}):tt=Ie}this.destination=new Qe(tt)}}function st(re){ae.config.useDeprecatedSynchronousErrorHandling?(0,te.O)(re):(0,ue.h)(re)}function at(re,Ie){const{onStoppedNotification:Ae}=ae.config;Ae&&Y.z.setTimeout(()=>Ae(re,Ie))}const Xe={closed:!0,next:K.Z,error:function et(re){throw re},complete:K.Z}},7394:(q,z,F)=>{F.d(z,{Lc:()=>ge,w0:()=>K,Nn:()=>Z});var N=F(4674);const ae=(0,F(2306).d)(X=>function(te){X(this),this.message=te?`${te.length} errors occurred during unsubscription:\n${te.map((me,Pe)=>`${Pe+1}) ${me.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=te});var ue=F(9039);class K{constructor(Y){this.initialTeardown=Y,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let Y;if(!this.closed){this.closed=!0;const{_parentage:te}=this;if(te)if(this._parentage=null,Array.isArray(te))for(const Ve of te)Ve.remove(this);else te.remove(this);const{initialTeardown:me}=this;if((0,N.m)(me))try{me()}catch(Ve){Y=Ve instanceof ae?Ve.errors:[Ve]}const{_finalizers:Pe}=this;if(Pe){this._finalizers=null;for(const Ve of Pe)try{oe(Ve)}catch(Qe){Y=Y??[],Qe instanceof ae?Y=[...Y,...Qe.errors]:Y.push(Qe)}}if(Y)throw new ae(Y)}}add(Y){var te;if(Y&&Y!==this)if(this.closed)oe(Y);else{if(Y instanceof K){if(Y.closed||Y._hasParent(this))return;Y._addParent(this)}(this._finalizers=null!==(te=this._finalizers)&&void 0!==te?te:[]).push(Y)}}_hasParent(Y){const{_parentage:te}=this;return te===Y||Array.isArray(te)&&te.includes(Y)}_addParent(Y){const{_parentage:te}=this;this._parentage=Array.isArray(te)?(te.push(Y),te):te?[te,Y]:Y}_removeParent(Y){const{_parentage:te}=this;te===Y?this._parentage=null:Array.isArray(te)&&(0,ue.P)(te,Y)}remove(Y){const{_finalizers:te}=this;te&&(0,ue.P)(te,Y),Y instanceof K&&Y._removeParent(this)}}K.EMPTY=(()=>{const X=new K;return X.closed=!0,X})();const ge=K.EMPTY;function Z(X){return X instanceof K||X&&"closed"in X&&(0,N.m)(X.remove)&&(0,N.m)(X.add)&&(0,N.m)(X.unsubscribe)}function oe(X){(0,N.m)(X)?X():X.unsubscribe()}},2653:(q,z,F)=>{F.d(z,{config:()=>N});const N={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},6232:(q,z,F)=>{F.d(z,{E:()=>u});const u=new(F(3018).y)(K=>K.complete())},9666:(q,z,F)=>{F.d(z,{D:()=>Ae});var N=F(4829),u=F(3093),ae=F(9360);function ue(Fe,tt=0){return(0,ae.e)((nt,ct)=>{ct.add(Fe.schedule(()=>nt.subscribe(ct),tt))})}var Z=F(3018),X=F(4971),Y=F(4674),te=F(7103);function Pe(Fe,tt){if(!Fe)throw new Error("Iterable cannot be null");return new Z.y(nt=>{(0,te.f)(nt,tt,()=>{const ct=Fe[Symbol.asyncIterator]();(0,te.f)(nt,tt,()=>{ct.next().then(gn=>{gn.done?nt.complete():nt.next(gn.value)})},0,!0)})})}var Ve=F(8382),Qe=F(4026),Oe=F(4266),st=F(3664),et=F(5726),at=F(9853),Xe=F(541);function Ae(Fe,tt){return tt?function Ie(Fe,tt){if(null!=Fe){if((0,Ve.c)(Fe))return function K(Fe,tt){return(0,N.Xf)(Fe).pipe(ue(tt),(0,u.Q)(tt))}(Fe,tt);if((0,Oe.z)(Fe))return function oe(Fe,tt){return new Z.y(nt=>{let ct=0;return tt.schedule(function(){ct===Fe.length?nt.complete():(nt.next(Fe[ct++]),nt.closed||this.schedule())})})}(Fe,tt);if((0,Qe.t)(Fe))return function ge(Fe,tt){return(0,N.Xf)(Fe).pipe(ue(tt),(0,u.Q)(tt))}(Fe,tt);if((0,et.D)(Fe))return Pe(Fe,tt);if((0,st.T)(Fe))return function me(Fe,tt){return new Z.y(nt=>{let ct;return(0,te.f)(nt,tt,()=>{ct=Fe[X.h](),(0,te.f)(nt,tt,()=>{let gn,Ft;try{({value:gn,done:Ft}=ct.next())}catch($r){return void nt.error($r)}Ft?nt.complete():nt.next(gn)},0,!0)}),()=>(0,Y.m)(ct?.return)&&ct.return()})}(Fe,tt);if((0,Xe.L)(Fe))return function re(Fe,tt){return Pe((0,Xe.Q)(Fe),tt)}(Fe,tt)}throw(0,at.z)(Fe)}(Fe,tt):(0,N.Xf)(Fe)}},4829:(q,z,F)=>{F.d(z,{Xf:()=>Pe});var N=F(7582),u=F(4266),ae=F(4026),ue=F(3018),K=F(8382),ge=F(5726),Z=F(9853),oe=F(3664),X=F(541),Y=F(4674),te=F(3894),me=F(4850);function Pe(re){if(re instanceof ue.y)return re;if(null!=re){if((0,K.c)(re))return function Ve(re){return new ue.y(Ie=>{const Ae=re[me.L]();if((0,Y.m)(Ae.subscribe))return Ae.subscribe(Ie);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(re);if((0,u.z)(re))return function Qe(re){return new ue.y(Ie=>{for(let Ae=0;Ae<re.length&&!Ie.closed;Ae++)Ie.next(re[Ae]);Ie.complete()})}(re);if((0,ae.t)(re))return function Oe(re){return new ue.y(Ie=>{re.then(Ae=>{Ie.closed||(Ie.next(Ae),Ie.complete())},Ae=>Ie.error(Ae)).then(null,te.h)})}(re);if((0,ge.D)(re))return et(re);if((0,oe.T)(re))return function st(re){return new ue.y(Ie=>{for(const Ae of re)if(Ie.next(Ae),Ie.closed)return;Ie.complete()})}(re);if((0,X.L)(re))return function at(re){return et((0,X.Q)(re))}(re)}throw(0,Z.z)(re)}function et(re){return new ue.y(Ie=>{(function Xe(re,Ie){var Ae,Fe,tt,nt;return(0,N.mG)(this,void 0,void 0,function*(){try{for(Ae=(0,N.KL)(re);!(Fe=yield Ae.next()).done;)if(Ie.next(Fe.value),Ie.closed)return}catch(ct){tt={error:ct}}finally{try{Fe&&!Fe.done&&(nt=Ae.return)&&(yield nt.call(Ae))}finally{if(tt)throw tt.error}}Ie.complete()})})(re,Ie).catch(Ae=>Ie.error(Ae))})}},3019:(q,z,F)=>{F.d(z,{T:()=>ge});var N=F(7537),u=F(4829),ae=F(6232),ue=F(9940),K=F(9666);function ge(...Z){const oe=(0,ue.yG)(Z),X=(0,ue._6)(Z,1/0),Y=Z;return Y.length?1===Y.length?(0,u.Xf)(Y[0]):(0,N.J)(X)((0,K.D)(Y,oe)):ae.E}},2096:(q,z,F)=>{F.d(z,{of:()=>ae});var N=F(9940),u=F(9666);function ae(...ue){const K=(0,N.yG)(ue);return(0,u.D)(ue,K)}},8251:(q,z,F)=>{F.d(z,{Q:()=>ae,x:()=>u});var N=F(305);function u(ue,K,ge,Z,oe){return new ae(ue,K,ge,Z,oe)}class ae extends N.Lv{constructor(K,ge,Z,oe,X,Y){super(K),this.onFinalize=X,this.shouldUnsubscribe=Y,this._next=ge?function(te){try{ge(te)}catch(me){K.error(me)}}:super._next,this._error=oe?function(te){try{oe(te)}catch(me){K.error(me)}finally{this.unsubscribe()}}:super._error,this._complete=Z?function(){try{Z()}catch(te){K.error(te)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var K;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:ge}=this;super.unsubscribe(),!ge&&(null===(K=this.onFinalize)||void 0===K||K.call(this))}}}},6306:(q,z,F)=>{F.d(z,{K:()=>ue});var N=F(4829),u=F(8251),ae=F(9360);function ue(K){return(0,ae.e)((ge,Z)=>{let Y,oe=null,X=!1;oe=ge.subscribe((0,u.x)(Z,void 0,void 0,te=>{Y=(0,N.Xf)(K(te,ue(K)(ge))),oe?(oe.unsubscribe(),oe=null,Y.subscribe(Z)):X=!0})),X&&(oe.unsubscribe(),oe=null,Y.subscribe(Z))})}},6328:(q,z,F)=>{F.d(z,{b:()=>ae});var N=F(1631),u=F(4674);function ae(ue,K){return(0,u.m)(K)?(0,N.z)(ue,K,1):(0,N.z)(ue,1)}},3620:(q,z,F)=>{F.d(z,{b:()=>ue});var N=F(6321),u=F(9360),ae=F(8251);function ue(K,ge=N.z){return(0,u.e)((Z,oe)=>{let X=null,Y=null,te=null;const me=()=>{if(X){X.unsubscribe(),X=null;const Ve=Y;Y=null,oe.next(Ve)}};function Pe(){const Ve=te+K,Qe=ge.now();if(Qe<Ve)return X=this.schedule(void 0,Ve-Qe),void oe.add(X);me()}Z.subscribe((0,ae.x)(oe,Ve=>{Y=Ve,te=ge.now(),X||(X=ge.schedule(Pe,K),oe.add(X))},()=>{me(),oe.complete()},void 0,()=>{Y=X=null}))})}},3997:(q,z,F)=>{F.d(z,{x:()=>ue});var N=F(2737),u=F(9360),ae=F(8251);function ue(ge,Z=N.y){return ge=ge??K,(0,u.e)((oe,X)=>{let Y,te=!0;oe.subscribe((0,ae.x)(X,me=>{const Pe=Z(me);(te||!ge(Y,Pe))&&(te=!1,Y=Pe,X.next(me))}))})}function K(ge,Z){return ge===Z}},2181:(q,z,F)=>{F.d(z,{h:()=>ae});var N=F(9360),u=F(8251);function ae(ue,K){return(0,N.e)((ge,Z)=>{let oe=0;ge.subscribe((0,u.x)(Z,X=>ue.call(K,X,oe++)&&Z.next(X)))})}},7398:(q,z,F)=>{F.d(z,{U:()=>ae});var N=F(9360),u=F(8251);function ae(ue,K){return(0,N.e)((ge,Z)=>{let oe=0;ge.subscribe((0,u.x)(Z,X=>{Z.next(ue.call(K,X,oe++))}))})}},7537:(q,z,F)=>{F.d(z,{J:()=>ae});var N=F(1631),u=F(2737);function ae(ue=1/0){return(0,N.z)(u.y,ue)}},1631:(q,z,F)=>{F.d(z,{z:()=>oe});var N=F(7398),u=F(4829),ae=F(9360),ue=F(7103),K=F(8251),Z=F(4674);function oe(X,Y,te=1/0){return(0,Z.m)(Y)?oe((me,Pe)=>(0,N.U)((Ve,Qe)=>Y(me,Ve,Pe,Qe))((0,u.Xf)(X(me,Pe))),te):("number"==typeof Y&&(te=Y),(0,ae.e)((me,Pe)=>function ge(X,Y,te,me,Pe,Ve,Qe,Oe){const st=[];let et=0,at=0,Xe=!1;const re=()=>{Xe&&!st.length&&!et&&Y.complete()},Ie=Fe=>et<me?Ae(Fe):st.push(Fe),Ae=Fe=>{Ve&&Y.next(Fe),et++;let tt=!1;(0,u.Xf)(te(Fe,at++)).subscribe((0,K.x)(Y,nt=>{Pe?.(nt),Ve?Ie(nt):Y.next(nt)},()=>{tt=!0},void 0,()=>{if(tt)try{for(et--;st.length&&et<me;){const nt=st.shift();Qe?(0,ue.f)(Y,Qe,()=>Ae(nt)):Ae(nt)}re()}catch(nt){Y.error(nt)}}))};return X.subscribe((0,K.x)(Y,Ie,()=>{Xe=!0,re()})),()=>{Oe?.()}}(me,Pe,X,te)))}},3093:(q,z,F)=>{F.d(z,{Q:()=>ue});var N=F(7103),u=F(9360),ae=F(8251);function ue(K,ge=0){return(0,u.e)((Z,oe)=>{Z.subscribe((0,ae.x)(oe,X=>(0,N.f)(oe,K,()=>oe.next(X),ge),()=>(0,N.f)(oe,K,()=>oe.complete(),ge),X=>(0,N.f)(oe,K,()=>oe.error(X),ge)))})}},6699:(q,z,F)=>{F.d(z,{R:()=>ue});var N=F(9360),u=F(8251);function ue(K,ge){return(0,N.e)(function ae(K,ge,Z,oe,X){return(Y,te)=>{let me=Z,Pe=ge,Ve=0;Y.subscribe((0,u.x)(te,Qe=>{const Oe=Ve++;Pe=me?K(Pe,Qe,Oe):(me=!0,Qe),oe&&te.next(Pe)},X&&(()=>{me&&te.next(Pe),te.complete()})))}}(K,ge,arguments.length>=2,!0))}},3020:(q,z,F)=>{F.d(z,{B:()=>K});var N=F(4829),u=F(8645),ae=F(305),ue=F(9360);function K(Z={}){const{connector:oe=(()=>new u.x),resetOnError:X=!0,resetOnComplete:Y=!0,resetOnRefCountZero:te=!0}=Z;return me=>{let Pe,Ve,Qe,Oe=0,st=!1,et=!1;const at=()=>{Ve?.unsubscribe(),Ve=void 0},Xe=()=>{at(),Pe=Qe=void 0,st=et=!1},re=()=>{const Ie=Pe;Xe(),Ie?.unsubscribe()};return(0,ue.e)((Ie,Ae)=>{Oe++,!et&&!st&&at();const Fe=Qe=Qe??oe();Ae.add(()=>{Oe--,0===Oe&&!et&&!st&&(Ve=ge(re,te))}),Fe.subscribe(Ae),!Pe&&Oe>0&&(Pe=new ae.Hp({next:tt=>Fe.next(tt),error:tt=>{et=!0,at(),Ve=ge(Xe,X,tt),Fe.error(tt)},complete:()=>{st=!0,at(),Ve=ge(Xe,Y),Fe.complete()}}),(0,N.Xf)(Ie).subscribe(Pe))})(me)}}function ge(Z,oe,...X){if(!0===oe)return void Z();if(!1===oe)return;const Y=new ae.Hp({next:()=>{Y.unsubscribe(),Z()}});return(0,N.Xf)(oe(...X)).subscribe(Y)}},836:(q,z,F)=>{F.d(z,{T:()=>u});var N=F(2181);function u(ae){return(0,N.h)((ue,K)=>ae<=K)}},4664:(q,z,F)=>{F.d(z,{w:()=>ue});var N=F(4829),u=F(9360),ae=F(8251);function ue(K,ge){return(0,u.e)((Z,oe)=>{let X=null,Y=0,te=!1;const me=()=>te&&!X&&oe.complete();Z.subscribe((0,ae.x)(oe,Pe=>{X?.unsubscribe();let Ve=0;const Qe=Y++;(0,N.Xf)(K(Pe,Qe)).subscribe(X=(0,ae.x)(oe,Oe=>oe.next(ge?ge(Pe,Oe,Qe,Ve++):Oe),()=>{X=null,me()}))},()=>{te=!0,me()}))})}},8180:(q,z,F)=>{F.d(z,{q:()=>ue});var N=F(6232),u=F(9360),ae=F(8251);function ue(K){return K<=0?()=>N.E:(0,u.e)((ge,Z)=>{let oe=0;ge.subscribe((0,ae.x)(Z,X=>{++oe<=K&&(Z.next(X),K<=oe&&Z.complete())}))})}},9773:(q,z,F)=>{F.d(z,{R:()=>K});var N=F(9360),u=F(8251),ae=F(4829),ue=F(2420);function K(ge){return(0,N.e)((Z,oe)=>{(0,ae.Xf)(ge).subscribe((0,u.x)(oe,()=>oe.complete(),ue.Z)),!oe.closed&&Z.subscribe(oe)})}},5178:(q,z,F)=>{F.d(z,{V:()=>X});var N=F(6321),u=F(93),ae=F(9360),ue=F(4829),K=F(2306),ge=F(8251),Z=F(7103);const oe=(0,K.d)(te=>function(Pe=null){te(this),this.message="Timeout has occurred",this.name="TimeoutError",this.info=Pe});function X(te,me){const{first:Pe,each:Ve,with:Qe=Y,scheduler:Oe=me??N.z,meta:st=null}=(0,u.q)(te)?{first:te}:"number"==typeof te?{each:te}:te;if(null==Pe&&null==Ve)throw new TypeError("No timeout provided.");return(0,ae.e)((et,at)=>{let Xe,re,Ie=null,Ae=0;const Fe=tt=>{re=(0,Z.f)(at,Oe,()=>{try{Xe.unsubscribe(),(0,ue.Xf)(Qe({meta:st,lastValue:Ie,seen:Ae})).subscribe(at)}catch(nt){at.error(nt)}},tt)};Xe=et.subscribe((0,ge.x)(at,tt=>{re?.unsubscribe(),Ae++,at.next(Ie=tt),Ve>0&&Fe(Ve)},void 0,void 0,()=>{re?.closed||re?.unsubscribe(),Ie=null})),!Ae&&Fe(null!=Pe?"number"==typeof Pe?Pe:+Pe-Oe.now():Ve)})}function Y(te){throw new oe(te)}},2460:(q,z,F)=>{F.d(z,{M:()=>Z});var N=F(9360),u=F(8251),ae=F(4829),ue=F(2737),K=F(2420),ge=F(9940);function Z(...oe){const X=(0,ge.jO)(oe);return(0,N.e)((Y,te)=>{const me=oe.length,Pe=new Array(me);let Ve=oe.map(()=>!1),Qe=!1;for(let Oe=0;Oe<me;Oe++)(0,ae.Xf)(oe[Oe]).subscribe((0,u.x)(te,st=>{Pe[Oe]=st,!Qe&&!Ve[Oe]&&(Ve[Oe]=!0,(Qe=Ve.every(ue.y))&&(Ve=null))},K.Z));Y.subscribe((0,u.x)(te,Oe=>{if(Qe){const st=[Oe,...Pe];te.next(X?X(...st):st)}}))})}},1954:(q,z,F)=>{F.d(z,{o:()=>K});var N=F(7394);class u extends N.w0{constructor(Z,oe){super()}schedule(Z,oe=0){return this}}const ae={setInterval(ge,Z,...oe){const{delegate:X}=ae;return X?.setInterval?X.setInterval(ge,Z,...oe):setInterval(ge,Z,...oe)},clearInterval(ge){const{delegate:Z}=ae;return(Z?.clearInterval||clearInterval)(ge)},delegate:void 0};var ue=F(9039);class K extends u{constructor(Z,oe){super(Z,oe),this.scheduler=Z,this.work=oe,this.pending=!1}schedule(Z,oe=0){var X;if(this.closed)return this;this.state=Z;const Y=this.id,te=this.scheduler;return null!=Y&&(this.id=this.recycleAsyncId(te,Y,oe)),this.pending=!0,this.delay=oe,this.id=null!==(X=this.id)&&void 0!==X?X:this.requestAsyncId(te,this.id,oe),this}requestAsyncId(Z,oe,X=0){return ae.setInterval(Z.flush.bind(Z,this),X)}recycleAsyncId(Z,oe,X=0){if(null!=X&&this.delay===X&&!1===this.pending)return oe;null!=oe&&ae.clearInterval(oe)}execute(Z,oe){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const X=this._execute(Z,oe);if(X)return X;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(Z,oe){let Y,X=!1;try{this.work(Z)}catch(te){X=!0,Y=te||new Error("Scheduled action threw falsy error")}if(X)return this.unsubscribe(),Y}unsubscribe(){if(!this.closed){const{id:Z,scheduler:oe}=this,{actions:X}=oe;this.work=this.state=this.scheduler=null,this.pending=!1,(0,ue.P)(X,this),null!=Z&&(this.id=this.recycleAsyncId(oe,Z,null)),this.delay=null,super.unsubscribe()}}}},2631:(q,z,F)=>{F.d(z,{v:()=>ae});var N=F(4552);class u{constructor(K,ge=u.now){this.schedulerActionCtor=K,this.now=ge}schedule(K,ge=0,Z){return new this.schedulerActionCtor(this,K).schedule(Z,ge)}}u.now=N.l.now;class ae extends u{constructor(K,ge=u.now){super(K,ge),this.actions=[],this._active=!1}flush(K){const{actions:ge}=this;if(this._active)return void ge.push(K);let Z;this._active=!0;do{if(Z=K.execute(K.state,K.delay))break}while(K=ge.shift());if(this._active=!1,Z){for(;K=ge.shift();)K.unsubscribe();throw Z}}}},6321:(q,z,F)=>{F.d(z,{P:()=>ue,z:()=>ae});var N=F(1954);const ae=new(F(2631).v)(N.o),ue=ae},4552:(q,z,F)=>{F.d(z,{l:()=>N});const N={now:()=>(N.delegate||Date).now(),delegate:void 0}},2381:(q,z,F)=>{F.d(z,{N:()=>K});var N=F(1954),ae=F(2631);const K=new class ue extends ae.v{}(class u extends N.o{constructor(oe,X){super(oe,X),this.scheduler=oe,this.work=X}schedule(oe,X=0){return X>0?super.schedule(oe,X):(this.delay=X,this.state=oe,this.scheduler.flush(this),this)}execute(oe,X){return X>0||this.closed?super.execute(oe,X):this._execute(oe,X)}requestAsyncId(oe,X,Y=0){return null!=Y&&Y>0||null==Y&&this.delay>0?super.requestAsyncId(oe,X,Y):(oe.flush(this),0)}})},7599:(q,z,F)=>{F.d(z,{z:()=>N});const N={setTimeout(u,ae,...ue){const{delegate:K}=N;return K?.setTimeout?K.setTimeout(u,ae,...ue):setTimeout(u,ae,...ue)},clearTimeout(u){const{delegate:ae}=N;return(ae?.clearTimeout||clearTimeout)(u)},delegate:void 0}},4971:(q,z,F)=>{F.d(z,{h:()=>u});const u=function N(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},4850:(q,z,F)=>{F.d(z,{L:()=>N});const N="function"==typeof Symbol&&Symbol.observable||"@@observable"},9940:(q,z,F)=>{F.d(z,{_6:()=>ge,jO:()=>ue,yG:()=>K});var N=F(4674),u=F(671);function ae(Z){return Z[Z.length-1]}function ue(Z){return(0,N.m)(ae(Z))?Z.pop():void 0}function K(Z){return(0,u.K)(ae(Z))?Z.pop():void 0}function ge(Z,oe){return"number"==typeof ae(Z)?Z.pop():oe}},9039:(q,z,F)=>{function N(u,ae){if(u){const ue=u.indexOf(ae);0<=ue&&u.splice(ue,1)}}F.d(z,{P:()=>N})},2306:(q,z,F)=>{function N(u){const ue=u(K=>{Error.call(K),K.stack=(new Error).stack});return ue.prototype=Object.create(Error.prototype),ue.prototype.constructor=ue,ue}F.d(z,{d:()=>N})},1441:(q,z,F)=>{F.d(z,{O:()=>ue,x:()=>ae});var N=F(2653);let u=null;function ae(K){if(N.config.useDeprecatedSynchronousErrorHandling){const ge=!u;if(ge&&(u={errorThrown:!1,error:null}),K(),ge){const{errorThrown:Z,error:oe}=u;if(u=null,Z)throw oe}}else K()}function ue(K){N.config.useDeprecatedSynchronousErrorHandling&&u&&(u.errorThrown=!0,u.error=K)}},7103:(q,z,F)=>{function N(u,ae,ue,K=0,ge=!1){const Z=ae.schedule(function(){ue(),ge?u.add(this.schedule(null,K)):this.unsubscribe()},K);if(u.add(Z),!ge)return Z}F.d(z,{f:()=>N})},2737:(q,z,F)=>{function N(u){return u}F.d(z,{y:()=>N})},4266:(q,z,F)=>{F.d(z,{z:()=>N});const N=u=>u&&"number"==typeof u.length&&"function"!=typeof u},5726:(q,z,F)=>{F.d(z,{D:()=>u});var N=F(4674);function u(ae){return Symbol.asyncIterator&&(0,N.m)(ae?.[Symbol.asyncIterator])}},93:(q,z,F)=>{function N(u){return u instanceof Date&&!isNaN(u)}F.d(z,{q:()=>N})},4674:(q,z,F)=>{function N(u){return"function"==typeof u}F.d(z,{m:()=>N})},8382:(q,z,F)=>{F.d(z,{c:()=>ae});var N=F(4850),u=F(4674);function ae(ue){return(0,u.m)(ue[N.L])}},3664:(q,z,F)=>{F.d(z,{T:()=>ae});var N=F(4971),u=F(4674);function ae(ue){return(0,u.m)(ue?.[N.h])}},4026:(q,z,F)=>{F.d(z,{t:()=>u});var N=F(4674);function u(ae){return(0,N.m)(ae?.then)}},541:(q,z,F)=>{F.d(z,{L:()=>ue,Q:()=>ae});var N=F(7582),u=F(4674);function ae(K){return(0,N.FC)(this,arguments,function*(){const Z=K.getReader();try{for(;;){const{value:oe,done:X}=yield(0,N.qq)(Z.read());if(X)return yield(0,N.qq)(void 0);yield yield(0,N.qq)(oe)}}finally{Z.releaseLock()}})}function ue(K){return(0,u.m)(K?.getReader)}},671:(q,z,F)=>{F.d(z,{K:()=>u});var N=F(4674);function u(ae){return ae&&(0,N.m)(ae.schedule)}},9360:(q,z,F)=>{F.d(z,{e:()=>ae});var N=F(4674);function ae(ue){return K=>{if(function u(ue){return(0,N.m)(ue?.lift)}(K))return K.lift(function(ge){try{return ue(ge,this)}catch(Z){this.error(Z)}});throw new TypeError("Unable to lift unknown Observable type")}}},2420:(q,z,F)=>{function N(){}F.d(z,{Z:()=>N})},3894:(q,z,F)=>{F.d(z,{h:()=>ae});var N=F(2653),u=F(7599);function ae(ue){u.z.setTimeout(()=>{const{onUnhandledError:K}=N.config;if(!K)throw ue;K(ue)})}},9853:(q,z,F)=>{function N(u){return new TypeError(`You provided ${null!==u&&"object"==typeof u?"an invalid object":`'${u}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}F.d(z,{z:()=>N})},5879:(q,z,F)=>{F.d(z,{$8M:()=>km,AFp:()=>ii,ALo:()=>jC,AaK:()=>me,BQk:()=>Cu,CHM:()=>Vb,CRH:()=>ey,Cb6:()=>uM,DdM:()=>VS,EJc:()=>sy,EpF:()=>ND,F$t:()=>mf,F4k:()=>Wo,FYo:()=>gl,Flj:()=>jV,Gf:()=>ZS,GfV:()=>Dv,Gpc:()=>Qe,Hsn:()=>Zv,JOm:()=>Km,KtG:()=>Nb,LFG:()=>Ln,Lbi:()=>_v,Lck:()=>LC,MR2:()=>xs,NdJ:()=>yh,Ojb:()=>lM,OlP:()=>$t,Oqu:()=>dC,Q6J:()=>Kv,QGY:()=>Jv,Qsj:()=>Mr,R0b:()=>$i,RDi:()=>TO,Rgc:()=>Wh,SBq:()=>th,Suo:()=>QS,TTD:()=>Tb,TgZ:()=>mu,VuI:()=>TP,X6Q:()=>Cy,Xpm:()=>H,Xts:()=>go,Y36:()=>rh,YNc:()=>BD,Yjl:()=>Nn,Yz7:()=>pt,ZZ4:()=>h_,_Bn:()=>RS,_UZ:()=>mh,_uU:()=>yl,aQg:()=>p_,cJS:()=>ei,cg1:()=>Th,dDg:()=>lP,dqk:()=>sn,ekj:()=>vl,eoX:()=>SE,f3M:()=>hn,g9A:()=>UO,gHi:()=>Jr,h0i:()=>Ms,iGM:()=>XS,iPO:()=>wE,ifc:()=>jr,jDz:()=>NC,kL8:()=>hS,kYT:()=>We,kie:()=>Zc,ktI:()=>nh,lG2:()=>Vn,lcZ:()=>zS,lri:()=>DE,n5z:()=>nO,oAB:()=>Le,oxw:()=>$D,q4F:()=>XO,qLn:()=>au,qOj:()=>Lv,qZA:()=>vu,rWj:()=>Sa,rg0:()=>XV,sBO:()=>I1,s_b:()=>XC,soG:()=>n_,tBr:()=>sO,tdS:()=>JV,uIk:()=>ID,vHH:()=>re,vpe:()=>Co,wAp:()=>Yo,xp6:()=>uD,ynx:()=>vh,zSh:()=>Wg,zs3:()=>mo});var N=F(8645),u=F(7394),ae=F(5619),ue=F(3018),K=F(3019),ge=F(2096),Z=F(3020),oe=F(4664),X=F(3997);function Y(a){for(let d in a)if(a[d]===Y)return d;throw Error("Could not find renamed property on target object.")}function te(a,d){for(const c in d)d.hasOwnProperty(c)&&!a.hasOwnProperty(c)&&(a[c]=d[c])}function me(a){if("string"==typeof a)return a;if(Array.isArray(a))return"["+a.map(me).join(", ")+"]";if(null==a)return""+a;if(a.overriddenName)return`${a.overriddenName}`;if(a.name)return`${a.name}`;const d=a.toString();if(null==d)return""+d;const c=d.indexOf("\n");return-1===c?d:d.substring(0,c)}function Pe(a,d){return null==a||""===a?null===d?"":d:null==d||""===d?a:a+" "+d}const Ve=Y({__forward_ref__:Y});function Qe(a){return a.__forward_ref__=Qe,a.toString=function(){return me(this())},a}function Oe(a){return st(a)?a():a}function st(a){return"function"==typeof a&&a.hasOwnProperty(Ve)&&a.__forward_ref__===Qe}function et(a){return a&&!!a.\u0275providers}class re extends Error{constructor(d,c){super(function Ie(a,d){return`NG0${Math.abs(a)}${d?": "+d:""}`}(d,c)),this.code=d}}function Ae(a){return"string"==typeof a?a:null==a?"":String(a)}function gn(a,d){throw new re(-201,!1)}function Ce(a,d){null==a&&function ye(a,d,c,p){throw new Error(`ASSERTION ERROR: ${a}`+(null==p?"":` [Expected=> ${c} ${p} ${d} <=Actual]`))}(d,a,null,"!=")}function pt(a){return{token:a.token,providedIn:a.providedIn||null,factory:a.factory,value:void 0}}function ei(a){return{providers:a.providers||[],imports:a.imports||[]}}function xi(a){return Bn(a,dd)||Bn(a,ud)}function Bn(a,d){return a.hasOwnProperty(d)?a[d]:null}function ja(a){return a&&(a.hasOwnProperty(Us)||a.hasOwnProperty(js))?a[Us]:null}const dd=Y({\u0275prov:Y}),Us=Y({\u0275inj:Y}),ud=Y({ngInjectableDef:Y}),js=Y({ngInjectorDef:Y});var Lt=function(a){return a[a.Default=0]="Default",a[a.Host=1]="Host",a[a.Self=2]="Self",a[a.SkipSelf=4]="SkipSelf",a[a.Optional=8]="Optional",a}(Lt||{});let vr;function Ut(){return vr}function bt(a){const d=vr;return vr=a,d}function cd(a,d,c){const p=xi(a);return p&&"root"==p.providedIn?void 0===p.value?p.value=p.factory():p.value:c&Lt.Optional?null:void 0!==d?d:void gn(me(a))}const sn=globalThis,lo={},ds="__NG_DI_FLAG__",gd="ngTempTokenPath",Gp=/\n/gm,Up="__source";let Ao;function us(a){const d=Ao;return Ao=a,d}function fd(a,d=Lt.Default){if(void 0===Ao)throw new re(-203,!1);return null===Ao?cd(a,void 0,d):Ao.get(a,d&Lt.Optional?null:void 0,d)}function Ln(a,d=Lt.Default){return(Ut()||fd)(Oe(a),d)}function hn(a,d=Lt.Default){return Ln(a,Ka(d))}function Ka(a){return typeof a>"u"||"number"==typeof a?a:0|(a.optional&&8)|(a.host&&1)|(a.self&&2)|(a.skipSelf&&4)}function Ya(a){const d=[];for(let c=0;c<a.length;c++){const p=Oe(a[c]);if(Array.isArray(p)){if(0===p.length)throw new re(900,!1);let f,m=Lt.Default;for(let y=0;y<p.length;y++){const O=p[y],S=gb(O);"number"==typeof S?-1===S?f=O.token:m|=S:f=O}d.push(Ln(f,m))}else d.push(Ln(p))}return d}function Ys(a,d){return a[ds]=d,a.prototype[ds]=d,a}function gb(a){return a[ds]}function uo(a){return{toString:a}.toString()}var _d=function(a){return a[a.OnPush=0]="OnPush",a[a.Default=1]="Default",a}(_d||{}),jr=function(a){return a[a.Emulated=0]="Emulated",a[a.None=2]="None",a[a.ShadowDom=3]="ShadowDom",a}(jr||{});const Cr={},Zt=[],md=Y({\u0275cmp:Y}),qa=Y({\u0275dir:Y}),cs=Y({\u0275pipe:Y}),mc=Y({\u0275mod:Y}),yr=Y({\u0275fac:Y}),Ja=Y({__NG_ELEMENT_ID__:Y}),Kp=Y({__NG_ENV_ID__:Y});function vd(a,d,c){let p=a.length;for(;;){const f=a.indexOf(d,c);if(-1===f)return f;if(0===f||a.charCodeAt(f-1)<=32){const m=d.length;if(f+m===p||a.charCodeAt(f+m)<=32)return f}c=f+1}}function Cd(a,d,c){let p=0;for(;p<c.length;){const f=c[p];if("number"==typeof f){if(0!==f)break;p++;const m=c[p++],y=c[p++],O=c[p++];a.setAttribute(d,y,O,m)}else{const m=f,y=c[++p];yd(m)?a.setProperty(d,m,y):a.setAttribute(d,m,y),p++}}return p}function Yp(a){return 3===a||4===a||6===a}function yd(a){return 64===a.charCodeAt(0)}function qs(a,d){if(null!==d&&0!==d.length)if(null===a||0===a.length)a=d.slice();else{let c=-1;for(let p=0;p<d.length;p++){const f=d[p];"number"==typeof f?c=f:0===c||qp(a,c,f,null,-1===c||2===c?d[++p]:null)}}return a}function qp(a,d,c,p,f){let m=0,y=a.length;if(-1===d)y=-1;else for(;m<a.length;){const O=a[m++];if("number"==typeof O){if(O===d){y=-1;break}if(O>d){y=m-1;break}}}for(;m<a.length;){const O=a[m];if("number"==typeof O)break;if(O===c){if(null===p)return void(null!==f&&(a[m+1]=f));if(p===a[m+1])return void(a[m+2]=f)}m++,null!==p&&m++,null!==f&&m++}-1!==y&&(a.splice(y,0,d),m=y+1),a.splice(m++,0,c),null!==p&&a.splice(m++,0,p),null!==f&&a.splice(m++,0,f)}const xd="ng-template";function Jp(a,d,c){let p=0,f=!0;for(;p<a.length;){let m=a[p++];if("string"==typeof m&&f){const y=a[p++];if(c&&"class"===m&&-1!==vd(y.toLowerCase(),d,0))return!0}else{if(1===m){for(;p<a.length&&"string"==typeof(m=a[p++]);)if(m.toLowerCase()===d)return!0;return!1}"number"==typeof m&&(f=!1)}}return!1}function tm(a){return 4===a.type&&a.value!==xd}function vc(a,d,c){return d===(4!==a.type||c?a.value:xd)}function nm(a,d,c){let p=4;const f=a.attrs||[],m=function rm(a){for(let d=0;d<a.length;d++)if(Yp(a[d]))return d;return a.length}(f);let y=!1;for(let O=0;O<d.length;O++){const S=d[O];if("number"!=typeof S){if(!y)if(4&p){if(p=2|1&p,""!==S&&!vc(a,S,c)||""===S&&1===d.length){if(rr(p))return!1;y=!0}}else{const I=8&p?S:d[++O];if(8&p&&null!==a.attrs){if(!Jp(a.attrs,I,c)){if(rr(p))return!1;y=!0}continue}const V=Cc(8&p?"class":S,f,tm(a),c);if(-1===V){if(rr(p))return!1;y=!0;continue}if(""!==I){let j;j=V>m?"":f[V+1].toLowerCase();const ee=8&p?j:null;if(ee&&-1!==vd(ee,I,0)||2&p&&I!==j){if(rr(p))return!1;y=!0}}}}else{if(!y&&!rr(p)&&!rr(S))return!1;if(y&&rr(S))continue;y=!1,p=S|1&p}}return rr(p)||y}function rr(a){return 0==(1&a)}function Cc(a,d,c,p){if(null===d)return-1;let f=0;if(p||!c){let m=!1;for(;f<d.length;){const y=d[f];if(y===a)return f;if(3===y||6===y)m=!0;else{if(1===y||2===y){let O=d[++f];for(;"string"==typeof O;)O=d[++f];continue}if(4===y)break;if(0===y){f+=4;continue}}f+=m?1:2}return-1}return function fb(a,d){let c=a.indexOf(4);if(c>-1)for(c++;c<a.length;){const p=a[c];if("number"==typeof p)return-1;if(p===d)return c;c++}return-1}(d,a)}function bd(a,d,c=!1){for(let p=0;p<d.length;p++)if(nm(a,d[p],c))return!0;return!1}function om(a,d){e:for(let c=0;c<d.length;c++){const p=d[c];if(a.length===p.length){for(let f=0;f<a.length;f++)if(a[f]!==p[f])continue e;return!0}}return!1}function _b(a,d){return a?":not("+d.trim()+")":d}function CI(a){let d=a[0],c=1,p=2,f="",m=!1;for(;c<a.length;){let y=a[c];if("string"==typeof y)if(2&p){const O=a[++c];f+="["+y+(O.length>0?'="'+O+'"':"")+"]"}else 8&p?f+="."+y:4&p&&(f+=" "+y);else""!==f&&!rr(y)&&(d+=_b(m,f),f=""),p=y,m=m||!rr(p);c++}return""!==f&&(d+=_b(m,f)),d}function H(a){return uo(()=>{const d=yc(a),c={...d,decls:a.decls,vars:a.vars,template:a.template,consts:a.consts||null,ngContentSelectors:a.ngContentSelectors,onPush:a.changeDetection===_d.OnPush,directiveDefs:null,pipeDefs:null,dependencies:d.standalone&&a.dependencies||null,getStandaloneInjector:null,signals:a.signals??!1,data:a.data||{},encapsulation:a.encapsulation||jr.Emulated,styles:a.styles||Zt,_:null,schemas:a.schemas||null,tView:null,id:""};Cb(c);const p=a.dependencies;return c.directiveDefs=Xp(p,!1),c.pipeDefs=Xp(p,!0),c.id=function yI(a){let d=0;const c=[a.selectors,a.ngContentSelectors,a.hostVars,a.hostAttrs,a.consts,a.vars,a.decls,a.encapsulation,a.standalone,a.signals,a.exportAs,JSON.stringify(a.inputs),JSON.stringify(a.outputs),Object.getOwnPropertyNames(a.type.prototype),!!a.contentQueries,!!a.viewQuery].join("|");for(const f of c)d=Math.imul(31,d)+f.charCodeAt(0)<<0;return d+=2147483648,"c"+d}(c),c})}function De(a){return yt(a)||Pt(a)}function ne(a){return null!==a}function Le(a){return uo(()=>({type:a.type,bootstrap:a.bootstrap||Zt,declarations:a.declarations||Zt,imports:a.imports||Zt,exports:a.exports||Zt,transitiveCompileScopes:null,schemas:a.schemas||null,id:a.id||null}))}function We(a,d){return uo(()=>{const c=Pi(a,!0);c.declarations=d.declarations||Zt,c.imports=d.imports||Zt,c.exports=d.exports||Zt})}function mt(a,d){if(null==a)return Cr;const c={};for(const p in a)if(a.hasOwnProperty(p)){let f=a[p],m=f;Array.isArray(f)&&(m=f[1],f=f[0]),c[f]=p,d&&(d[f]=m)}return c}function Vn(a){return uo(()=>{const d=yc(a);return Cb(d),d})}function Nn(a){return{type:a.type,name:a.name,factory:null,pure:!1!==a.pure,standalone:!0===a.standalone,onDestroy:a.type.prototype.ngOnDestroy||null}}function yt(a){return a[md]||null}function Pt(a){return a[qa]||null}function fn(a){return a[cs]||null}function Pi(a,d){const c=a[mc]||null;if(!c&&!0===d)throw new Error(`Type ${me(a)} does not have '\u0275mod' property.`);return c}function yc(a){const d={};return{type:a.type,providersResolver:null,factory:null,hostBindings:a.hostBindings||null,hostVars:a.hostVars||0,hostAttrs:a.hostAttrs||null,contentQueries:a.contentQueries||null,declaredInputs:d,inputTransforms:null,inputConfig:a.inputs||Cr,exportAs:a.exportAs||null,standalone:!0===a.standalone,signals:!0===a.signals,selectors:a.selectors||Zt,viewQuery:a.viewQuery||null,features:a.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:mt(a.inputs,d),outputs:mt(a.outputs)}}function Cb(a){a.features?.forEach(d=>d(a))}function Xp(a,d){if(!a)return null;const c=d?fn:De;return()=>("function"==typeof a?a():a).map(p=>c(p)).filter(ne)}const Kn=0,Ye=1,Mt=2,Pn=3,co=4,Xa=5,gi=6,xc=7,ti=8,or=9,Za=10,St=11,bc=12,xb=13,Od=14,Hn=15,Zp=16,Oc=17,hs=18,Qp=19,xI=20,Js=21,Xs=22,Dc=23,sm=24,Ht=25,am=1,bb=2,Po=7,Dd=9,bi=11;function xr(a){return Array.isArray(a)&&"object"==typeof a[am]}function br(a){return Array.isArray(a)&&!0===a[am]}function lm(a){return 0!=(4&a.flags)}function el(a){return a.componentOffset>-1}function tg(a){return 1==(1&a.flags)}function Fo(a){return!!a.template}function Ob(a){return 0!=(512&a[Mt])}function Zs(a,d){return a.hasOwnProperty(yr)?a[yr]:null}const Sb=Symbol("SIGNAL");function Sc(a,d,c={}){return d[Sb]=a,Object.assign(d,c)}function Sd(a,d){return(null===a||"object"!=typeof a)&&Object.is(a,d)}let GV=sn.WeakRef??class $V{constructor(d){this.ref=d}deref(){return this.ref}},UV=0,ps=null,ng=!1;function ai(a){const d=ps;return ps=a,d}class dm{constructor(){this.id=UV++,this.ref=function Eb(a){return new GV(a)}(this),this.producers=new Map,this.consumers=new Map,this.trackingVersion=0,this.valueVersion=0}consumerPollProducersForChange(){for(const[d,c]of this.producers){const p=c.producerNode.deref();if(null!=p&&c.atTrackingVersion===this.trackingVersion){if(p.producerPollStatus(c.seenValueVersion))return!0}else this.producers.delete(d),p?.consumers.delete(this.id)}return!1}producerMayHaveChanged(){const d=ng;ng=!0;try{for(const[c,p]of this.consumers){const f=p.consumerNode.deref();null!=f&&f.trackingVersion===p.atTrackingVersion?f.onConsumerDependencyMayHaveChanged():(this.consumers.delete(c),f?.producers.delete(this.id))}}finally{ng=d}}producerAccessed(){if(ng)throw new Error("");if(null===ps)return;let d=ps.producers.get(this.id);void 0===d?(d={consumerNode:ps.ref,producerNode:this.ref,seenValueVersion:this.valueVersion,atTrackingVersion:ps.trackingVersion},ps.producers.set(this.id,d),this.consumers.set(ps.id,d)):(d.seenValueVersion=this.valueVersion,d.atTrackingVersion=ps.trackingVersion)}get hasProducers(){return this.producers.size>0}get producerUpdatesAllowed(){return!1!==ps?.consumerAllowSignalWrites}producerPollStatus(d){return this.valueVersion!==d||(this.onProducerUpdateValueVersion(),this.valueVersion!==d)}}function jV(a,d){const c=new KV(a,d?.equal??Sd);return Sc(c,c.signal.bind(c))}const wb=Symbol("UNSET"),Ib=Symbol("COMPUTING"),um=Symbol("ERRORED");class KV extends dm{constructor(d,c){super(),this.computation=d,this.equal=c,this.value=wb,this.error=null,this.stale=!0,this.consumerAllowSignalWrites=!1}onConsumerDependencyMayHaveChanged(){this.stale||(this.stale=!0,this.producerMayHaveChanged())}onProducerUpdateValueVersion(){if(this.stale){if(this.value!==wb&&this.value!==Ib&&!this.consumerPollProducersForChange())return void(this.stale=!1);this.recomputeValue()}}recomputeValue(){if(this.value===Ib)throw new Error("Detected cycle in computations.");const d=this.value;this.value=Ib,this.trackingVersion++;const c=ai(this);let p;try{p=this.computation()}catch(f){p=um,this.error=f}finally{ai(c)}this.stale=!1,d!==wb&&d!==um&&p!==um&&this.equal(d,p)?this.value=d:(this.value=p,this.valueVersion++)}signal(){if(this.onProducerUpdateValueVersion(),this.producerAccessed(),this.value===um)throw this.error;return this.value}}let EI=function YV(){throw new Error};function cm(){EI()}class wI extends dm{constructor(d,c){super(),this.value=d,this.equal=c,this.consumerAllowSignalWrites=!1}onConsumerDependencyMayHaveChanged(){}onProducerUpdateValueVersion(){}set(d){this.producerUpdatesAllowed||cm(),this.equal(this.value,d)||(this.value=d,this.valueVersion++,this.producerMayHaveChanged())}update(d){this.producerUpdatesAllowed||cm(),this.set(d(this.value))}mutate(d){this.producerUpdatesAllowed||cm(),d(this.value),this.valueVersion++,this.producerMayHaveChanged()}asReadonly(){return void 0===this.readonlySignal&&(this.readonlySignal=Sc(this,()=>this.signal())),this.readonlySignal}signal(){return this.producerAccessed(),this.value}}function JV(a,d){const c=new wI(a,d?.equal??Sd);return Sc(c,c.signal.bind(c),{set:c.set.bind(c),update:c.update.bind(c),mutate:c.mutate.bind(c),asReadonly:c.asReadonly.bind(c)})}function XV(a){const d=ai(null);try{return a()}finally{ai(d)}}const II=()=>{};class ZV extends dm{constructor(d,c,p){super(),this.watch=d,this.schedule=c,this.dirty=!1,this.cleanupFn=II,this.registerOnCleanup=f=>{this.cleanupFn=f},this.consumerAllowSignalWrites=p}notify(){this.dirty||this.schedule(this),this.dirty=!0}onConsumerDependencyMayHaveChanged(){this.notify()}onProducerUpdateValueVersion(){}run(){if(this.dirty=!1,0!==this.trackingVersion&&!this.consumerPollProducersForChange())return;const d=ai(this);this.trackingVersion++;try{this.cleanupFn(),this.cleanupFn=II,this.watch(this.registerOnCleanup)}finally{ai(d)}}cleanup(){this.cleanupFn()}}class QV{constructor(d,c,p){this.previousValue=d,this.currentValue=c,this.firstChange=p}isFirstChange(){return this.firstChange}}function Tb(){return TI}function TI(a){return a.type.prototype.ngOnChanges&&(a.setInput=tN),eN}function eN(){const a=Mb(this),d=a?.current;if(d){const c=a.previous;if(c===Cr)a.previous=d;else for(let p in d)c[p]=d[p];a.current=null,this.ngOnChanges(d)}}function tN(a,d,c,p){const f=this.declaredInputs[c],m=Mb(a)||function hm(a,d){return a[Ec]=d}(a,{previous:Cr,current:null}),y=m.current||(m.current={}),O=m.previous,S=O[f];y[f]=new QV(S&&S.currentValue,d,O===Cr),a[p]=d}Tb.ngInherit=!0;const Ec="__ngSimpleChanges__";function Mb(a){return a[Ec]||null}const Or=function(a,d,c){};function Dn(a){for(;Array.isArray(a);)a=a[Kn];return a}function wc(a,d){return Dn(d[a])}function Ji(a,d){return Dn(d[a.index])}function fm(a,d){return a.data[d]}function Xi(a,d){const c=d[a];return xr(c)?c:c[Kn]}function ea(a,d){return null==d?null:a[d]}function Fb(a){a[Oc]=0}function PI(a){1024&a[Mt]||(a[Mt]|=1024,_m(a,1))}function kb(a){1024&a[Mt]&&(a[Mt]&=-1025,_m(a,-1))}function _m(a,d){let c=a[Pn];if(null===c)return;c[Xa]+=d;let p=c;for(c=c[Pn];null!==c&&(1===d&&1===p[Xa]||-1===d&&0===p[Xa]);)c[Xa]+=d,p=c,c=c[Pn]}function mm(a,d){if(256==(256&a[Mt]))throw new re(911,!1);null===a[Js]&&(a[Js]=[]),a[Js].push(d)}const vt={lFrame:UI(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function Lb(){return vt.bindingsEnabled}function nl(){return null!==vt.skipHydrationRootTNode}function Me(){return vt.lFrame.lView}function Qt(){return vt.lFrame.tView}function Vb(a){return vt.lFrame.contextLView=a,a[ti]}function Nb(a){return vt.lFrame.contextLView=null,a}function Oi(){let a=Hb();for(;null!==a&&64===a.type;)a=a.parent;return a}function Hb(){return vt.lFrame.currentTNode}function gs(a,d){const c=vt.lFrame;c.currentTNode=a,c.isParent=d}function ym(){return vt.lFrame.isParent}function xm(){vt.lFrame.isParent=!1}function sr(){const a=vt.lFrame;let d=a.bindingRootIndex;return-1===d&&(d=a.bindingRootIndex=a.tView.bindingStartIndex),d}function il(){return vt.lFrame.bindingIndex++}function bm(a,d){const c=vt.lFrame;c.bindingIndex=c.bindingRootIndex=a,Ub(d)}function Ub(a){vt.lFrame.currentDirectiveIndex=a}function WI(){return vt.lFrame.currentQueryIndex}function Om(a){vt.lFrame.currentQueryIndex=a}function rN(a){const d=a[Ye];return 2===d.type?d.declTNode:1===d.type?a[gi]:null}function $I(a,d,c){if(c&Lt.SkipSelf){let f=d,m=a;for(;!(f=f.parent,null!==f||c&Lt.Host||(f=rN(m),null===f||(m=m[Od],10&f.type))););if(null===f)return!1;d=f,a=m}const p=vt.lFrame=GI();return p.currentTNode=d,p.lView=a,!0}function Kb(a){const d=GI(),c=a[Ye];vt.lFrame=d,d.currentTNode=c.firstChild,d.lView=a,d.tView=c,d.contextLView=a,d.bindingIndex=c.bindingStartIndex,d.inI18n=!1}function GI(){const a=vt.lFrame,d=null===a?null:a.child;return null===d?UI(a):d}function UI(a){const d={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:a,child:null,inI18n:!1};return null!==a&&(a.child=d),d}function jI(){const a=vt.lFrame;return vt.lFrame=a.parent,a.currentTNode=null,a.lView=null,a}const KI=jI;function Yb(){const a=jI();a.isParent=!0,a.tView=null,a.selectedIndex=-1,a.contextLView=null,a.elementDepthCount=0,a.currentDirectiveIndex=-1,a.currentNamespace=null,a.bindingRootIndex=-1,a.bindingIndex=-1,a.currentQueryIndex=0}function ar(){return vt.lFrame.selectedIndex}function Ed(a){vt.lFrame.selectedIndex=a}function $n(){const a=vt.lFrame;return fm(a.tView,a.selectedIndex)}let rl=!0;function Ic(){return rl}function Dr(a){rl=a}function Sr(a,d){for(let c=d.directiveStart,p=d.directiveEnd;c<p;c++){const m=a.data[c].type.prototype,{ngAfterContentInit:y,ngAfterContentChecked:O,ngAfterViewInit:S,ngAfterViewChecked:I,ngOnDestroy:P}=m;y&&(a.contentHooks??=[]).push(-c,y),O&&((a.contentHooks??=[]).push(c,O),(a.contentCheckHooks??=[]).push(c,O)),S&&(a.viewHooks??=[]).push(-c,S),I&&((a.viewHooks??=[]).push(c,I),(a.viewCheckHooks??=[]).push(c,I)),null!=P&&(a.destroyHooks??=[]).push(c,P)}}function og(a,d,c){sg(a,d,3,c)}function Tc(a,d,c,p){(3&a[Mt])===c&&sg(a,d,c,p)}function Sm(a,d){let c=a[Mt];(3&c)===d&&(c&=8191,c+=1,a[Mt]=c)}function sg(a,d,c,p){const m=p??-1,y=d.length-1;let O=0;for(let S=void 0!==p?65535&a[Oc]:0;S<y;S++)if("number"==typeof d[S+1]){if(O=d[S],null!=p&&O>=p)break}else d[S]<0&&(a[Oc]+=65536),(O<m||-1==m)&&(JI(a,c,d,S),a[Oc]=(4294901760&a[Oc])+S+2),S++}function Jb(a,d){Or(4,a,d);const c=ai(null);try{d.call(a)}finally{ai(c),Or(5,a,d)}}function JI(a,d,c,p){const f=c[p]<0,m=c[p+1],O=a[f?-c[p]:c[p]];f?a[Mt]>>13<a[Oc]>>16&&(3&a[Mt])===d&&(a[Mt]+=8192,Jb(O,m)):Jb(O,m)}const lr=-1;class Id{constructor(d,c,p){this.factory=d,this.resolving=!1,this.canSeeViewProviders=c,this.injectImpl=p}}function Tm(a){return a!==lr}function ol(a){return 32767&a}function Ac(a,d){let c=function QI(a){return a>>16}(a),p=d;for(;c>0;)p=p[Od],c--;return p}let Wt=!0;function ag(a){const d=Wt;return Wt=a,d}const Td=255,Zb=5;let aN=0;const ho={};function lg(a,d){const c=eO(a,d);if(-1!==c)return c;const p=d[Ye];p.firstCreatePass&&(a.injectorIndex=d.length,Rc(p.data,a),Rc(d,null),Rc(p.blueprint,null));const f=dg(a,d),m=a.injectorIndex;if(Tm(f)){const y=ol(f),O=Ac(f,d),S=O[Ye].data;for(let I=0;I<8;I++)d[m+I]=O[y+I]|S[y+I]}return d[m+8]=f,m}function Rc(a,d){a.push(0,0,0,0,0,0,0,0,d)}function eO(a,d){return-1===a.injectorIndex||a.parent&&a.parent.injectorIndex===a.injectorIndex||null===d[a.injectorIndex+8]?-1:a.injectorIndex}function dg(a,d){if(a.parent&&-1!==a.parent.injectorIndex)return a.parent.injectorIndex;let c=0,p=null,f=d;for(;null!==f;){if(p=iO(f),null===p)return lr;if(c++,f=f[Od],-1!==p.injectorIndex)return p.injectorIndex|c<<16}return lr}function Am(a,d,c){!function Qb(a,d,c){let p;"string"==typeof c?p=c.charCodeAt(0)||0:c.hasOwnProperty(Ja)&&(p=c[Ja]),null==p&&(p=c[Ja]=aN++);const f=p&Td;d.data[a+(f>>Zb)]|=1<<f}(a,d,c)}function Rm(a,d,c){if(c&Lt.Optional||void 0!==a)return a;gn()}function Pm(a,d,c,p){if(c&Lt.Optional&&void 0===p&&(p=null),!(c&(Lt.Self|Lt.Host))){const f=a[or],m=bt(void 0);try{return f?f.get(d,p,c&Lt.Optional):cd(d,p,c&Lt.Optional)}finally{bt(m)}}return Rm(p,0,c)}function Md(a,d,c,p=Lt.Default,f){if(null!==a){if(2048&d[Mt]&&!(p&Lt.Self)){const y=function oT(a,d,c,p,f){let m=a,y=d;for(;null!==m&&null!==y&&2048&y[Mt]&&!(512&y[Mt]);){const O=tT(m,y,c,p|Lt.Self,ho);if(O!==ho)return O;let S=m.parent;if(!S){const I=y[xI];if(I){const P=I.get(c,ho,p);if(P!==ho)return P}S=iO(y),y=y[Od]}m=S}return f}(a,d,c,p,ho);if(y!==ho)return y}const m=tT(a,d,c,p,ho);if(m!==ho)return m}return Pm(d,c,p,f)}function tT(a,d,c,p,f){const m=function dN(a){if("string"==typeof a)return a.charCodeAt(0)||0;const d=a.hasOwnProperty(Ja)?a[Ja]:void 0;return"number"==typeof d?d>=0?d&Td:rT:d}(c);if("function"==typeof m){if(!$I(d,a,p))return p&Lt.Host?Rm(f,0,p):Pm(d,c,p,f);try{let y;if(y=m(p),null!=y||p&Lt.Optional)return y;gn()}finally{KI()}}else if("number"==typeof m){let y=null,O=eO(a,d),S=lr,I=p&Lt.Host?d[Hn][gi]:null;for((-1===O||p&Lt.SkipSelf)&&(S=-1===O?dg(a,d):d[O+8],S!==lr&&tO(p,!1)?(y=d[Ye],O=ol(S),d=Ac(S,d)):O=-1);-1!==O;){const P=d[Ye];if(nT(m,O,P.data)){const V=lN(O,d,c,y,p,I);if(V!==ho)return V}S=d[O+8],S!==lr&&tO(p,d[Ye].data[O+8]===I)&&nT(m,O,d)?(y=P,O=ol(S),d=Ac(S,d)):O=-1}}return f}function lN(a,d,c,p,f,m){const y=d[Ye],O=y.data[a+8],P=ug(O,y,c,null==p?el(O)&&Wt:p!=y&&0!=(3&O.type),f&Lt.Host&&m===O);return null!==P?Ad(d,y,P,O):ho}function ug(a,d,c,p,f){const m=a.providerIndexes,y=d.data,O=1048575&m,S=a.directiveStart,P=m>>20,j=f?O+P:a.directiveEnd;for(let ee=p?O:O+P;ee<j;ee++){const _e=y[ee];if(ee<S&&c===_e||ee>=S&&_e.type===c)return ee}if(f){const ee=y[S];if(ee&&Fo(ee)&&ee.type===c)return S}return null}function Ad(a,d,c,p){let f=a[c];const m=d.data;if(function XI(a){return a instanceof Id}(f)){const y=f;y.resolving&&function tt(a,d){const c=d?`. Dependency path: ${d.join(" > ")} > ${a}`:"";throw new re(-200,`Circular dependency in DI detected for ${a}${c}`)}(function Fe(a){return"function"==typeof a?a.name||a.toString():"object"==typeof a&&null!=a&&"function"==typeof a.type?a.type.name||a.type.toString():Ae(a)}(m[c]));const O=ag(y.canSeeViewProviders);y.resolving=!0;const I=y.injectImpl?bt(y.injectImpl):null;$I(a,p,Lt.Default);try{f=a[c]=y.factory(void 0,m,a,p),d.firstCreatePass&&c>=p.directiveStart&&function wd(a,d,c){const{ngOnChanges:p,ngOnInit:f,ngDoCheck:m}=d.type.prototype;if(p){const y=TI(d);(c.preOrderHooks??=[]).push(a,y),(c.preOrderCheckHooks??=[]).push(a,y)}f&&(c.preOrderHooks??=[]).push(0-a,f),m&&((c.preOrderHooks??=[]).push(a,m),(c.preOrderCheckHooks??=[]).push(a,m))}(c,m[c],d)}finally{null!==I&&bt(I),ag(O),y.resolving=!1,KI()}}return f}function nT(a,d,c){return!!(c[d+(a>>Zb)]&1<<a)}function tO(a,d){return!(a&Lt.Self||a&Lt.Host&&d)}class Zi{constructor(d,c){this._tNode=d,this._lView=c}get(d,c,p){return Md(this._tNode,this._lView,d,Ka(p),c)}}function rT(){return new Zi(Oi(),Me())}function nO(a){return uo(()=>{const d=a.prototype.constructor,c=d[yr]||Fm(d),p=Object.prototype;let f=Object.getPrototypeOf(a.prototype).constructor;for(;f&&f!==p;){const m=f[yr]||Fm(f);if(m&&m!==c)return m;f=Object.getPrototypeOf(f)}return m=>new m})}function Fm(a){return st(a)?()=>{const d=Fm(Oe(a));return d&&d()}:Zs(a)}function iO(a){const d=a[Ye],c=d.type;return 2===c?d.declTNode:1===c?a[gi]:null}function km(a){return function eT(a,d){if("class"===d)return a.classes;if("style"===d)return a.styles;const c=a.attrs;if(c){const p=c.length;let f=0;for(;f<p;){const m=c[f];if(Yp(m))break;if(0===m)f+=2;else if("number"==typeof m)for(f++;f<p&&"string"==typeof c[f];)f++;else{if(m===d)return c[f+1];f+=2}}}return null}(Oi(),a)}const Pd="__parameters__";function kd(a,d,c){return uo(()=>{const p=function hg(a){return function(...c){if(a){const p=a(...c);for(const f in p)this[f]=p[f]}}}(d);function f(...m){if(this instanceof f)return p.apply(this,m),this;const y=new f(...m);return O.annotation=y,O;function O(S,I,P){const V=S.hasOwnProperty(Pd)?S[Pd]:Object.defineProperty(S,Pd,{value:[]})[Pd];for(;V.length<=P;)V.push(null);return(V[P]=V[P]||[]).push(y),S}}return c&&(f.prototype=Object.create(c.prototype)),f.prototype.ngMetadataName=a,f.annotationCls=f,f})}function _s(a,d){a.forEach(c=>Array.isArray(c)?_s(c,d):d(c))}function Fc(a,d,c){d>=a.length?a.push(c):a.splice(d,0,c)}function pg(a,d){return d>=a.length-1?a.pop():a.splice(d,1)[0]}function kc(a,d){const c=[];for(let p=0;p<a;p++)c.push(d);return c}function ki(a,d,c){let p=Bc(a,d);return p>=0?a[1|p]=c:(p=~p,function dT(a,d,c,p){let f=a.length;if(f==d)a.push(c,p);else if(1===f)a.push(p,a[0]),a[0]=c;else{for(f--,a.push(a[f-1],a[f]);f>d;)a[f]=a[f-2],f--;a[d]=c,a[d+1]=p}}(a,p,d,c)),p}function gg(a,d){const c=Bc(a,d);if(c>=0)return a[1|c]}function Bc(a,d){return function Bm(a,d,c){let p=0,f=a.length>>c;for(;f!==p;){const m=p+(f-p>>1),y=a[m<<c];if(d===y)return m<<c;y>d?f=m:p=m+1}return~(f<<c)}(a,d,1)}const sO=Ys(kd("Inject",a=>({token:a})),-1),Lm=Ys(kd("Optional"),8),mg=Ys(kd("SkipSelf"),4);function po(a){return 128==(128&a.flags)}var Km=function(a){return a[a.Important=1]="Important",a[a.DashCase=2]="DashCase",a}(Km||{});const fN=/^>|^->|<!--|-->|--!>|<!-$/g,ET=/(<|>)/,wT="\u200b$1\u200b";const Vd=new Map;let IT=0;const mO="__ngContext__";function Vi(a,d){xr(d)?(a[mO]=d[Qp],function TT(a){Vd.set(a[Qp],a)}(d)):a[mO]=d}let Jm;function zd(a,d){return Jm(a,d)}function Wd(a){const d=a[Pn];return br(d)?d[Pn]:d}function kT(a){return yO(a[bc])}function BT(a){return yO(a[co])}function yO(a){for(;null!==a&&!br(a);)a=a[co];return a}function Gc(a,d,c,p,f){if(null!=p){let m,y=!1;br(p)?m=p:xr(p)&&(y=!0,p=p[Kn]);const O=Dn(p);0===a&&null!==c?null==f?HT(d,c,O):Gd(d,c,O,f||null,!0):1===a&&null!==c?Gd(d,c,O,f||null,!0):2===a?function Yc(a,d,c){const p=Ud(a,d);p&&function zT(a,d,c,p){a.removeChild(d,c,p)}(a,p,d,c)}(d,O,y):3===a&&d.destroyNode(O),null!=m&&function SO(a,d,c,p,f){const m=c[Po];m!==Dn(c)&&Gc(d,a,p,m,f);for(let O=bi;O<c.length;O++){const S=c[O];Ag(S[Ye],S,a,d,p,m)}}(d,a,m,c,f)}}function $d(a,d){return a.createComment(function xg(a){return a.replace(fN,d=>d.replace(ET,wT))}(d))}function ia(a,d,c){return a.createElement(d,c)}function xO(a,d){const c=a[Dd],p=c.indexOf(d);kb(d),c.splice(p,1)}function Uc(a,d){if(a.length<=bi)return;const c=bi+d,p=a[c];if(p){const f=p[Zp];null!==f&&f!==a&&xO(f,p),d>0&&(a[c-1][co]=p[co]);const m=pg(a,bi+d);!function Sg(a,d){Ag(a,d,d[St],2,null,null),d[Kn]=null,d[gi]=null}(p[Ye],p);const y=m[hs];null!==y&&y.detachView(m[Ye]),p[Pn]=null,p[co]=null,p[Mt]&=-129}return p}function Qm(a,d){if(!(256&d[Mt])){const c=d[St];d[Dc]?.destroy(),d[sm]?.destroy(),c.destroyNode&&Ag(a,d,c,3,null,null),function Zm(a){let d=a[bc];if(!d)return Ig(a[Ye],a);for(;d;){let c=null;if(xr(d))c=d[bc];else{const p=d[bi];p&&(c=p)}if(!c){for(;d&&!d[co]&&d!==a;)xr(d)&&Ig(d[Ye],d),d=d[Pn];null===d&&(d=a),xr(d)&&Ig(d[Ye],d),c=d&&d[co]}d=c}}(d)}}function Ig(a,d){if(!(256&d[Mt])){d[Mt]&=-129,d[Mt]|=256,function CN(a,d){let c;if(null!=a&&null!=(c=a.destroyHooks))for(let p=0;p<c.length;p+=2){const f=d[c[p]];if(!(f instanceof Id)){const m=c[p+1];if(Array.isArray(m))for(let y=0;y<m.length;y+=2){const O=f[m[y]],S=m[y+1];Or(4,O,S);try{S.call(O)}finally{Or(5,O,S)}}else{Or(4,f,m);try{m.call(f)}finally{Or(5,f,m)}}}}}(a,d),function NT(a,d){const c=a.cleanup,p=d[xc];if(null!==c)for(let m=0;m<c.length-1;m+=2)if("string"==typeof c[m]){const y=c[m+3];y>=0?p[y]():p[-y].unsubscribe(),m+=2}else c[m].call(p[c[m+1]]);null!==p&&(d[xc]=null);const f=d[Js];if(null!==f){d[Js]=null;for(let m=0;m<f.length;m++)(0,f[m])()}}(a,d),1===d[Ye].type&&d[St].destroy();const c=d[Zp];if(null!==c&&br(d[Pn])){c!==d[Pn]&&xO(c,d);const p=d[hs];null!==p&&p.detachView(a)}!function _N(a){Vd.delete(a[Qp])}(d)}}function ev(a,d,c){return function Tg(a,d,c){let p=d;for(;null!==p&&40&p.type;)p=(d=p).parent;if(null===p)return c[Kn];{const{componentOffset:f}=p;if(f>-1){const{encapsulation:m}=a.data[p.directiveStart+f];if(m===jr.None||m===jr.Emulated)return null}return Ji(p,c)}}(a,d.parent,c)}function Gd(a,d,c,p,f){a.insertBefore(d,c,p,f)}function HT(a,d,c){a.appendChild(d,c)}function Mg(a,d,c,p,f){null!==p?Gd(a,d,c,p,f):HT(a,d,c)}function Ud(a,d){return a.parentNode(d)}function GT(a,d,c){return jd(a,d,c)}let jc,rv,jd=function bO(a,d,c){return 40&a.type?Ji(a,c):null};function Kc(a,d,c,p){const f=ev(a,p,d),m=d[St],O=GT(p.parent||d[gi],p,d);if(null!=f)if(Array.isArray(c))for(let S=0;S<c.length;S++)Mg(m,f,c[S],O,!1);else Mg(m,f,c,O,!1);void 0!==jc&&jc(m,p,d,c,f)}function Kd(a,d){if(null!==d){const c=d.type;if(3&c)return Ji(d,a);if(4&c)return nv(-1,a[d.index]);if(8&c){const p=d.child;if(null!==p)return Kd(a,p);{const f=a[d.index];return br(f)?nv(-1,f):Dn(f)}}if(32&c)return zd(d,a)()||Dn(a[d.index]);{const p=UT(a,d);return null!==p?Array.isArray(p)?p[0]:Kd(Wd(a[Hn]),p):Kd(a,d.next)}}return null}function UT(a,d){return null!==d?a[Hn][gi].projection[d.projection]:null}function nv(a,d){const c=bi+a+1;if(c<d.length){const p=d[c],f=p[Ye].firstChild;if(null!==f)return Kd(p,f)}return d[Po]}function OO(a,d,c,p,f,m,y){for(;null!=c;){const O=p[c.index],S=c.type;if(y&&0===d&&(O&&Vi(Dn(O),p),c.flags|=2),32!=(32&c.flags))if(8&S)OO(a,d,c.child,p,f,m,!1),Gc(d,a,f,O,m);else if(32&S){const I=zd(c,p);let P;for(;P=I();)Gc(d,a,f,P,m);Gc(d,a,f,O,m)}else 16&S?DO(a,d,p,c,f,m):Gc(d,a,f,O,m);c=y?c.projectionNext:c.next}}function Ag(a,d,c,p,f,m){OO(c,p,a.firstChild,d,f,m,!1)}function DO(a,d,c,p,f,m){const y=c[Hn],S=y[gi].projection[p.projection];if(Array.isArray(S))for(let I=0;I<S.length;I++)Gc(d,a,f,S[I],m);else{let I=S;const P=y[Pn];po(p)&&(I.flags|=128),OO(a,d,I,P,f,m,!0)}}function iv(a,d,c){""===c?a.removeAttribute(d,"class"):a.setAttribute(d,"class",c)}function wO(a,d,c){const{mergedAttrs:p,classes:f,styles:m}=c;null!==p&&Cd(a,d,p),null!==f&&iv(a,d,f),null!==m&&function EO(a,d,c){a.setAttribute(d,"style",c)}(a,d,m)}function TO(a){rv=a}function cl(){if(void 0!==rv)return rv;if(typeof document<"u")return document;throw new re(210,!1)}class Lg{constructor(d){this.changingThisBreaksApplicationSecurity=d}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class $t{constructor(d,c){this._desc=d,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof c?this.__NG_ELEMENT_ID__=c:void 0!==c&&(this.\u0275prov=pt({token:this,providedIn:c.providedIn||"root",factory:c.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const go=new $t("ENVIRONMENT_INITIALIZER"),oa=new $t("INJECTOR",-1),sa=new $t("INJECTOR_DEF_TYPES");class Bo{get(d,c=lo){if(c===lo){const p=new Error(`NullInjectorError: No provider for ${me(d)}!`);throw p.name="NullInjectorError",p}return c}}function xs(a){return{\u0275providers:a}}function Zd(...a){return{\u0275providers:hl(0,a),\u0275fromNgModule:!0}}function hl(a,...d){const c=[],p=new Set;let f;const m=y=>{c.push(y)};return _s(d,y=>{const O=y;Lo(O,m,[],p)&&(f||=[],f.push(O))}),void 0!==f&&bs(f,m),c}function bs(a,d){for(let c=0;c<a.length;c++){const{ngModule:p,providers:f}=a[c];Qd(f,m=>{d(m,p)})}}function Lo(a,d,c,p){if(!(a=Oe(a)))return!1;let f=null,m=ja(a);const y=!m&&yt(a);if(m||y){if(y&&!y.standalone)return!1;f=a}else{const S=a.ngModule;if(m=ja(S),!m)return!1;f=S}const O=p.has(f);if(y){if(O)return!1;if(p.add(f),y.dependencies){const S="function"==typeof y.dependencies?y.dependencies():y.dependencies;for(const I of S)Lo(I,d,c,p)}}else{if(!m)return!1;{if(null!=m.imports&&!O){let I;p.add(f);try{_s(m.imports,P=>{Lo(P,d,c,p)&&(I||=[],I.push(P))})}finally{}void 0!==I&&bs(I,d)}if(!O){const I=Zs(f)||(()=>new f);d({provide:f,useFactory:I,deps:Zt},f),d({provide:sa,useValue:f,multi:!0},f),d({provide:go,useValue:()=>Ln(f),multi:!0},f)}const S=m.providers;if(null!=S&&!O){const I=a;Qd(S,P=>{d(P,I)})}}}return f!==a&&void 0!==a.providers}function Qd(a,d){for(let c of a)et(c)&&(c=c.\u0275providers),Array.isArray(c)?Qd(c,d):d(c)}const zg=Y({provide:String,useValue:Y});function eu(a){return null!==a&&"object"==typeof a&&zg in a}function fo(a){return"function"==typeof a}const Wg=new $t("Set Injector scope."),$g={},hv={};let pv;function tu(){return void 0===pv&&(pv=new Bo),pv}class Qi{}class Gg extends Qi{get destroyed(){return this._destroyed}constructor(d,c,p,f){super(),this.parent=c,this.source=p,this.scopes=f,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,gv(d,y=>this.processProvider(y)),this.records.set(oa,_o(void 0,this)),f.has("environment")&&this.records.set(Qi,_o(void 0,this));const m=this.records.get(Wg);null!=m&&"string"==typeof m.value&&this.scopes.add(m.value),this.injectorDefTypes=new Set(this.get(sa.multi,Zt,Lt.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const c of this._ngOnDestroyHooks)c.ngOnDestroy();const d=this._onDestroyHooks;this._onDestroyHooks=[];for(const c of d)c()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(d){return this.assertNotDestroyed(),this._onDestroyHooks.push(d),()=>this.removeOnDestroy(d)}runInContext(d){this.assertNotDestroyed();const c=us(this),p=bt(void 0);try{return d()}finally{us(c),bt(p)}}get(d,c=lo,p=Lt.Default){if(this.assertNotDestroyed(),d.hasOwnProperty(Kp))return d[Kp](this);p=Ka(p);const m=us(this),y=bt(void 0);try{if(!(p&Lt.SkipSelf)){let S=this.records.get(d);if(void 0===S){const I=function aM(a){return"function"==typeof a||"object"==typeof a&&a instanceof $t}(d)&&xi(d);S=I&&this.injectableDefInScope(I)?_o(Os(d),$g):null,this.records.set(d,S)}if(null!=S)return this.hydrate(d,S)}return(p&Lt.Self?tu():this.parent).get(d,c=p&Lt.Optional&&c===lo?null:c)}catch(O){if("NullInjectorError"===O.name){if((O[gd]=O[gd]||[]).unshift(me(d)),m)throw O;return function _c(a,d,c,p){const f=a[gd];throw d[Up]&&f.unshift(d[Up]),a.message=function em(a,d,c,p=null){a=a&&"\n"===a.charAt(0)&&"\u0275"==a.charAt(1)?a.slice(2):a;let f=me(d);if(Array.isArray(d))f=d.map(me).join(" -> ");else if("object"==typeof d){let m=[];for(let y in d)if(d.hasOwnProperty(y)){let O=d[y];m.push(y+":"+("string"==typeof O?JSON.stringify(O):me(O)))}f=`{${m.join(", ")}}`}return`${c}${p?"("+p+")":""}[${f}]: ${a.replace(Gp,"\n  ")}`}("\n"+a.message,f,c,p),a.ngTokenPath=f,a[gd]=null,a}(O,d,"R3InjectorError",this.source)}throw O}finally{bt(y),us(m)}}resolveInjectorInitializers(){const d=us(this),c=bt(void 0);try{const f=this.get(go.multi,Zt,Lt.Self);for(const m of f)m()}finally{us(d),bt(c)}}toString(){const d=[],c=this.records;for(const p of c.keys())d.push(me(p));return`R3Injector[${d.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new re(205,!1)}processProvider(d){let c=fo(d=Oe(d))?d:Oe(d&&d.provide);const p=function qr(a){return eu(a)?_o(void 0,a.useValue):_o(Vo(a),$g)}(d);if(fo(d)||!0!==d.multi)this.records.get(c);else{let f=this.records.get(c);f||(f=_o(void 0,$g,!0),f.factory=()=>Ya(f.multi),this.records.set(c,f)),c=d,f.multi.push(d)}this.records.set(c,p)}hydrate(d,c){return c.value===$g&&(c.value=hv,c.value=c.factory()),"object"==typeof c.value&&c.value&&function GO(a){return null!==a&&"object"==typeof a&&"function"==typeof a.ngOnDestroy}(c.value)&&this._ngOnDestroyHooks.add(c.value),c.value}injectableDefInScope(d){if(!d.providedIn)return!1;const c=Oe(d.providedIn);return"string"==typeof c?"any"===c||this.scopes.has(c):this.injectorDefTypes.has(c)}removeOnDestroy(d){const c=this._onDestroyHooks.indexOf(d);-1!==c&&this._onDestroyHooks.splice(c,1)}}function Os(a){const d=xi(a),c=null!==d?d.factory:Zs(a);if(null!==c)return c;if(a instanceof $t)throw new re(204,!1);if(a instanceof Function)return function Ir(a){const d=a.length;if(d>0)throw kc(d,"?"),new re(204,!1);const c=function Ur(a){return a&&(a[dd]||a[ud])||null}(a);return null!==c?()=>c.factory(a):()=>new a}(a);throw new re(204,!1)}function Vo(a,d,c){let p;if(fo(a)){const f=Oe(a);return Zs(f)||Os(f)}if(eu(a))p=()=>Oe(a.useValue);else if(function Xc(a){return!(!a||!a.useFactory)}(a))p=()=>a.useFactory(...Ya(a.deps||[]));else if(function Jc(a){return!(!a||!a.useExisting)}(a))p=()=>Ln(Oe(a.useExisting));else{const f=Oe(a&&(a.useClass||a.provide));if(!function $O(a){return!!a.deps}(a))return Zs(f)||Os(f);p=()=>new f(...Ya(a.deps))}return p}function _o(a,d,c=!1){return{factory:a,value:d,multi:c?[]:void 0}}function gv(a,d){for(const c of a)Array.isArray(c)?gv(c,d):c&&et(c)?gv(c.\u0275providers,d):d(c)}const ii=new $t("AppId",{providedIn:"root",factory:()=>fv}),fv="ng",UO=new $t("Platform Initializer"),_v=new $t("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),lM=new $t("CSP nonce",{providedIn:"root",factory:()=>cl().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});function uM(a){return a}function cM(){const a=new Zc;return"browser"===hn(_v)&&(a.store=function hM(a,d){const c=a.getElementById(d+"-state");if(c?.textContent)try{return JSON.parse(c.textContent)}catch(p){console.warn("Exception while restoring TransferState for app "+d,p)}return{}}(cl(),hn(ii))),a}let Zc=(()=>{var a;class d{constructor(){this.store={},this.onSerializeCallbacks={}}get(p,f){return void 0!==this.store[p]?this.store[p]:f}set(p,f){this.store[p]=f}remove(p){delete this.store[p]}hasKey(p){return this.store.hasOwnProperty(p)}get isEmpty(){return 0===Object.keys(this.store).length}onSerialize(p,f){this.onSerializeCallbacks[p]=f}toJson(){for(const p in this.onSerializeCallbacks)if(this.onSerializeCallbacks.hasOwnProperty(p))try{this.store[p]=this.onSerializeCallbacks[p]()}catch(f){console.warn("Exception in onSerialize callback: ",f)}return JSON.stringify(this.store).replace(/</g,"\\u003C")}}return(a=d).\u0275prov=pt({token:a,providedIn:"root",factory:cM}),d})(),qn=(a,d,c)=>null;function aa(a,d,c=!1){return qn(a,d,c)}class yM{}class qO{}class bM{resolveComponentFactory(d){throw function xM(a){const d=Error(`No component factory found for ${me(a)}.`);return d.ngComponent=a,d}(d)}}let qg=(()=>{class d{}return d.NULL=new bM,d})();function OM(){return ru(Oi(),Me())}function ru(a,d){return new th(Ji(a,d))}let th=(()=>{class d{constructor(p){this.nativeElement=p}}return d.__NG_ELEMENT_ID__=OM,d})();function DM(a){return a instanceof th?a.nativeElement:a}class gl{}let Mr=(()=>{class d{constructor(){this.destroyNode=null}}return d.__NG_ELEMENT_ID__=()=>function HN(){const a=Me(),c=Xi(Oi().index,a);return(xr(c)?c:a)[St]}(),d})(),SM=(()=>{var a;class d{}return(a=d).\u0275prov=pt({token:a,providedIn:"root",factory:()=>null}),d})();class Dv{constructor(d){this.full=d,this.major=d.split(".")[0],this.minor=d.split(".")[1],this.patch=d.split(".").slice(2).join(".")}}const XO=new Dv("16.2.1"),ZO={};function Jr(a){if(!Ut()&&!function jp(){return Ao}())throw new re(-203,!1)}function nD(a,d=null,c=null,p){const f=iD(a,d,c,p);return f.resolveInjectorInitializers(),f}function iD(a,d=null,c=null,p,f=new Set){const m=[c||Zt,Zd(a)];return p=p||("object"==typeof a?void 0:me(a)),new Gg(m,d||tu(),p||null,f)}let mo=(()=>{var a;class d{static create(p,f){if(Array.isArray(p))return nD({name:""},f,p,"");{const m=p.name??"";return nD({name:m},p.parent,p.providers,m)}}}return(a=d).THROW_IF_NOT_FOUND=lo,a.NULL=new Bo,a.\u0275prov=pt({token:a,providedIn:"any",factory:()=>Ln(oa)}),a.__NG_ELEMENT_ID__=-1,d})(),nh=(()=>{var a;class d{}return(a=d).__NG_ELEMENT_ID__=AM,a.__NG_ENV_ID__=c=>c,d})();class MM extends nh{constructor(d){super(),this._lView=d}onDestroy(d){return mm(this._lView,d),()=>function vm(a,d){if(null===a[Js])return;const c=a[Js].indexOf(d);-1!==c&&a[Js].splice(c,1)}(this._lView,d)}}function AM(){return new MM(Me())}let Sv=(()=>{var a;class d{constructor(){this.callbacks=new Set,this.deferredCallbacks=new Set,this.renderDepth=0,this.runningCallbacks=!1}begin(){if(this.runningCallbacks)throw new re(102,!1);this.renderDepth++}end(){if(this.renderDepth--,0===this.renderDepth)try{this.runningCallbacks=!0;for(const p of this.callbacks)p.invoke()}finally{this.runningCallbacks=!1;for(const p of this.deferredCallbacks)this.callbacks.add(p);this.deferredCallbacks.clear()}}register(p){(this.runningCallbacks?this.deferredCallbacks:this.callbacks).add(p)}unregister(p){this.callbacks.delete(p),this.deferredCallbacks.delete(p)}ngOnDestroy(){this.callbacks.clear(),this.deferredCallbacks.clear()}}return(a=d).\u0275prov=pt({token:a,providedIn:"root",factory:()=>new a}),d})();function su(a){for(;a;){a[Mt]|=64;const d=Wd(a);if(Ob(a)&&!d)return a;a=d}return null}function Ev(a){return a.ngOriginalError}class au{constructor(){this._console=console}handleError(d){const c=this._findOriginalError(d);this._console.error("ERROR",d),c&&this._console.error("ORIGINAL ERROR",c)}_findOriginalError(d){let c=d&&Ev(d);for(;c&&Ev(c);)c=Ev(c);return c||null}}const sD=new $t("",{providedIn:"root",factory:()=>!1});class zM extends dm{constructor(){super(...arguments),this.consumerAllowSignalWrites=!1,this._lView=null}set lView(d){this._lView=d}onConsumerDependencyMayHaveChanged(){su(this._lView)}onProducerUpdateValueVersion(){}get hasReadASignal(){return this.hasProducers}runInContext(d,c,p){const f=ai(this);this.trackingVersion++;try{d(c,p)}finally{ai(f)}}destroy(){this.trackingVersion++}}let Xg=null;function aD(){return Xg??=new zM,Xg}function lD(a,d){return a[d]??aD()}function dD(a,d){const c=aD();c.hasReadASignal&&(a[d]=Xg,c.lView=a,Xg=new zM)}const At={};function uD(a){cD(Qt(),Me(),ar()+a,!1)}function cD(a,d,c,p){if(!p)if(3==(3&d[Mt])){const m=a.preOrderCheckHooks;null!==m&&og(d,m,c)}else{const m=a.preOrderHooks;null!==m&&Tc(d,m,0,c)}Ed(c)}function rh(a,d=Lt.Default){const c=Me();return null===c?Ln(a,d):Md(Oi(),c,Oe(a),d)}function Zg(a,d,c,p,f,m,y,O,S,I,P){const V=d.blueprint.slice();return V[Kn]=f,V[Mt]=140|p,(null!==I||a&&2048&a[Mt])&&(V[Mt]|=2048),Fb(V),V[Pn]=V[Od]=a,V[ti]=c,V[Za]=y||a&&a[Za],V[St]=O||a&&a[St],V[or]=S||a&&a[or]||null,V[gi]=m,V[Qp]=function Ym(){return IT++}(),V[Xs]=P,V[xI]=I,V[Hn]=2==d.type?a[Hn]:V,V}function dr(a,d,c,p,f){let m=a.data[d];if(null===m)m=function Qg(a,d,c,p,f){const m=Hb(),y=ym(),S=a.data[d]=function fD(a,d,c,p,f,m){let y=d?d.injectorIndex:-1,O=0;return nl()&&(O|=128),{type:c,index:p,insertBeforeIndex:null,injectorIndex:y,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:O,providerIndexes:0,value:f,attrs:m,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:d,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,y?m:m&&m.parent,c,d,p,f);return null===a.firstChild&&(a.firstChild=S),null!==m&&(y?null==m.child&&null!==S.parent&&(m.child=S):null===m.next&&(m.next=S,S.prev=m)),S}(a,d,c,p,f),function zI(){return vt.lFrame.inI18n}()&&(m.flags|=32);else if(64&m.type){m.type=c,m.value=p,m.attrs=f;const y=function rg(){const a=vt.lFrame,d=a.currentTNode;return a.isParent?d:d.parent}();m.injectorIndex=null===y?-1:y.injectorIndex}return gs(m,!0),m}function oh(a,d,c,p){if(0===c)return-1;const f=d.length;for(let m=0;m<c;m++)d.push(p),a.blueprint.push(p),a.data.push(null);return f}function wv(a,d,c,p,f){const m=lD(d,Dc),y=ar(),O=2&p;try{if(Ed(-1),O&&d.length>Ht&&cD(a,d,Ht,!1),Or(O?2:0,f),O)m.runInContext(c,p,f);else{const I=ai(null);try{c(p,f)}finally{ai(I)}}}finally{O&&null===d[Dc]&&dD(d,Dc),Ed(y),Or(O?3:1,f)}}function ef(a,d,c){if(lm(d)){const p=ai(null);try{const m=d.directiveEnd;for(let y=d.directiveStart;y<m;y++){const O=a.data[y];O.contentQueries&&O.contentQueries(1,c[y],y)}}finally{ai(p)}}}function lu(a,d,c){Lb()&&(function KN(a,d,c,p){const f=c.directiveStart,m=c.directiveEnd;el(c)&&function QM(a,d,c){const p=Ji(d,a),f=hD(c);let y=16;c.signals?y=4096:c.onPush&&(y=64);const O=rf(a,Zg(a,f,null,y,p,d,null,a[Za].rendererFactory.createRenderer(p,c),null,null,null));a[d.index]=O}(d,c,a.data[f+c.componentOffset]),a.firstCreatePass||lg(c,d),Vi(p,d);const y=c.initialInputs;for(let O=f;O<m;O++){const S=a.data[O],I=Ad(d,a,O,c);Vi(I,d),null!==y&&CD(0,O-f,I,S,0,y),Fo(S)&&(Xi(c.index,d)[ti]=Ad(d,a,O,c))}}(a,d,c,Ji(c,d)),64==(64&c.flags)&&ah(a,d,c))}function Iv(a,d,c=Ji){const p=d.localNames;if(null!==p){let f=d.index+1;for(let m=0;m<p.length;m+=2){const y=p[m+1],O=-1===y?c(d,a):a[y];a[f++]=O}}}function hD(a){const d=a.tView;return null===d||d.incompleteFirstPass?a.tView=Tv(1,null,a.template,a.decls,a.vars,a.directiveDefs,a.pipeDefs,a.viewQuery,a.schemas,a.consts,a.id):d}function Tv(a,d,c,p,f,m,y,O,S,I,P){const V=Ht+p,j=V+f,ee=function tf(a,d){const c=[];for(let p=0;p<d;p++)c.push(p<a?null:At);return c}(V,j),_e="function"==typeof I?I():I;return ee[Ye]={type:a,blueprint:ee,template:c,queries:null,viewQuery:O,declTNode:d,data:ee.slice().fill(null,V),bindingStartIndex:V,expandoStartIndex:j,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof m?m():m,pipeRegistry:"function"==typeof y?y():y,firstChild:null,schemas:S,consts:_e,incompleteFirstPass:!1,ssrId:P}}let pD=a=>null;function _D(a,d,c,p){for(let f in a)if(a.hasOwnProperty(f)){c=null===c?{}:c;const m=a[f];null===p?mD(c,d,f,m):p.hasOwnProperty(f)&&mD(c,d,p[f],m)}return c}function mD(a,d,c,p){a.hasOwnProperty(c)?a[c].push(d,p):a[c]=[d,p]}function nf(a,d,c,p){if(Lb()){const f=null===p?null:{"":-1},m=function Mv(a,d){const c=a.directiveRegistry;let p=null,f=null;if(c)for(let m=0;m<c.length;m++){const y=c[m];if(bd(d,y.selectors,!1))if(p||(p=[]),Fo(y))if(null!==y.findHostDirectiveDefs){const O=[];f=f||new Map,y.findHostDirectiveDefs(y,O,f),p.unshift(...O,y),Av(a,d,O.length)}else p.unshift(y),Av(a,d,0);else f=f||new Map,y.findHostDirectiveDefs?.(y,p,f),p.push(y)}return null===p?null:[p,f]}(a,c);let y,O;null===m?y=O=null:[y,O]=m,null!==y&&vD(a,d,c,y,f,O),f&&function la(a,d,c){if(d){const p=a.localNames=[];for(let f=0;f<d.length;f+=2){const m=c[d[f+1]];if(null==m)throw new re(-301,!1);p.push(d[f],m)}}}(c,p,f)}c.mergedAttrs=qs(c.mergedAttrs,c.attrs)}function vD(a,d,c,p,f,m){for(let I=0;I<p.length;I++)Am(lg(c,d),a,p[I].type);!function YN(a,d,c){a.flags|=1,a.directiveStart=d,a.directiveEnd=d+c,a.providerIndexes=d}(c,a.data.length,p.length);for(let I=0;I<p.length;I++){const P=p[I];P.providersResolver&&P.providersResolver(P)}let y=!1,O=!1,S=oh(a,d,p.length,null);for(let I=0;I<p.length;I++){const P=p[I];c.mergedAttrs=qs(c.mergedAttrs,P.hostAttrs),ZM(a,c,d,S,P),uu(S,P,f),null!==P.contentQueries&&(c.flags|=4),(null!==P.hostBindings||null!==P.hostAttrs||0!==P.hostVars)&&(c.flags|=64);const V=P.type.prototype;!y&&(V.ngOnChanges||V.ngOnInit||V.ngDoCheck)&&((a.preOrderHooks??=[]).push(c.index),y=!0),!O&&(V.ngOnChanges||V.ngDoCheck)&&((a.preOrderCheckHooks??=[]).push(c.index),O=!0),S++}!function YM(a,d,c){const f=d.directiveEnd,m=a.data,y=d.attrs,O=[];let S=null,I=null;for(let P=d.directiveStart;P<f;P++){const V=m[P],j=c?c.get(V):null,_e=j?j.outputs:null;S=_D(V.inputs,P,S,j?j.inputs:null),I=_D(V.outputs,P,I,_e);const Be=null===S||null===y||tm(d)?null:xD(S,P,y);O.push(Be)}null!==S&&(S.hasOwnProperty("class")&&(d.flags|=8),S.hasOwnProperty("style")&&(d.flags|=16)),d.initialInputs=O,d.inputs=S,d.outputs=I}(a,c,m)}function ah(a,d,c){const p=c.directiveStart,f=c.directiveEnd,m=c.index,y=function Gb(){return vt.lFrame.currentDirectiveIndex}();try{Ed(m);for(let O=p;O<f;O++){const S=a.data[O],I=d[O];Ub(O),(null!==S.hostBindings||0!==S.hostVars||null!==S.hostAttrs)&&XM(S,I)}}finally{Ed(-1),Ub(y)}}function XM(a,d){null!==a.hostBindings&&a.hostBindings(1,d)}function Av(a,d,c){d.componentOffset=c,(a.components??=[]).push(d.index)}function uu(a,d,c){if(c){if(d.exportAs)for(let p=0;p<d.exportAs.length;p++)c[d.exportAs[p]]=a;Fo(d)&&(c[""]=a)}}function ZM(a,d,c,p,f){a.data[p]=f;const m=f.factory||(f.factory=Zs(f.type)),y=new Id(m,Fo(f),rh);a.blueprint[p]=y,c[p]=y,function jN(a,d,c,p,f){const m=f.hostBindings;if(m){let y=a.hostBindingOpCodes;null===y&&(y=a.hostBindingOpCodes=[]);const O=~d.index;(function sh(a){let d=a.length;for(;d>0;){const c=a[--d];if("number"==typeof c&&c<0)return c}return 0})(y)!=O&&y.push(O),y.push(c,p,m)}}(a,d,p,oh(a,c,f.hostVars,At),f)}function No(a,d,c,p,f,m){const y=Ji(a,d);!function lh(a,d,c,p,f,m,y){if(null==m)a.removeAttribute(d,f,c);else{const O=null==y?Ae(m):y(m,p||"",f);a.setAttribute(d,f,O,c)}}(d[St],y,m,a.value,c,p,f)}function CD(a,d,c,p,f,m){const y=m[d];if(null!==y)for(let O=0;O<y.length;)yD(p,c,y[O++],y[O++],y[O++])}function yD(a,d,c,p,f){const m=ai(null);try{const y=a.inputTransforms;null!==y&&y.hasOwnProperty(p)&&(f=y[p].call(d,f)),null!==a.setInput?a.setInput(d,f,c,p):d[p]=f}finally{ai(m)}}function xD(a,d,c){let p=null,f=0;for(;f<c.length;){const m=c[f];if(0!==m)if(5!==m){if("number"==typeof m)break;if(a.hasOwnProperty(m)){null===p&&(p=[]);const y=a[m];for(let O=0;O<y.length;O+=2)if(y[O]===d){p.push(m,y[O+1],c[f+1]);break}}f+=2}else f+=2;else f+=4}return p}function Rv(a,d,c,p){return[a,!0,!1,d,null,0,p,c,null,null,null]}function eA(a,d){const c=a.contentQueries;if(null!==c)for(let p=0;p<c.length;p+=2){const m=c[p+1];if(-1!==m){const y=a.data[m];Om(c[p]),y.contentQueries(2,d[m],m)}}}function rf(a,d){return a[bc]?a[xb][co]=d:a[bc]=d,a[xb]=d,d}function Pv(a,d,c){Om(0);const p=ai(null);try{d(a,c)}finally{ai(p)}}function bD(a){return a[xc]||(a[xc]=[])}function Fv(a){return a.cleanup||(a.cleanup=[])}function OD(a,d){const c=a[or],p=c?c.get(au,null):null;p&&p.handleError(d)}function Bv(a,d,c,p,f){for(let m=0;m<c.length;){const y=c[m++],O=c[m++];yD(a.data[y],d[y],p,O,f)}}function Rr(a,d){const c=Xi(d,a),p=c[Ye];!function dh(a,d){for(let c=d.length;c<a.blueprint.length;c++)d.push(a.blueprint[c])}(p,c);const f=c[Kn];null!==f&&null===c[Xs]&&(c[Xs]=aa(f,c[or])),of(p,c,c[ti])}function of(a,d,c){Kb(d);try{const p=a.viewQuery;null!==p&&Pv(1,p,c);const f=a.template;null!==f&&wv(a,d,f,1,c),a.firstCreatePass&&(a.firstCreatePass=!1),a.staticContentQueries&&eA(a,d),a.staticViewQueries&&Pv(2,a.viewQuery,c);const m=a.components;null!==m&&function ur(a,d){for(let c=0;c<d.length;c++)Rr(a,d[c])}(d,m)}catch(p){throw a.firstCreatePass&&(a.incompleteFirstPass=!0,a.firstCreatePass=!1),p}finally{d[Mt]&=-5,Yb()}}let T=(()=>{var a;class d{constructor(){this.all=new Set,this.queue=new Map}create(p,f,m){const y=typeof Zone>"u"?null:Zone.current,O=new ZV(p,P=>{this.all.has(P)&&this.queue.set(P,y)},m);let S;this.all.add(O),O.notify();const I=()=>{O.cleanup(),S?.(),this.all.delete(O),this.queue.delete(O)};return S=f?.onDestroy(I),{destroy:I}}flush(){if(0!==this.queue.size)for(const[p,f]of this.queue)this.queue.delete(p),f?f.run(()=>p.run()):p.run()}get isQueueEmpty(){return 0===this.queue.size}}return(a=d).\u0275prov=pt({token:a,providedIn:"root",factory:()=>new a}),d})();function je(a,d,c){let p=c?a.styles:null,f=c?a.classes:null,m=0;if(null!==d)for(let y=0;y<d.length;y++){const O=d[y];"number"==typeof O?m=O:1==m?f=Pe(f,O):2==m&&(p=Pe(p,O+": "+d[++y]+";"))}c?a.styles=p:a.stylesWithoutHost=p,c?a.classes=f:a.classesWithoutHost=f}function Vt(a,d,c,p,f=!1){for(;null!==c;){const m=d[c.index];if(null!==m&&p.push(Dn(m)),br(m)){for(let O=bi;O<m.length;O++){const S=m[O],I=S[Ye].firstChild;null!==I&&Vt(S[Ye],S,I,p)}m[Po]!==m[Kn]&&p.push(m[Po])}const y=c.type;if(8&y)Vt(a,d,c.child,p);else if(32&y){const O=zd(c,d);let S;for(;S=O();)p.push(S)}else if(16&y){const O=UT(d,c);if(Array.isArray(O))p.push(...O);else{const S=Wd(d[Hn]);Vt(S[Ye],S,O,p,!0)}}c=f?c.projectionNext:c.next}return p}function qe(a,d,c,p=!0){const f=d[Za],m=f.rendererFactory,y=f.afterRenderEventManager;m.begin?.(),y?.begin();try{cu(a,d,a.template,c)}catch(S){throw p&&OD(d,S),S}finally{m.end?.(),f.effectManager?.flush(),y?.end()}}function cu(a,d,c,p){const f=d[Mt];if(256!=(256&f)){d[Za].effectManager?.flush(),Kb(d);try{Fb(d),function Wb(a){return vt.lFrame.bindingIndex=a}(a.bindingStartIndex),null!==c&&wv(a,d,c,2,p);const y=3==(3&f);if(y){const I=a.preOrderCheckHooks;null!==I&&og(d,I,null)}else{const I=a.preOrderHooks;null!==I&&Tc(d,I,0,null),Sm(d,0)}if(function Fr(a){for(let d=kT(a);null!==d;d=BT(d)){if(!d[bb])continue;const c=d[Dd];for(let p=0;p<c.length;p++){PI(c[p])}}}(d),Sn(d,2),null!==a.contentQueries&&eA(a,d),y){const I=a.contentCheckHooks;null!==I&&og(d,I)}else{const I=a.contentHooks;null!==I&&Tc(d,I,1),Sm(d,1)}!function $M(a,d){const c=a.hostBindingOpCodes;if(null===c)return;const p=lD(d,sm);try{for(let f=0;f<c.length;f++){const m=c[f];if(m<0)Ed(~m);else{const y=m,O=c[++f],S=c[++f];bm(O,y),p.runInContext(S,2,d[y])}}}finally{null===d[sm]&&dD(d,sm),Ed(-1)}}(a,d);const O=a.components;null!==O&&DD(d,O,0);const S=a.viewQuery;if(null!==S&&Pv(2,S,p),y){const I=a.viewCheckHooks;null!==I&&og(d,I)}else{const I=a.viewHooks;null!==I&&Tc(d,I,2),Sm(d,2)}!0===a.firstUpdatePass&&(a.firstUpdatePass=!1),d[Mt]&=-73,kb(d)}finally{Yb()}}}function Sn(a,d){for(let c=kT(a);null!==c;c=BT(c))for(let p=bi;p<c.length;p++)uh(c[p],d)}function hu(a,d,c){uh(Xi(d,a),c)}function uh(a,d){if(!function AI(a){return 128==(128&a[Mt])}(a))return;const c=a[Ye];if(80&a[Mt]&&0===d||1024&a[Mt]||2===d)cu(c,a,c.template,a[ti]);else if(a[Xa]>0){Sn(a,1);const f=a[Ye].components;null!==f&&DD(a,f,1)}}function DD(a,d,c){for(let p=0;p<d.length;p++)hu(a,d[p],c)}class ch{get rootNodes(){const d=this._lView,c=d[Ye];return Vt(c,d,c.firstChild,[])}constructor(d,c){this._lView=d,this._cdRefInjectingView=c,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[ti]}set context(d){this._lView[ti]=d}get destroyed(){return 256==(256&this._lView[Mt])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const d=this._lView[Pn];if(br(d)){const c=d[8],p=c?c.indexOf(this):-1;p>-1&&(Uc(d,p),pg(c,p))}this._attachedToViewContainer=!1}Qm(this._lView[Ye],this._lView)}onDestroy(d){mm(this._lView,d)}markForCheck(){su(this._cdRefInjectingView||this._lView)}detach(){this._lView[Mt]&=-129}reattach(){this._lView[Mt]|=128}detectChanges(){qe(this._lView[Ye],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new re(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function LT(a,d){Ag(a,d,d[St],2,null,null)}(this._lView[Ye],this._lView)}attachToAppRef(d){if(this._attachedToViewContainer)throw new re(902,!1);this._appRef=d}}class A extends ch{constructor(d){super(d),this._view=d}detectChanges(){const d=this._view;qe(d[Ye],d,d[ti],!1)}checkNoChanges(){}get context(){return null}}class Fn extends qg{constructor(d){super(),this.ngModule=d}resolveComponentFactory(d){const c=yt(d);return new da(c,this.ngModule)}}function B(a){const d=[];for(let c in a)a.hasOwnProperty(c)&&d.push({propName:a[c],templateName:c});return d}class tA{constructor(d,c){this.injector=d,this.parentInjector=c}get(d,c,p){p=Ka(p);const f=this.injector.get(d,ZO,p);return f!==ZO||c===ZO?f:this.parentInjector.get(d,c,p)}}class da extends qO{get inputs(){const d=this.componentDef,c=d.inputTransforms,p=B(d.inputs);if(null!==c)for(const f of p)c.hasOwnProperty(f.propName)&&(f.transform=c[f.propName]);return p}get outputs(){return B(this.componentDef.outputs)}constructor(d,c){super(),this.componentDef=d,this.ngModule=c,this.componentType=d.type,this.selector=function mb(a){return a.map(CI).join(",")}(d.selectors),this.ngContentSelectors=d.ngContentSelectors?d.ngContentSelectors:[],this.isBoundToModule=!!c}create(d,c,p,f){let m=(f=f||this.ngModule)instanceof Qi?f:f?.injector;m&&null!==this.componentDef.getStandaloneInjector&&(m=this.componentDef.getStandaloneInjector(m)||m);const y=m?new tA(d,m):d,O=y.get(gl,null);if(null===O)throw new re(407,!1);const V={rendererFactory:O,sanitizer:y.get(SM,null),effectManager:y.get(T,null),afterRenderEventManager:y.get(Sv,null)},j=O.createRenderer(null,this.componentDef),ee=this.componentDef.selectors[0][0]||"div",_e=p?function GM(a,d,c,p){const m=p.get(sD,!1)||c===jr.ShadowDom,y=a.selectRootElement(d,m);return function UM(a){pD(a)}(y),y}(j,p,this.componentDef.encapsulation,y):ia(j,ee,function JN(a){const d=a.toLowerCase();return"svg"===d?"svg":"math"===d?"math":null}(ee)),dt=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let we=null;null!==_e&&(we=aa(_e,y,!0));const xt=Tv(0,null,null,1,0,null,null,null,null,null,null),Nt=Zg(null,xt,null,dt,null,null,V,j,y,null,we);let pn,nr;Kb(Nt);try{const Gt=this.componentDef;let Bl,wy=null;Gt.findHostDirectiveDefs?(Bl=[],wy=new Map,Gt.findHostDirectiveDefs(Gt,Bl,wy),Bl.push(Gt)):Bl=[Gt];const Iy=function XN(a,d){const c=a[Ye],p=Ht;return a[p]=d,dr(c,p,2,"#host",null)}(Nt,_e),FP=function SD(a,d,c,p,f,m,y){const O=f[Ye];!function nA(a,d,c,p){for(const f of a)d.mergedAttrs=qs(d.mergedAttrs,f.hostAttrs);null!==d.mergedAttrs&&(je(d,d.mergedAttrs,!0),null!==c&&wO(p,c,d))}(p,a,d,y);let S=null;null!==d&&(S=aa(d,f[or]));const I=m.rendererFactory.createRenderer(d,c);let P=16;c.signals?P=4096:c.onPush&&(P=64);const V=Zg(f,hD(c),null,P,f[a.index],a,m,I,null,null,S);return O.firstCreatePass&&Av(O,a,p.length-1),rf(f,V),f[a.index]=V}(Iy,_e,Gt,Bl,Nt,V,j);nr=fm(xt,Ht),_e&&function Ho(a,d,c,p){if(p)Cd(a,c,["ng-version",XO.full]);else{const{attrs:f,classes:m}=function vb(a){const d=[],c=[];let p=1,f=2;for(;p<a.length;){let m=a[p];if("string"==typeof m)2===f?""!==m&&d.push(m,a[++p]):8===f&&c.push(m);else{if(!rr(f))break;f=m}p++}return{attrs:d,classes:c}}(d.selectors[0]);f&&Cd(a,c,f),m&&m.length>0&&iv(a,c,m.join(" "))}}(j,Gt,_e,p),void 0!==c&&function ZN(a,d,c){const p=a.projection=[];for(let f=0;f<d.length;f++){const m=c[f];p.push(null!=m?Array.from(m):null)}}(nr,this.ngContentSelectors,c),pn=function iA(a,d,c,p,f,m){const y=Oi(),O=f[Ye],S=Ji(y,f);vD(O,f,y,c,null,p);for(let P=0;P<c.length;P++)Vi(Ad(f,O,y.directiveStart+P,y),f);ah(O,f,y),S&&Vi(S,f);const I=Ad(f,O,y.directiveStart+y.componentOffset,y);if(a[ti]=f[ti]=I,null!==m)for(const P of m)P(I,d);return ef(O,y,a),I}(FP,Gt,Bl,wy,Nt,[af]),of(xt,Nt,null)}finally{Yb()}return new sf(this.componentType,pn,ru(nr,Nt),Nt,nr)}}class sf extends yM{constructor(d,c,p,f,m){super(),this.location=p,this._rootLView=f,this._tNode=m,this.previousInputValues=null,this.instance=c,this.hostView=this.changeDetectorRef=new A(f),this.componentType=d}setInput(d,c){const p=this._tNode.inputs;let f;if(null!==p&&(f=p[d])){if(this.previousInputValues??=new Map,this.previousInputValues.has(d)&&Object.is(this.previousInputValues.get(d),c))return;const m=this._rootLView;Bv(m[Ye],m,f,d,c),this.previousInputValues.set(d,c),su(Xi(this._tNode.index,m))}}get injector(){return new Zi(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(d){this.hostView.onDestroy(d)}}function af(){const a=Oi();Sr(Me()[Ye],a)}function Lv(a){let d=function ED(a){return Object.getPrototypeOf(a.prototype).constructor}(a.type),c=!0;const p=[a];for(;d;){let f;if(Fo(a))f=d.\u0275cmp||d.\u0275dir;else{if(d.\u0275cmp)throw new re(903,!1);f=d.\u0275dir}if(f){if(c){p.push(f);const y=a;y.inputs=zt(a.inputs),y.inputTransforms=zt(a.inputTransforms),y.declaredInputs=zt(a.declaredInputs),y.outputs=zt(a.outputs);const O=f.hostBindings;O&&sA(a,O);const S=f.viewQuery,I=f.contentQueries;if(S&&rA(a,S),I&&oA(a,I),te(a.inputs,f.inputs),te(a.declaredInputs,f.declaredInputs),te(a.outputs,f.outputs),null!==f.inputTransforms&&(null===y.inputTransforms&&(y.inputTransforms={}),te(y.inputTransforms,f.inputTransforms)),Fo(f)&&f.data.animation){const P=a.data;P.animation=(P.animation||[]).concat(f.data.animation)}}const m=f.features;if(m)for(let y=0;y<m.length;y++){const O=m[y];O&&O.ngInherit&&O(a),O===Lv&&(c=!1)}}d=Object.getPrototypeOf(d)}!function Vv(a){let d=0,c=null;for(let p=a.length-1;p>=0;p--){const f=a[p];f.hostVars=d+=f.hostVars,f.hostAttrs=qs(f.hostAttrs,c=qs(c,f.hostAttrs))}}(p)}function zt(a){return a===Cr?{}:a===Zt?[]:a}function rA(a,d){const c=a.viewQuery;a.viewQuery=c?(p,f)=>{d(p,f),c(p,f)}:d}function oA(a,d){const c=a.contentQueries;a.contentQueries=c?(p,f,m)=>{d(p,f,m),c(p,f,m)}:d}function sA(a,d){const c=a.hostBindings;a.hostBindings=c?(p,f)=>{d(p,f),c(p,f)}:d}function hh(a){return!!En(a)&&(Array.isArray(a)||!(a instanceof Map)&&Symbol.iterator in a)}function En(a){return null!==a&&("function"==typeof a||"object"==typeof a)}function zo(a,d,c){return a[d]=c}function Si(a,d,c){return!Object.is(a[d],c)&&(a[d]=c,!0)}function ID(a,d,c,p){const f=Me();return Si(f,il(),d)&&(Qt(),No($n(),f,a,d,c,p)),ID}function BD(a,d,c,p,f,m,y,O){const S=Me(),I=Qt(),P=a+Ht,V=I.firstCreatePass?function _A(a,d,c,p,f,m,y,O,S){const I=d.consts,P=dr(d,a,4,y||null,ea(I,O));nf(d,c,P,ea(I,S)),Sr(d,P);const V=P.tView=Tv(2,P,p,f,m,d.directiveRegistry,d.pipeRegistry,null,d.schemas,I,null);return null!==d.queries&&(d.queries.template(d,P),V.queries=d.queries.embeddedTView(P)),P}(P,I,S,d,c,p,f,m,y):I.data[P];gs(V,!1);const j=LD(I,S,V,a);Ic()&&Kc(I,S,j,V),Vi(j,S),rf(S,S[P]=Rv(j,S,j,V)),tg(V)&&lu(I,S,V),null!=y&&Iv(S,V,O)}let LD=function VD(a,d,c,p){return Dr(!0),d[St].createComment("")};function Kv(a,d,c){const p=Me();return Si(p,il(),d)&&function Di(a,d,c,p,f,m,y,O){const S=Ji(d,c);let P,I=d.inputs;!O&&null!=I&&(P=I[p])?(Bv(a,c,P,p,f),el(d)&&function JM(a,d){const c=Xi(d,a);16&c[Mt]||(c[Mt]|=64)}(c,d.index)):3&d.type&&(p=function qM(a){return"class"===a?"className":"for"===a?"htmlFor":"formaction"===a?"formAction":"innerHtml"===a?"innerHTML":"readonly"===a?"readOnly":"tabindex"===a?"tabIndex":a}(p),f=null!=y?y(f,d.value||"",p):f,m.setProperty(S,p,f))}(Qt(),$n(),p,a,d,p[St],c,!1),Kv}function Yv(a,d,c,p,f){const y=f?"class":"style";Bv(a,c,d.inputs[y],y,p)}function mu(a,d,c,p){const f=Me(),m=Qt(),y=Ht+a,O=f[St],S=m.firstCreatePass?function se(a,d,c,p,f,m){const y=d.consts,S=dr(d,a,2,p,ea(y,f));return nf(d,c,S,ea(y,m)),null!==S.attrs&&je(S,S.attrs,!1),null!==S.mergedAttrs&&je(S,S.mergedAttrs,!0),null!==d.queries&&d.queries.elementStart(d,S),S}(y,m,f,d,c,p):m.data[y],I=rt(m,f,S,O,d,a);f[y]=I;const P=tg(S);return gs(S,!0),wO(O,I,S),32!=(32&S.flags)&&Ic()&&Kc(m,f,I,S),0===function BI(){return vt.lFrame.elementDepthCount}()&&Vi(I,f),function Cm(){vt.lFrame.elementDepthCount++}(),P&&(lu(m,f,S),ef(m,S,f)),null!==p&&Iv(f,S),mu}function vu(){let a=Oi();ym()?xm():(a=a.parent,gs(a,!1));const d=a;(function LI(a){return vt.skipHydrationRootTNode===a})(d)&&function nN(){vt.skipHydrationRootTNode=null}(),function Bb(){vt.lFrame.elementDepthCount--}();const c=Qt();return c.firstCreatePass&&(Sr(c,a),lm(a)&&c.queries.elementEnd(a)),null!=d.classesWithoutHost&&function Mc(a){return 0!=(8&a.flags)}(d)&&Yv(c,d,Me(),d.classesWithoutHost,!0),null!=d.stylesWithoutHost&&function Xb(a){return 0!=(16&a.flags)}(d)&&Yv(c,d,Me(),d.stylesWithoutHost,!1),vu}function mh(a,d,c,p){return mu(a,d,c,p),vu(),mh}let rt=(a,d,c,p,f,m)=>(Dr(!0),ia(p,f,function Dm(){return vt.lFrame.currentNamespace}()));function vh(a,d,c){const p=Me(),f=Qt(),m=a+Ht,y=f.firstCreatePass?function e1(a,d,c,p,f){const m=d.consts,y=ea(m,p),O=dr(d,a,8,"ng-container",y);return null!==y&&je(O,y,!0),nf(d,c,O,ea(m,f)),null!==d.queries&&d.queries.elementStart(d,O),O}(m,f,p,d,c):f.data[m];gs(y,!0);const O=Ch(f,p,y,a);return p[m]=O,Ic()&&Kc(f,p,O,y),Vi(O,p),tg(y)&&(lu(f,p,y),ef(f,y,p)),null!=c&&Iv(p,y),vh}function Cu(){let a=Oi();const d=Qt();return ym()?xm():(a=a.parent,gs(a,!1)),d.firstCreatePass&&(Sr(d,a),lm(a)&&d.queries.elementEnd(a)),Cu}let Ch=(a,d,c,p)=>(Dr(!0),$d(d[St],""));function ND(){return Me()}function Jv(a){return!!a&&"function"==typeof a.then}function Wo(a){return!!a&&"function"==typeof a.subscribe}function yh(a,d,c,p){const f=Me(),m=Qt(),y=Oi();return function zD(a,d,c,p,f,m,y){const O=tg(p),I=a.firstCreatePass&&Fv(a),P=d[ti],V=bD(d);let j=!0;if(3&p.type||y){const Be=Ji(p,d),Ue=y?y(Be):Be,dt=V.length,we=y?Nt=>y(Dn(Nt[p.index])):p.index;let xt=null;if(!y&&O&&(xt=function HD(a,d,c,p){const f=a.cleanup;if(null!=f)for(let m=0;m<f.length-1;m+=2){const y=f[m];if(y===c&&f[m+1]===p){const O=d[xc],S=f[m+2];return O.length>S?O[S]:null}"string"==typeof y&&(m+=2)}return null}(a,d,f,p.index)),null!==xt)(xt.__ngLastListenerFn__||xt).__ngNextListenerFn__=m,xt.__ngLastListenerFn__=m,j=!1;else{m=Xv(p,d,P,m,!1);const Nt=c.listen(Ue,f,m);V.push(m,Nt),I&&I.push(f,we,dt,dt+1)}}else m=Xv(p,d,P,m,!1);const ee=p.outputs;let _e;if(j&&null!==ee&&(_e=ee[f])){const Be=_e.length;if(Be)for(let Ue=0;Ue<Be;Ue+=2){const pn=d[_e[Ue]][_e[Ue+1]].subscribe(m),nr=V.length;V.push(m,pn),I&&I.push(f,p.index,nr,-(nr+1))}}}(m,f,f[St],y,a,d,p),yh}function WD(a,d,c,p){try{return Or(6,d,c),!1!==c(p)}catch(f){return OD(a,f),!1}finally{Or(7,d,c)}}function Xv(a,d,c,p,f){return function m(y){if(y===Function)return p;su(a.componentOffset>-1?Xi(a.index,d):d);let S=WD(d,c,p,y),I=m.__ngNextListenerFn__;for(;I;)S=WD(d,c,I,y)&&S,I=I.__ngNextListenerFn__;return f&&!1===S&&y.preventDefault(),S}}function $D(a=1){return function YI(a){return(vt.lFrame.contextLView=function qb(a,d){for(;a>0;)d=d[Od],a--;return d}(a,vt.lFrame.contextLView))[ti]}(a)}function OA(a,d){let c=null;const p=function im(a){const d=a.attrs;if(null!=d){const c=d.indexOf(5);if(!(1&c))return d[c+1]}return null}(a);for(let f=0;f<d.length;f++){const m=d[f];if("*"!==m){if(null===p?bd(a,m,!0):om(p,m))return f}else c=f}return c}function mf(a){const d=Me()[Hn][gi];if(!d.projection){const p=d.projection=kc(a?a.length:1,null),f=p.slice();let m=d.child;for(;null!==m;){const y=a?OA(m,a):0;null!==y&&(f[y]?f[y].projectionNext=m:p[y]=m,f[y]=m),m=m.next}}}function Zv(a,d=0,c){const p=Me(),f=Qt(),m=dr(f,Ht+a,16,null,c||null);null===m.projection&&(m.projection=d),xm(),(!p[Xs]||nl())&&32!=(32&m.flags)&&function yN(a,d,c){DO(d[St],0,d,c,ev(a,c,d),GT(c.parent||d[gi],c,d))}(f,p,m)}function Oh(a,d){return a<<17|d<<2}function Go(a){return a>>17&32767}function tC(a){return 2|a}function fa(a){return(131068&a)>>2}function nC(a,d){return-131069&a|d<<2}function Cf(a){return 1|a}function xu(a,d,c,p,f){const m=a[c+1],y=null===d;let O=p?Go(m):fa(m),S=!1;for(;0!==O&&(!1===S||y);){const P=a[O+1];Is(a[O],d)&&(S=!0,a[O+1]=p?Cf(P):tC(P)),O=p?Go(P):fa(P)}S&&(a[c+1]=p?tC(m):Cf(m))}function Is(a,d){return null===a||null==d||(Array.isArray(a)?a[1]:a)===d||!(!Array.isArray(a)||"string"!=typeof d)&&Bc(a,d)>=0}function vl(a,d){return function hr(a,d,c,p){const f=Me(),m=Qt(),y=function Fi(a){const d=vt.lFrame,c=d.bindingIndex;return d.bindingIndex=d.bindingIndex+a,c}(2);m.firstUpdatePass&&function XD(a,d,c,p){const f=a.data;if(null===f[c+1]){const m=f[ar()],y=function bf(a,d){return d>=a.expandoStartIndex}(a,c);(function wf(a,d){return 0!=(a.flags&(d?8:16))})(m,p)&&null===d&&!y&&(d=!1),d=function Cl(a,d,c,p){const f=function jb(a){const d=vt.lFrame.currentDirectiveIndex;return-1===d?null:a[d]}(a);let m=p?d.residualClasses:d.residualStyles;if(null===f)0===(p?d.classBindings:d.styleBindings)&&(c=bu(c=_a(null,a,d,c,p),d.attrs,p),m=null);else{const y=d.directiveStylingLast;if(-1===y||a[y]!==f)if(c=_a(f,a,d,c,p),null===m){let S=function Of(a,d,c){const p=c?d.classBindings:d.styleBindings;if(0!==fa(p))return a[Go(p)]}(a,d,p);void 0!==S&&Array.isArray(S)&&(S=_a(null,a,d,S[1],p),S=bu(S,d.attrs,p),function RA(a,d,c,p){a[Go(c?d.classBindings:d.styleBindings)]=p}(a,d,p,S))}else m=function t1(a,d,c){let p;const f=d.directiveEnd;for(let m=1+d.directiveStylingLast;m<f;m++)p=bu(p,a[m].hostAttrs,c);return bu(p,d.attrs,c)}(a,d,p)}return void 0!==m&&(p?d.residualClasses=m:d.residualStyles=m),c}(f,m,d,p),function YD(a,d,c,p,f,m){let y=m?d.classBindings:d.styleBindings,O=Go(y),S=fa(y);a[p]=c;let P,I=!1;if(Array.isArray(c)?(P=c[1],(null===P||Bc(c,P)>0)&&(I=!0)):P=c,f)if(0!==S){const j=Go(a[O+1]);a[p+1]=Oh(j,O),0!==j&&(a[j+1]=nC(a[j+1],p)),a[O+1]=function jD(a,d){return 131071&a|d<<17}(a[O+1],p)}else a[p+1]=Oh(O,0),0!==O&&(a[O+1]=nC(a[O+1],p)),O=p;else a[p+1]=Oh(S,0),0===O?O=p:a[S+1]=nC(a[S+1],p),S=p;I&&(a[p+1]=tC(a[p+1])),xu(a,P,p,!0),xu(a,P,p,!1),function R(a,d,c,p,f){const m=f?a.residualClasses:a.residualStyles;null!=m&&"string"==typeof d&&Bc(m,d)>=0&&(c[p+1]=Cf(c[p+1]))}(d,P,a,p,m),y=Oh(O,S),m?d.classBindings=y:d.styleBindings=y}(f,m,d,c,y,p)}}(m,a,y,p),d!==At&&Si(f,y,d)&&function QD(a,d,c,p,f,m,y,O){if(!(3&d.type))return;const S=a.data,I=S[O+1],P=function SA(a){return 1==(1&a)}(I)?Ef(S,d,c,f,fa(I),y):void 0;wh(P)||(wh(m)||function DA(a){return 2==(2&a)}(I)&&(m=Ef(S,null,c,f,O,y)),function KT(a,d,c,p,f){if(d)f?a.addClass(c,p):a.removeClass(c,p);else{let m=-1===p.indexOf("-")?void 0:Km.DashCase;null==f?a.removeStyle(c,p,m):("string"==typeof f&&f.endsWith("!important")&&(f=f.slice(0,-10),m|=Km.Important),a.setStyle(c,p,f,m))}}(p,y,wc(ar(),c),f,m))}(m,m.data[ar()],f,f[St],a,f[y+1]=function eS(a,d){return null==a||""===a||("string"==typeof d?a+=d:"object"==typeof a&&(a=me(function ra(a){return a instanceof Lg?a.changingThisBreaksApplicationSecurity:a}(a)))),a}(d,c),p,y)}(a,d,null,!0),vl}function _a(a,d,c,p,f){let m=null;const y=c.directiveEnd;let O=c.directiveStylingLast;for(-1===O?O=c.directiveStart:O++;O<y&&(m=d[O],p=bu(p,m.hostAttrs,f),m!==a);)O++;return null!==a&&(c.directiveStylingLast=O),p}function bu(a,d,c){const p=c?1:2;let f=-1;if(null!==d)for(let m=0;m<d.length;m++){const y=d[m];"number"==typeof y?f=y:f===p&&(Array.isArray(a)||(a=void 0===a?[]:["",a]),ki(a,y,!!c||d[++m]))}return void 0===a?null:a}function Ef(a,d,c,p,f,m){const y=null===d;let O;for(;f>0;){const S=a[f],I=Array.isArray(S),P=I?S[1]:S,V=null===P;let j=c[f+1];j===At&&(j=V?Zt:void 0);let ee=V?gg(j,p):P===p?j:void 0;if(I&&!wh(ee)&&(ee=gg(S,p)),wh(ee)&&(O=ee,y))return O;const _e=a[f+1];f=y?Go(_e):fa(_e)}if(null!==d){let S=m?d.residualClasses:d.residualStyles;null!=S&&(O=gg(S,p))}return O}function wh(a){return void 0!==a}function yl(a,d=""){const c=Me(),p=Qt(),f=a+Ht,m=p.firstCreatePass?dr(p,f,1,d,null):p.data[f],y=lC(p,c,m,d,a);c[f]=y,Ic()&&Kc(p,c,y,m),gs(m,!1)}let lC=(a,d,c,p,f)=>(Dr(!0),function na(a,d){return a.createText(d)}(d[St],p));function dC(a){return uC("",a,""),dC}function uC(a,d,c){const p=Me(),f=function ke(a,d,c,p){return Si(a,il(),c)?d+Ae(c)+p:At}(p,a,d,c);return f!==At&&function Es(a,d,c){const p=wc(d,a);!function Dg(a,d,c){a.setValue(d,c)}(a[St],p,c)}(p,ar(),f),uC}const x=void 0;var uS=["en",[["a","p"],["AM","PM"],x],[["AM","PM"],x,x],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],x,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],x,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",x,"{1} 'at' {0}",x],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function dS(a){const c=Math.floor(Math.abs(a)),p=a.toString().replace(/^[^.]*\.?/,"").length;return 1===c&&0===p?1:5}];let Hi={};function Th(a){const d=function pS(a){return a.toLowerCase().replace(/_/g,"-")}(a);let c=Mh(d);if(c)return c;const p=d.split("-")[0];if(c=Mh(p),c)return c;if("en"===p)return uS;throw new re(701,!1)}function hS(a){return Th(a)[Yo.PluralCase]}function Mh(a){return a in Hi||(Hi[a]=sn.ng&&sn.ng.common&&sn.ng.common.locales&&sn.ng.common.locales[a]),Hi[a]}var Yo=function(a){return a[a.LocaleId=0]="LocaleId",a[a.DayPeriodsFormat=1]="DayPeriodsFormat",a[a.DayPeriodsStandalone=2]="DayPeriodsStandalone",a[a.DaysFormat=3]="DaysFormat",a[a.DaysStandalone=4]="DaysStandalone",a[a.MonthsFormat=5]="MonthsFormat",a[a.MonthsStandalone=6]="MonthsStandalone",a[a.Eras=7]="Eras",a[a.FirstDayOfWeek=8]="FirstDayOfWeek",a[a.WeekendRange=9]="WeekendRange",a[a.DateFormat=10]="DateFormat",a[a.TimeFormat=11]="TimeFormat",a[a.DateTimeFormat=12]="DateTimeFormat",a[a.NumberSymbols=13]="NumberSymbols",a[a.NumberFormats=14]="NumberFormats",a[a.CurrencyCode=15]="CurrencyCode",a[a.CurrencySymbol=16]="CurrencySymbol",a[a.CurrencyName=17]="CurrencyName",a[a.Currencies=18]="Currencies",a[a.Directionality=19]="Directionality",a[a.PluralCase=20]="PluralCase",a[a.ExtraData=21]="ExtraData",a}(Yo||{});const Ou="en-US";let xC=Ou;function Dl(a,d,c,p,f){if(a=Oe(a),Array.isArray(a))for(let m=0;m<a.length;m++)Dl(a[m],d,c,p,f);else{const m=Qt(),y=Me(),O=Oi();let S=fo(a)?a:Oe(a.provide);const I=Vo(a),P=1048575&O.providerIndexes,V=O.directiveStart,j=O.providerIndexes>>20;if(fo(a)||!a.multi){const ee=new Id(I,f,rh),_e=BC(S,d,f?P:P+j,V);-1===_e?(Am(lg(O,y),m,S),kC(m,a,d.length),d.push(S),O.directiveStart++,O.directiveEnd++,f&&(O.providerIndexes+=1048576),c.push(ee),y.push(ee)):(c[_e]=ee,y[_e]=ee)}else{const ee=BC(S,d,P+j,V),_e=BC(S,d,P,P+j),Ue=_e>=0&&c[_e];if(f&&!Ue||!f&&!(ee>=0&&c[ee])){Am(lg(O,y),m,S);const dt=function di(a,d,c,p,f){const m=new Id(a,c,rh);return m.multi=[],m.index=d,m.componentProviders=0,zi(m,f,p&&!c),m}(f?u1:ya,c.length,f,p,I);!f&&Ue&&(c[_e].providerFactory=dt),kC(m,a,d.length,0),d.push(S),O.directiveStart++,O.directiveEnd++,f&&(O.providerIndexes+=1048576),c.push(dt),y.push(dt)}else kC(m,a,ee>-1?ee:_e,zi(c[f?_e:ee],I,!f&&p));!f&&p&&Ue&&c[_e].componentProviders++}}}function kC(a,d,c,p){const f=fo(d),m=function pl(a){return!!a.useClass}(d);if(f||m){const S=(m?Oe(d.useClass):d).prototype.ngOnDestroy;if(S){const I=a.destroyHooks||(a.destroyHooks=[]);if(!f&&d.multi){const P=I.indexOf(c);-1===P?I.push(c,[p,S]):I[P+1].push(p,S)}else I.push(c,S)}}}function zi(a,d,c){return c&&a.componentProviders++,a.multi.push(d)-1}function BC(a,d,c,p){for(let f=c;f<p;f++)if(d[f]===a)return f;return-1}function ya(a,d,c,p){return kh(this.multi,[])}function u1(a,d,c,p){const f=this.multi;let m;if(this.providerFactory){const y=this.providerFactory.componentProviders,O=Ad(c,c[Ye],this.providerFactory.index,p);m=O.slice(0,y),kh(f,m);for(let S=y;S<O.length;S++)m.push(O[S])}else m=[],kh(f,m);return m}function kh(a,d){for(let c=0;c<a.length;c++)d.push((0,a[c])());return d}function RS(a,d=[]){return c=>{c.providersResolver=(p,f)=>function yn(a,d,c){const p=Qt();if(p.firstCreatePass){const f=Fo(a);Dl(c,p.data,p.blueprint,f,!0),Dl(d,p.data,p.blueprint,f,!1)}}(p,f?f(a):a,d)}}class Ms{}function LC(a,d){return new VC(a,d??null,[])}class VC extends Ms{constructor(d,c,p){super(),this._parent=c,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Fn(this);const f=Pi(d);this._bootstrapComponents=function Ds(a){return a instanceof Function?a():a}(f.bootstrap),this._r3Injector=iD(d,c,[{provide:Ms,useValue:this},{provide:qg,useValue:this.componentFactoryResolver},...p],me(d),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(d)}get injector(){return this._r3Injector}destroy(){const d=this._r3Injector;!d.destroyed&&d.destroy(),this.destroyCbs.forEach(c=>c()),this.destroyCbs=null}onDestroy(d){this.destroyCbs.push(d)}}class kS extends Ms{constructor(d){super(),this.componentFactoryResolver=new Fn(this),this.instance=null;const c=new Gg([...d.providers,{provide:Ms,useValue:this},{provide:qg,useValue:this.componentFactoryResolver}],d.parent||tu(),d.debugName,new Set(["environment"]));this.injector=c,d.runEnvironmentInitializers&&c.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(d){this.injector.onDestroy(d)}}let Bh=(()=>{var a;class d{constructor(p){this._injector=p,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(p){if(!p.standalone)return null;if(!this.cachedInjectors.has(p)){const f=hl(0,p.type),m=f.length>0?function Qr(a,d,c=null){return new kS({providers:a,parent:d,debugName:c,runEnvironmentInitializers:!0}).injector}([f],this._injector,`Standalone[${p.type.name}]`):null;this.cachedInjectors.set(p,m)}return this.cachedInjectors.get(p)}ngOnDestroy(){try{for(const p of this.cachedInjectors.values())null!==p&&p.destroy()}finally{this.cachedInjectors.clear()}}}return(a=d).\u0275prov=pt({token:a,providedIn:"environment",factory:()=>new a(Ln(Qi))}),d})();function NC(a){a.getStandaloneInjector=d=>d.get(Bh).getOrCreateStandaloneInjector(a)}function VS(a,d,c){const p=sr()+a,f=Me();return f[p]===At?zo(f,p,c?d.call(c):d()):function Et(a,d){return a[d]}(f,p)}function Nh(a,d,c,p,f,m){const y=d+c;return Si(a,y,f)?zo(a,y+1,m?p.call(m,f):p(f)):function Iu(a,d){const c=a[d];return c===At?void 0:c}(a,y+1)}function jC(a,d){const c=Qt();let p;const f=a+Ht;c.firstCreatePass?(p=function cR(a,d){if(d)for(let c=d.length-1;c>=0;c--){const p=d[c];if(a===p.name)return p}}(d,c.pipeRegistry),c.data[f]=p,p.onDestroy&&(c.destroyHooks??=[]).push(f,p.onDestroy)):p=c.data[f];const m=p.factory||(p.factory=Zs(p.type)),O=bt(rh);try{const S=ag(!1),I=m();return ag(S),function CA(a,d,c,p){c>=a.data.length&&(a.data[c]=null,a.blueprint[c]=null),d[c]=p}(c,Me(),f,I),I}finally{bt(O)}}function zS(a,d,c){const p=a+Ht,f=Me(),m=function Qs(a,d){return a[d]}(f,p);return function Hh(a,d){return a[Ye].data[d].pure}(f,p)?Nh(f,sr(),d,m.transform,c,m):m.transform(c)}function KC(a){return d=>{setTimeout(a,void 0,d)}}const Co=class _R extends N.x{constructor(d=!1){super(),this.__isAsync=d}emit(d){super.next(d)}subscribe(d,c,p){let f=d,m=c||(()=>null),y=p;if(d&&"object"==typeof d){const S=d;f=S.next?.bind(S),m=S.error?.bind(S),y=S.complete?.bind(S)}this.__isAsync&&(m=KC(m),f&&(f=KC(f)),y&&(y=KC(y)));const O=super.subscribe({next:f,error:m,complete:y});return d instanceof u.w0&&d.add(O),O}};function zh(){return this._results[Symbol.iterator]()}class Rs{get changes(){return this._changes||(this._changes=new Co)}constructor(d=!1){this._emitDistinctChangesOnly=d,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const c=Rs.prototype;c[Symbol.iterator]||(c[Symbol.iterator]=zh)}get(d){return this._results[d]}map(d){return this._results.map(d)}filter(d){return this._results.filter(d)}find(d){return this._results.find(d)}reduce(d,c){return this._results.reduce(d,c)}forEach(d){this._results.forEach(d)}some(d){return this._results.some(d)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(d,c){const p=this;p.dirty=!1;const f=function Yr(a){return a.flat(Number.POSITIVE_INFINITY)}(d);(this._changesDetected=!function lT(a,d,c){if(a.length!==d.length)return!1;for(let p=0;p<a.length;p++){let f=a[p],m=d[p];if(c&&(f=c(f),m=c(m)),m!==f)return!1}return!0}(p._results,f,c))&&(p._results=f,p.length=f.length,p.last=f[this.length-1],p.first=f[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function mR(a,d,c,p=!0){const f=d[Ye];if(function wg(a,d,c,p){const f=bi+p,m=c.length;p>0&&(c[f-1][co]=d),p<m-bi?(d[co]=c[f],Fc(c,bi+p,d)):(c.push(d),d[co]=null),d[Pn]=c;const y=d[Zp];null!==y&&c!==y&&function VT(a,d){const c=a[Dd];d[Hn]!==d[Pn][Pn][Hn]&&(a[bb]=!0),null===c?a[Dd]=[d]:c.push(d)}(y,d);const O=d[hs];null!==O&&O.insertView(a),d[Mt]|=128}(f,d,a,c),p){const m=nv(c,a),y=d[St],O=Ud(y,a[Po]);null!==O&&function Eg(a,d,c,p,f,m){p[Kn]=f,p[gi]=d,Ag(a,p,c,1,f,m)}(f,a[gi],y,d,O,m)}}let Wh=(()=>{class d{}return d.__NG_ELEMENT_ID__=CR,d})();const qC=Wh,$h=class extends qC{constructor(d,c,p){super(),this._declarationLView=d,this._declarationTContainer=c,this.elementRef=p}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(d,c){return this.createEmbeddedViewImpl(d,c)}createEmbeddedViewImpl(d,c,p){const f=function YC(a,d,c,p){const f=d.tView,O=Zg(a,f,c,4096&a[Mt]?4096:16,null,d,null,null,null,p?.injector??null,p?.hydrationInfo??null);O[Zp]=a[d.index];const I=a[hs];return null!==I&&(O[hs]=I.createEmbeddedView(f)),of(f,O,c),O}(this._declarationLView,this._declarationTContainer,d,{injector:c,hydrationInfo:p});return new ch(f)}};function CR(){return Uf(Oi(),Me())}function Uf(a,d){return 4&a.type?new $h(d,a,ru(a,d)):null}let XC=(()=>{class d{}return d.__NG_ELEMENT_ID__=Kf,d})();function Kf(){return Uh(Oi(),Me())}const Gh=XC,eo=class extends Gh{constructor(d,c,p){super(),this._lContainer=d,this._hostTNode=c,this._hostLView=p}get element(){return ru(this._hostTNode,this._hostLView)}get injector(){return new Zi(this._hostTNode,this._hostLView)}get parentInjector(){const d=dg(this._hostTNode,this._hostLView);if(Tm(d)){const c=Ac(d,this._hostLView),p=ol(d);return new Zi(c[Ye].data[p+8],c)}return new Zi(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(d){const c=Jo(this._lContainer);return null!==c&&c[d]||null}get length(){return this._lContainer.length-bi}createEmbeddedView(d,c,p){let f,m;"number"==typeof p?f=p:null!=p&&(f=p.index,m=p.injector);const O=d.createEmbeddedViewImpl(c||{},m,null);return this.insertImpl(O,f,false),O}createComponent(d,c,p,f,m){const y=d&&!function Bd(a){return"function"==typeof a}(d);let O;if(y)O=c;else{const Be=c||{};O=Be.index,p=Be.injector,f=Be.projectableNodes,m=Be.environmentInjector||Be.ngModuleRef}const S=y?d:new da(yt(d)),I=p||this.parentInjector;if(!m&&null==S.ngModule){const Ue=(y?I:this.parentInjector).get(Qi,null);Ue&&(m=Ue)}yt(S.componentType??{});const ee=S.create(I,f,null,m);return this.insertImpl(ee.hostView,O,false),ee}insert(d,c){return this.insertImpl(d,c,!1)}insertImpl(d,c,p){const f=d._lView;if(function RI(a){return br(a[Pn])}(f)){const S=this.indexOf(d);if(-1!==S)this.detach(S);else{const I=f[Pn],P=new eo(I,I[gi],I[Pn]);P.detach(P.indexOf(d))}}const y=this._adjustIndex(c),O=this._lContainer;return mR(O,f,y,!p),d.attachToViewContainerRef(),Fc(wl(O),y,d),d}move(d,c){return this.insert(d,c)}indexOf(d){const c=Jo(this._lContainer);return null!==c?c.indexOf(d):-1}remove(d){const c=this._adjustIndex(d,-1),p=Uc(this._lContainer,c);p&&(pg(wl(this._lContainer),c),Qm(p[Ye],p))}detach(d){const c=this._adjustIndex(d,-1),p=Uc(this._lContainer,c);return p&&null!=pg(wl(this._lContainer),c)?new ch(p):null}_adjustIndex(d,c=0){return d??this.length+c}};function Jo(a){return a[8]}function wl(a){return a[8]||(a[8]=[])}function Uh(a,d){let c;const p=d[a.index];return br(p)?c=p:(c=Rv(p,d,null,a),d[a.index]=c,rf(d,c)),YS(c,d,a,p),new eo(c,a,d)}let YS=function qS(a,d,c,p){if(a[Po])return;let f;f=8&c.type?Dn(p):function Yf(a,d){const c=a[St],p=c.createComment(""),f=Ji(d,a);return Gd(c,Ud(c,f),p,function $T(a,d){return a.nextSibling(d)}(c,f),!1),p}(d,c),a[Po]=f};class jh{constructor(d){this.queryList=d,this.matches=null}clone(){return new jh(this.queryList)}setDirty(){this.queryList.setDirty()}}class qf{constructor(d=[]){this.queries=d}createEmbeddedView(d){const c=d.queries;if(null!==c){const p=null!==d.contentQueries?d.contentQueries[0]:c.length,f=[];for(let m=0;m<p;m++){const y=c.getByIndex(m);f.push(this.queries[y.indexInDeclarationView].clone())}return new qf(f)}return null}insertView(d){this.dirtyQueriesWithMatches(d)}detachView(d){this.dirtyQueriesWithMatches(d)}dirtyQueriesWithMatches(d){for(let c=0;c<this.queries.length;c++)null!==tE(d,c).matches&&this.queries[c].setDirty()}}class ZC{constructor(d,c,p=null){this.predicate=d,this.flags=c,this.read=p}}class Jf{constructor(d=[]){this.queries=d}elementStart(d,c){for(let p=0;p<this.queries.length;p++)this.queries[p].elementStart(d,c)}elementEnd(d){for(let c=0;c<this.queries.length;c++)this.queries[c].elementEnd(d)}embeddedTView(d){let c=null;for(let p=0;p<this.length;p++){const f=null!==c?c.length:0,m=this.getByIndex(p).embeddedTView(d,f);m&&(m.indexInDeclarationView=p,null!==c?c.push(m):c=[m])}return null!==c?new Jf(c):null}template(d,c){for(let p=0;p<this.queries.length;p++)this.queries[p].template(d,c)}getByIndex(d){return this.queries[d]}get length(){return this.queries.length}track(d){this.queries.push(d)}}class Kh{constructor(d,c=-1){this.metadata=d,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=c}elementStart(d,c){this.isApplyingToNode(c)&&this.matchTNode(d,c)}elementEnd(d){this._declarationNodeIndex===d.index&&(this._appliesToNextNode=!1)}template(d,c){this.elementStart(d,c)}embeddedTView(d,c){return this.isApplyingToNode(d)?(this.crossesNgTemplate=!0,this.addMatch(-d.index,c),new Kh(this.metadata)):null}isApplyingToNode(d){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const c=this._declarationNodeIndex;let p=d.parent;for(;null!==p&&8&p.type&&p.index!==c;)p=p.parent;return c===(null!==p?p.index:-1)}return this._appliesToNextNode}matchTNode(d,c){const p=this.metadata.predicate;if(Array.isArray(p))for(let f=0;f<p.length;f++){const m=p[f];this.matchTNodeWithReadOption(d,c,ci(c,m)),this.matchTNodeWithReadOption(d,c,ug(c,d,m,!1,!1))}else p===Wh?4&c.type&&this.matchTNodeWithReadOption(d,c,-1):this.matchTNodeWithReadOption(d,c,ug(c,d,p,!1,!1))}matchTNodeWithReadOption(d,c,p){if(null!==p){const f=this.metadata.read;if(null!==f)if(f===th||f===XC||f===Wh&&4&c.type)this.addMatch(c.index,-2);else{const m=ug(c,d,f,!1,!1);null!==m&&this.addMatch(c.index,m)}else this.addMatch(c.index,p)}}addMatch(d,c){null===this.matches?this.matches=[d,c]:this.matches.push(d,c)}}function ci(a,d){const c=a.localNames;if(null!==c)for(let p=0;p<c.length;p+=2)if(c[p]===d)return c[p+1];return null}function SR(a,d,c,p){return-1===c?function DR(a,d){return 11&a.type?ru(a,d):4&a.type?Uf(a,d):null}(d,a):-2===c?function JS(a,d,c){return c===th?ru(d,a):c===Wh?Uf(d,a):c===XC?Uh(d,a):void 0}(a,d,p):Ad(a,a[Ye],c,d)}function QC(a,d,c,p){const f=d[hs].queries[p];if(null===f.matches){const m=a.data,y=c.matches,O=[];for(let S=0;S<y.length;S+=2){const I=y[S];O.push(I<0?null:SR(d,m[I],y[S+1],c.metadata.read))}f.matches=O}return f.matches}function Ps(a,d,c,p){const f=a.queries.getByIndex(c),m=f.matches;if(null!==m){const y=QC(a,d,f,c);for(let O=0;O<m.length;O+=2){const S=m[O];if(S>0)p.push(y[O/2]);else{const I=m[O+1],P=d[-S];for(let V=bi;V<P.length;V++){const j=P[V];j[Zp]===j[Pn]&&Ps(j[Ye],j,I,p)}if(null!==P[Dd]){const V=P[Dd];for(let j=0;j<V.length;j++){const ee=V[j];Ps(ee[Ye],ee,I,p)}}}}}return p}function XS(a){const d=Me(),c=Qt(),p=WI();Om(p+1);const f=tE(c,p);if(a.dirty&&function Pb(a){return 4==(4&a[Mt])}(d)===(2==(2&f.metadata.flags))){if(null===f.matches)a.reset([]);else{const m=f.crossesNgTemplate?Ps(c,d,p,[]):QC(c,d,f,p);a.reset(m,DM),a.notifyOnChanges()}return!0}return!1}function ZS(a,d,c){const p=Qt();p.firstCreatePass&&(eE(p,new ZC(a,d,c),-1),2==(2&d)&&(p.staticViewQueries=!0)),ty(p,Me(),d)}function QS(a,d,c,p){const f=Qt();if(f.firstCreatePass){const m=Oi();eE(f,new ZC(d,c,p),m.index),function Fs(a,d){const c=a.contentQueries||(a.contentQueries=[]);d!==(c.length?c[c.length-1]:-1)&&c.push(a.queries.length-1,d)}(f,a),2==(2&c)&&(f.staticContentQueries=!0)}ty(f,Me(),c)}function ey(){return function ER(a,d){return a[hs].queries[d].queryList}(Me(),WI())}function ty(a,d,c){const p=new Rs(4==(4&c));(function gD(a,d,c,p){const f=bD(d);f.push(c),a.firstCreatePass&&Fv(a).push(p,f.length-1)})(a,d,p,p.destroy),null===d[hs]&&(d[hs]=new qf),d[hs].queries.push(new jh(p))}function eE(a,d,c){null===a.queries&&(a.queries=new Jf),a.queries.track(new Kh(d,c))}function tE(a,d){return a.queries.getByIndex(d)}const fe=new $t("Application Initializer");let Un=(()=>{var a;class d{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((p,f)=>{this.resolve=p,this.reject=f}),this.appInits=hn(fe,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const p=[];for(const m of this.appInits){const y=m();if(Jv(y))p.push(y);else if(Wo(y)){const O=new Promise((S,I)=>{y.subscribe({complete:S,error:I})});p.push(O)}}const f=()=>{this.done=!0,this.resolve()};Promise.all(p).then(()=>{f()}).catch(m=>{this.reject(m)}),0===p.length&&f(),this.initialized=!0}}return(a=d).\u0275fac=function(p){return new(p||a)},a.\u0275prov=pt({token:a,factory:a.\u0275fac,providedIn:"root"}),d})();const n_=new $t("LocaleId",{providedIn:"root",factory:()=>hn(n_,Lt.Optional|Lt.SkipSelf)||function WR(){return typeof $localize<"u"&&$localize.locale||Ou}()}),sy=new $t("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});let Oa=(()=>{var a;class d{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new ae.X(!1)}add(){this.hasPendingTasks.next(!0);const p=this.taskId++;return this.pendingTasks.add(p),p}remove(p){this.pendingTasks.delete(p),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}}return(a=d).\u0275fac=function(p){return new(p||a)},a.\u0275prov=pt({token:a,factory:a.\u0275fac,providedIn:"root"}),d})();function OE(...a){}class $i{constructor({enableLongStackTrace:d=!1,shouldCoalesceEventChangeDetection:c=!1,shouldCoalesceRunChangeDetection:p=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Co(!1),this.onMicrotaskEmpty=new Co(!1),this.onStable=new Co(!1),this.onError=new Co(!1),typeof Zone>"u")throw new re(908,!1);Zone.assertZonePatched();const f=this;f._nesting=0,f._outer=f._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(f._inner=f._inner.fork(new Zone.TaskTrackingZoneSpec)),d&&Zone.longStackTraceZoneSpec&&(f._inner=f._inner.fork(Zone.longStackTraceZoneSpec)),f.shouldCoalesceEventChangeDetection=!p&&c,f.shouldCoalesceRunChangeDetection=p,f.lastRequestAnimationFrameId=-1,f.nativeRequestAnimationFrame=function rP(){const a="function"==typeof sn.requestAnimationFrame;let d=sn[a?"requestAnimationFrame":"setTimeout"],c=sn[a?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&d&&c){const p=d[Zone.__symbol__("OriginalDelegate")];p&&(d=p);const f=c[Zone.__symbol__("OriginalDelegate")];f&&(c=f)}return{nativeRequestAnimationFrame:d,nativeCancelAnimationFrame:c}}().nativeRequestAnimationFrame,function hy(a){const d=()=>{!function sP(a){a.isCheckStableRunning||-1!==a.lastRequestAnimationFrameId||(a.lastRequestAnimationFrameId=a.nativeRequestAnimationFrame.call(sn,()=>{a.fakeTopEventTask||(a.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{a.lastRequestAnimationFrameId=-1,r_(a),a.isCheckStableRunning=!0,cy(a),a.isCheckStableRunning=!1},void 0,()=>{},()=>{})),a.fakeTopEventTask.invoke()}),r_(a))}(a)};a._inner=a._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(c,p,f,m,y,O)=>{try{return Rl(a),c.invokeTask(f,m,y,O)}finally{(a.shouldCoalesceEventChangeDetection&&"eventTask"===m.type||a.shouldCoalesceRunChangeDetection)&&d(),o_(a)}},onInvoke:(c,p,f,m,y,O,S)=>{try{return Rl(a),c.invoke(f,m,y,O,S)}finally{a.shouldCoalesceRunChangeDetection&&d(),o_(a)}},onHasTask:(c,p,f,m)=>{c.hasTask(f,m),p===f&&("microTask"==m.change?(a._hasPendingMicrotasks=m.microTask,r_(a),cy(a)):"macroTask"==m.change&&(a.hasPendingMacrotasks=m.macroTask))},onHandleError:(c,p,f,m)=>(c.handleError(f,m),a.runOutsideAngular(()=>a.onError.emit(m)),!1)})}(f)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!$i.isInAngularZone())throw new re(909,!1)}static assertNotInAngularZone(){if($i.isInAngularZone())throw new re(909,!1)}run(d,c,p){return this._inner.run(d,c,p)}runTask(d,c,p,f){const m=this._inner,y=m.scheduleEventTask("NgZoneEvent: "+f,d,oP,OE,OE);try{return m.runTask(y,c,p)}finally{m.cancelTask(y)}}runGuarded(d,c,p){return this._inner.runGuarded(d,c,p)}runOutsideAngular(d){return this._outer.run(d)}}const oP={};function cy(a){if(0==a._nesting&&!a.hasPendingMicrotasks&&!a.isStable)try{a._nesting++,a.onMicrotaskEmpty.emit(null)}finally{if(a._nesting--,!a.hasPendingMicrotasks)try{a.runOutsideAngular(()=>a.onStable.emit(null))}finally{a.isStable=!0}}}function r_(a){a.hasPendingMicrotasks=!!(a._hasPendingMicrotasks||(a.shouldCoalesceEventChangeDetection||a.shouldCoalesceRunChangeDetection)&&-1!==a.lastRequestAnimationFrameId)}function Rl(a){a._nesting++,a.isStable&&(a.isStable=!1,a.onUnstable.emit(null))}function o_(a){a._nesting--,cy(a)}const py=new $t("",{providedIn:"root",factory:Nr});function Nr(){const a=hn($i);let d=!0;const c=new ue.y(f=>{d=a.isStable&&!a.hasPendingMacrotasks&&!a.hasPendingMicrotasks,a.runOutsideAngular(()=>{f.next(d),f.complete()})}),p=new ue.y(f=>{let m;a.runOutsideAngular(()=>{m=a.onStable.subscribe(()=>{$i.assertNotInAngularZone(),queueMicrotask(()=>{!d&&!a.hasPendingMacrotasks&&!a.hasPendingMicrotasks&&(d=!0,f.next(!0))})})});const y=a.onUnstable.subscribe(()=>{$i.assertInAngularZone(),d&&(d=!1,a.runOutsideAngular(()=>{f.next(!1)}))});return()=>{m.unsubscribe(),y.unsubscribe()}});return(0,K.T)(c,p.pipe((0,Z.B)()))}const DE=new $t(""),Sa=new $t("");let s_,lP=(()=>{var a;class d{constructor(p,f,m){this._ngZone=p,this.registry=f,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,s_||(function dP(a){s_=a}(m),m.addToWindow(f)),this._watchAngularEvents(),p.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{$i.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let p=this._callbacks.pop();clearTimeout(p.timeoutId),p.doneCb(this._didWork)}this._didWork=!1});else{let p=this.getPendingTasks();this._callbacks=this._callbacks.filter(f=>!f.updateCb||!f.updateCb(p)||(clearTimeout(f.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(p=>({source:p.source,creationLocation:p.creationLocation,data:p.data})):[]}addCallback(p,f,m){let y=-1;f&&f>0&&(y=setTimeout(()=>{this._callbacks=this._callbacks.filter(O=>O.timeoutId!==y),p(this._didWork,this.getPendingTasks())},f)),this._callbacks.push({doneCb:p,timeoutId:y,updateCb:m})}whenStable(p,f,m){if(m&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(p,f,m),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(p){this.registry.registerApplication(p,this)}unregisterApplication(p){this.registry.unregisterApplication(p)}findProviders(p,f,m){return[]}}return(a=d).\u0275fac=function(p){return new(p||a)(Ln($i),Ln(SE),Ln(Sa))},a.\u0275prov=pt({token:a,factory:a.\u0275fac}),d})(),SE=(()=>{var a;class d{constructor(){this._applications=new Map}registerApplication(p,f){this._applications.set(p,f)}unregisterApplication(p){this._applications.delete(p)}unregisterAllApplications(){this._applications.clear()}getTestability(p){return this._applications.get(p)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(p,f=!0){return s_?.findTestabilityInTree(this,p,f)??null}}return(a=d).\u0275fac=function(p){return new(p||a)},a.\u0275prov=pt({token:a,factory:a.\u0275fac,providedIn:"platform"}),d})(),Ea=null;const a_=new $t("PlatformDestroyListeners"),ks=new $t("appBootstrapListener");function wE(a){try{const{rootComponent:d,appProviders:c,platformProviders:p}=a,f=function pP(a=[]){if(Ea)return Ea;const d=function Pl(a=[],d){return mo.create({name:d,providers:[{provide:Wg,useValue:"platform"},{provide:a_,useValue:new Set([()=>Ea=null])},...a]})}(a);return Ea=d,function gy(){!function qV(a){EI=a}(()=>{throw new re(600,!1)})}(),function Zh(a){a.get(UO,null)?.forEach(c=>c())}(d),d}(p),m=[RE(),...c||[]],O=new kS({providers:m,parent:f,debugName:"",runEnvironmentInitializers:!1}).injector,S=O.get($i);return S.run(()=>{O.resolveInjectorInitializers();const I=O.get(au,null);let P;S.runOutsideAngular(()=>{P=S.onError.subscribe({next:ee=>{I.handleError(ee)}})});const V=()=>O.destroy(),j=f.get(a_);return j.add(V),O.onDestroy(()=>{P.unsubscribe(),j.delete(V)}),function IE(a,d,c){try{const p=c();return Jv(p)?p.catch(f=>{throw d.runOutsideAngular(()=>a.handleError(f)),f}):p}catch(p){throw d.runOutsideAngular(()=>a.handleError(p)),p}}(I,S,()=>{const ee=O.get(Un);return ee.runInitializers(),ee.donePromise.then(()=>{!function fS(a){Ce(a,"Expected localeId to be defined"),"string"==typeof a&&(xC=a.toLowerCase().replace(/_/g,"-"))}(O.get(n_,Ou)||Ou);const Be=O.get(Fl);return void 0!==d&&Be.bootstrap(d),Be})})})}catch(d){return Promise.reject(d)}}let Fl=(()=>{var a;class d{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=hn(wa),this.zoneIsStable=hn(py),this.componentTypes=[],this.components=[],this.isStable=hn(Oa).hasPendingTasks.pipe((0,oe.w)(p=>p?(0,ge.of)(!1):this.zoneIsStable),(0,X.x)(),(0,Z.B)()),this._injector=hn(Qi)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(p,f){const m=p instanceof qO;if(!this._injector.get(Un).done)throw!m&&function Ro(a){const d=yt(a)||Pt(a)||fn(a);return null!==d&&d.standalone}(p),new re(405,!1);let O;O=m?p:this._injector.get(qg).resolveComponentFactory(p),this.componentTypes.push(O.componentType);const S=function uP(a){return a.isBoundToModule}(O)?void 0:this._injector.get(Ms),P=O.create(mo.NULL,[],f||O.selector,S),V=P.location.nativeElement,j=P.injector.get(DE,null);return j?.registerApplication(V),P.onDestroy(()=>{this.detachView(P.hostView),d_(this.components,P),j?.unregisterApplication(V)}),this._loadComponent(P),P}tick(){if(this._runningTick)throw new re(101,!1);try{this._runningTick=!0;for(let p of this._views)p.detectChanges()}catch(p){this.internalErrorHandler(p)}finally{this._runningTick=!1}}attachView(p){const f=p;this._views.push(f),f.attachToAppRef(this)}detachView(p){const f=p;d_(this._views,f),f.detachFromAppRef()}_loadComponent(p){this.attachView(p.hostView),this.tick(),this.components.push(p);const f=this._injector.get(ks,[]);f.push(...this._bootstrapListeners),f.forEach(m=>m(p))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(p=>p()),this._views.slice().forEach(p=>p.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(p){return this._destroyListeners.push(p),()=>d_(this._destroyListeners,p)}destroy(){if(this._destroyed)throw new re(406,!1);const p=this._injector;p.destroy&&!p.destroyed&&p.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return(a=d).\u0275fac=function(p){return new(p||a)},a.\u0275prov=pt({token:a,factory:a.\u0275fac,providedIn:"root"}),d})();function d_(a,d){const c=a.indexOf(d);c>-1&&a.splice(c,1)}const wa=new $t("",{providedIn:"root",factory:()=>hn(au).handleError.bind(void 0)});function ME(){const a=hn($i),d=hn(au);return c=>a.runOutsideAngular(()=>d.handleError(c))}let fP=(()=>{var a;class d{constructor(){this.zone=hn($i),this.applicationRef=hn(Fl)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}}return(a=d).\u0275fac=function(p){return new(p||a)},a.\u0275prov=pt({token:a,factory:a.\u0275fac,providedIn:"root"}),d})();function AE(a){return[{provide:$i,useFactory:a},{provide:go,multi:!0,useFactory:()=>{const d=hn(fP,{optional:!0});return()=>d.initialize()}},{provide:wa,useFactory:ME},{provide:py,useFactory:Nr}]}function RE(a){return xs([[],AE(()=>new $i(function vy(a){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:a?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:a?.runCoalescing??!1}}(a)))])}function Cy(){return!1}let I1=(()=>{class d{}return d.__NG_ELEMENT_ID__=u_,d})();function u_(a){return function yy(a,d,c){if(el(a)&&!c){const p=Xi(a.index,d);return new ch(p,p)}return 47&a.type?new ch(d[Hn],d):null}(Oi(),Me(),16==(16&a))}class BE{constructor(){}supports(d){return hh(d)}create(d){return new R1(d)}}const yP=(a,d)=>d;class R1{constructor(d){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=d||yP}forEachItem(d){let c;for(c=this._itHead;null!==c;c=c._next)d(c)}forEachOperation(d){let c=this._itHead,p=this._removalsHead,f=0,m=null;for(;c||p;){const y=!p||c&&c.currentIndex<Dy(p,f,m)?c:p,O=Dy(y,f,m),S=y.currentIndex;if(y===p)f--,p=p._nextRemoved;else if(c=c._next,null==y.previousIndex)f++;else{m||(m=[]);const I=O-f,P=S-f;if(I!=P){for(let j=0;j<I;j++){const ee=j<m.length?m[j]:m[j]=0,_e=ee+j;P<=_e&&_e<I&&(m[j]=ee+1)}m[y.previousIndex]=P-I}}O!==S&&d(y,O,S)}}forEachPreviousItem(d){let c;for(c=this._previousItHead;null!==c;c=c._nextPrevious)d(c)}forEachAddedItem(d){let c;for(c=this._additionsHead;null!==c;c=c._nextAdded)d(c)}forEachMovedItem(d){let c;for(c=this._movesHead;null!==c;c=c._nextMoved)d(c)}forEachRemovedItem(d){let c;for(c=this._removalsHead;null!==c;c=c._nextRemoved)d(c)}forEachIdentityChange(d){let c;for(c=this._identityChangesHead;null!==c;c=c._nextIdentityChange)d(c)}diff(d){if(null==d&&(d=[]),!hh(d))throw new re(900,!1);return this.check(d)?this:null}onDestroy(){}check(d){this._reset();let f,m,y,c=this._itHead,p=!1;if(Array.isArray(d)){this.length=d.length;for(let O=0;O<this.length;O++)m=d[O],y=this._trackByFn(O,m),null!==c&&Object.is(c.trackById,y)?(p&&(c=this._verifyReinsertion(c,m,y,O)),Object.is(c.item,m)||this._addIdentityChange(c,m)):(c=this._mismatch(c,m,y,O),p=!0),c=c._next}else f=0,function cA(a,d){if(Array.isArray(a))for(let c=0;c<a.length;c++)d(a[c]);else{const c=a[Symbol.iterator]();let p;for(;!(p=c.next()).done;)d(p.value)}}(d,O=>{y=this._trackByFn(f,O),null!==c&&Object.is(c.trackById,y)?(p&&(c=this._verifyReinsertion(c,O,y,f)),Object.is(c.item,O)||this._addIdentityChange(c,O)):(c=this._mismatch(c,O,y,f),p=!0),c=c._next,f++}),this.length=f;return this._truncate(c),this.collection=d,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let d;for(d=this._previousItHead=this._itHead;null!==d;d=d._next)d._nextPrevious=d._next;for(d=this._additionsHead;null!==d;d=d._nextAdded)d.previousIndex=d.currentIndex;for(this._additionsHead=this._additionsTail=null,d=this._movesHead;null!==d;d=d._nextMoved)d.previousIndex=d.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(d,c,p,f){let m;return null===d?m=this._itTail:(m=d._prev,this._remove(d)),null!==(d=null===this._unlinkedRecords?null:this._unlinkedRecords.get(p,null))?(Object.is(d.item,c)||this._addIdentityChange(d,c),this._reinsertAfter(d,m,f)):null!==(d=null===this._linkedRecords?null:this._linkedRecords.get(p,f))?(Object.is(d.item,c)||this._addIdentityChange(d,c),this._moveAfter(d,m,f)):d=this._addAfter(new LE(c,p),m,f),d}_verifyReinsertion(d,c,p,f){let m=null===this._unlinkedRecords?null:this._unlinkedRecords.get(p,null);return null!==m?d=this._reinsertAfter(m,d._prev,f):d.currentIndex!=f&&(d.currentIndex=f,this._addToMoves(d,f)),d}_truncate(d){for(;null!==d;){const c=d._next;this._addToRemovals(this._unlink(d)),d=c}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(d,c,p){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(d);const f=d._prevRemoved,m=d._nextRemoved;return null===f?this._removalsHead=m:f._nextRemoved=m,null===m?this._removalsTail=f:m._prevRemoved=f,this._insertAfter(d,c,p),this._addToMoves(d,p),d}_moveAfter(d,c,p){return this._unlink(d),this._insertAfter(d,c,p),this._addToMoves(d,p),d}_addAfter(d,c,p){return this._insertAfter(d,c,p),this._additionsTail=null===this._additionsTail?this._additionsHead=d:this._additionsTail._nextAdded=d,d}_insertAfter(d,c,p){const f=null===c?this._itHead:c._next;return d._next=f,d._prev=c,null===f?this._itTail=d:f._prev=d,null===c?this._itHead=d:c._next=d,null===this._linkedRecords&&(this._linkedRecords=new VE),this._linkedRecords.put(d),d.currentIndex=p,d}_remove(d){return this._addToRemovals(this._unlink(d))}_unlink(d){null!==this._linkedRecords&&this._linkedRecords.remove(d);const c=d._prev,p=d._next;return null===c?this._itHead=p:c._next=p,null===p?this._itTail=c:p._prev=c,d}_addToMoves(d,c){return d.previousIndex===c||(this._movesTail=null===this._movesTail?this._movesHead=d:this._movesTail._nextMoved=d),d}_addToRemovals(d){return null===this._unlinkedRecords&&(this._unlinkedRecords=new VE),this._unlinkedRecords.put(d),d.currentIndex=null,d._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=d,d._prevRemoved=null):(d._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=d),d}_addIdentityChange(d,c){return d.item=c,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=d:this._identityChangesTail._nextIdentityChange=d,d}}class LE{constructor(d,c){this.item=d,this.trackById=c,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class tp{constructor(){this._head=null,this._tail=null}add(d){null===this._head?(this._head=this._tail=d,d._nextDup=null,d._prevDup=null):(this._tail._nextDup=d,d._prevDup=this._tail,d._nextDup=null,this._tail=d)}get(d,c){let p;for(p=this._head;null!==p;p=p._nextDup)if((null===c||c<=p.currentIndex)&&Object.is(p.trackById,d))return p;return null}remove(d){const c=d._prevDup,p=d._nextDup;return null===c?this._head=p:c._nextDup=p,null===p?this._tail=c:p._prevDup=c,null===this._head}}class VE{constructor(){this.map=new Map}put(d){const c=d.trackById;let p=this.map.get(c);p||(p=new tp,this.map.set(c,p)),p.add(d)}get(d,c){const f=this.map.get(d);return f?f.get(d,c):null}remove(d){const c=d.trackById;return this.map.get(c).remove(d)&&this.map.delete(c),d}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Dy(a,d,c){const p=a.previousIndex;if(null===p)return p;let f=0;return c&&p<c.length&&(f=c[p]),p+d+f}class NE{constructor(){}supports(d){return d instanceof Map||En(d)}create(){return new HE}}class HE{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(d){let c;for(c=this._mapHead;null!==c;c=c._next)d(c)}forEachPreviousItem(d){let c;for(c=this._previousMapHead;null!==c;c=c._nextPrevious)d(c)}forEachChangedItem(d){let c;for(c=this._changesHead;null!==c;c=c._nextChanged)d(c)}forEachAddedItem(d){let c;for(c=this._additionsHead;null!==c;c=c._nextAdded)d(c)}forEachRemovedItem(d){let c;for(c=this._removalsHead;null!==c;c=c._nextRemoved)d(c)}diff(d){if(d){if(!(d instanceof Map||En(d)))throw new re(900,!1)}else d=new Map;return this.check(d)?this:null}onDestroy(){}check(d){this._reset();let c=this._mapHead;if(this._appendAfter=null,this._forEach(d,(p,f)=>{if(c&&c.key===f)this._maybeAddToChanges(c,p),this._appendAfter=c,c=c._next;else{const m=this._getOrCreateRecordForKey(f,p);c=this._insertBeforeOrAppend(c,m)}}),c){c._prev&&(c._prev._next=null),this._removalsHead=c;for(let p=c;null!==p;p=p._nextRemoved)p===this._mapHead&&(this._mapHead=null),this._records.delete(p.key),p._nextRemoved=p._next,p.previousValue=p.currentValue,p.currentValue=null,p._prev=null,p._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(d,c){if(d){const p=d._prev;return c._next=d,c._prev=p,d._prev=c,p&&(p._next=c),d===this._mapHead&&(this._mapHead=c),this._appendAfter=d,d}return this._appendAfter?(this._appendAfter._next=c,c._prev=this._appendAfter):this._mapHead=c,this._appendAfter=c,null}_getOrCreateRecordForKey(d,c){if(this._records.has(d)){const f=this._records.get(d);this._maybeAddToChanges(f,c);const m=f._prev,y=f._next;return m&&(m._next=y),y&&(y._prev=m),f._next=null,f._prev=null,f}const p=new xP(d);return this._records.set(d,p),p.currentValue=c,this._addToAdditions(p),p}_reset(){if(this.isDirty){let d;for(this._previousMapHead=this._mapHead,d=this._previousMapHead;null!==d;d=d._next)d._nextPrevious=d._next;for(d=this._changesHead;null!==d;d=d._nextChanged)d.previousValue=d.currentValue;for(d=this._additionsHead;null!=d;d=d._nextAdded)d.previousValue=d.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(d,c){Object.is(c,d.currentValue)||(d.previousValue=d.currentValue,d.currentValue=c,this._addToChanges(d))}_addToAdditions(d){null===this._additionsHead?this._additionsHead=this._additionsTail=d:(this._additionsTail._nextAdded=d,this._additionsTail=d)}_addToChanges(d){null===this._changesHead?this._changesHead=this._changesTail=d:(this._changesTail._nextChanged=d,this._changesTail=d)}_forEach(d,c){d instanceof Map?d.forEach(c):Object.keys(d).forEach(p=>c(d[p],p))}}class xP{constructor(d){this.key=d,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function zE(){return new h_([new BE])}let h_=(()=>{var a;class d{constructor(p){this.factories=p}static create(p,f){if(null!=f){const m=f.factories.slice();p=p.concat(m)}return new d(p)}static extend(p){return{provide:d,useFactory:f=>d.create(p,f||zE()),deps:[[d,new mg,new Lm]]}}find(p){const f=this.factories.find(m=>m.supports(p));if(null!=f)return f;throw new re(901,!1)}}return(a=d).\u0275prov=pt({token:a,providedIn:"root",factory:zE}),d})();function WE(){return new p_([new NE])}let p_=(()=>{var a;class d{constructor(p){this.factories=p}static create(p,f){if(f){const m=f.factories.slice();p=p.concat(m)}return new d(p)}static extend(p){return{provide:d,useFactory:f=>d.create(p,f||WE()),deps:[[d,new mg,new Lm]]}}find(p){const f=this.factories.find(m=>m.supports(p));if(f)return f;throw new re(901,!1)}}return(a=d).\u0275prov=pt({token:a,providedIn:"root",factory:WE}),d})();function TP(a){return"boolean"==typeof a?a:null!=a&&"false"!==a}},1993:(q,z,F)=>{F.d(z,{O4:()=>Ne});var N=F(5879);class ge extends Error{constructor(Ce,ye){super(function Z(he,Ce){return`NG0${Math.abs(he)}${Ce?": "+Ce:""}`}(Ce,ye)),this.code=Ce}}function Ne(he,Ce){const ye=!Ce?.manualCleanup;ye&&!Ce?.injector&&(0,N.gHi)(Ne);const Bt=ye?Ce?.injector?.get(N.ktI)??(0,N.f3M)(N.ktI):null;let it;it=(0,N.tdS)(Ce?.requireSync?{kind:0}:{kind:1,value:Ce?.initialValue});const nn=he.subscribe({next:pt=>it.set({kind:1,value:pt}),error:pt=>it.set({kind:2,error:pt})});return Bt?.onDestroy(nn.unsubscribe.bind(nn)),(0,N.Flj)(()=>{const pt=it();switch(pt.kind){case 1:return pt.value;case 2:throw pt.error;case 0:throw new ge(601,"`toSignal()` called with `requireSync` but `Observable` did not emit synchronously.")}})}globalThis},7632:(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{rM:()=>provideStoreDevtools});var _angular_core__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(5879),_ngrx_store__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(4221),rxjs__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(6232),rxjs__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(3018),rxjs__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(2096),rxjs__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(3019),rxjs__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__(2381),rxjs__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__(7328),rxjs_operators__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(3020),rxjs_operators__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(2181),rxjs_operators__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(7398),rxjs_operators__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(6328),rxjs_operators__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(5178),rxjs_operators__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(3620),rxjs_operators__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(6306),rxjs_operators__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(8180),rxjs_operators__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(9773),rxjs_operators__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(4664),rxjs_operators__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(836),rxjs_operators__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(3093),rxjs_operators__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__(2460),rxjs_operators__WEBPACK_IMPORTED_MODULE_21__=__webpack_require__(6699),_angular_core_rxjs_interop__WEBPACK_IMPORTED_MODULE_22__=__webpack_require__(1993);const PERFORM_ACTION="PERFORM_ACTION",REFRESH="REFRESH",RESET="RESET",ROLLBACK="ROLLBACK",COMMIT="COMMIT",SWEEP="SWEEP",TOGGLE_ACTION="TOGGLE_ACTION",SET_ACTIONS_ACTIVE="SET_ACTIONS_ACTIVE",JUMP_TO_STATE="JUMP_TO_STATE",JUMP_TO_ACTION="JUMP_TO_ACTION",IMPORT_STATE="IMPORT_STATE",LOCK_CHANGES="LOCK_CHANGES",PAUSE_RECORDING="PAUSE_RECORDING";class PerformAction{constructor(z,F){if(this.action=z,this.timestamp=F,this.type=PERFORM_ACTION,typeof z.type>"u")throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?')}}class Refresh{constructor(){this.type=REFRESH}}class Reset{constructor(z){this.timestamp=z,this.type=RESET}}class Rollback{constructor(z){this.timestamp=z,this.type=ROLLBACK}}class Commit{constructor(z){this.timestamp=z,this.type=COMMIT}}class Sweep{constructor(){this.type=SWEEP}}class ToggleAction{constructor(z){this.id=z,this.type=TOGGLE_ACTION}}class SetActionsActive{constructor(z,F,N=!0){this.start=z,this.end=F,this.active=N,this.type=SET_ACTIONS_ACTIVE}}class JumpToState{constructor(z){this.index=z,this.type=JUMP_TO_STATE}}class JumpToAction{constructor(z){this.actionId=z,this.type=JUMP_TO_ACTION}}class ImportState{constructor(z){this.nextLiftedState=z,this.type=IMPORT_STATE}}class LockChanges{constructor(z){this.status=z,this.type=LOCK_CHANGES}}class PauseRecording{constructor(z){this.status=z,this.type=PAUSE_RECORDING}}class StoreDevtoolsConfig{constructor(){this.maxAge=!1}}const STORE_DEVTOOLS_CONFIG=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.OlP("@ngrx/store-devtools Options"),INITIAL_OPTIONS=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.OlP("@ngrx/store-devtools Initial Config");function noMonitor(){return null}const DEFAULT_NAME="NgRx Store DevTools";function createConfig(q){const z={maxAge:!1,monitor:noMonitor,actionSanitizer:void 0,stateSanitizer:void 0,name:DEFAULT_NAME,serialize:!1,logOnly:!1,autoPause:!1,trace:!1,traceLimit:75,features:{pause:!0,lock:!0,persist:!0,export:!0,import:"custom",jump:!0,skip:!0,reorder:!0,dispatch:!0,test:!0},connectOutsideZone:!1},F="function"==typeof q?q():q,u=F.features||!!F.logOnly&&{pause:!0,export:!0,test:!0}||z.features;!0===u.import&&(u.import="custom");const ae=Object.assign({},z,{features:u},F);if(ae.maxAge&&ae.maxAge<2)throw new Error(`Devtools 'maxAge' cannot be less than 2, got ${ae.maxAge}`);return ae}function difference(q,z){return q.filter(F=>z.indexOf(F)<0)}function unliftState(q){const{computedStates:z,currentStateIndex:F}=q;if(F>=z.length){const{state:u}=z[z.length-1];return u}const{state:N}=z[F];return N}function unliftAction(q){return q.actionsById[q.nextActionId-1]}function liftAction(q){return new PerformAction(q,+Date.now())}function sanitizeActions(q,z){return Object.keys(z).reduce((F,N)=>{const u=Number(N);return F[u]=sanitizeAction(q,z[u],u),F},{})}function sanitizeAction(q,z,F){return{...z,action:q(z.action,F)}}function sanitizeStates(q,z){return z.map((F,N)=>({state:sanitizeState(q,F.state,N),error:F.error}))}function sanitizeState(q,z,F){return q(z,F)}function shouldFilterActions(q){return q.predicate||q.actionsSafelist||q.actionsBlocklist}function filterLiftedState(q,z,F,N){const u=[],ae={},ue=[];return q.stagedActionIds.forEach((K,ge)=>{const Z=q.actionsById[K];Z&&(ge&&isActionFiltered(q.computedStates[ge],Z,z,F,N)||(ae[K]=Z,u.push(K),ue.push(q.computedStates[ge])))}),{...q,stagedActionIds:u,actionsById:ae,computedStates:ue}}function isActionFiltered(q,z,F,N,u){const ae=F&&!F(q,z.action),ue=N&&!z.action.type.match(N.map(ge=>escapeRegExp(ge)).join("|")),K=u&&z.action.type.match(u.map(ge=>escapeRegExp(ge)).join("|"));return ae||ue||K}function escapeRegExp(q){return q.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function injectZoneConfig(q){return{ngZone:q?(0,_angular_core__WEBPACK_IMPORTED_MODULE_0__.f3M)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.R0b):null,connectOutsideZone:q}}let DevtoolsDispatcher=(()=>{var q;class z extends _ngrx_store__WEBPACK_IMPORTED_MODULE_1__.UO{}return(q=z).\u0275fac=function(){let F;return function(u){return(F||(F=_angular_core__WEBPACK_IMPORTED_MODULE_0__.n5z(q)))(u||q)}}(),q.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Yz7({token:q,factory:q.\u0275fac}),z})();const ExtensionActionTypes={START:"START",DISPATCH:"DISPATCH",STOP:"STOP",ACTION:"ACTION"},REDUX_DEVTOOLS_EXTENSION=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.OlP("@ngrx/store-devtools Redux Devtools Extension");let DevtoolsExtension=(()=>{var _class2;class DevtoolsExtension{constructor(q,z,F){this.config=z,this.dispatcher=F,this.zoneConfig=injectZoneConfig(this.config.connectOutsideZone),this.devtoolsExtension=q,this.createActionStreams()}notify(q,z){if(this.devtoolsExtension)if(q.type===PERFORM_ACTION){if(z.isLocked||z.isPaused)return;const F=unliftState(z);if(shouldFilterActions(this.config)&&isActionFiltered(F,q,this.config.predicate,this.config.actionsSafelist,this.config.actionsBlocklist))return;const N=this.config.stateSanitizer?sanitizeState(this.config.stateSanitizer,F,z.currentStateIndex):F,u=this.config.actionSanitizer?sanitizeAction(this.config.actionSanitizer,q,z.nextActionId):q;this.sendToReduxDevtools(()=>this.extensionConnection.send(u,N))}else{const F={...z,stagedActionIds:z.stagedActionIds,actionsById:this.config.actionSanitizer?sanitizeActions(this.config.actionSanitizer,z.actionsById):z.actionsById,computedStates:this.config.stateSanitizer?sanitizeStates(this.config.stateSanitizer,z.computedStates):z.computedStates};this.sendToReduxDevtools(()=>this.devtoolsExtension.send(null,F,this.getExtensionConfig(this.config)))}}createChangesObservable(){return this.devtoolsExtension?new rxjs__WEBPACK_IMPORTED_MODULE_3__.y(q=>{const z=this.zoneConfig.connectOutsideZone?this.zoneConfig.ngZone.runOutsideAngular(()=>this.devtoolsExtension.connect(this.getExtensionConfig(this.config))):this.devtoolsExtension.connect(this.getExtensionConfig(this.config));return this.extensionConnection=z,z.init(),z.subscribe(F=>q.next(F)),z.unsubscribe}):rxjs__WEBPACK_IMPORTED_MODULE_2__.E}createActionStreams(){const q=this.createChangesObservable().pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_4__.B)()),z=q.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.h)(K=>K.type===ExtensionActionTypes.START)),F=q.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.h)(K=>K.type===ExtensionActionTypes.STOP)),N=q.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.h)(K=>K.type===ExtensionActionTypes.DISPATCH),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(K=>this.unwrapAction(K.payload)),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_7__.b)(K=>K.type===IMPORT_STATE?this.dispatcher.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.h)(ge=>ge.type===_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.wb),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_8__.V)(1e3),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_9__.b)(1e3),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(()=>K),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_10__.K)(()=>(0,rxjs__WEBPACK_IMPORTED_MODULE_11__.of)(K)),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_12__.q)(1)):(0,rxjs__WEBPACK_IMPORTED_MODULE_11__.of)(K))),ae=q.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.h)(K=>K.type===ExtensionActionTypes.ACTION),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(K=>this.unwrapAction(K.payload))).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_13__.R)(F)),ue=N.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_13__.R)(F));this.start$=z.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_13__.R)(F)),this.actions$=this.start$.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_14__.w)(()=>ae)),this.liftedActions$=this.start$.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_14__.w)(()=>ue))}unwrapAction(action){return"string"==typeof action?eval(`(${action})`):action}getExtensionConfig(q){const z={name:q.name,features:q.features,serialize:q.serialize,autoPause:q.autoPause??!1,trace:q.trace??!1,traceLimit:q.traceLimit??75};return!1!==q.maxAge&&(z.maxAge=q.maxAge),z}sendToReduxDevtools(q){try{q()}catch(z){console.warn("@ngrx/store-devtools: something went wrong inside the redux devtools",z)}}}return _class2=DevtoolsExtension,_class2.\u0275fac=function q(z){return new(z||_class2)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(REDUX_DEVTOOLS_EXTENSION),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(STORE_DEVTOOLS_CONFIG),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(DevtoolsDispatcher))},_class2.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Yz7({token:_class2,factory:_class2.\u0275fac}),DevtoolsExtension})();const INIT_ACTION={type:_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.qg},RECOMPUTE="@ngrx/store-devtools/recompute",RECOMPUTE_ACTION={type:RECOMPUTE};function computeNextEntry(q,z,F,N,u){if(N)return{state:F,error:"Interrupted by an error up the chain"};let ue,ae=F;try{ae=q(F,z)}catch(K){ue=K.toString(),u.handleError(K)}return{state:ae,error:ue}}function recomputeStates(q,z,F,N,u,ae,ue,K,ge){if(z>=q.length&&q.length===ae.length)return q;const Z=q.slice(0,z),oe=ae.length-(ge?1:0);for(let X=z;X<oe;X++){const Y=ae[X],te=u[Y].action,me=Z[X-1],Pe=me?me.state:N,Ve=me?me.error:void 0,Oe=ue.indexOf(Y)>-1?me:computeNextEntry(F,te,Pe,Ve,K);Z.push(Oe)}return ge&&Z.push(q[q.length-1]),Z}function liftInitialState(q,z){return{monitorState:z(void 0,{}),nextActionId:1,actionsById:{0:liftAction(INIT_ACTION)},stagedActionIds:[0],skippedActionIds:[],committedState:q,currentStateIndex:0,computedStates:[],isLocked:!1,isPaused:!1}}function liftReducerWith(q,z,F,N,u={}){return ae=>(ue,K)=>{let{monitorState:ge,actionsById:Z,nextActionId:oe,stagedActionIds:X,skippedActionIds:Y,committedState:te,currentStateIndex:me,computedStates:Pe,isLocked:Ve,isPaused:Qe}=ue||z;function Oe(at){let Xe=at,re=X.slice(1,Xe+1);for(let Ie=0;Ie<re.length;Ie++){if(Pe[Ie+1].error){Xe=Ie,re=X.slice(1,Xe+1);break}delete Z[re[Ie]]}Y=Y.filter(Ie=>-1===re.indexOf(Ie)),X=[0,...X.slice(Xe+1)],te=Pe[Xe].state,Pe=Pe.slice(Xe),me=me>Xe?me-Xe:0}function st(){Z={0:liftAction(INIT_ACTION)},oe=1,X=[0],Y=[],te=Pe[me].state,me=0,Pe=[]}ue||(Z=Object.create(Z));let et=0;switch(K.type){case LOCK_CHANGES:Ve=K.status,et=1/0;break;case PAUSE_RECORDING:Qe=K.status,Qe?(X=[...X,oe],Z[oe]=new PerformAction({type:"@ngrx/devtools/pause"},+Date.now()),oe++,et=X.length-1,Pe=Pe.concat(Pe[Pe.length-1]),me===X.length-2&&me++,et=1/0):st();break;case RESET:Z={0:liftAction(INIT_ACTION)},oe=1,X=[0],Y=[],te=q,me=0,Pe=[];break;case COMMIT:st();break;case ROLLBACK:Z={0:liftAction(INIT_ACTION)},oe=1,X=[0],Y=[],me=0,Pe=[];break;case TOGGLE_ACTION:{const{id:at}=K;Y=-1===Y.indexOf(at)?[at,...Y]:Y.filter(re=>re!==at),et=X.indexOf(at);break}case SET_ACTIONS_ACTIVE:{const{start:at,end:Xe,active:re}=K,Ie=[];for(let Ae=at;Ae<Xe;Ae++)Ie.push(Ae);Y=re?difference(Y,Ie):[...Y,...Ie],et=X.indexOf(at);break}case JUMP_TO_STATE:me=K.index,et=1/0;break;case JUMP_TO_ACTION:{const at=X.indexOf(K.actionId);-1!==at&&(me=at),et=1/0;break}case SWEEP:X=difference(X,Y),Y=[],me=Math.min(me,X.length-1);break;case PERFORM_ACTION:{if(Ve)return ue||z;if(Qe||ue&&isActionFiltered(ue.computedStates[me],K,u.predicate,u.actionsSafelist,u.actionsBlocklist)){const Xe=Pe[Pe.length-1];Pe=[...Pe.slice(0,-1),computeNextEntry(ae,K.action,Xe.state,Xe.error,F)],et=1/0;break}u.maxAge&&X.length===u.maxAge&&Oe(1),me===X.length-1&&me++;const at=oe++;Z[at]=K,X=[...X,at],et=X.length-1;break}case IMPORT_STATE:({monitorState:ge,actionsById:Z,nextActionId:oe,stagedActionIds:X,skippedActionIds:Y,committedState:te,currentStateIndex:me,computedStates:Pe,isLocked:Ve,isPaused:Qe}=K.nextLiftedState);break;case _ngrx_store__WEBPACK_IMPORTED_MODULE_1__.qg:et=0,u.maxAge&&X.length>u.maxAge&&(Pe=recomputeStates(Pe,et,ae,te,Z,X,Y,F,Qe),Oe(X.length-u.maxAge),et=1/0);break;case _ngrx_store__WEBPACK_IMPORTED_MODULE_1__.wb:if(Pe.filter(Xe=>Xe.error).length>0)et=0,u.maxAge&&X.length>u.maxAge&&(Pe=recomputeStates(Pe,et,ae,te,Z,X,Y,F,Qe),Oe(X.length-u.maxAge),et=1/0);else{if(!Qe&&!Ve){me===X.length-1&&me++;const Xe=oe++;Z[Xe]=new PerformAction(K,+Date.now()),X=[...X,Xe],et=X.length-1,Pe=recomputeStates(Pe,et,ae,te,Z,X,Y,F,Qe)}Pe=Pe.map(Xe=>({...Xe,state:ae(Xe.state,RECOMPUTE_ACTION)})),me=X.length-1,u.maxAge&&X.length>u.maxAge&&Oe(X.length-u.maxAge),et=1/0}break;default:et=1/0}return Pe=recomputeStates(Pe,et,ae,te,Z,X,Y,F,Qe),ge=N(ge,K),{monitorState:ge,actionsById:Z,nextActionId:oe,stagedActionIds:X,skippedActionIds:Y,committedState:te,currentStateIndex:me,computedStates:Pe,isLocked:Ve,isPaused:Qe}}}let StoreDevtools=(()=>{var q;class z{constructor(N,u,ae,ue,K,ge,Z,oe){const X=liftInitialState(Z,oe.monitor),Y=liftReducerWith(Z,X,ge,oe.monitor,oe),te=(0,rxjs__WEBPACK_IMPORTED_MODULE_15__.T)((0,rxjs__WEBPACK_IMPORTED_MODULE_15__.T)(u.asObservable().pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_16__.T)(1)),ue.actions$).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(liftAction)),N,ue.liftedActions$).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_17__.Q)(rxjs__WEBPACK_IMPORTED_MODULE_18__.N)),me=ae.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(Y)),Pe=injectZoneConfig(oe.connectOutsideZone),Ve=new rxjs__WEBPACK_IMPORTED_MODULE_19__.t(1);this.liftedStateSubscription=te.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_20__.M)(me),emitInZone(Pe),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_21__.R)(({state:st},[et,at])=>{let Xe=at(st,et);return et.type!==PERFORM_ACTION&&shouldFilterActions(oe)&&(Xe=filterLiftedState(Xe,oe.predicate,oe.actionsSafelist,oe.actionsBlocklist)),ue.notify(et,Xe),{state:Xe,action:et}},{state:X,action:null})).subscribe(({state:st,action:et})=>{Ve.next(st),et.type===PERFORM_ACTION&&K.next(et.action)}),this.extensionStartSubscription=ue.start$.pipe(emitInZone(Pe)).subscribe(()=>{this.refresh()});const Qe=Ve.asObservable(),Oe=Qe.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(unliftState));Object.defineProperty(Oe,"state",{value:(0,_angular_core_rxjs_interop__WEBPACK_IMPORTED_MODULE_22__.O4)(Oe,{manualCleanup:!0,requireSync:!0})}),this.dispatcher=N,this.liftedState=Qe,this.state=Oe}ngOnDestroy(){this.liftedStateSubscription.unsubscribe(),this.extensionStartSubscription.unsubscribe()}dispatch(N){this.dispatcher.next(N)}next(N){this.dispatcher.next(N)}error(N){}complete(){}performAction(N){this.dispatch(new PerformAction(N,+Date.now()))}refresh(){this.dispatch(new Refresh)}reset(){this.dispatch(new Reset(+Date.now()))}rollback(){this.dispatch(new Rollback(+Date.now()))}commit(){this.dispatch(new Commit(+Date.now()))}sweep(){this.dispatch(new Sweep)}toggleAction(N){this.dispatch(new ToggleAction(N))}jumpToAction(N){this.dispatch(new JumpToAction(N))}jumpToState(N){this.dispatch(new JumpToState(N))}importState(N){this.dispatch(new ImportState(N))}lockChanges(N){this.dispatch(new LockChanges(N))}pauseRecording(N){this.dispatch(new PauseRecording(N))}}return(q=z).\u0275fac=function(N){return new(N||q)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(DevtoolsDispatcher),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.UO),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.n$),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(DevtoolsExtension),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.Y$),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(_angular_core__WEBPACK_IMPORTED_MODULE_0__.qLn),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.Y6),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(STORE_DEVTOOLS_CONFIG))},q.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Yz7({token:q,factory:q.\u0275fac}),z})();function emitInZone({ngZone:q,connectOutsideZone:z}){return F=>z?new rxjs__WEBPACK_IMPORTED_MODULE_3__.y(N=>F.subscribe({next:u=>q.run(()=>N.next(u)),error:u=>q.run(()=>N.error(u)),complete:()=>q.run(()=>N.complete())})):F}const IS_EXTENSION_OR_MONITOR_PRESENT=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.OlP("@ngrx/store-devtools Is Devtools Extension or Monitor Present");function createIsExtensionOrMonitorPresent(q,z){return!!q||z.monitor!==noMonitor}function createReduxDevtoolsExtension(){const q="__REDUX_DEVTOOLS_EXTENSION__";return"object"==typeof window&&typeof window[q]<"u"?window[q]:null}function provideStoreDevtools(q={}){return(0,_angular_core__WEBPACK_IMPORTED_MODULE_0__.MR2)([DevtoolsExtension,DevtoolsDispatcher,StoreDevtools,{provide:INITIAL_OPTIONS,useValue:q},{provide:IS_EXTENSION_OR_MONITOR_PRESENT,deps:[REDUX_DEVTOOLS_EXTENSION,STORE_DEVTOOLS_CONFIG],useFactory:createIsExtensionOrMonitorPresent},{provide:REDUX_DEVTOOLS_EXTENSION,useFactory:createReduxDevtoolsExtension},{provide:STORE_DEVTOOLS_CONFIG,deps:[INITIAL_OPTIONS],useFactory:createConfig},{provide:_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.FR,deps:[StoreDevtools],useFactory:createStateObservable},{provide:_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.mK,useExisting:DevtoolsDispatcher}])}function createStateObservable(q){return q.state}let StoreDevtoolsModule=(()=>{var q;class z{static instrument(N={}){return{ngModule:z,providers:[provideStoreDevtools(N)]}}}return(q=z).\u0275fac=function(N){return new(N||q)},q.\u0275mod=_angular_core__WEBPACK_IMPORTED_MODULE_0__.oAB({type:q}),q.\u0275inj=_angular_core__WEBPACK_IMPORTED_MODULE_0__.cJS({}),z})()},4221:(q,z,F)=>{F.d(z,{UO:()=>nt,Py:()=>xi,qg:()=>tt,Y6:()=>$r,qY:()=>ei,mK:()=>ud,n$:()=>Us,Y$:()=>Ut,FR:()=>cd,yh:()=>qi,wb:()=>js,PH:()=>Qe,R7:()=>re,ZF:()=>Ka,Lq:()=>vb,P1:()=>Ln,uZ:()=>Ie,on:()=>mb,Ky:()=>Oe,mW:()=>bd});var N=F(5879),u=F(5619),ae=F(3018),ue=F(8645),K=F(2381),ge=F(3093),Z=F(2460),oe=F(6699),X=F(7398),te=F(3997),me=F(1993);const Pe={};function Qe(H,ce){if(Pe[H]=(Pe[H]||0)+1,"function"==typeof ce)return et(H,(...ne)=>({...ce(...ne),type:H}));switch(ce?ce._as:"empty"){case"empty":return et(H,()=>({type:H}));case"props":return et(H,ne=>({...ne,type:H}));default:throw new Error("Unexpected config.")}}function Oe(){return{_as:"props",_p:void 0}}function et(H,ce){return Object.defineProperty(ce,"type",{value:H,writable:!1})}function re(H){const{source:ce,events:De}=H;return Object.keys(De).reduce((ne,Le)=>({...ne,[Ae(Le)]:Qe(Fe(ce,Le),De[Le])}),{})}function Ie(){return{_as:"props",_p:void 0}}function Ae(H){return H.trim().split(" ").map((ce,De)=>0===De?function Xe(H){return H.charAt(0).toLowerCase()+H.substring(1)}(ce):function at(H){return H.charAt(0).toUpperCase()+H.substring(1)}(ce)).join("")}function Fe(H,ce){return`[${H}] ${ce}`}const tt="@ngrx/store/init";let nt=(()=>{var H;class ce extends u.X{constructor(){super({type:tt})}next(ne){if("function"==typeof ne)throw new TypeError("\n        Dispatch expected an object, instead it received a function.\n        If you're using the createAction function, make sure to invoke the function\n        before dispatching the action. For example, someAction should be someAction().");if(typeof ne>"u")throw new TypeError("Actions must be objects");if(typeof ne.type>"u")throw new TypeError("Actions must have a type property");super.next(ne)}complete(){}ngOnDestroy(){super.complete()}}return(H=ce).\u0275fac=function(ne){return new(ne||H)},H.\u0275prov=N.Yz7({token:H,factory:H.\u0275fac}),ce})();const ct=[nt],gn=new N.OlP("@ngrx/store Internal Root Guard"),Ft=new N.OlP("@ngrx/store Internal Initial State"),$r=new N.OlP("@ngrx/store Initial State"),Mo=new N.OlP("@ngrx/store Reducer Factory"),ld=new N.OlP("@ngrx/store Internal Reducer Factory Provider"),yi=new N.OlP("@ngrx/store Initial Reducers"),Gs=new N.OlP("@ngrx/store Internal Initial Reducers"),pe=(new N.OlP("@ngrx/store Store Features"),new N.OlP("@ngrx/store Internal Store Reducers")),Ce=(new N.OlP("@ngrx/store Internal Feature Reducers"),new N.OlP("@ngrx/store Internal Feature Configs"),new N.OlP("@ngrx/store Internal Store Features"),new N.OlP("@ngrx/store Internal Feature Reducers Token"),new N.OlP("@ngrx/store Feature Reducers"),new N.OlP("@ngrx/store User Provided Meta Reducers")),ye=new N.OlP("@ngrx/store Meta Reducers"),Bt=new N.OlP("@ngrx/store Internal Resolved Meta Reducers"),it=new N.OlP("@ngrx/store User Runtime Checks Config"),nn=new N.OlP("@ngrx/store Internal User Runtime Checks Config"),pt=new N.OlP("@ngrx/store Internal Runtime Checks"),Tn=new N.OlP("@ngrx/store Check if Action types are unique"),ei=new N.OlP("@ngrx/store Root Store Provider"),xi=new N.OlP("@ngrx/store Feature State Provider");function Gr(H,ce={}){const De=Object.keys(H),ne={};for(let We=0;We<De.length;We++){const mt=De[We];"function"==typeof H[mt]&&(ne[mt]=H[mt])}const Le=Object.keys(ne);return function(mt,Vn){mt=void 0===mt?ce:mt;let Nn=!1;const yt={};for(let Pt=0;Pt<Le.length;Pt++){const fn=Le[Pt],Pi=mt[fn],yc=(0,ne[fn])(Pi,Vn);yt[fn]=yc,Nn=Nn||yc!==Pi}return Nn?yt:mt}}function Ur(...H){return function(ce){if(0===H.length)return ce;const De=H[H.length-1];return H.slice(0,-1).reduceRight((Le,We)=>We(Le),De(ce))}}function ja(H,ce){return Array.isArray(ce)&&ce.length>0&&(H=Ur.apply(null,[...ce,H])),(De,ne)=>{const Le=H(De);return(We,mt)=>Le(We=void 0===We?ne:We,mt)}}class Us extends ae.y{}class ud extends nt{}const js="@ngrx/store/update-reducers";let Lt=(()=>{var H;class ce extends u.X{get currentReducers(){return this.reducers}constructor(ne,Le,We,mt){super(mt(We,Le)),this.dispatcher=ne,this.initialState=Le,this.reducers=We,this.reducerFactory=mt}addFeature(ne){this.addFeatures([ne])}addFeatures(ne){const Le=ne.reduce((We,{reducers:mt,reducerFactory:Vn,metaReducers:Nn,initialState:yt,key:Pt})=>{const fn="function"==typeof mt?function dd(H){const ce=Array.isArray(H)&&H.length>0?Ur(...H):De=>De;return(De,ne)=>(De=ce(De),(Le,We)=>De(Le=void 0===Le?ne:Le,We))}(Nn)(mt,yt):ja(Vn,Nn)(mt,yt);return We[Pt]=fn,We},{});this.addReducers(Le)}removeFeature(ne){this.removeFeatures([ne])}removeFeatures(ne){this.removeReducers(ne.map(Le=>Le.key))}addReducer(ne,Le){this.addReducers({[ne]:Le})}addReducers(ne){this.reducers={...this.reducers,...ne},this.updateReducers(Object.keys(ne))}removeReducer(ne){this.removeReducers([ne])}removeReducers(ne){ne.forEach(Le=>{this.reducers=function Bn(H,ce){return Object.keys(H).filter(De=>De!==ce).reduce((De,ne)=>Object.assign(De,{[ne]:H[ne]}),{})}(this.reducers,Le)}),this.updateReducers(ne)}updateReducers(ne){this.next(this.reducerFactory(this.reducers,this.initialState)),this.dispatcher.next({type:js,features:ne})}ngOnDestroy(){this.complete()}}return(H=ce).\u0275fac=function(ne){return new(ne||H)(N.LFG(ud),N.LFG($r),N.LFG(yi),N.LFG(Mo))},H.\u0275prov=N.Yz7({token:H,factory:H.\u0275fac}),ce})();const vr=[Lt,{provide:Us,useExisting:Lt},{provide:ud,useExisting:nt}];let Ut=(()=>{var H;class ce extends ue.x{ngOnDestroy(){this.complete()}}return(H=ce).\u0275fac=function(){let De;return function(Le){return(De||(De=N.n5z(H)))(Le||H)}}(),H.\u0275prov=N.Yz7({token:H,factory:H.\u0275fac}),ce})();const bt=[Ut];class cd extends ae.y{}let hd=(()=>{var H;class ce extends u.X{constructor(ne,Le,We,mt){super(mt);const Pt=ne.pipe((0,ge.Q)(K.N)).pipe((0,Z.M)(Le)).pipe((0,oe.R)(sn,{state:mt}));this.stateSubscription=Pt.subscribe(({state:fn,action:Ro})=>{this.next(fn),We.next(Ro)}),this.state=(0,me.O4)(this,{manualCleanup:!0,requireSync:!0})}ngOnDestroy(){this.stateSubscription.unsubscribe(),this.complete()}}return(H=ce).INIT=tt,H.\u0275fac=function(ne){return new(ne||H)(N.LFG(nt),N.LFG(Us),N.LFG(Ut),N.LFG($r))},H.\u0275prov=N.Yz7({token:H,factory:H.\u0275fac}),ce})();function sn(H={state:void 0},[ce,De]){const{state:ne}=H;return{state:De(ne,ce),action:ce}}const pc=[hd,{provide:cd,useExisting:hd}];let qi=(()=>{var H;class ce extends ae.y{constructor(ne,Le,We){super(),this.actionsObserver=Le,this.reducerManager=We,this.source=ne,this.state=ne.state}select(ne,...Le){return Rn.call(null,ne,...Le)(this)}selectSignal(ne,Le){return(0,N.Flj)(()=>ne(this.state()),{equal:Le?.equal||((We,mt)=>We===mt)})}lift(ne){const Le=new ce(this,this.actionsObserver,this.reducerManager);return Le.operator=ne,Le}dispatch(ne){this.actionsObserver.next(ne)}next(ne){this.actionsObserver.next(ne)}error(ne){this.actionsObserver.error(ne)}complete(){this.actionsObserver.complete()}addReducer(ne,Le){this.reducerManager.addReducer(ne,Le)}removeReducer(ne){this.reducerManager.removeReducer(ne)}}return(H=ce).\u0275fac=function(ne){return new(ne||H)(N.LFG(cd),N.LFG(nt),N.LFG(Lt))},H.\u0275prov=N.Yz7({token:H,factory:H.\u0275fac}),ce})();const gc=[qi];function Rn(H,ce,...De){return function(Le){let We;if("string"==typeof H){const mt=[ce,...De].filter(Boolean);We=Le.pipe(function Y(...H){const ce=H.length;if(0===ce)throw new Error("list of properties cannot be empty.");return(0,X.U)(De=>{let ne=De;for(let Le=0;Le<ce;Le++){const We=ne?.[H[Le]];if(!(typeof We<"u"))return;ne=We}return ne})}(H,...mt))}else{if("function"!=typeof H)throw new TypeError(`Unexpected type '${typeof H}' in select operator, expected 'string' or 'function'`);We=Le.pipe((0,X.U)(mt=>H(mt,ce)))}return We.pipe((0,te.x)())}}const pd="https://ngrx.io/guide/store/configuration/runtime-checks";function an(H){return void 0===H}function Hp(H){return null===H}function ls(H){return Array.isArray(H)}function zp(H){return"object"==typeof H&&null!==H}function ds(H){return"function"==typeof H}let Gp=!1;function Ao(H,ce){return H===ce}function fd(H,ce=Ao,De=Ao){let We,ne=null,Le=null;return{memoized:function yt(){if(void 0!==We)return We.result;if(!ne)return Le=H.apply(null,arguments),ne=arguments,Le;if(!function jp(H,ce,De){for(let ne=0;ne<H.length;ne++)if(!De(H[ne],ce[ne]))return!0;return!1}(arguments,ne,ce))return Le;const Pt=H.apply(null,arguments);return ne=arguments,De(Le,Pt)?Le:(Le=Pt,Pt)},reset:function mt(){ne=null,Le=null},setResult:function Vn(Pt=void 0){We={result:Pt}},clearResult:function Nn(){We=void 0}}}function Ln(...H){return function hn(H,ce={stateFn:Ks}){return function(...De){let ne=De;if(Array.isArray(ne[0])){const[Pt,...fn]=ne;ne=[...Pt,...fn]}else 1===ne.length&&function Ya(H){return!!H&&"object"==typeof H&&Object.values(H).every(ce=>"function"==typeof ce)}(ne[0])&&(ne=function Ys(H){const ce=Object.values(H),De=Object.keys(H);return[...ce,(...Le)=>De.reduce((We,mt,Vn)=>({...We,[mt]:Le[Vn]}),{})]}(ne[0]));const Le=ne.slice(0,ne.length-1),We=ne[ne.length-1],mt=Le.filter(Pt=>Pt.release&&"function"==typeof Pt.release),Vn=H(function(...Pt){return We.apply(null,Pt)}),Nn=fd(function(Pt,fn){return ce.stateFn.apply(null,[Pt,Le,fn,Vn])});return Object.assign(Nn.memoized,{release:function yt(){Nn.reset(),Vn.reset(),mt.forEach(Pt=>Pt.release())},projector:Vn.memoized,setResult:Nn.setResult,clearResult:Nn.clearResult})}}(fd)(...H)}function Ks(H,ce,De,ne){if(void 0===De){const We=ce.map(mt=>mt(H));return ne.memoized.apply(null,We)}const Le=ce.map(We=>We(H,De));return ne.memoized.apply(null,[...Le,De])}function Ka(H){return Ln(ce=>{const De=ce[H];return!function Up(){return Gp}()&&(0,N.X6Q)()&&!(H in ce)&&console.warn(`@ngrx/store: The feature name "${H}" does not exist in the state, therefore createFeatureSelector cannot access it.  Be sure it is imported in a loaded module using StoreModule.forRoot('${H}', ...) or StoreModule.forFeature('${H}', ...).  If the default state is intended to be undefined, as is the case with router state, this development-only warning message can be ignored.`),De},ce=>ce)}function uo(H){return H instanceof N.OlP?(0,N.f3M)(H):H}function Cr(H){return"function"==typeof H?H():H}function Zt(H,ce){return H.concat(ce)}function md(){if((0,N.f3M)(qi,{optional:!0,skipSelf:!0}))throw new TypeError("The root Store has been provided more than once. Feature modules should provide feature states instead.");return"guarded"}function cs(H){Object.freeze(H);const ce=ds(H);return Object.getOwnPropertyNames(H).forEach(De=>{if(!De.startsWith("\u0275")&&function $p(H,ce){return Object.prototype.hasOwnProperty.call(H,ce)}(H,De)&&(!ce||"caller"!==De&&"callee"!==De&&"arguments"!==De)){const ne=H[De];(zp(ne)||ds(ne))&&!Object.isFrozen(ne)&&cs(ne)}}),H}function yr(H,ce=[]){return(an(H)||Hp(H))&&0===ce.length?{path:["root"],value:H}:Object.keys(H).reduce((ne,Le)=>{if(ne)return ne;const We=H[Le];return function gd(H){return ds(H)&&H.hasOwnProperty("\u0275cmp")}(We)?ne:!(an(We)||Hp(We)||function hb(H){return"number"==typeof H}(We)||function fc(H){return"boolean"==typeof H}(We)||function cb(H){return"string"==typeof H}(We)||ls(We))&&(function lo(H){if(!function Wp(H){return zp(H)&&!ls(H)}(H))return!1;const ce=Object.getPrototypeOf(H);return ce===Object.prototype||null===ce}(We)?yr(We,[...ce,Le]):{path:[...ce,Le],value:We})},!1)}function Ja(H,ce){if(!1===H)return;const De=H.path.join("."),ne=new Error(`Detected unserializable ${ce} at "${De}". ${pd}#strict${ce}serializability`);throw ne.value=H.value,ne.unserializablePath=De,ne}function vd(H){return(0,N.X6Q)()?{strictStateSerializability:!1,strictActionSerializability:!1,strictStateImmutability:!0,strictActionImmutability:!0,strictActionWithinNgZone:!1,strictActionTypeUniqueness:!1,...H}:{strictStateSerializability:!1,strictActionSerializability:!1,strictStateImmutability:!1,strictActionImmutability:!1,strictActionWithinNgZone:!1,strictActionTypeUniqueness:!1}}function Cd({strictActionSerializability:H,strictStateSerializability:ce}){return De=>H||ce?function mc(H,ce){return function(De,ne){ce.action(ne)&&Ja(yr(ne),"action");const Le=H(De,ne);return ce.state()&&Ja(yr(Le),"state"),Le}}(De,{action:ne=>H&&!yd(ne),state:()=>ce}):De}function Yp({strictActionImmutability:H,strictStateImmutability:ce}){return De=>H||ce?function qa(H,ce){return function(De,ne){const Le=ce.action(ne)?cs(ne):ne,We=H(De,Le);return ce.state()?cs(We):We}}(De,{action:ne=>H&&!yd(ne),state:()=>ce}):De}function yd(H){return H.type.startsWith("@ngrx")}function qs({strictActionWithinNgZone:H}){return ce=>H?function Kp(H,ce){return function(De,ne){if(ce.action(ne)&&!N.R0b.isInAngularZone())throw new Error(`Action '${ne.type}' running outside NgZone. ${pd}#strictactionwithinngzone`);return H(De,ne)}}(ce,{action:De=>H&&!yd(De)}):ce}function qp(H){return[{provide:nn,useValue:H},{provide:it,useFactory:Jp,deps:[nn]},{provide:pt,deps:[it],useFactory:vd},{provide:ye,multi:!0,deps:[pt],useFactory:Yp},{provide:ye,multi:!0,deps:[pt],useFactory:Cd},{provide:ye,multi:!0,deps:[pt],useFactory:qs}]}function Jp(H){return H}function tm(H){if(!H.strictActionTypeUniqueness)return;const ce=Object.entries(Pe).filter(([,De])=>De>1).map(([De])=>De);if(ce.length)throw new Error(`Action types are registered more than once, ${ce.map(De=>`"${De}"`).join(", ")}. ${pd}#strictactiontypeuniqueness`)}function nm(H={},ce={}){return[{provide:gn,useFactory:md},{provide:Ft,useValue:ce.initialState},{provide:$r,useFactory:Cr,deps:[Ft]},{provide:Gs,useValue:H},{provide:pe,useExisting:H instanceof N.OlP?H:Gs},{provide:yi,deps:[Gs,[new N.tBr(pe)]],useFactory:uo},{provide:Ce,useValue:ce.metaReducers?ce.metaReducers:[]},{provide:Bt,deps:[ye,Ce],useFactory:Zt},{provide:ld,useValue:ce.reducerFactory?ce.reducerFactory:Gr},{provide:Mo,deps:[ld,Bt],useFactory:ja},ct,vr,bt,pc,gc,qp(ce.runtimeChecks),[{provide:Tn,multi:!0,deps:[pt],useFactory:tm}]]}const Cc=[{provide:ei,useFactory:function rr(){(0,N.f3M)(nt),(0,N.f3M)(Us),(0,N.f3M)(Ut),(0,N.f3M)(qi),(0,N.f3M)(gn,{optional:!0}),(0,N.f3M)(Tn,{optional:!0})}},{provide:N.Xts,multi:!0,useFactory:()=>()=>(0,N.f3M)(ei)}];function bd(H,ce){return(0,N.MR2)([...nm(H,ce),Cc])}function mb(...H){return{reducer:H.pop(),types:H.map(ne=>ne.type)}}function vb(H,...ce){const De=new Map;for(const ne of ce)for(const Le of ne.types){const We=De.get(Le);De.set(Le,We?(Vn,Nn)=>ne.reducer(We(Vn,Nn),Nn):ne.reducer)}return function(ne=H,Le){const We=De.get(Le.type);return We?We(ne,Le):ne}}},7582:(q,z,F)=>{function me(pe,ve,be,Se){return new(be||(be=Promise))(function(he,Ce){function ye(nn){try{it(Se.next(nn))}catch(pt){Ce(pt)}}function Bt(nn){try{it(Se.throw(nn))}catch(pt){Ce(pt)}}function it(nn){nn.done?he(nn.value):function Ne(he){return he instanceof be?he:new be(function(Ce){Ce(he)})}(nn.value).then(ye,Bt)}it((Se=Se.apply(pe,ve||[])).next())})}function re(pe){return this instanceof re?(this.v=pe,this):new re(pe)}function Ie(pe,ve,be){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ne,Se=be.apply(pe,ve||[]),he=[];return Ne={},Ce("next"),Ce("throw"),Ce("return"),Ne[Symbol.asyncIterator]=function(){return this},Ne;function Ce(Tn){Se[Tn]&&(Ne[Tn]=function(ei){return new Promise(function(xi,Gr){he.push([Tn,ei,xi,Gr])>1||ye(Tn,ei)})})}function ye(Tn,ei){try{!function Bt(Tn){Tn.value instanceof re?Promise.resolve(Tn.value.v).then(it,nn):pt(he[0][2],Tn)}(Se[Tn](ei))}catch(xi){pt(he[0][3],xi)}}function it(Tn){ye("next",Tn)}function nn(Tn){ye("throw",Tn)}function pt(Tn,ei){Tn(ei),he.shift(),he.length&&ye(he[0][0],he[0][1])}}function Fe(pe){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var be,ve=pe[Symbol.asyncIterator];return ve?ve.call(pe):(pe=function Oe(pe){var ve="function"==typeof Symbol&&Symbol.iterator,be=ve&&pe[ve],Se=0;if(be)return be.call(pe);if(pe&&"number"==typeof pe.length)return{next:function(){return pe&&Se>=pe.length&&(pe=void 0),{value:pe&&pe[Se++],done:!pe}}};throw new TypeError(ve?"Object is not iterable.":"Symbol.iterator is not defined.")}(pe),be={},Se("next"),Se("throw"),Se("return"),be[Symbol.asyncIterator]=function(){return this},be);function Se(he){be[he]=pe[he]&&function(Ce){return new Promise(function(ye,Bt){!function Ne(he,Ce,ye,Bt){Promise.resolve(Bt).then(function(it){he({value:it,done:ye})},Ce)}(ye,Bt,(Ce=pe[he](Ce)).done,Ce.value)})}}}F.d(z,{FC:()=>Ie,KL:()=>Fe,mG:()=>me,qq:()=>re}),"function"==typeof SuppressedError&&SuppressedError}},q=>{q(q.s=9282)}]);